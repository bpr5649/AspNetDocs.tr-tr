---
title: ASP.NET core'da model bağlama
author: tdykstra
description: ASP.NET Core MVC, model bağlama HTTP isteklerinden alınan verileri olarak eylem metodu parametreleriyle nasıl eşlendiğini öğrenin.
ms.assetid: 0be164aa-1d72-4192-bd6b-192c9c301164
ms.author: tdykstra
ms.date: 11/13/2018
uid: mvc/models/model-binding
ms.openlocfilehash: 1dc9b41328ed78440622acc1865b6f088d394403
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57069735"
---
# <a name="model-binding-in-aspnet-core"></a><span data-ttu-id="c3f6d-103">ASP.NET core'da model bağlama</span><span class="sxs-lookup"><span data-stu-id="c3f6d-103">Model Binding in ASP.NET Core</span></span>

<span data-ttu-id="c3f6d-104">Tarafından [Rachel Appel](https://github.com/rachelappel)</span><span class="sxs-lookup"><span data-stu-id="c3f6d-104">By [Rachel Appel](https://github.com/rachelappel)</span></span>

## <a name="introduction-to-model-binding"></a><span data-ttu-id="c3f6d-105">Model bağlama için giriş</span><span class="sxs-lookup"><span data-stu-id="c3f6d-105">Introduction to model binding</span></span>

<span data-ttu-id="c3f6d-106">ASP.NET Core MVC, model bağlama, HTTP isteklerinden alınan verileri olarak eylem metodu parametreleriyle eşleştirir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-106">Model binding in ASP.NET Core MVC maps data from HTTP requests to action method parameters.</span></span> <span data-ttu-id="c3f6d-107">Dize, tamsayı veya float gibi basit türler parametreleri olabilir veya karmaşık türler olması olabilir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-107">The parameters may be simple types such as strings, integers, or floats, or they may be complex types.</span></span> <span data-ttu-id="c3f6d-108">Gelen veri karşılık gelen bir eşleme boyut ve karmaşıklıktaki verilerin ne olursa olsun, sık sık tekrarlanan bir senaryo MVC harika bir özelliği olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-108">This is a great feature of MVC because mapping incoming data to a counterpart is an often repeated scenario, regardless of size or complexity of the data.</span></span> <span data-ttu-id="c3f6d-109">MVC, geliştiricilerin biraz farklı bir sürümünü her uygulamada aynı kodun yeniden korumak zorunda kalmamak için bağlama hemen özetleyen tarafından bu sorunu çözer.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-109">MVC solves this problem by abstracting binding away so developers don't have to keep rewriting a slightly different version of that same code in every app.</span></span> <span data-ttu-id="c3f6d-110">Dönüştürücü kod yazmak için kendi metin yazma tedious ve hataya açık alanlardır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-110">Writing your own text to type converter code is tedious, and error prone.</span></span>

## <a name="how-model-binding-works"></a><span data-ttu-id="c3f6d-111">Model bağlama nasıl çalışır?</span><span class="sxs-lookup"><span data-stu-id="c3f6d-111">How model binding works</span></span>

<span data-ttu-id="c3f6d-112">MVC bir HTTP isteği aldığında, bu etki alanı denetleyicisinin bir özel eylem yöntemine yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-112">When MVC receives an HTTP request, it routes it to a specific action method of a controller.</span></span> <span data-ttu-id="c3f6d-113">Rota verileri nedir göre çalıştırmak için hangi eylem yöntemini belirler, ardından bu değerleri HTTP isteğinden, eylem yönteminin parametreleri bağlar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-113">It determines which action method to run based on what is in the route data, then it binds values from the HTTP request to that action method's parameters.</span></span> <span data-ttu-id="c3f6d-114">Örneğin, aşağıdaki URL'ye göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-114">For example, consider the following URL:</span></span>

`http://contoso.com/movies/edit/2`

<span data-ttu-id="c3f6d-115">Rota şablonu şu şekilde baktığı `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` yönlendirir `Movies` denetleyicisi ve onun `Edit` eylem yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-115">Since the route template looks like this, `{controller=Home}/{action=Index}/{id?}`, `movies/edit/2` routes to the `Movies` controller, and its `Edit` action method.</span></span> <span data-ttu-id="c3f6d-116">Ayrıca adlı isteğe bağlı bir parametreyi kabul eden `id`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-116">It also accepts an optional parameter called `id`.</span></span> <span data-ttu-id="c3f6d-117">Eylem yöntemi için kod aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-117">The code for the action method should look something like this:</span></span>

```csharp
public IActionResult Edit(int? id)
   ```

<span data-ttu-id="c3f6d-118">Not: URL rota dizeler büyük/küçük harfe duyarlı değildir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-118">Note: The strings in the URL route are not case sensitive.</span></span>

<span data-ttu-id="c3f6d-119">MVC istek verileri adına göre eylem parametrelerine bağlamak çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-119">MVC will try to bind request data to the action parameters by name.</span></span> <span data-ttu-id="c3f6d-120">Parametre adı ve ortak, ayarlanabilir özelliklerin adlarını kullanarak her parametre için değer MVC arar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-120">MVC will look for values for each parameter using the parameter name and the names of its public settable properties.</span></span> <span data-ttu-id="c3f6d-121">Yukarıdaki örnekte, tek bir eylem parametresinin adlı `id`, hangi MVC rota değerleri, aynı ada sahip bir değere bağlar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-121">In the above example, the only action parameter is named `id`, which MVC binds to the value with the same name in the route values.</span></span> <span data-ttu-id="c3f6d-122">Ek olarak, rota değerleri MVC çeşitli bölümlerini bir istek veri bağlar ve bunu bir kümesi sırayla yapar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-122">In addition to route values MVC will bind data from various parts of the request and it does so in a set order.</span></span> <span data-ttu-id="c3f6d-123">Model bağlama aracılığıyla görünen sırada veri kaynaklarının bir listesi aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-123">Below is a list of the data sources in the order that model binding looks through them:</span></span>

1. <span data-ttu-id="c3f6d-124">`Form values`: POST yöntemi kullanarak HTTP isteğinde Git form değerleri şunlardır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-124">`Form values`: These are form values that go in the HTTP request using the POST method.</span></span> <span data-ttu-id="c3f6d-125">(jQuery POST istekleri dahil olmak üzere).</span><span class="sxs-lookup"><span data-stu-id="c3f6d-125">(including jQuery POST requests).</span></span>

2. <span data-ttu-id="c3f6d-126">`Route values`: Rota değerleri tarafından sağlanan dizi [yönlendirme](xref:fundamentals/routing)</span><span class="sxs-lookup"><span data-stu-id="c3f6d-126">`Route values`: The set of route values provided by [Routing](xref:fundamentals/routing)</span></span>

3. <span data-ttu-id="c3f6d-127">`Query strings`: Sorgu dizesi URI parçası.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-127">`Query strings`: The query string part of the URI.</span></span>

<!-- DocFX BUG
The link works but generates an error when building with DocFX
@fundamentals/routing
[Routing](xref:fundamentals/routing)
-->

<span data-ttu-id="c3f6d-128">Not: Form değerleri, rota verilerini ve sorgu dizeleri tüm ad-değer çiftleri olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-128">Note: Form values, route data, and query strings are all stored as name-value pairs.</span></span>

<span data-ttu-id="c3f6d-129">Model bağlama için adlı bir anahtar sorunuz `id` ve bir şey yok adlı `id` form değerleri, rota değerleri için anahtar aramak için taşınması.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-129">Since model binding asked for a key named `id` and there's nothing named `id` in the form values, it moved on to the route values looking for that key.</span></span> <span data-ttu-id="c3f6d-130">Bu örnekte, bir eşleşmedir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-130">In our example, it's a match.</span></span> <span data-ttu-id="c3f6d-131">Bağlamadan ve 2 tamsayıya dönüştürülen değeri.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-131">Binding happens, and the value is converted to the integer 2.</span></span> <span data-ttu-id="c3f6d-132">Düzenle (dize kimliği) kullanarak aynı istekte, "2" dizeye dönüştürecektir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-132">The same request using Edit(string id) would convert to the string "2".</span></span>

<span data-ttu-id="c3f6d-133">Şu ana kadar örnek, basit türler kullanır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-133">So far the example uses simple types.</span></span> <span data-ttu-id="c3f6d-134">MVC'de basit herhangi bir .NET basit türü veya dize türü dönüştürücü türüyle türleridir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-134">In MVC simple types are any .NET primitive type or type with a string type converter.</span></span> <span data-ttu-id="c3f6d-135">Eylem yönteminin parametresi gibi bir sınıf olsaydı `Movie` hem basit hem de karmaşık türleri gibi özellikleri, MVC'ın model bağlama devam eder, düzgün şekilde işleyen içeren türü.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-135">If the action method's parameter were a class such as the `Movie` type, which contains both simple and complex types as properties, MVC's model binding will still handle it nicely.</span></span> <span data-ttu-id="c3f6d-136">Karmaşık türler için eşleşme arama özelliklerini geçirmek için yansıma ve özyineleme kullanır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-136">It uses reflection and recursion to traverse the properties of complex types looking for matches.</span></span> <span data-ttu-id="c3f6d-137">Model bağlama desenini arar *parameter_name.property_name* özellikleri değerlerini bağlamak için.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-137">Model binding looks for the pattern *parameter_name.property_name* to bind values to properties.</span></span> <span data-ttu-id="c3f6d-138">Eşleşen değerleri bu formu bulamazsa, bağlama yalnızca özellik adı kullanılarak dener.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-138">If it doesn't find matching values of this form, it will attempt to bind using just the property name.</span></span> <span data-ttu-id="c3f6d-139">Bu türleri gibi `Collection` türleri, model bağlama için bir eşleşme arar *parameter_name [dizin]* veya yalnızca *[dizin]*.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-139">For those types such as `Collection` types, model binding looks for matches to *parameter_name[index]* or just *[index]*.</span></span> <span data-ttu-id="c3f6d-140">Model bağlama davranır `Dictionary` benzer şekilde, sorarak türleri *parameter_name [anahtarı]* veya yalnızca *[anahtarı]*, basit türler anahtarları olduğu sürece.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-140">Model binding treats  `Dictionary` types similarly, asking for *parameter_name[key]* or just *[key]*, as long as the keys are simple types.</span></span> <span data-ttu-id="c3f6d-141">Desteklenen anahtarlar aynı model türü için oluşturulan etiket yardımcıları ve HTML alan adları aynı.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-141">Keys that are supported match the field names HTML and tag helpers generated for the same model type.</span></span> <span data-ttu-id="c3f6d-142">Bu, form alanlarını, oluşturma veya düzenleme ilişkili verileri doğrulama başarılı olmadı olduğunda, kolaylık sağlamak için kullanıcının girişi ile doldurulmuş kalır. böylece gidiş dönüşü değerleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-142">This enables round-tripping values so that the form fields remain filled with the user's input for their convenience, for example, when bound data from a create or edit didn't pass validation.</span></span>

<span data-ttu-id="c3f6d-143">Model bağlama mümkün kılmak için sınıf, genel bir varsayılan oluşturucu ve bağlamak için genel yazılabilir özellikleri olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-143">To make model binding possible, the class must have a public default constructor and public writable properties to bind.</span></span> <span data-ttu-id="c3f6d-144">Model bağlama oluştuğunda genel varsayılan oluşturucu kullanılarak sınıfının örneği ve özellikleri ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-144">When model binding occurs, the class is instantiated using the public default constructor, then the properties can be set.</span></span>

<span data-ttu-id="c3f6d-145">Bir parametre bağlandığında, model bağlama değerleri bu ada sahip mi arıyorsunuz durdurur ve bir sonraki parametreyi bağlamak taşır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-145">When a parameter is bound, model binding stops looking for values with that name and it moves on to bind the next parameter.</span></span> <span data-ttu-id="c3f6d-146">Aksi takdirde, varsayılan model bağlama davranışı parametrelerini varsayılan değerlerine kendi türüne bağlı olarak ayarlar:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-146">Otherwise, the default model binding behavior sets parameters to their default values depending on their type:</span></span>

* <span data-ttu-id="c3f6d-147">`T[]`: Türü dizilerin dışında `byte[]`, bağlama türü parametreleri ayarlar `T[]` için `Array.Empty<T>()`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-147">`T[]`: With the exception of arrays of type `byte[]`, binding sets parameters of type `T[]` to `Array.Empty<T>()`.</span></span> <span data-ttu-id="c3f6d-148">Tür dizilerini `byte[]` ayarlandığından `null`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-148">Arrays of type `byte[]` are set to `null`.</span></span>

* <span data-ttu-id="c3f6d-149">Başvuru türleri: Bağlama, özellikleri ayarlamadan varsayılan oluşturucu ile bir sınıfın bir örneğini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-149">Reference Types: Binding creates an instance of a class with the default constructor without setting properties.</span></span> <span data-ttu-id="c3f6d-150">Ancak, bağlama kümeleri model `string` parametreleri `null`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-150">However, model binding sets `string` parameters to `null`.</span></span>

* <span data-ttu-id="c3f6d-151">Boş değer atanabilir türler: Boş değer atanabilir türler ayarlandığında `null`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-151">Nullable Types: Nullable types are set to `null`.</span></span> <span data-ttu-id="c3f6d-152">Yukarıdaki örnekte, model bağlama kümeleri `id` için `null` türü olduğundan `int?`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-152">In the above example, model binding sets `id` to `null` since it's of type `int?`.</span></span>

* <span data-ttu-id="c3f6d-153">Değer türleri: Türü olmayan boş değer atanabilir değer türlerinin `T` ayarlandığından `default(T)`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-153">Value Types: Non-nullable value types of type `T` are set to `default(T)`.</span></span> <span data-ttu-id="c3f6d-154">Örneğin, model bağlama parametresi ayarlayacak `int id` 0.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-154">For example, model binding will set a parameter `int id` to 0.</span></span> <span data-ttu-id="c3f6d-155">Model doğrulama veya boş değer atanabilir türler kullanmak yerine varsayılan değerlerine bağlı olan göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-155">Consider using model validation or nullable types rather than relying on default values.</span></span>

<span data-ttu-id="c3f6d-156">Başarısız bağlanıyorsanız, MVC bir hata oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-156">If binding fails, MVC doesn't throw an error.</span></span> <span data-ttu-id="c3f6d-157">Kullanıcı girişi kabul eden her eylem denetlemelisiniz `ModelState.IsValid` özelliği.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-157">Every action which accepts user input should check the `ModelState.IsValid` property.</span></span>

<span data-ttu-id="c3f6d-158">Not: Denetleyicinin her giriş `ModelState` özelliği bir `ModelStateEntry` içeren bir `Errors` özelliği.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-158">Note: Each entry in the controller's `ModelState` property is a `ModelStateEntry` containing an `Errors` property.</span></span> <span data-ttu-id="c3f6d-159">Bu koleksiyonu kendiniz sorgulamak nadiren gereklidir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-159">It's rarely necessary to query this collection yourself.</span></span> <span data-ttu-id="c3f6d-160">Bunun yerine `ModelState.IsValid` kullanın.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-160">Use `ModelState.IsValid` instead.</span></span>

<span data-ttu-id="c3f6d-161">Buna ek olarak, MVC, model bağlama yapılırken dikkate almanız gereken bazı özel veri türleri vardır:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-161">Additionally, there are some special data types that MVC must consider when performing model binding:</span></span>

* <span data-ttu-id="c3f6d-162">`IFormFile`, `IEnumerable<IFormFile>`: HTTP isteği bir parçası olan bir veya daha fazla yüklenen dosyalar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-162">`IFormFile`, `IEnumerable<IFormFile>`: One or more uploaded files that are part of the HTTP request.</span></span>

* <span data-ttu-id="c3f6d-163">`CancellationToken`: Zaman uyumsuz denetleyicileri etkinliğinde iptal etmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-163">`CancellationToken`: Used to cancel activity in asynchronous controllers.</span></span>

<span data-ttu-id="c3f6d-164">Bu tür bir sınıf türüne bağlı eylem parametrelerini veya özellikler olabilir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-164">These types can be bound to action parameters or to properties on a class type.</span></span>

<span data-ttu-id="c3f6d-165">Model bağlama tamamlandıktan sonra [doğrulama](validation.md) gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-165">Once model binding is complete, [Validation](validation.md) occurs.</span></span> <span data-ttu-id="c3f6d-166">Varsayılan model bağlama geliştirme senaryoları büyük çoğunluğu için çok iyi çalışır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-166">Default model binding works great for the vast majority of development scenarios.</span></span> <span data-ttu-id="c3f6d-167">Benzersiz gereksinimleriniz varsa, yerleşik davranışına göre özelleştirme olanağı da genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-167">It's also extensible so if you have unique needs you can customize the built-in behavior.</span></span>

## <a name="customize-model-binding-behavior-with-attributes"></a><span data-ttu-id="c3f6d-168">Model bağlama davranışı öznitelikleri ile özelleştirme</span><span class="sxs-lookup"><span data-stu-id="c3f6d-168">Customize model binding behavior with attributes</span></span>

<span data-ttu-id="c3f6d-169">MVC, farklı bir kaynak için varsayılan model bağlama davranışını yönlendirmek için kullanabileceğiniz çeşitli özniteliklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-169">MVC contains several attributes that you can use to direct its default model binding behavior to a different source.</span></span> <span data-ttu-id="c3f6d-170">Örneğin, bağlama özelliği için gerekli olup olmadığını ya da, hiçbir zaman hiç kullanarak olacağını belirtebilirsiniz `[BindRequired]` veya `[BindNever]` öznitelikleri.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-170">For example, you can specify whether binding is required for a property, or if it should never happen at all by using the `[BindRequired]` or `[BindNever]` attributes.</span></span> <span data-ttu-id="c3f6d-171">Alternatif olarak, varsayılan veri kaynağı geçersiz kılar ve model Bağlayıcısı'nın veri kaynağını belirtin.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-171">Alternatively, you can override the default data source, and specify the model binder's data source.</span></span> <span data-ttu-id="c3f6d-172">Model bağlama özniteliklerin bir listesi aşağıdadır:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-172">Below is a list of model binding attributes:</span></span>

* <span data-ttu-id="c3f6d-173">`[BindRequired]`: Bu öznitelik, bağlama gerçekleşemez, model durumu hatası ekler.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-173">`[BindRequired]`: This attribute adds a model state error if binding cannot occur.</span></span>

* <span data-ttu-id="c3f6d-174">`[BindNever]`: Bu parametre için hiçbir zaman bağlamak için model bağlayıcı söyler.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-174">`[BindNever]`: Tells the model binder to never bind to this parameter.</span></span>

* <span data-ttu-id="c3f6d-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Uygulamak istediğiniz tam bağlama kaynağı belirtme için bunları kullanın.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-175">`[FromHeader]`, `[FromQuery]`, `[FromRoute]`, `[FromForm]`: Use these to specify the exact binding source you want to apply.</span></span>

* <span data-ttu-id="c3f6d-176">`[FromServices]`: Bu özniteliği kullanan [bağımlılık ekleme](../../fundamentals/dependency-injection.md) hizmetlerinden parametleri bağlamak için.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-176">`[FromServices]`: This attribute uses [dependency injection](../../fundamentals/dependency-injection.md) to bind parameters from services.</span></span>

* <span data-ttu-id="c3f6d-177">`[FromBody]`: Gövdeden veri bağlamak için yapılandırılan biçimlendiricileri kullanın.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-177">`[FromBody]`: Use the configured formatters to bind data from the request body.</span></span> <span data-ttu-id="c3f6d-178">Biçimlendiriciyi isteğin içerik türüne göre seçilir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-178">The formatter is selected based on content type of the request.</span></span>

* <span data-ttu-id="c3f6d-179">`[ModelBinder]`: Kaynak ve ad bağlama varsayılan model bağlayıcısını geçersiz kılmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-179">`[ModelBinder]`: Used to override the default model binder, binding source and name.</span></span>

<span data-ttu-id="c3f6d-180">Model bağlama'nın varsayılan davranışını geçersiz kılmanız gerekiyorsa öznitelikleri çok yararlı araçlardır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-180">Attributes are very helpful tools when you need to override the default behavior of model binding.</span></span>

## <a name="customize-model-binding-and-validation-globally"></a><span data-ttu-id="c3f6d-181">Model bağlama ve doğrulama genel özelleştirme</span><span class="sxs-lookup"><span data-stu-id="c3f6d-181">Customize model binding and validation globally</span></span>

<span data-ttu-id="c3f6d-182">Model bağlama ve doğrulama sistemin davranış tarafından yönlendirilen [ModelMetadata](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelmetadata) açıklayan:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-182">The model binding and validation system's behavior is driven by [ModelMetadata](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.modelmetadata) that describes:</span></span>

* <span data-ttu-id="c3f6d-183">Nasıl bir model bağlı olmasını sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-183">How a model is to be bound.</span></span>
* <span data-ttu-id="c3f6d-184">Ne tür ve özelliklerini doğrulama gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-184">How validation occurs on the type and its properties.</span></span>

<span data-ttu-id="c3f6d-185">Sistemin davranış yönlerini yapılandırılabilir genel ayrıntıları sağlayıcıya ekleyerek [MvcOptions.ModelMetadataDetailsProviders](/dotnet/api/microsoft.aspnetcore.mvc.mvcoptions.modelmetadatadetailsproviders#Microsoft_AspNetCore_Mvc_MvcOptions_ModelMetadataDetailsProviders).</span><span class="sxs-lookup"><span data-stu-id="c3f6d-185">Aspects of the system's behavior can be configured globally by adding a details provider to [MvcOptions.ModelMetadataDetailsProviders](/dotnet/api/microsoft.aspnetcore.mvc.mvcoptions.modelmetadatadetailsproviders#Microsoft_AspNetCore_Mvc_MvcOptions_ModelMetadataDetailsProviders).</span></span> <span data-ttu-id="c3f6d-186">MVC, model bağlama veya doğrulama belirli devre dışı bırakma gibi böyle davranışını yapılandırma türleri sağlayan birkaç yerleşik ayrıntıları sağlayıcıları vardır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-186">MVC has a few built-in details providers that allow configuring behavior such as disabling model binding or validation for certain types.</span></span>

<span data-ttu-id="c3f6d-187">Belirli bir türdeki tüm modeller üzerinde model bağlama devre dışı bırakmak için ekleme bir [ExcludeBindingMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.excludebindingmetadataprovider) içinde `Startup.ConfigureServices`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-187">To disable model binding on all models of a certain type, add an [ExcludeBindingMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.metadata.excludebindingmetadataprovider) in `Startup.ConfigureServices`.</span></span> <span data-ttu-id="c3f6d-188">Örneğin, devre dışı bırakma türü tüm modeller üzerinde model bağlama için `System.Version`:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-188">For example, to disable model binding on all models of type `System.Version`:</span></span>

```csharp
services.AddMvc().AddMvcOptions(options =>
    options.ModelMetadataDetailsProviders.Add(
        new ExcludeBindingMetadataProvider(typeof(System.Version))));
```

<span data-ttu-id="c3f6d-189">Belirli bir tür özelliklerini doğrulamasını devre dışı bırakmak için ekleme bir [SuppressChildValidationMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.suppresschildvalidationmetadataprovider) içinde `Startup.ConfigureServices`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-189">To disable validation on properties of a certain type, add a [SuppressChildValidationMetadataProvider](/dotnet/api/microsoft.aspnetcore.mvc.modelbinding.suppresschildvalidationmetadataprovider) in `Startup.ConfigureServices`.</span></span> <span data-ttu-id="c3f6d-190">Örneğin, türün özelliklerini doğrulama devre dışı bırakmak için `System.Guid`:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-190">For example, to disable validation on properties of type `System.Guid`:</span></span>

```csharp
services.AddMvc().AddMvcOptions(options =>
    options.ModelMetadataDetailsProviders.Add(
        new SuppressChildValidationMetadataProvider(typeof(System.Guid))));
```

## <a name="bind-formatted-data-from-the-request-body"></a><span data-ttu-id="c3f6d-191">Gövdeden biçimlendirilmiş veri bağlama</span><span class="sxs-lookup"><span data-stu-id="c3f6d-191">Bind formatted data from the request body</span></span>

<span data-ttu-id="c3f6d-192">İstek verileri bir çeşitli biçimlerde JSON, XML ve diğer birçok gibi gelebilir.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-192">Request data can come in a variety of formats including JSON, XML and many others.</span></span> <span data-ttu-id="c3f6d-193">İstek gövdesinde veriye parametre bağlama istediğinizi belirtmek için [FromBody] özniteliği kullandığınızda, MVC biçimlendiricileri yapılandırılmış bir dizi kendi içerik türüne göre istek verileri işlemek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-193">When you use the [FromBody] attribute to indicate that you want to bind a parameter to data in the request body, MVC uses a configured set of formatters to handle the request data based on its content type.</span></span> <span data-ttu-id="c3f6d-194">Varsayılan olarak, MVC içeren bir `JsonInputFormatter` JSON verilerini, ancak işleme ek biçimlendiricileri XML ve diğer özel biçimler işlemek için ekleyebilirsiniz için sınıf.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-194">By default MVC includes a `JsonInputFormatter` class for handling JSON data, but you can add additional formatters for handling XML and other custom formats.</span></span>

> [!NOTE]
> <span data-ttu-id="c3f6d-195">En fazla olabilir bir parametre ile donatılmış eylem başına `[FromBody]`.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-195">There can be at most one parameter per action decorated with `[FromBody]`.</span></span> <span data-ttu-id="c3f6d-196">ASP.NET Core MVC çalışma zamanı, biçimlendirici için istek akışı okuma sorumluluğunu atar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-196">The ASP.NET Core MVC run-time delegates the responsibility of reading the request stream to the formatter.</span></span> <span data-ttu-id="c3f6d-197">İstek akışı için bir parametre okunduktan sonra genellikle diğer bağlama için yeniden isteği akışını okumak mümkün değildir `[FromBody]` parametreleri.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-197">Once the request stream is read for a parameter, it's generally not possible to read the request stream again for binding other `[FromBody]` parameters.</span></span>

> [!NOTE]
> <span data-ttu-id="c3f6d-198">`JsonInputFormatter` Bağlıdır ve varsayılan biçimlendiricidir [Json.NET](https://www.newtonsoft.com/json).</span><span class="sxs-lookup"><span data-stu-id="c3f6d-198">The `JsonInputFormatter` is the default formatter and is based on [Json.NET](https://www.newtonsoft.com/json).</span></span>

<span data-ttu-id="c3f6d-199">ASP.NET Core giriş biçimlendiricileri göre seçer [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) üstbilgi ve parametrenin türü olmadığı sürece, aksi takdirde belirtme uygulanan bir öznitelik.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-199">ASP.NET Core selects input formatters based on the [Content-Type](https://www.w3.org/Protocols/rfc1341/4_Content-Type.html) header and the type of the parameter, unless there's an attribute applied to it specifying otherwise.</span></span> <span data-ttu-id="c3f6d-200">XML kullanmak ister misiniz veya başka bir biçimde, bunu yapılandırmalısınız *Startup.cs* dosyası, ancak öncelikle sahip bir başvuru almak `Microsoft.AspNetCore.Mvc.Formatters.Xml` NuGet kullanma.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-200">If you'd like to use XML or another format you must configure it in the *Startup.cs* file, but you may first have to obtain a reference to `Microsoft.AspNetCore.Mvc.Formatters.Xml` using NuGet.</span></span> <span data-ttu-id="c3f6d-201">Başlangıç kodunuzun aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="c3f6d-201">Your startup code should look something like this:</span></span>

```csharp
public void ConfigureServices(IServiceCollection services)
{
    services.AddMvc()
        .AddXmlSerializerFormatters();
   }
```

<span data-ttu-id="c3f6d-202">Kod *Startup.cs* dosyasını içeren bir `ConfigureServices` yöntemi ile bir `services` bağımsız değişkeni için ASP.NET Core uygulamanızı hizmetlerini oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-202">Code in the *Startup.cs* file contains a `ConfigureServices` method with a `services` argument you can use to build up services for your ASP.NET Core app.</span></span> <span data-ttu-id="c3f6d-203">Aşağıdaki örnekte, bu uygulama için MVC sunan hizmet olarak bir XML biçimlendiricisi ekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-203">In the sample, we are adding an XML formatter as a service that MVC will provide for this app.</span></span> <span data-ttu-id="c3f6d-204">`options` Bağımsız değişken geçirildi `AddMvc` yöntemi ekleyin ve filtreler, biçimlendiricileri ve diğer sistem seçenekleri MVC uygulama başlatma sırasında yönetmenize olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-204">The `options` argument passed into the `AddMvc` method allows you to add and manage filters, formatters, and other system options from MVC upon app startup.</span></span> <span data-ttu-id="c3f6d-205">Daha sonra uygulamanızı `Consumes` özniteliği denetleyici sınıflarına veya istediğiniz biçimi ile çalışması için eylem yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-205">Then apply the `Consumes` attribute to controller classes or action methods to work with the format you want.</span></span>

### <a name="custom-model-binding"></a><span data-ttu-id="c3f6d-206">Özel Model bağlama</span><span class="sxs-lookup"><span data-stu-id="c3f6d-206">Custom Model Binding</span></span>

<span data-ttu-id="c3f6d-207">Model bağlama, kendi özel model bağlayıcıları yazarak genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c3f6d-207">You can extend model binding by writing your own custom model binders.</span></span> <span data-ttu-id="c3f6d-208">Daha fazla bilgi edinin [özel model bağlama](../advanced/custom-model-binding.md).</span><span class="sxs-lookup"><span data-stu-id="c3f6d-208">Learn more about [custom model binding](../advanced/custom-model-binding.md).</span></span>
