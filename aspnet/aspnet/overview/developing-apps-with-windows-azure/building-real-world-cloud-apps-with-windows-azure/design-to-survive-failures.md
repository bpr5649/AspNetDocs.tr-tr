---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
title: Tasarım (Azure'la gerçek hayatta kullanılan bulut uygulamaları oluşturma) hatalara karşı | Microsoft Docs
author: MikeWasson
description: Gerçek dünya ile bulut uygulamaları oluşturma Azure e-kitap Scott Guthrie tarafından geliştirilen bir sunuma dayalıdır. Bu, 13 desenler ve kendisi için uygulamalar açıklanmaktadır...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: 364ce84e-5af8-4e08-afc9-75a512b01f84
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/design-to-survive-failures
msc.type: authoredcontent
ms.openlocfilehash: fbe618acfc70711933996f97657a4326d389b3dd
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59411247"
---
# <a name="design-to-survive-failures-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="18a1e-104">(Azure'la gerçek hayatta kullanılan bulut uygulamaları oluşturma) hatalara karşı tasarlama</span><span class="sxs-lookup"><span data-stu-id="18a1e-104">Design to Survive Failures (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="18a1e-105">tarafından [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="18a1e-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson]((https://twitter.com/RickAndMSFT)), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="18a1e-106">[İndirme proje düzelt](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) veya [E-kitabı indirin](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="18a1e-106">[Download Fix It Project](http://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](http://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="18a1e-107">**Yapı gerçek dünyaya yönelik bulut uygulamaları Azure ile** e-kitap, Scott Guthrie tarafından geliştirilen bir sunuma dayalıdır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="18a1e-108">13 desenleri açıklar ve web uygulamaları bulut için geliştirme başarılı yardımcı olabilecek uygulamalar.</span><span class="sxs-lookup"><span data-stu-id="18a1e-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="18a1e-109">E-kitabı hakkında daha fazla bilgi için bkz. [ilk bölüm](introduction.md).</span><span class="sxs-lookup"><span data-stu-id="18a1e-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>


<span data-ttu-id="18a1e-110">Uygulama, ancak özellikle de burada birçok kişi kullanacağınız, bulutta çalışacak herhangi bir türde oluşturduğunuzda hakkında düşünmek zorunda şeylerden biridir, düzgün bir şekilde işlemek hataları ve değer sunmak devam şekilde uygulama tasarlayın nasıl kadar olası.</span><span class="sxs-lookup"><span data-stu-id="18a1e-110">One of the things you have to think about when you build any type of application, but especially one that will run in the cloud where lots of people will be using it, is how to design the app so that it can gracefully handle failures and continue to deliver value as much as possible.</span></span> <span data-ttu-id="18a1e-111">Yeterli zaman göz önünde bulundurulduğunda, öğeleri herhangi bir ortam veya herhangi bir yazılım sisteminin yanlış oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="18a1e-111">Given enough time, things are going to go wrong in any environment or any software system.</span></span> <span data-ttu-id="18a1e-112">Müşterilerinize nasıl rahatsız etmeyi hedefleyen alırsınız ve ne kadar süre belirler, uygulamanız bu durumları nasıl işlediğini sorunlarını çözümlemek ve harcama gerekir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-112">How your app handles those situations determines how upset your customers will get and how much time you have to spend analyzing and fixing problems.</span></span>

## <a name="types-of-failures"></a><span data-ttu-id="18a1e-113">Hata türleri</span><span class="sxs-lookup"><span data-stu-id="18a1e-113">Types of failures</span></span>

<span data-ttu-id="18a1e-114">Farklı şekilde işlemek isteyebilirsiniz hataları temel iki kategorisi vardır:</span><span class="sxs-lookup"><span data-stu-id="18a1e-114">There are two basic categories of failures that you'll want to handle differently:</span></span>

- <span data-ttu-id="18a1e-115">Geçici, aralıklı ağ bağlantısı sorunları gibi hataları kendi kendine iyileştirme.</span><span class="sxs-lookup"><span data-stu-id="18a1e-115">Transient, self-healing failures such as intermittent network connectivity issues.</span></span>
- <span data-ttu-id="18a1e-116">Müdahale gerektiren enduring hataları.</span><span class="sxs-lookup"><span data-stu-id="18a1e-116">Enduring failures that require intervention.</span></span>

<span data-ttu-id="18a1e-117">Geçici hatalar için çoğu zaman hızla ve otomatik olarak uygulama kurtarır emin olmak için bir yeniden deneme ilkesi uygulayabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-117">For transient failures, you can implement a retry policy to ensure that most of the time the app recovers quickly and automatically.</span></span> <span data-ttu-id="18a1e-118">Müşterilerinizin biraz daha uzun yanıt süresi fark edebilirsiniz, ancak Aksi takdirde bunlar etkilenmez.</span><span class="sxs-lookup"><span data-stu-id="18a1e-118">Your customers might notice slightly longer response time, but otherwise they won't be affected.</span></span> <span data-ttu-id="18a1e-119">Bu hataları işlemek için bazı yollar göstereceğiz [geçici hata işleme bölüm](transient-fault-handling.md).</span><span class="sxs-lookup"><span data-stu-id="18a1e-119">We'll show some ways to handle these errors in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

<span data-ttu-id="18a1e-120">Hataları enduring için izleme ve günlüğe kaydetme, kök neden analizi kolaylaştırır ve sorunlar ortaya olduğunda en kısa sürede bildirir işlevi uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-120">For enduring failures, you can implement monitoring and logging functionality that notifies you promptly when issues arise and that facilitates root cause analysis.</span></span> <span data-ttu-id="18a1e-121">Bu tür hatalara haberdar olun yardımcı olmak için bazı yollar göstereceğiz [izleme ve Telemetri bölüm](monitoring-and-telemetry.md).</span><span class="sxs-lookup"><span data-stu-id="18a1e-121">We'll show some ways to help you stay on top of these kinds of errors in the [Monitoring and Telemetry chapter](monitoring-and-telemetry.md).</span></span>

## <a name="failure-scope"></a><span data-ttu-id="18a1e-122">Hatanın kapsamı</span><span class="sxs-lookup"><span data-stu-id="18a1e-122">Failure scope</span></span>

<span data-ttu-id="18a1e-123">Tek bir makine etkileyip etkilemediğini, hata kapsamı hakkında – düşünmek'iniz de bölgenin tamamını SQL veritabanı veya depolama gibi bir hizmet.</span><span class="sxs-lookup"><span data-stu-id="18a1e-123">You also have to think about failure scope – whether a single machine is affected, a whole service such as SQL Database or Storage, or an entire region.</span></span>

![Hatanın kapsamı](design-to-survive-failures/_static/image1.png)

### <a name="machine-failures"></a><span data-ttu-id="18a1e-125">Makine hataları</span><span class="sxs-lookup"><span data-stu-id="18a1e-125">Machine failures</span></span>

<span data-ttu-id="18a1e-126">Azure'da, başarısız sunucu tarafından yeni bir otomatik olarak değiştirilir ve iyi tasarlanmış bir bulut uygulaması hızla ve otomatik olarak bu tür bir hata kurtarır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-126">In Azure, a failed server is automatically replaced by a new one, and a well-designed cloud app recovers from this kind of failure automatically and quickly.</span></span> <span data-ttu-id="18a1e-127">Daha önce biz bir durum bilgisi olmayan web katmanı ölçeklenebilirlik avantajlarını denebilecek ve başarısız bir sunucudan kurtarma kolaylığı statelessness, başka bir avantajdır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-127">Earlier we stressed the scalability benefits of a stateless web tier, and ease of recovery from a failed server is another benefit of statelessness.</span></span> <span data-ttu-id="18a1e-128">Kurtarma kolaylığı Ayrıca, SQL veritabanı ve Azure App Service Web Apps gibi hizmet olarak platform (PaaS) özellikleri avantajlarından biridir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-128">Ease of recovery is also one of the benefits of platform-as-a-service (PaaS) features such as SQL Database and Azure App Service Web Apps.</span></span> <span data-ttu-id="18a1e-129">Donanım hatalarının nadirdir, ancak bu hizmetler otomatik olarak bunları işler ne zaman ortaya; bile bu hizmetlerden biri kullanırken makine hatalarını işlemek için kod yazmanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="18a1e-129">Hardware failures are rare, but when they occur these services handle them automatically; you don't even have to write code to handle machine failures when you're using one of these services.</span></span>

### <a name="service-failures"></a><span data-ttu-id="18a1e-130">Hizmet hataları</span><span class="sxs-lookup"><span data-stu-id="18a1e-130">Service failures</span></span>

<span data-ttu-id="18a1e-131">Bulut uygulamaları, genellikle birden çok hizmeti kullanın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-131">Cloud apps typically use multiple services.</span></span> <span data-ttu-id="18a1e-132">Örneğin, SQL veritabanı hizmeti, depolama hizmeti, düzeltme uygulama kullanır ve web uygulamasını Azure App Service'e dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-132">For example, the Fix It app uses the SQL Database service, the Storage service, and the web app is deployed to Azure App Service.</span></span> <span data-ttu-id="18a1e-133">Bağımlı hizmetlerden biri başarısız olursa, uygulamanız ne?</span><span class="sxs-lookup"><span data-stu-id="18a1e-133">What will your app do if one of the services you depend on fails?</span></span> <span data-ttu-id="18a1e-134">Bazı hataları kolay bir hizmet için "Üzgünüz, daha sonra yeniden deneyin" iletisi yapabileceğiniz en iyi olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-134">For some service failures a friendly "sorry, try again later" message might be the best you can do.</span></span> <span data-ttu-id="18a1e-135">Ancak çoğu senaryoda, daha iyi yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-135">But in many scenarios you can do better.</span></span> <span data-ttu-id="18a1e-136">Örneğin, arka uç veri deponuz kapalı olduğunda, kullanıcı girişi kabul, "isteğiniz alındı" görüntülemek ve ortalarda başka giriş geçici olarak depolar; sonra hizmeti yeniden uygulandığında girdi almak ve işleyin.</span><span class="sxs-lookup"><span data-stu-id="18a1e-136">For example, when your back-end data store is down, you can accept user input, display "your request has been received," and store the input someplace else temporarily; then when the service you need is operational again, you can retrieve the input and process it.</span></span>

<span data-ttu-id="18a1e-137">[Kuyruk merkezli çalışma deseni](queue-centric-work-pattern.md) bölüm, bu senaryo işlemek için bir yol gösterir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-137">The [Queue-centric Work Pattern](queue-centric-work-pattern.md) chapter shows one way to handle this scenario.</span></span> <span data-ttu-id="18a1e-138">Düzeltme uygulama görevleri SQL veritabanında depolanır ancak bu SQL veritabanı kapalı olduğunda çalışma çıkmak gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-138">The Fix It app stores tasks in SQL Database, but it doesn't have to quit working when SQL Database is down.</span></span> <span data-ttu-id="18a1e-139">Bu bölümde kullanıcı girişi için bir görev bir bir kuyrukta depolamanıza ve bir çalışan işlemi kuyruğa okuma ve güncelleştirme görevi nasıl göreceğiz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-139">In that chapter we'll see how to store user input for a task in a queue, and use a worker process to read the queue and update the task.</span></span> <span data-ttu-id="18a1e-140">SQL kapalı ise, Düzelt görevler oluşturma olanağı etkilenmez; çalışan işlemi, bekleyin ve SQL veritabanı kullanılabilir olduğunda yeni görevleri işleme.</span><span class="sxs-lookup"><span data-stu-id="18a1e-140">If SQL is down, the ability to create Fix It tasks is unaffected; the worker process can wait and process new tasks when SQL Database is available.</span></span>

### <a name="region-failures"></a><span data-ttu-id="18a1e-141">Bölge hataları</span><span class="sxs-lookup"><span data-stu-id="18a1e-141">Region failures</span></span>

<span data-ttu-id="18a1e-142">Tüm bölgeler başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-142">Entire regions may fail.</span></span> <span data-ttu-id="18a1e-143">Doğal afetler bir veri merkezi zarar verebilir, bir meteor tarafından düzleştirilmiş, veri merkezi santral satıra bir inek backhoe vb. ile burying bir çiftçisi tarafından kesilebilir. Uygulamanızı stricken merkezinde barındırılıyorsa ne yaparsınız?</span><span class="sxs-lookup"><span data-stu-id="18a1e-143">A natural disaster might destroy a data center, it might get flattened by a meteor, the trunk line into the datacenter could be cut by a farmer burying a cow with a backhoe, etc. If your app is hosted in the stricken datacenter what do you do?</span></span> <span data-ttu-id="18a1e-144">Uygulamanızı Azure'a varsa olağanüstü bir durum, başka bir bölgede çalıştırmaya devam birden çok bölgede aynı anda çalıştırmayı ayarlamak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="18a1e-144">It's possible to set up your app in Azure to run in multiple regions simultaneously so that if there's a disaster in one, you continue running in another region.</span></span> <span data-ttu-id="18a1e-145">Bu tür hataları ender oluşumlar: ve uygulamaların çoğu bu tür hataları aracılığıyla kesintisiz hizmet sağlanması için atlama aracılığıyla bağlantı yok.</span><span class="sxs-lookup"><span data-stu-id="18a1e-145">Such failures are extremely rare occurrences, and most apps don't jump through the hoops necessary to ensure uninterrupted service through failures of this sort.</span></span> <span data-ttu-id="18a1e-146">Uygulamanızı bile bölge hata kullanılabilir tutmak hakkında bilgi için bu bölümde, sonunda kaynaklar bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-146">See the Resources section at the end of the chapter for information about how to keep your app available even through a region failure.</span></span>

<span data-ttu-id="18a1e-147">Azure'nın bir hedef işleme bu tür hatalar çok daha kolay hale getirmek için ve nasıl, sonraki bölümlerde bulduğunuzu ilişkin bazı örnekler göreceksiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-147">A goal of Azure is to make handling all of these kinds of failures a lot easier, and you'll see some examples of how we're doing that in the following chapters.</span></span>

## <a name="slas"></a><span data-ttu-id="18a1e-148">SLA’lar</span><span class="sxs-lookup"><span data-stu-id="18a1e-148">SLAs</span></span>

<span data-ttu-id="18a1e-149">Kişiler, bulut ortamınızdaki hizmet düzeyi sözleşmelerine (SLA) hakkında sık dinleyin.</span><span class="sxs-lookup"><span data-stu-id="18a1e-149">People often hear about service-level agreements (SLAs) in the cloud environment.</span></span> <span data-ttu-id="18a1e-150">Temel hizmet nasıl güvenilir olduğu konusunda şirketler yaptığınız gösterir şunlardır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-150">Basically these are promises that companies make about how reliable their service is.</span></span> <span data-ttu-id="18a1e-151">% 99,9 SLA anlamına gelir %, % 99,9 oranında düzgün çalışıyor gibi hizmet beklemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-151">A 99.9% SLA means you should expect the service to be working correctly 99.9% of the time.</span></span> <span data-ttu-id="18a1e-152">Bir SLA'sı için oldukça tipik bir değer olan ve çok yüksek bir sayı gibi görünüyor, ancak aşağı ne kadar süre fark değil. %1 için gerçekten tutar.</span><span class="sxs-lookup"><span data-stu-id="18a1e-152">That's a fairly typical value for an SLA and it sounds like a very high number, but you might not realize how much down time .1% actually amounts to.</span></span> <span data-ttu-id="18a1e-153">Bir yıl, ay ve bir hafta içinde için çeşitli SLA yüzde tutar ne kadar kapalı kalma süresi gösteren bir tablo aşağıda verilmiştir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-153">Here's a table that shows how much downtime various SLA percentages amount to over a year, a month, and a week.</span></span>

![SLA tablo](design-to-survive-failures/_static/image2.png)

<span data-ttu-id="18a1e-155">Bu nedenle % 99,9 SLA hizmetinizi anlamına gelir % yıllık veya aylık 43,2 dakika 8.76 saat olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-155">So a 99.9% SLA means your service could be down 8.76 hours a year or 43.2 minutes a month.</span></span> <span data-ttu-id="18a1e-156">Çoğu kişi fark ettiğinizden çok fazla zaman olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-156">That's more down time than most people realize.</span></span> <span data-ttu-id="18a1e-157">Bu nedenle bir geliştirici olarak belirli bir miktarda süresini mümkün olduğunu unutmayın ve zarif bir şekilde işlemek istersiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-157">So as a developer you want to be aware that a certain amount of down time is possible and handle it in a graceful way.</span></span> <span data-ttu-id="18a1e-158">Belirli bir noktada birisi, uygulamanızın kullandığı geçiyor hizmet çalışmıyor durumda gittiği ve müşteri, söz konusu negatif etkisini en aza indirmek istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-158">At some point someone is going to be using your app, and a service is going to be down, and you want to minimize the negative impact of that on the customer.</span></span>

<span data-ttu-id="18a1e-159">SLA hakkında bildiğiniz bir şey olduğunu başvurduğu hangi zaman çerçevesinde: saat her hafta, her ay ya da her yıl sıfırlamaz alma?</span><span class="sxs-lookup"><span data-stu-id="18a1e-159">One thing you should know about an SLA is what time-frame it refers to: does the clock get reset every week, every month, or every year?</span></span> <span data-ttu-id="18a1e-160">Azure'da biz iyi ay bir dizi mahsubu tarafından yıllık bir SLA'sı hatalı ay Gizle ComRegisterFunction yıllık bir SLA'dan sizin için iyidir, her ay saati sıfırlayın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-160">In Azure we reset the clock every month, which is better for you than a yearly SLA, since a yearly SLA could hide bad months by offsetting them with a series of good months.</span></span>

<span data-ttu-id="18a1e-161">Tabii ki her zaman SLA'sı daha iyi yapmanız uymaya; Genellikle, çok küçüktür aşağı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-161">Of course we always aspire to do better than the SLA; usually you'll be down much less than that.</span></span> <span data-ttu-id="18a1e-162">Hiç olmadığı kadar aşağı kesinti en fazla çalışıyoruz, para geri sorabilir vaattir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-162">The promise is that if we're ever down for longer than the maximum down time you can ask for money back.</span></span> <span data-ttu-id="18a1e-163">Büyük olasılıkla geri alma para miktarını tam olarak, kesinti aşırı iş etkisini dengelemek mıydı ancak SLA'ın bu yönü bir yaptırım İlkesi işlevi görür ve biz bunu çok ciddiye olduğunu bildirir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-163">The amount of money you get back probably wouldn't fully compensate you for the business impact of the excess down time, but that aspect of the SLA acts as an enforcement policy and lets you know that we do take it very seriously.</span></span>

### <a name="composite-slas"></a><span data-ttu-id="18a1e-164">Bileşik SLA'lar</span><span class="sxs-lookup"><span data-stu-id="18a1e-164">Composite SLAs</span></span>

<span data-ttu-id="18a1e-165">Birden çok hizmet bir uygulamada her hizmet sahip ayrı bir SLA'sı kullanarak etkisini zaman SLA'ları aradığınız düşünmek önemli bir şeydir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-165">An important thing to think about when you're looking at SLAs is the impact of using multiple services in an app, with each service having a separate SLA.</span></span> <span data-ttu-id="18a1e-166">Örneğin, düzeltme uygulama, Azure App Service Web Apps, Azure depolama ve SQL veritabanı kullanır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-166">For example, the Fix It app uses Azure App Service Web Apps, Azure Storage, and SQL Database.</span></span> <span data-ttu-id="18a1e-167">Bu e-kitap aralık, 2013'te yazılan tarih itibariyle SLA numaralarına aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="18a1e-167">Here are their SLA numbers as of the date this e-book is being written in December, 2013:</span></span>

![Web sitesi, depolama, SQL veritabanı SLA'sı](design-to-survive-failures/_static/image3.png)

<span data-ttu-id="18a1e-169">Bu hizmet SLA'nıza bağlı uygulaması için beklediğiniz kesinti maksimum nedir?</span><span class="sxs-lookup"><span data-stu-id="18a1e-169">What is the maximum down time you would expect for the app based on these service SLAs?</span></span> <span data-ttu-id="18a1e-170">Aşağı sürenizi bu durumda kötü SLA yüzdesi, veya % 99,9 eşit İmparatoru düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-170">You might think that your down time would be equal to the worst SLA percentage, or 99.9% in this case.</span></span> <span data-ttu-id="18a1e-171">Tüm üç hizmeti her zaman aynı anda başarısız oldu, ancak, gerçekte ne olacağını olmak zorunda değildir true olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-171">That would be true if all three services always failed at the same time, but that isn't necessarily what actually happens.</span></span> <span data-ttu-id="18a1e-172">Bileşik SLA ayrı ayrı SLA numaraları çarpılarak hesaplamak zorunda her hizmet farklı zamanlarda bağımsız olarak başarısız olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-172">Each service may fail independently at different times, so you have to calculate the composite SLA by multiplying the individual SLA numbers.</span></span>

![Bileşik SLA'sı](design-to-survive-failures/_static/image4.png)

<span data-ttu-id="18a1e-174">Bu nedenle uygulamanız yalnızca 43,2 dakika, ancak bu miktarın 3 kez, bir ay aylık – 108 dakika olması ve Azure SLA'sı sınırlarda devam.</span><span class="sxs-lookup"><span data-stu-id="18a1e-174">So your app could be down not just 43.2 minutes a month but 3 times that amount, 108 minutes a month – and still be within the Azure SLA limits.</span></span>

<span data-ttu-id="18a1e-175">Bu sorun, Azure'da benzersiz değil.</span><span class="sxs-lookup"><span data-stu-id="18a1e-175">This issue is not unique to Azure.</span></span> <span data-ttu-id="18a1e-176">En iyi bulutta kullanılabilir herhangi bir bulut hizmeti SLA'ları gerçekten sunuyoruz ve her satıcının bulut hizmetlerini kullanıyorsanız uğraşmanız benzer sorunlar sahip olacaksınız.</span><span class="sxs-lookup"><span data-stu-id="18a1e-176">We actually provide the best cloud SLAs of any cloud service available, and you'll have similar issues to deal with if you use any vendor's cloud services.</span></span> <span data-ttu-id="18a1e-177">Bu vurgular, müşterileriniz veya kullanıcılarınız etkilemek için yeterli sıklıkla meydana çünkü kaçınılmaz hizmet hatalarını işleyeceğinizi uygulamanızı nasıl tasarlayacağınızı hakkında düşünmeye önemini olur.</span><span class="sxs-lookup"><span data-stu-id="18a1e-177">What this highlights is the importance of thinking about how you can design your app to handle the inevitable service failures gracefully, because they might happen often enough to impact your customers or users.</span></span>

### <a name="cloud-slas-compared-to-enterprise-down-time-experience"></a><span data-ttu-id="18a1e-178">Kurumsal kapalı kalma süresini deneyimine karşılaştırıldığında bulut SLA'lar</span><span class="sxs-lookup"><span data-stu-id="18a1e-178">Cloud SLAs compared to enterprise down-time experience</span></span>

<span data-ttu-id="18a1e-179">Kişiler bazen örneğin "enterprise Uygulamam hiçbir zaman bu sorunlarla."</span><span class="sxs-lookup"><span data-stu-id="18a1e-179">People sometimes say, "In my enterprise app I never have these problems."</span></span> <span data-ttu-id="18a1e-180">Ayda aşağı ne kadar süre sorarsanız aslında, genellikle diyor, "Bu da, zaman zaman ortaya çıkar." sahip oldukları</span><span class="sxs-lookup"><span data-stu-id="18a1e-180">If you ask how much down time a month they actually have, they usually say, "Well, it happens occasionally."</span></span> <span data-ttu-id="18a1e-181">Ve bunlar suçlama ne sıklıkta sorarsanız "ihtiyacımız yedeklemek veya yeni bir sunucu veya güncelleştirme yazılım yüklemek için bazen."</span><span class="sxs-lookup"><span data-stu-id="18a1e-181">And if you ask how often, they admit that "Sometimes we do need to back up or install a new server or update software."</span></span> <span data-ttu-id="18a1e-182">Elbette, kesinti olarak sayılır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-182">Of course, that counts as down time.</span></span> <span data-ttu-id="18a1e-183">Özellikle görev açısından kritik olmadıkları sürece çoğu Kurumsal uygulama gerçekten hizmet SLA'larımız tarafından izin verilen süre miktarından daha fazla bilgi için kullanılamıyor.</span><span class="sxs-lookup"><span data-stu-id="18a1e-183">Most enterprise apps unless they are especially mission-critical are actually down for more than the amount of time allowed by our service SLAs.</span></span> <span data-ttu-id="18a1e-184">Ancak, sunucunuz ve altyapınızı olduğunda ve sorumlu ve onu denetleyen kez daha az angst düşündüğünüz eğilimindedir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-184">But when it's your server and your infrastructure and you're responsible for it and in control of it, you tend to feel less angst about down times.</span></span> <span data-ttu-id="18a1e-185">Başka birisi bağımlı bulut ortamında ve böylece bu konuda daha kaygılı almak için eğilimli olabilir, neler olduğunu bilmiyorum.</span><span class="sxs-lookup"><span data-stu-id="18a1e-185">In a cloud environment you're dependent on someone else and you don't know what's going on, so you might tend to get more worried about it.</span></span>

<span data-ttu-id="18a1e-186">Kuruluş buluttan SLA elde daha büyük bir süresi yüzdesini sağlar, bunlar donanım üzerinde çok daha fazla para harcayarak bunu.</span><span class="sxs-lookup"><span data-stu-id="18a1e-186">When an enterprise achieves a greater up-time percentage than you get from a cloud SLA, they do it by spending a lot more money on hardware.</span></span> <span data-ttu-id="18a1e-187">Bir bulut hizmeti yapabilirsiniz, ancak çok daha fazlası için hizmetlerinin şarj etmek gerekir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-187">A cloud service could do that but would have to charge much more for its services.</span></span> <span data-ttu-id="18a1e-188">Bunun yerine, uygun maliyetli bir hizmet avantajlarından yararlanın ve yazılımınızı kaçınılmaz hataları müşterileriniz için en az kesintiye neden olacağı şekilde tasarlayın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-188">Instead, you take advantage of a cost-effective service and design your software so that the inevitable failures cause minimum disruption to your customers.</span></span> <span data-ttu-id="18a1e-189">İşinizi bulut Uygulama Tasarımcısı olarak çok felaketler önlemek için hatadan kaçınmak için değil ve donanım göre değil yazılım odaklanarak bunu.</span><span class="sxs-lookup"><span data-stu-id="18a1e-189">Your job as a cloud app designer is not so much to avoid failure as to avoid catastrophe, and you do that by focusing on software, not on hardware.</span></span> <span data-ttu-id="18a1e-190">Kurumsal uygulamaları hatalar arasındaki ortalama süreyi en üst düzeye çıkarmak için çaba gelirken, bulut uygulamaları ortalama kurtarma süresi en aza indirmek çaba harcar.</span><span class="sxs-lookup"><span data-stu-id="18a1e-190">Whereas enterprise apps strive to maximize mean time between failures, cloud apps strive to minimize mean time to recover.</span></span>

### <a name="not-all-cloud-services-have-slas"></a><span data-ttu-id="18a1e-191">Tüm bulut Hizmetleri SLA'ları sahip</span><span class="sxs-lookup"><span data-stu-id="18a1e-191">Not all cloud services have SLAs</span></span>

<span data-ttu-id="18a1e-192">Ayrıca her bir bulut hizmeti bile SLA'ya sahip olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-192">Be aware also that not every cloud service even has an SLA.</span></span> <span data-ttu-id="18a1e-193">Uygulamanızın süresi Garantisi ile bir hizmete bağlı ise, çok uzun aşağı Tahmin edebileceğiniz daha olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-193">If your app is dependent on a service with no up-time guarantee, you could be down far longer than you might imagine.</span></span> <span data-ttu-id="18a1e-194">Örneğin, sitenizi Facebook veya Twitter gibi sosyal sağlayıcılar kullanmak için oturum açma etkinleştirirseniz, bir SLA ve burada bulabileceğiniz öğrenmek için hizmet sağlayıcısı ile onay biri değildir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-194">For example, if you enable log-in to your site using a social provider such as Facebook or Twitter, check with the service provider to find out if there is an SLA, and you might find out there isn't one.</span></span> <span data-ttu-id="18a1e-195">Ancak, kimlik doğrulama hizmeti aşağıya inerse veya istek üzerine throw destekleyemiyor, müşterilerinizin uygulamanızı dışında kilitlenir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-195">But if the authentication service goes down or is unable to support the volume of requests you throw at it, your customers are locked out of your app.</span></span> <span data-ttu-id="18a1e-196">Gün veya daha uzun kullanılamıyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-196">You could be down for days or longer.</span></span> <span data-ttu-id="18a1e-197">Wordament'ın yeni bir uygulama yüz milyonlarca indirmeler beklenen ve Facebook kimlik doğrulaması – hale geldiği ancak Facebook için çok geç canlı ve bulunan geçmeden önce konuşmak olmadı oluştu. Bu hizmet için SLA sağlanmaz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-197">The creators of one new app expected hundreds of millions of downloads and took a dependency on Facebook authentication – but didn't talk to Facebook before going live and discovered too late that there was no SLA for that service.</span></span>

### <a name="not-all-downtime-counts-toward-slas"></a><span data-ttu-id="18a1e-198">SLA'ları doğru tüm kapalı kalma süresi sayar</span><span class="sxs-lookup"><span data-stu-id="18a1e-198">Not all downtime counts toward SLAs</span></span>

<span data-ttu-id="18a1e-199">Bazı bulut Hizmetleri, kasıtlı olarak uygulamanızı bunları aşırı kullanıyorsa, hizmet reddedebilir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-199">Some cloud services may deliberately deny service if your app over-uses them.</span></span> <span data-ttu-id="18a1e-200">Bu adlandırılır *azaltma*.</span><span class="sxs-lookup"><span data-stu-id="18a1e-200">This is called *throttling*.</span></span> <span data-ttu-id="18a1e-201">Hizmet SLA'sı varsa, altında çalışacağı kısıtlanmış ve uygulama tasarımınızı bu koşullara önlemek ve bu durumda azaltma için uygun şekilde tepki koşulları belirtmelidir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-201">If a service has an SLA, it should state the conditions under which you might be throttled, and your app design should avoid those conditions and react appropriately to the throttling if it happens.</span></span> <span data-ttu-id="18a1e-202">Örneğin, saniye başına belirli sayıda aştığında başarısız hizmet istekleri başlatırsanız, otomatik yeniden denemeler meydana şekilde hızlı bunlar devam azaltma neden olmayan emin olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="18a1e-202">For example, if requests to a service start to fail when you exceed a certain number per second, you want to make sure automatic retries don't happen so fast that they cause the throttling to continue.</span></span> <span data-ttu-id="18a1e-203">Biz daha azaltmayı hakkında söylemeniz gerekir [geçici hata işleme bölüm](transient-fault-handling.md).</span><span class="sxs-lookup"><span data-stu-id="18a1e-203">We'll have more to say about throttling in the [Transient Fault Handling chapter](transient-fault-handling.md).</span></span>

## <a name="summary"></a><span data-ttu-id="18a1e-204">Özet</span><span class="sxs-lookup"><span data-stu-id="18a1e-204">Summary</span></span>

<span data-ttu-id="18a1e-205">Bu bölümde neden düzgün bir şekilde hatalara karşı koruma sağlayacak şekilde tasarlanmış olması gerçek bulut uygulaması olduğunu daha iyi anlamanıza yardımcı olması girişimde bulundu.</span><span class="sxs-lookup"><span data-stu-id="18a1e-205">This chapter has tried to help you realize why a real world cloud app has to be designed to survive failures gracefully.</span></span> <span data-ttu-id="18a1e-206">İle başlayarak [sonraki bölümde](monitoring-and-telemetry.md), bu serideki diğer desenler, bunu yapmak için kullanabileceğiniz bazı stratejiler hakkında daha fazla ayrıntıya gidin:</span><span class="sxs-lookup"><span data-stu-id="18a1e-206">Starting with the [next chapter](monitoring-and-telemetry.md), the remaining patterns in this series go into more detail about some strategies you can use to do that:</span></span>

- <span data-ttu-id="18a1e-207">Sahip iyi [izleme ve telemetri](monitoring-and-telemetry.md), böylece müdahale gerektiren hataları hakkında hızlıca bilgi edinin ve bunları gidermek için yeterli bilgiye sahip.</span><span class="sxs-lookup"><span data-stu-id="18a1e-207">Have good [monitoring and telemetry](monitoring-and-telemetry.md), so that you find out quickly about failures that require intervention, and you have sufficient information to resolve them.</span></span>
- <span data-ttu-id="18a1e-208">[Geçici hataları işlemek](transient-fault-handling.md) akıllı yeniden deneme mantığı, böylece uygulamanız otomatik olarak zaman kullanabilirsiniz ve geri döner kurtarır uygulayarak [devre kesici](transient-fault-handling.md#circuitbreakers) bunu bağlanamazken mantığı.</span><span class="sxs-lookup"><span data-stu-id="18a1e-208">[Handle transient faults](transient-fault-handling.md) by implementing intelligent retry logic, so that your app recovers automatically when it can and falls back to [circuit breaker](transient-fault-handling.md#circuitbreakers) logic when it can't.</span></span>
- <span data-ttu-id="18a1e-209">Kullanım [dağıtılmış önbelleğe alma](distributed-caching.md) veritabanı erişimi olan aktarım hızı, gecikme süresi ve bağlantı sorunları en aza indirmek için.</span><span class="sxs-lookup"><span data-stu-id="18a1e-209">Use [distributed caching](distributed-caching.md) in order to minimize throughput, latency, and connection problems with database access.</span></span>
- <span data-ttu-id="18a1e-210">Uygulama aracılığıyla eşlenmesiyle gevşek [kuyruk merkezli çalışma deseni](queue-centric-work-pattern.md), böylece, uygulama ön ucu arka uç kapalı olduğunda çalışmaya devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="18a1e-210">Implement loose coupling via the [queue-centric work pattern](queue-centric-work-pattern.md), so that your app front end can continue to work when the back end is down.</span></span>

## <a name="resources"></a><span data-ttu-id="18a1e-211">Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="18a1e-211">Resources</span></span>

<span data-ttu-id="18a1e-212">Daha fazla bilgi için sonraki bölümlerde bu e-kitap ve aşağıdaki kaynaklara bakın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-212">For more information, see later chapters in this e-book and the following resources.</span></span>

<span data-ttu-id="18a1e-213">Belgeler:</span><span class="sxs-lookup"><span data-stu-id="18a1e-213">Documentation:</span></span>

- <span data-ttu-id="18a1e-214">[Hatasız: Yönergeler için dayanıklı bulut mimarileri](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-214">[Failsafe: Guidance for Resilient Cloud Architectures](https://msdn.microsoft.com/library/windowsazure/jj853352.aspx).</span></span> <span data-ttu-id="18a1e-215">Andrew Townhill Marc Mercuri ve Ulrich Homann tarafından teknik incelemesinde yanıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-215">White paper by Marc Mercuri, Ulrich Homann, and Andrew Townhill.</span></span> <span data-ttu-id="18a1e-216">Web sayfası hatasız video serisi sürümü.</span><span class="sxs-lookup"><span data-stu-id="18a1e-216">Web page version of the FailSafe video series.</span></span>
- <span data-ttu-id="18a1e-217">[Azure bulut Hizmetleri'nde büyük ölçekli hizmetler tasarlamak için en iyi uygulamalar](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-217">[Best Practices for the Design of Large-Scale Services on Azure Cloud Services](https://msdn.microsoft.com/library/windowsazure/jj717232.aspx).</span></span> <span data-ttu-id="18a1e-218">Mark Simms'in ve Michael Thomassy teknik incelemesinde yanıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-218">White paper by Mark Simms and Michael Thomassy.</span></span>
- <span data-ttu-id="18a1e-219">[Azure iş sürekliliği teknik rehberlik](https://msdn.microsoft.com/library/windowsazure/hh873027.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-219">[Azure Business Continuity Technical Guidance](https://msdn.microsoft.com/library/windowsazure/hh873027.aspx).</span></span> <span data-ttu-id="18a1e-220">Patrick Wickline ve Jason Roth teknik incelemesinde yanıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-220">White paper by Patrick Wickline and Jason Roth.</span></span>
- <span data-ttu-id="18a1e-221">[Olağanüstü durum kurtarma ve Azure uygulamaları için yüksek kullanılabilirlik](https://msdn.microsoft.com/library/windowsazure/dn251004.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-221">[Disaster Recovery and High Availability for Azure Applications](https://msdn.microsoft.com/library/windowsazure/dn251004.aspx).</span></span> <span data-ttu-id="18a1e-222">Michael McKeown, Hanu Kommalapati ve Jason Roth teknik incelemesinde yanıtlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="18a1e-222">White paper by Michael McKeown, Hanu Kommalapati, and Jason Roth.</span></span>
- <span data-ttu-id="18a1e-223">[Microsoft desenler ve uygulamalar - Azure Kılavuzu](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-223">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="18a1e-224">Çoklu veri merkezi dağıtım kılavuzu, devre kesici düzeni bakın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-224">See Multi Data Center Deployment guidance, Circuit breaker pattern.</span></span>
- <span data-ttu-id="18a1e-225">[Azure desteği - hizmet düzeyi sözleşmeleri](https://azure.microsoft.com/support/legal/sla/).</span><span class="sxs-lookup"><span data-stu-id="18a1e-225">[Azure Support - Service Level Agreements](https://azure.microsoft.com/support/legal/sla/).</span></span>
- <span data-ttu-id="18a1e-226">[Azure SQL veritabanı'nda iş sürekliliği](https://msdn.microsoft.com/library/windowsazure/hh852669.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-226">[Business Continuity in Azure SQL Database](https://msdn.microsoft.com/library/windowsazure/hh852669.aspx).</span></span> <span data-ttu-id="18a1e-227">SQL veritabanı yüksek kullanılabilirlik ve olağanüstü durum kurtarma özellikleri hakkındaki belgeler.</span><span class="sxs-lookup"><span data-stu-id="18a1e-227">Documentation about SQL Database high availability and disaster recovery features.</span></span>
- <span data-ttu-id="18a1e-228">[Yüksek kullanılabilirlik ve olağanüstü durum kurtarma için Azure sanal makineler'de SQL Server](https://msdn.microsoft.com/library/windowsazure/jj870962.aspx).</span><span class="sxs-lookup"><span data-stu-id="18a1e-228">[High Availability and Disaster Recovery for SQL Server in Azure Virtual Machines](https://msdn.microsoft.com/library/windowsazure/jj870962.aspx).</span></span>

<span data-ttu-id="18a1e-229">Videolar:</span><span class="sxs-lookup"><span data-stu-id="18a1e-229">Videos:</span></span>

- <span data-ttu-id="18a1e-230">[Hatasız: Ölçeklenebilir, dayanıklı bulut hizmetleri oluşturmaya](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="18a1e-230">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="18a1e-231">Dokuz bölümden oluşan Ulrich Homann, Marc Mercuri ve Mark Simms'in.</span><span class="sxs-lookup"><span data-stu-id="18a1e-231">Nine-part series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="18a1e-232">Üst düzey kavramlarını ve mimari ilkeleri gerçek müşterilerle Microsoft Müşteri danışma ekibi (CAT) deneyiminden çizilmiş hikayeleri çok erişilebilir ve ilgi çekici bir biçimde sunar.</span><span class="sxs-lookup"><span data-stu-id="18a1e-232">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="18a1e-233">Bölüm 1 ile 8 derinlik hatalara karşı bulut uygulamaları tasarlama nedenlerini gidin.</span><span class="sxs-lookup"><span data-stu-id="18a1e-233">Episodes 1 and 8 go in depth into the reasons for designing cloud apps to survive failures.</span></span> <span data-ttu-id="18a1e-234">Ayrıca 49:57 ve açıklamalara hata noktalarını ve bölüm 2 sırasında 56:05 başlatırken hata modlarını devre Kesiciler, Bölüm 3 40:55 başlatırken Tartışılması bölüm 2'de başlayarak azaltma izleme tartışmalara bakın.</span><span class="sxs-lookup"><span data-stu-id="18a1e-234">See also the follow-up discussion of throttling in episode 2 starting at 49:57, the discussion of failure points and failure modes in episode 2 starting at 56:05, and the discussion of circuit breakers in episode 3 starting at 40:55.</span></span>
- <span data-ttu-id="18a1e-235">[Yapı büyük: Dersler, Azure müşterilerinin - Bölüm II](https://channel9.msdn.com/Events/Build/2012/3-030).</span><span class="sxs-lookup"><span data-stu-id="18a1e-235">[Building Big: Lessons learned from Azure customers - Part II](https://channel9.msdn.com/Events/Build/2012/3-030).</span></span> <span data-ttu-id="18a1e-236">Mark Simms'in hata için tasarlama ve her şeyi izleme hakkında konuşuyor.</span><span class="sxs-lookup"><span data-stu-id="18a1e-236">Mark Simms talks about designing for failure and instrumenting everything.</span></span> <span data-ttu-id="18a1e-237">Benzer şekilde hatasız serisi ancak daha fazla nasıl yapılır ayrıntıya gider.</span><span class="sxs-lookup"><span data-stu-id="18a1e-237">Similar to the Failsafe series but goes into more how-to details.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="18a1e-238">[Önceki](unstructured-blob-storage.md)
> [İleri](monitoring-and-telemetry.md)</span><span class="sxs-lookup"><span data-stu-id="18a1e-238">[Previous](unstructured-blob-storage.md)
[Next](monitoring-and-telemetry.md)</span></span>
