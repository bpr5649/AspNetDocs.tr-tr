---
uid: aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
title: Kuyruk merkezli çalışma deseninin (Azure ile gerçek dünyada bulut uygulamaları oluşturma) | Microsoft Docs
author: MikeWasson
description: Azure e-Book ile gerçek dünyada bulut uygulamaları oluşturma, Scott Guthrie tarafından geliştirilen bir sunuyu temel alır. 13 desen ve şunları yapabilir...
ms.author: riande
ms.date: 06/12/2014
ms.assetid: cc1ad51b-40c3-4c68-8620-9aaa0fd1f6cf
msc.legacyurl: /aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/queue-centric-work-pattern
msc.type: authoredcontent
ms.openlocfilehash: 1177336b25479c06706227e5c8ff4d027cdaebb8
ms.sourcegitcommit: 7709c0a091b8d55b7b33bad8849f7b66b23c3d72
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/19/2020
ms.locfileid: "77456991"
---
# <a name="queue-centric-work-pattern-building-real-world-cloud-apps-with-azure"></a><span data-ttu-id="65f37-104">Kuyruk merkezli çalışma deseninin (Azure ile gerçek dünyada bulut uygulamaları oluşturma)</span><span class="sxs-lookup"><span data-stu-id="65f37-104">Queue-Centric Work Pattern (Building Real-World Cloud Apps with Azure)</span></span>

<span data-ttu-id="65f37-105">, [Mike te son](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra) tarafından</span><span class="sxs-lookup"><span data-stu-id="65f37-105">by [Mike Wasson](https://github.com/MikeWasson), [Rick Anderson](https://twitter.com/RickAndMSFT), [Tom Dykstra](https://github.com/tdykstra)</span></span>

<span data-ttu-id="65f37-106">[Onarma projesini indirin](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) veya [E-kitabı indirin](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span><span class="sxs-lookup"><span data-stu-id="65f37-106">[Download Fix It Project](https://code.msdn.microsoft.com/Fix-It-app-for-Building-cdd80df4) or [Download E-book](https://blogs.msdn.com/b/microsoft_press/archive/2014/07/23/free-ebook-building-cloud-apps-with-microsoft-azure.aspx)</span></span>

> <span data-ttu-id="65f37-107">Azure e-book **Ile gerçek dünyada bulut uygulamaları oluşturma** , Scott Guthrie tarafından geliştirilen bir sunuyu temel alır.</span><span class="sxs-lookup"><span data-stu-id="65f37-107">The **Building Real World Cloud Apps with Azure** e-book is based on a presentation developed by Scott Guthrie.</span></span> <span data-ttu-id="65f37-108">Bulut için Web Apps 'i başarılı bir şekilde geliştirmeye yardımcı olabilecek 13 desen ve uygulamaları açıklar.</span><span class="sxs-lookup"><span data-stu-id="65f37-108">It explains 13 patterns and practices that can help you be successful developing web apps for the cloud.</span></span> <span data-ttu-id="65f37-109">E-kitap hakkında daha fazla bilgi için [ilk bölüme](introduction.md)bakın.</span><span class="sxs-lookup"><span data-stu-id="65f37-109">For information about the e-book, see [the first chapter](introduction.md).</span></span>

<span data-ttu-id="65f37-110">Daha önce, birden çok hizmet kullanmanın "bileşik" SLA ile sonuçlanabileceğini gördük ve uygulamanın etkin SLA 'Sı her SLA 'nın *ürünüdür* .</span><span class="sxs-lookup"><span data-stu-id="65f37-110">Earlier, we saw that using multiple services can result in a "composite" SLA, where the app's effective SLA is the *product* of the individual SLAs.</span></span> <span data-ttu-id="65f37-111">Örneğin, BT uygulaması, Web sitelerini, depolamayı ve SQL veritabanını kullanır.</span><span class="sxs-lookup"><span data-stu-id="65f37-111">For example, the Fix It app uses Web Sites, Storage, and SQL Database.</span></span> <span data-ttu-id="65f37-112">Bu hizmetlerden herhangi biri başarısız olursa, uygulama kullanıcıya bir hata döndürür.</span><span class="sxs-lookup"><span data-stu-id="65f37-112">If any one of these services fails, the app will return an error to the user.</span></span>

<span data-ttu-id="65f37-113">Önbelleğe alma, salt okuma içeriği için geçici hataların işlenmesi için iyi bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="65f37-113">Caching is a good way to handle transient failures for read-only content.</span></span> <span data-ttu-id="65f37-114">Ancak uygulamanızın iş yapması gerekiyorsa ne olacak?</span><span class="sxs-lookup"><span data-stu-id="65f37-114">But what if your application needs to do work?</span></span> <span data-ttu-id="65f37-115">Örneğin, Kullanıcı yeni bir çözüm BT görevi gönderdiğinde, uygulama görevi yalnızca önbelleğe ekleyemiyor.</span><span class="sxs-lookup"><span data-stu-id="65f37-115">For example, when the user submits a new Fix It task, the app can't just put the task into the cache.</span></span> <span data-ttu-id="65f37-116">Uygulamanın, düzeltilmesi için bu görevi kalıcı bir veri deposuna yazması gerekir, bu nedenle işlenebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-116">The app needs to write the Fix It task into a persistent data store, so it can be processed.</span></span>

<span data-ttu-id="65f37-117">Bu, kuyruk merkezli çalışma deseninin geldiği yerdir.</span><span class="sxs-lookup"><span data-stu-id="65f37-117">That's where the queue-centric work pattern comes in.</span></span> <span data-ttu-id="65f37-118">Bu model, bir Web katmanı ve arka uç hizmeti arasında gevşek bir bağlayıcı sunar.</span><span class="sxs-lookup"><span data-stu-id="65f37-118">This pattern enables loose coupling between a web tier and a backend service.</span></span>

<span data-ttu-id="65f37-119">Düzenin nasıl çalıştığı aşağıda gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="65f37-119">Here's how the pattern works.</span></span> <span data-ttu-id="65f37-120">Uygulama bir istek aldığında bir sıraya bir iş öğesi koyar ve yanıtı hemen döndürür.</span><span class="sxs-lookup"><span data-stu-id="65f37-120">When the application gets a request, it puts a work item onto a queue and immediately returns the response.</span></span> <span data-ttu-id="65f37-121">Sonra ayrı bir arka uç işlemi kuyruktan iş öğeleri çeker ve işi yapar.</span><span class="sxs-lookup"><span data-stu-id="65f37-121">Then a separate backend process pulls work items from the queue and does the work.</span></span>

<span data-ttu-id="65f37-122">Sıra merkezli çalışma deseninin kullanılması için yararlıdır:</span><span class="sxs-lookup"><span data-stu-id="65f37-122">The queue-centric work pattern is useful for:</span></span>

- <span data-ttu-id="65f37-123">Zaman alan iş (yüksek gecikme süresi).</span><span class="sxs-lookup"><span data-stu-id="65f37-123">Work that is time consuming (high latency).</span></span>
- <span data-ttu-id="65f37-124">Her zaman kullanılabilir olmayabilir bir dış hizmet gerektiren iş.</span><span class="sxs-lookup"><span data-stu-id="65f37-124">Work that requires an external service that might not always be available.</span></span>
- <span data-ttu-id="65f37-125">Kaynak yoğunluklu (yüksek CPU) iş.</span><span class="sxs-lookup"><span data-stu-id="65f37-125">Work that is resource-intensive (high CPU).</span></span>
- <span data-ttu-id="65f37-126">Ücret dengelemeye (ani yük bursts 'ye tabi) faydalanabilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-126">Work that would benefit from rate leveling (subject to sudden load bursts).</span></span>

## <a name="reduced-latency"></a><span data-ttu-id="65f37-127">Azaltılan gecikme</span><span class="sxs-lookup"><span data-stu-id="65f37-127">Reduced Latency</span></span>

<span data-ttu-id="65f37-128">Kuyruklar, zaman alan iş yaptığınız her zaman faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="65f37-128">Queues are useful any time you are doing time-consuming work.</span></span> <span data-ttu-id="65f37-129">Bir görev birkaç saniye veya daha uzun sürerse, son kullanıcıyı engellemek yerine iş öğesini bir kuyruğa koyun.</span><span class="sxs-lookup"><span data-stu-id="65f37-129">If a task takes a few seconds or longer, instead of blocking the end user, put the work item into a queue.</span></span> <span data-ttu-id="65f37-130">"Bu BT üzerinde çalıştık" kullanıcısını söyleyin ve sonra görevi arka planda işlemek için bir kuyruk dinleyicisi kullanın.</span><span class="sxs-lookup"><span data-stu-id="65f37-130">Tell the user "We're working on it," and then use a queue listener to process the task in the background.</span></span>

<span data-ttu-id="65f37-131">Örneğin, bir çevrimiçi satıcıdan bir şey satın aldığınızda, Web sitesi siparişinizi hemen onaylar.</span><span class="sxs-lookup"><span data-stu-id="65f37-131">For example, when you purchase something at an online retailer, the web site confirms your order immediately.</span></span> <span data-ttu-id="65f37-132">Ancak bu, bilgileriniz zaten teslim edilen bir kamyonun içinde olduğu anlamına gelmez.</span><span class="sxs-lookup"><span data-stu-id="65f37-132">But that doesn't mean your stuff is already in a truck being delivered.</span></span> <span data-ttu-id="65f37-133">Bir kuyruğa görev yerleştirirler ve arka planda kredi denetimini yapıyor, öğelerinizi teslim için hazırlamakta ve benzeri bir şekilde yapılır.</span><span class="sxs-lookup"><span data-stu-id="65f37-133">They put a task in a queue, and in the background they are doing the credit check, preparing your items for shipping, and so forth.</span></span>

<span data-ttu-id="65f37-134">Kısa gecikme süresine sahip senaryolar için, uçtan uca toplam süre, görevi zaman uyumlu olarak yapmakla karşılaştırıldığında daha uzun bir sıra kullanıyor olabilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-134">For scenarios with short latency, the total end-to-end time might be longer using a queue, compared with doing the task synchronously.</span></span> <span data-ttu-id="65f37-135">Öte yandan, diğer avantajlar da bu dezavantaja aykırı olabilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-135">But even then, the other benefits can outweigh that disadvantage.</span></span>

## <a name="increased-reliability"></a><span data-ttu-id="65f37-136">Daha fazla güvenilirlik</span><span class="sxs-lookup"><span data-stu-id="65f37-136">Increased Reliability</span></span>

<span data-ttu-id="65f37-137">Şimdiye kadar yaptığımız bir çözüm olan sürümde, Web ön ucu SQL veritabanı arka ucu ile sıkı bir şekilde bağlanmış.</span><span class="sxs-lookup"><span data-stu-id="65f37-137">In the version of Fix It that we've been looking at so far, the web front-end is tightly coupled with the SQL Database back-end.</span></span> <span data-ttu-id="65f37-138">SQL veritabanı hizmeti kullanılamıyorsa, Kullanıcı bir hata alır.</span><span class="sxs-lookup"><span data-stu-id="65f37-138">If the SQL database service is unavailable, the user gets an error.</span></span> <span data-ttu-id="65f37-139">Denemeler işe çalışmadıysanız (yani hata geçicidir), yapabileceğiniz tek şey bir hata gösterir ve kullanıcıdan daha sonra tekrar denemesini ister.</span><span class="sxs-lookup"><span data-stu-id="65f37-139">If retries don't work (that is, the failure is more than transient), the only thing you can do is show an error and ask the user to try again later.</span></span>

![SQL veritabanı arka ucu başarısız olduğunda Web ön ucunun başarısız olduğunu gösteren diyagram](queue-centric-work-pattern/_static/image1.png)

<span data-ttu-id="65f37-141">Kuyrukları kullanarak, bir Kullanıcı bir düzelme görevi gönderdiğinde, uygulama sıraya bir ileti yazar.</span><span class="sxs-lookup"><span data-stu-id="65f37-141">Using queues, when a user submits a Fix It task, the app writes a message to the queue.</span></span> <span data-ttu-id="65f37-142">İleti yükü görevin [JSON](http://json.org/) gösterimidir.</span><span class="sxs-lookup"><span data-stu-id="65f37-142">The message payload is a [JSON](http://json.org/) representation of the task.</span></span> <span data-ttu-id="65f37-143">İleti sıraya yazıldığı anda, uygulama döndürülür ve anında kullanıcıya başarılı bir ileti gösterir.</span><span class="sxs-lookup"><span data-stu-id="65f37-143">As soon as the message is written to the queue, the app returns and immediately shows a success message to the user.</span></span>

<span data-ttu-id="65f37-144">SQL veritabanı veya kuyruk dinleyicisi gibi arka uç hizmetlerinden herhangi biri, çevrimdışı çalış, kullanıcılar yeni bir çözüm BT görevi göndermeye devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-144">If any of the backend services – such as the SQL database or the queue listener -- go offline, users can still submit new Fix It tasks.</span></span> <span data-ttu-id="65f37-145">Arka uç hizmetleri yeniden kullanılabilir olana kadar iletiler de sıraya alınır.</span><span class="sxs-lookup"><span data-stu-id="65f37-145">The messages will just queue up until the backend services are available again.</span></span> <span data-ttu-id="65f37-146">Bu noktada, arka uç hizmetleri biriktirme listesini yakalar.</span><span class="sxs-lookup"><span data-stu-id="65f37-146">At that point, the backend services will catch up on the backlog.</span></span>

![Bir SQL veritabanı hatası olduğunda Web ön ucunun işlevine devam eden diyagram](queue-centric-work-pattern/_static/image2.png)

<span data-ttu-id="65f37-148">Üstelik, artık ön ucun dayanıklılığı hakkında endişelenmeden daha fazla arka uç mantığı ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-148">Moreover, now you can add more backend logic without worrying about the resiliency of the front end.</span></span> <span data-ttu-id="65f37-149">Örneğin, her yeni bir düzelme atandığında Sahibe bir e-posta veya SMS iletisi göndermek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-149">For example, you might want to send an email or SMS message to the owner whenever a new Fix It is assigned.</span></span> <span data-ttu-id="65f37-150">E-posta veya SMS hizmeti kullanılamaz hale gelirse, diğer her şeyi işleyebilir ve e-posta/SMS iletileri göndermek için ayrı bir kuyruğa bir ileti koyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-150">If the email or SMS service becomes unavailable, you can process everything else, and then put a message into a separate queue for sending email/SMS messages.</span></span>

<span data-ttu-id="65f37-151">Daha önce geçerli SLA Web Apps &times; depolama &times; SQL veritabanı =% 99,7 ' dir.</span><span class="sxs-lookup"><span data-stu-id="65f37-151">Previously, our effective SLA was Web Apps &times; Storage &times; SQL Database = 99.7%.</span></span> <span data-ttu-id="65f37-152">(Bkz. devam [etmek Için tasarım](design-to-survive-failures.md).)</span><span class="sxs-lookup"><span data-stu-id="65f37-152">(See [Design to Survive Failures](design-to-survive-failures.md).)</span></span>

<span data-ttu-id="65f37-153">Uygulamayı bir kuyruğu kullanacak şekilde değiştirdiğimiz zaman Web ön ucu,% 99,8 bileşik SLA 'Sı için yalnızca Web Apps ve depolamaya bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="65f37-153">When we change the app to use a queue, the web front end depends only on Web Apps and Storage, for a composite SLA of 99.8%.</span></span> <span data-ttu-id="65f37-154">(Kuyrukların Azure depolama hizmeti 'nin bir parçası olduğunu ve bu nedenle BLOB depolama ile aynı SLA 'ya dahil edileceğini unutmayın.)</span><span class="sxs-lookup"><span data-stu-id="65f37-154">(Note that queues are part of the Azure storage service, so they are included in the same SLA as blob storage.)</span></span>

<span data-ttu-id="65f37-155">% 99,8 ' den daha da ihtiyacınız varsa iki farklı bölgede iki kuyruk oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-155">If you need even better than 99.8%, you can create two queues in two different regions.</span></span> <span data-ttu-id="65f37-156">Birincil, diğeri ise ikincil olarak belirleyin.</span><span class="sxs-lookup"><span data-stu-id="65f37-156">Designate one as the primary, and the other as the secondary.</span></span> <span data-ttu-id="65f37-157">Birincil sıra kullanılamıyorsa, uygulamanızda ikincil sıraya yük devreder.</span><span class="sxs-lookup"><span data-stu-id="65f37-157">In your app, fail over to the secondary queue if the primary queue is not available.</span></span> <span data-ttu-id="65f37-158">Her ikisinin de aynı anda kullanılamaz olma olasılığı çok küçüktür.</span><span class="sxs-lookup"><span data-stu-id="65f37-158">The chance of both being unavailable at the same time is very small.</span></span>

## <a name="rate-leveling-and-independent-scaling"></a><span data-ttu-id="65f37-159">Hız seviyelendirme ve bağımsız ölçekleme</span><span class="sxs-lookup"><span data-stu-id="65f37-159">Rate Leveling and Independent Scaling</span></span>

<span data-ttu-id="65f37-160">Kuyruklar Ayrıca *hız seviyelendirme* veya *Yük Dengeleme*adlı bir şey için de kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="65f37-160">Queues are also useful for something called *rate leveling* or *load leveling*.</span></span>

<span data-ttu-id="65f37-161">Web Apps genellikle trafikte ani artışlarıyla saldırılarına açıktır.</span><span class="sxs-lookup"><span data-stu-id="65f37-161">Web apps are often susceptible to sudden bursts in traffic.</span></span> <span data-ttu-id="65f37-162">Otomatik ölçeklendirmeyi, artırılmış Web trafiğini işlemek üzere otomatik olarak Web sunucuları eklemek için kullanabilirsiniz, ancak otomatik ölçeklendirme, yükteki ani artış artışlarını işlemek için yeterince hızlı bir şekilde tepki sağlayamayabilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-162">While you can use autoscaling to automatically add web servers to handle increased web traffic, autoscaling might not be able to react quickly enough to handle abrupt spikes in load.</span></span> <span data-ttu-id="65f37-163">Web sunucuları bir kuyruğa ileti yazarak yapması gereken bazı işleri devretebilirler, daha fazla trafiği işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-163">If the web servers can offload some of the work they have to do by writing a message to a queue, they can handle more traffic.</span></span> <span data-ttu-id="65f37-164">Ardından arka uç hizmeti kuyruktan iletileri okuyabilir ve bunları işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-164">A backend service can then read messages from the queue and process them.</span></span> <span data-ttu-id="65f37-165">Gelen yük arttıkça kuyruğun derinliği büyür veya küçülecektir.</span><span class="sxs-lookup"><span data-stu-id="65f37-165">The depth of the queue will grow or shrink as the incoming load varies.</span></span>

<span data-ttu-id="65f37-166">Zaman tüketen çalışmanın büyük bir bölümü, arka uç hizmetine yüklendiğinde, Web katmanı trafikte ani ani artışlar daha kolay bir şekilde yanıt verebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-166">With much of its time-consuming work off-loaded to a backend service, the web tier can more easily respond to sudden spikes in traffic.</span></span> <span data-ttu-id="65f37-167">Ve verilen herhangi bir trafik miktarı daha az Web sunucusu tarafından işlenebildiğinden para tasarrufu yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-167">And you save money because any given amount of traffic can be handled by fewer web servers.</span></span>

<span data-ttu-id="65f37-168">Web katmanı ve arka uç hizmetini bağımsız olarak ölçekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-168">You can scale the web tier and backend service independently.</span></span> <span data-ttu-id="65f37-169">Örneğin, üç Web sunucusuna ihtiyacınız vardır ancak yalnızca bir sunucu işleme kuyruğu iletileri gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-169">For example, you might need three web servers but only one server processing queue messages.</span></span> <span data-ttu-id="65f37-170">Veya arka planda yoğun işlem gücü olan bir görev çalıştırıyorsanız, daha fazla arka uç sunucusuna ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="65f37-170">Or if you're running a compute-intensive task in the background, you might need more backend servers.</span></span>

![](queue-centric-work-pattern/_static/image3.png)

<span data-ttu-id="65f37-171">Otomatik ölçeklendirme, arka uç hizmetleriyle ve Web katmanıyla birlikte çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="65f37-171">Autoscaling works with backend services as well as with the web tier.</span></span> <span data-ttu-id="65f37-172">Arka uç VM 'lerinin CPU kullanımına göre kuyruktaki görevleri işleyen VM 'lerin sayısını ölçeklendirebilir veya azaltabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-172">You can scale up or scale down the number of VMs that are processing the tasks in the queue, based on the CPU usage of the backend VMs.</span></span> <span data-ttu-id="65f37-173">Ya da bir kuyruktaki öğe sayısına göre otomatik ölçeklendirme yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-173">Or, you can autoscale based on how many items are in a queue.</span></span> <span data-ttu-id="65f37-174">Örneğin, otomatik ölçeklendirmeyi sıraya göre 10 ' dan fazla öğe tutmaya çalışmak üzere söyleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-174">For example, you can tell autoscale to try to keep no more than 10 items in the queue.</span></span> <span data-ttu-id="65f37-175">Kuyrukta 10 ' dan fazla öğe varsa, otomatik ölçeklendirme VM 'Ler ekler.</span><span class="sxs-lookup"><span data-stu-id="65f37-175">If the queue has more than 10 items, autoscale will add VMs.</span></span> <span data-ttu-id="65f37-176">Bunları yakalarsa, otomatik ölçeklendirme ek VM 'Leri kapatır.</span><span class="sxs-lookup"><span data-stu-id="65f37-176">When they catch up, autoscale will tear down the extra VMs.</span></span>

## <a name="adding-queues-to-the-fix-it-application"></a><span data-ttu-id="65f37-177">Onarım BT uygulamasına kuyruklar ekleniyor</span><span class="sxs-lookup"><span data-stu-id="65f37-177">Adding Queues to the Fix It Application</span></span>

<span data-ttu-id="65f37-178">Sıra deseninin uygulanması için, çözümü onarma uygulamasında iki değişiklik yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="65f37-178">To implement the queue pattern, we need to make two changes to the Fix It app.</span></span>

- <span data-ttu-id="65f37-179">Bir Kullanıcı yeni bir bu BT BT görevini gönderdiğinde, görevi veritabanına yazmak yerine sıraya koyun.</span><span class="sxs-lookup"><span data-stu-id="65f37-179">When a user submits a new Fix It task, put the task in the queue, instead of writing it to the database.</span></span>
- <span data-ttu-id="65f37-180">Kuyruktaki iletileri işleyen bir arka uç hizmeti oluşturun.</span><span class="sxs-lookup"><span data-stu-id="65f37-180">Create a back-end service that processes messages in the queue.</span></span>

<span data-ttu-id="65f37-181">Kuyruk için [Azure kuyruk depolama hizmetini](https://www.windowsazure.com/develop/net/how-to-guides/queue-service/)kullanacağız.</span><span class="sxs-lookup"><span data-stu-id="65f37-181">For the queue, we'll use the [Azure Queue Storage Service](https://www.windowsazure.com/develop/net/how-to-guides/queue-service/).</span></span> <span data-ttu-id="65f37-182">Başka bir seçenek [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/)kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="65f37-182">Another option is to use [Azure Service Bus](https://docs.microsoft.com/azure/service-bus/).</span></span>

<span data-ttu-id="65f37-183">Hangi kuyruk hizmetinin kullanılacağına karar vermek için, uygulamanızın kuyruktaki iletileri nasıl gönderebilmesi ve alabilmesi gerektiğini göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="65f37-183">To decide which queue service to use, consider how your app needs to send and receive the messages in the queue:</span></span>

- <span data-ttu-id="65f37-184">Kurduğuna üreticileri ve rekabet Tüketicileriniz varsa, Azure kuyruk depolama hizmeti 'ni kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="65f37-184">If you have cooperating producers and competing consumers, consider using Azure Queue Storage Service.</span></span> <span data-ttu-id="65f37-185">"Cooperating üreticileri", bir kuyruğa ileti ekleyen birden çok işlem anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="65f37-185">"Cooperating producers" means multiple processes are adding messages to a queue.</span></span> <span data-ttu-id="65f37-186">"Rekabet tüketicileri", birden çok işlemin onları işlemek için sıraya çekdikleri, ancak verilen tüm iletiler yalnızca bir "tüketici" tarafından işlenebileceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="65f37-186">"Competing consumers" means multiple processes are pulling messages off the queue to process them, but any given message can only be processed by one "consumer."</span></span> <span data-ttu-id="65f37-187">Tek bir kuyruk ile alabilmeniz için daha fazla işleme ihtiyacınız varsa, ek sıralar ve/veya ek depolama hesapları kullanın.</span><span class="sxs-lookup"><span data-stu-id="65f37-187">If you need more throughput than you can get with a single queue, use additional queues and/or additional storage accounts.</span></span>
- <span data-ttu-id="65f37-188">Bir [Yayımlama/abonelik modeline](http://en.wikipedia.org/wiki/Publish/subscribe)ihtiyacınız varsa Azure Service Bus kuyrukları kullanmayı göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="65f37-188">If you need a [publish/subscribe model](http://en.wikipedia.org/wiki/Publish/subscribe), consider using Azure Service Bus Queues.</span></span>

<span data-ttu-id="65f37-189">BT BT uygulaması, kurduğuna üreticileri ve rakip tüketiciler modeline uyar.</span><span class="sxs-lookup"><span data-stu-id="65f37-189">The Fix It app fits the cooperating producers and competing consumers model.</span></span>

<span data-ttu-id="65f37-190">Uygulamanın kullanılabilirliği başka bir noktadır.</span><span class="sxs-lookup"><span data-stu-id="65f37-190">Another consideration is application availability.</span></span> <span data-ttu-id="65f37-191">Kuyruk depolama hizmeti, BLOB depolama için kullandığımız aynı hizmetin bir parçasıdır, bu nedenle kullanım için SLA 'da hiçbir etkisi olmaz.</span><span class="sxs-lookup"><span data-stu-id="65f37-191">The Queue Storage Service is part of the same service that we're using for blob storage, so using it has no effect on our SLA.</span></span> <span data-ttu-id="65f37-192">Azure Service Bus kendi SLA 'Sı olan ayrı bir hizmettir.</span><span class="sxs-lookup"><span data-stu-id="65f37-192">Azure Service Bus is a separate service with its own SLA.</span></span> <span data-ttu-id="65f37-193">Service Bus kuyrukları kullandığımızda, ek bir SLA yüzdesi olarak çarpanımızın olması gerekir ve kompozit SLA 'Sı daha düşüktür.</span><span class="sxs-lookup"><span data-stu-id="65f37-193">If we used Service Bus Queues, we would have to factor in an additional SLA percentage, and our composite SLA would be lower.</span></span> <span data-ttu-id="65f37-194">Bir kuyruk hizmeti seçerken tercih ettiğiniz uygulamanın kullanılabilirliği üzerinde etkisini anladığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="65f37-194">When you're choosing a queue service, make sure you understand the impact of your choice on application availability.</span></span> <span data-ttu-id="65f37-195">Daha fazla bilgi için [kaynaklar](#resources) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="65f37-195">For more information, see the [Resources](#resources) section.</span></span>

## <a name="creating-queue-messages"></a><span data-ttu-id="65f37-196">Sıra Iletileri oluşturma</span><span class="sxs-lookup"><span data-stu-id="65f37-196">Creating Queue Messages</span></span>

<span data-ttu-id="65f37-197">Bir onarma BT görevini Kuyruğa koymak için Web ön ucu aşağıdaki adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="65f37-197">To put a Fix It task on the queue, the web front end performs the following steps:</span></span>

1. <span data-ttu-id="65f37-198">[Cloudqueueclient](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) örneği oluşturun.</span><span class="sxs-lookup"><span data-stu-id="65f37-198">Create a [CloudQueueClient](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueueclient.aspx) instance.</span></span> <span data-ttu-id="65f37-199">`CloudQueueClient` örneği, istekleri kuyruk hizmetine göre yürütmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="65f37-199">The `CloudQueueClient` instance is used to execute requests against the Queue Service.</span></span>
2. <span data-ttu-id="65f37-200">Henüz yoksa kuyruğu oluşturun.</span><span class="sxs-lookup"><span data-stu-id="65f37-200">Create the queue, if it doesn't exist yet.</span></span>
3. <span data-ttu-id="65f37-201">BT BT görevini serileştirme görevi.</span><span class="sxs-lookup"><span data-stu-id="65f37-201">Serialize the Fix It task.</span></span>
4. <span data-ttu-id="65f37-202">İletiyi kuyruğa koymak için [Cloudqueue. AddMessageAsync](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) çağrısı yapın.</span><span class="sxs-lookup"><span data-stu-id="65f37-202">Call [CloudQueue.AddMessageAsync](https://msdn.microsoft.com/library/microsoft.windowsazure.storage.queue.cloudqueue.addmessageasync.aspx) to put the message onto the queue.</span></span>

<span data-ttu-id="65f37-203">Bu işi yeni bir `FixItQueueManager` sınıfının Oluşturucusu ve `SendMessageAsync` yönteminde yapacağız.</span><span class="sxs-lookup"><span data-stu-id="65f37-203">We'll do this work in the constructor and `SendMessageAsync` method of a new `FixItQueueManager` class.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample1.cs?highlight=11-12,16,18-25)]

<span data-ttu-id="65f37-204">Burada, [JSON.net](https://github.com/JamesNK/Newtonsoft.Json) kitaplığını kullanarak FIXIT 'i JSON biçimine serileştiriyoruz.</span><span class="sxs-lookup"><span data-stu-id="65f37-204">Here we are using the [Json.NET](https://github.com/JamesNK/Newtonsoft.Json) library to serialize the fixit to JSON format.</span></span> <span data-ttu-id="65f37-205">Tercih ettiğiniz serileştirme yaklaşımını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-205">You can use whatever serialization approach you prefer.</span></span> <span data-ttu-id="65f37-206">JSON, XML 'den daha az ayrıntılarken insanlar tarafından okunabilen avantajın avantajlarından yararlanır.</span><span class="sxs-lookup"><span data-stu-id="65f37-206">JSON has the advantage of being human-readable, while being less verbose than XML.</span></span>

<span data-ttu-id="65f37-207">Üretim-kalite kodu hata işleme mantığı ekler, veritabanı kullanılamaz hale gelirse duraklatıp daha temiz bir şekilde işleyebilir, uygulama başlatma üzerinde kuyruğu oluşturabilir ve "[Poison" iletilerini](https://msdn.microsoft.com/library/ms789028(v=vs.110).aspx)yönetebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-207">Production-quality code would add error handling logic, pause if the database became unavailable, handle recovery more cleanly, create the queue on application start-up, and manage "[poison" messages](https://msdn.microsoft.com/library/ms789028(v=vs.110).aspx).</span></span> <span data-ttu-id="65f37-208">(Zararlı bir ileti, bazı nedenlerle işlenemeyen bir iletidir.</span><span class="sxs-lookup"><span data-stu-id="65f37-208">(A poison message is a message that cannot be processed for some reason.</span></span> <span data-ttu-id="65f37-209">Çalışan rolünün sürekli olarak onları işlemeye çalıştığı, başarısız, yeniden deneme, başarısız, vb. gibi, zarar iletilerinin sırada oturmasını istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-209">You don't want poison messages to sit in the queue, where the worker role will continually try to process them, fail, try again, fail, and so on.)</span></span>

<span data-ttu-id="65f37-210">Ön uç MVC uygulamasında yeni bir görev oluşturan kodu güncelleştirmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="65f37-210">In the front-end MVC application, we need to update the code that creates a new task.</span></span> <span data-ttu-id="65f37-211">Görevi depoya koymak yerine yukarıda gösterilen `SendMessageAsync` yöntemi çağırın.</span><span class="sxs-lookup"><span data-stu-id="65f37-211">Instead of putting the task into the repository, call the `SendMessageAsync` method shown above.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample2.cs?highlight=10)]

## <a name="processing-queue-messages"></a><span data-ttu-id="65f37-212">Sıra Iletilerini işleme</span><span class="sxs-lookup"><span data-stu-id="65f37-212">Processing Queue Messages</span></span>

<span data-ttu-id="65f37-213">Kuyruktaki iletileri işlemek için bir arka uç hizmeti oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="65f37-213">To process messages in the queue, we'll create a backend service.</span></span> <span data-ttu-id="65f37-214">Arka uç hizmeti aşağıdaki adımları gerçekleştiren sonsuz bir döngü çalıştırır:</span><span class="sxs-lookup"><span data-stu-id="65f37-214">The backend service will run an infinite loop that performs the following steps:</span></span>

1. <span data-ttu-id="65f37-215">Sıradaki bir sonraki iletiyi alın.</span><span class="sxs-lookup"><span data-stu-id="65f37-215">Get the next message from the queue.</span></span>
2. <span data-ttu-id="65f37-216">İletiyi bir onarma görevine serisini kaldırma.</span><span class="sxs-lookup"><span data-stu-id="65f37-216">Deserialize the message to a Fix It task.</span></span>
3. <span data-ttu-id="65f37-217">Veritabanına düzeltilme görevini yazın.</span><span class="sxs-lookup"><span data-stu-id="65f37-217">Write the Fix It task to the database.</span></span>

<span data-ttu-id="65f37-218">Arka uç hizmetini barındırmak için *çalışan rolü*Içeren bir Azure bulut hizmeti oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="65f37-218">To host the backend service, we'll create an Azure Cloud Service that contains a *worker role*.</span></span> <span data-ttu-id="65f37-219">Bir çalışan rolü, arka uç işlemeyi gerçekleştiren bir veya daha fazla VM 'den oluşur.</span><span class="sxs-lookup"><span data-stu-id="65f37-219">A worker role consists of one or more VMs that can do backend processing.</span></span> <span data-ttu-id="65f37-220">Bu VM 'lerde çalışan kod, kullanılabilir hale geldiğinde kuyruktan ileti çeker.</span><span class="sxs-lookup"><span data-stu-id="65f37-220">The code that runs in these VMs will pull messages from the queue as they become available.</span></span> <span data-ttu-id="65f37-221">Her ileti için, JSON yükünün serisini çıkardık ve Web katmanında daha önce kullandığımız aynı depoyu kullanarak veritabanına olan bir IT BT görevi varlığının örneğini yazacak.</span><span class="sxs-lookup"><span data-stu-id="65f37-221">For each message, we'll deserialize the JSON payload and write an instance of the Fix It Task entity to the database, using the same repository that we used earlier in the web tier.</span></span>

<span data-ttu-id="65f37-222">Aşağıdaki adımlarda, standart bir Web projesi olan bir çözüme bir çalışan rolü projesinin nasıl ekleneceği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="65f37-222">The following steps show how to add a worker role project to a solution that has a standard web project.</span></span> <span data-ttu-id="65f37-223">Bu adımlar, indirebileceğiniz BT BT projesinde zaten yapıldı.</span><span class="sxs-lookup"><span data-stu-id="65f37-223">These steps have already been done in the Fix It project that you can download.</span></span>

<span data-ttu-id="65f37-224">İlk olarak Visual Studio çözümüne bir bulut hizmeti projesi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="65f37-224">First add a Cloud Service project to the Visual Studio solution.</span></span> <span data-ttu-id="65f37-225">Çözüme sağ tıklayın ve **Ekle**' yi ve ardından **Yeni proje**' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="65f37-225">Right-click the solution and select **Add**, then **New Project**.</span></span> <span data-ttu-id="65f37-226">Sol bölmede, **görsel C#**  ' i genişletin ve **bulut**' u seçin.</span><span class="sxs-lookup"><span data-stu-id="65f37-226">In the left pane, expand **Visual C#** and select **Cloud**.</span></span>

[![](queue-centric-work-pattern/_static/image5.png)](queue-centric-work-pattern/_static/image4.png)

<span data-ttu-id="65f37-227">**Yeni Azure bulut hizmeti** iletişim kutusunda sol bölmedeki **görsel C#**  düğümünü genişletin.</span><span class="sxs-lookup"><span data-stu-id="65f37-227">In the **New Azure Cloud Service** dialog, expand the **Visual C#** node on the left pane.</span></span> <span data-ttu-id="65f37-228">**Çalışan rolü** ' nü seçin ve sağ ok simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="65f37-228">Select **Worker Role** and click the right-arrow icon.</span></span>

![](queue-centric-work-pattern/_static/image6.png)

<span data-ttu-id="65f37-229">(Ayrıca, bir *Web rolü*de ekleyebildiğinize dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="65f37-229">(Notice that you can also add a *web role*.</span></span> <span data-ttu-id="65f37-230">Bu çözümü Azure Web sitesinde çalıştırmak yerine, bu ön ucu aynı bulut hizmetinde çalıştırabiliriz.</span><span class="sxs-lookup"><span data-stu-id="65f37-230">We could run the Fix It front-end in the same Cloud Service instead of running it in an Azure Web Site.</span></span> <span data-ttu-id="65f37-231">Bu, ön uç ve arka uç arasında bağlantıları koordine etmek daha kolay hale getirmek için bazı avantajlar içerir.</span><span class="sxs-lookup"><span data-stu-id="65f37-231">That has some advantages in making connections between front-end and back-end easier to coordinate.</span></span> <span data-ttu-id="65f37-232">Ancak, bu tanıtımı basit tutmak için ön ucu bir Azure App Service Web uygulamasında tutuyoruz ve yalnızca bir bulut hizmetinde arka ucu çalıştırıyorsunuz.)</span><span class="sxs-lookup"><span data-stu-id="65f37-232">However, to keep this demo simple, we're keeping the front-end in an Azure App Service Web App and only running the back-end in a Cloud Service.)</span></span>

<span data-ttu-id="65f37-233">Çalışan rolüne varsayılan bir ad atanır.</span><span class="sxs-lookup"><span data-stu-id="65f37-233">A default name is assigned to the worker role.</span></span> <span data-ttu-id="65f37-234">Adı değiştirmek için, fareyi sağ bölmedeki çalışan rolünün üzerine getirin ve ardından kurşun kalem simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="65f37-234">To change the name, hover the mouse over the worker role in the right pane, then click the pencil icon.</span></span>

![](queue-centric-work-pattern/_static/image7.png)

<span data-ttu-id="65f37-235">İletişim kutusunu doldurmak için **Tamam** ' ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="65f37-235">Click **OK** to complete the dialog.</span></span> <span data-ttu-id="65f37-236">Bu, Visual Studio çözümüne iki proje ekler.</span><span class="sxs-lookup"><span data-stu-id="65f37-236">This adds two projects to the Visual Studio solution.</span></span>

- <span data-ttu-id="65f37-237">yapılandırma bilgileri de dahil olmak üzere bulut hizmetini tanımlayan bir Azure projesi.</span><span class="sxs-lookup"><span data-stu-id="65f37-237">an Azure project that defines the cloud service, including configuration information.</span></span>
- <span data-ttu-id="65f37-238">Çalışan rolünü tanımlayan bir çalışan rolü projesi.</span><span class="sxs-lookup"><span data-stu-id="65f37-238">A worker role project that defines the worker role.</span></span>

![](queue-centric-work-pattern/_static/image8.png)

<span data-ttu-id="65f37-239">Daha fazla bilgi için bkz [. Visual Studio Ile Azure projesi oluşturma.](https://msdn.microsoft.com/library/windowsazure/ee405487.aspx)</span><span class="sxs-lookup"><span data-stu-id="65f37-239">For more information, see [Creating an Azure Project with Visual Studio.](https://msdn.microsoft.com/library/windowsazure/ee405487.aspx)</span></span>

<span data-ttu-id="65f37-240">Çalışan rolü içinde, daha önce görtiğimiz `FixItQueueManager` sınıfının `ProcessMessageAsync` yöntemini çağırarak iletiler için yoklama yaptık.</span><span class="sxs-lookup"><span data-stu-id="65f37-240">Inside the worker role, we poll for messages by calling the `ProcessMessageAsync` method of the `FixItQueueManager` class that we saw earlier.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample3.cs?highlight=25)]

<span data-ttu-id="65f37-241">`ProcessMessagesAsync` yöntemi, bekleyen bir ileti olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="65f37-241">The `ProcessMessagesAsync` method checks if there's a message waiting.</span></span> <span data-ttu-id="65f37-242">Bir varsa, iletiyi bir `FixItTask` varlığına serileştirir ve varlığı veritabanına kaydeder.</span><span class="sxs-lookup"><span data-stu-id="65f37-242">If there is one, it deserializes the message into a `FixItTask` entity and saves the entity in the database.</span></span> <span data-ttu-id="65f37-243">Sıra boş olana kadar döngü döngüleri.</span><span class="sxs-lookup"><span data-stu-id="65f37-243">It loops until the queue is empty.</span></span>

[!code-csharp[Main](queue-centric-work-pattern/samples/sample4.cs)]

<span data-ttu-id="65f37-244">Kuyruk iletilerinin yoklanması küçük bir işlem ücreti doğurur, bu nedenle işlenmek üzere bekleyen bir ileti olmadığında çalışan rolünün `RunAsync` yöntemi, `Task.Delay(1000)`çağırarak tekrar yoklamadan önce bir saniye bekler.</span><span class="sxs-lookup"><span data-stu-id="65f37-244">Polling for queue messages incurs a small transaction charge, so when there's no message waiting to be processed, the worker role's `RunAsync` method waits a second before polling again by calling `Task.Delay(1000)`.</span></span>

<span data-ttu-id="65f37-245">Bir Web projesinde, IIS sınırlı bir iş parçacığı havuzunu yönettiği için zaman uyumsuz kod ekleme performansı otomatik olarak iyileştirebilir.</span><span class="sxs-lookup"><span data-stu-id="65f37-245">In a web project, adding asynchronous code can automatically improve performance because IIS manages a limited thread pool.</span></span> <span data-ttu-id="65f37-246">Bu, bir çalışan rolü projesindeki bu durum değildir.</span><span class="sxs-lookup"><span data-stu-id="65f37-246">That is not the case in a worker role project.</span></span> <span data-ttu-id="65f37-247">Çalışan rolünün ölçeklenebilirliğini geliştirmek için, [paralel programlama](https://msdn.microsoft.com/library/ff963553.aspx)uygulamak için çok iş parçacıklı kod yazabilir veya zaman uyumsuz kod kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="65f37-247">To improve scalability of the worker role, you can write multi-threaded code or use asynchronous code to implement [parallel programming](https://msdn.microsoft.com/library/ff963553.aspx).</span></span> <span data-ttu-id="65f37-248">Örnek, paralel programlama uygulamaz, ancak paralel programlama uygulayabilmeniz için kodun zaman uyumsuz hale getirme şeklini gösterir.</span><span class="sxs-lookup"><span data-stu-id="65f37-248">The sample doesn't implement parallel programming but shows how to make the code asynchronous so you can implement parallel programming.</span></span>

## <a name="summary"></a><span data-ttu-id="65f37-249">Özet</span><span class="sxs-lookup"><span data-stu-id="65f37-249">Summary</span></span>

<span data-ttu-id="65f37-250">Bu bölümde, kuyruk merkezli iş modelini uygulayarak uygulamanın yanıt verme hızını, güvenilirliğini ve ölçeklenebilirliğini nasıl geliştirebileceğinizi gördünüz.</span><span class="sxs-lookup"><span data-stu-id="65f37-250">In this chapter you've seen how to improve application responsiveness, reliability, and scalability by implementing the queue-centric work pattern.</span></span>

<span data-ttu-id="65f37-251">Bu, bu e-kitapta açıklanan 13 desenin en son idir, ancak başarılı bulut uygulamaları oluşturmanıza yardımcı olabilecek birçok farklı model ve uygulama vardır.</span><span class="sxs-lookup"><span data-stu-id="65f37-251">This is the last of the 13 patterns covered in this e-book, but there are of course many other patterns and practices that can help you build successful cloud apps.</span></span> <span data-ttu-id="65f37-252">[Son bölüm](more-patterns-and-guidance.md) , bu 13 desenlerinde kapsanmayan konuların kaynaklarına bağlantılar sağlar.</span><span class="sxs-lookup"><span data-stu-id="65f37-252">The [final chapter](more-patterns-and-guidance.md) provides links to resources for topics that haven't been covered in these 13 patterns.</span></span>

<a id="resources"></a>
## <a name="resources"></a><span data-ttu-id="65f37-253">Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="65f37-253">Resources</span></span>

<span data-ttu-id="65f37-254">Kuyruklar hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın.</span><span class="sxs-lookup"><span data-stu-id="65f37-254">For more information about queues, see the following resources.</span></span>

<span data-ttu-id="65f37-255">Belgelerle</span><span class="sxs-lookup"><span data-stu-id="65f37-255">Documentation:</span></span>

- <span data-ttu-id="65f37-256">[Microsoft Azure depolama kuyrukları Bölüm 1:](https://www.red-gate.com/simple-talk/cloud/platform-as-a-service/microsoft-azure-storage-queues-part-1-getting-started/)Başlarken.</span><span class="sxs-lookup"><span data-stu-id="65f37-256">[Microsoft Azure Storage Queues Part 1: Getting Started](https://www.red-gate.com/simple-talk/cloud/platform-as-a-service/microsoft-azure-storage-queues-part-1-getting-started/).</span></span> <span data-ttu-id="65f37-257">Roman Schacherl makalesini okuyun.</span><span class="sxs-lookup"><span data-stu-id="65f37-257">Article by Roman Schacherl.</span></span>
- <span data-ttu-id="65f37-258">[Arka plan görevleri yürütülüyor](https://msdn.microsoft.com/library/ff803365.aspx), uygulama taşıma 5. bölüm, Microsoft desenlerinden ve uygulamalardan [üçüncü sürüm](https://msdn.microsoft.com/library/ff728592.aspx) .</span><span class="sxs-lookup"><span data-stu-id="65f37-258">[Executing Background Tasks](https://msdn.microsoft.com/library/ff803365.aspx), chapter 5 of [Moving Applications to the Cloud, 3rd Edition](https://msdn.microsoft.com/library/ff728592.aspx) from Microsoft Patterns and Practices.</span></span> <span data-ttu-id="65f37-259">(Özellikle, ["Azure depolama kuyrukları kullanma"](https://msdn.microsoft.com/library/ff803365.aspx#sec7)bölümü.)</span><span class="sxs-lookup"><span data-stu-id="65f37-259">(In particular, the section ["Using Azure Storage Queues"](https://msdn.microsoft.com/library/ff803365.aspx#sec7).)</span></span>
- <span data-ttu-id="65f37-260">[Azure 'Daki sıra tabanlı mesajlaşma çözümlerinin ölçeklenebilirliğini ve maliyet verimliliğini en üst düzeye çıkarmak Için En Iyi uygulamalar](https://msdn.microsoft.com/library/windowsazure/hh697709.aspx).</span><span class="sxs-lookup"><span data-stu-id="65f37-260">[Best Practices for Maximizing Scalability and Cost Effectiveness of Queue-Based Messaging Solutions on Azure](https://msdn.microsoft.com/library/windowsazure/hh697709.aspx).</span></span> <span data-ttu-id="65f37-261">VaraMizonov 'e göre Teknik İnceleme.</span><span class="sxs-lookup"><span data-stu-id="65f37-261">White paper by Valery Mizonov.</span></span>
- <span data-ttu-id="65f37-262">[Azure kuyruklarını ve Service Bus kuyruklarını karşılaştırma](https://msdn.microsoft.com/magazine/jj159884.aspx).</span><span class="sxs-lookup"><span data-stu-id="65f37-262">[Comparing Azure Queues and Service Bus Queues](https://msdn.microsoft.com/magazine/jj159884.aspx).</span></span> <span data-ttu-id="65f37-263">MSDN Magazine makalesi, hangi kuyruk hizmetinin kullanılacağını seçmenize yardımcı olabilecek ek bilgiler sağlar.</span><span class="sxs-lookup"><span data-stu-id="65f37-263">MSDN Magazine article, provides additional information that can help you choose which queue service to use.</span></span> <span data-ttu-id="65f37-264">Makalesinde Service Bus kimlik doğrulaması için ACS 'ye bağımlıdır. Bu makalede, ACS kullanılamadığında SB kuyruklarınızın devre dışı olmayacağı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="65f37-264">The article mentions that Service Bus is dependent on ACS for authentication, which means your SB queues would be unavailable when ACS is unavailable.</span></span> <span data-ttu-id="65f37-265">Ancak makale yazıldığı için, SB, ACS 'ye alternatif olarak [SAS belirteçlerini](https://msdn.microsoft.com/library/windowsazure/dn170477.aspx) kullanmanızı sağlayacak şekilde değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="65f37-265">However, since the article was written, SB was changed to enable you to use [SAS tokens](https://msdn.microsoft.com/library/windowsazure/dn170477.aspx) as an alternative to ACS.</span></span>
- <span data-ttu-id="65f37-266">[Microsoft desenleri ve uygulamaları-Azure Kılavuzu](https://msdn.microsoft.com/library/dn568099.aspx).</span><span class="sxs-lookup"><span data-stu-id="65f37-266">[Microsoft Patterns and Practices - Azure Guidance](https://msdn.microsoft.com/library/dn568099.aspx).</span></span> <span data-ttu-id="65f37-267">Zaman uyumsuz mesajlaşma öncü, kanallar ve filtreler düzenine, telafi Işlem düzenine, rekabet tüketicilerinin düzenine, CQRS düzenine bakın.</span><span class="sxs-lookup"><span data-stu-id="65f37-267">See Asynchronous Messaging primer, Pipes and Filters pattern, Compensating Transaction pattern, Competing Consumers pattern, CQRS pattern.</span></span>
- <span data-ttu-id="65f37-268">[CQRS yolculuğu](https://msdn.microsoft.com/library/jj554200).</span><span class="sxs-lookup"><span data-stu-id="65f37-268">[CQRS Journey](https://msdn.microsoft.com/library/jj554200).</span></span> <span data-ttu-id="65f37-269">CQRS hakkında Microsoft düzenleri ve uygulamaları ile ilgili E-kitap.</span><span class="sxs-lookup"><span data-stu-id="65f37-269">E-book about CQRS by Microsoft Patterns and Practices.</span></span>

<span data-ttu-id="65f37-270">Video:</span><span class="sxs-lookup"><span data-stu-id="65f37-270">Video:</span></span>

- <span data-ttu-id="65f37-271">[Failsafe: ölçeklenebilir, dayanıklı Cloud Services oluşturma](https://channel9.msdn.com/Series/FailSafe).</span><span class="sxs-lookup"><span data-stu-id="65f37-271">[FailSafe: Building Scalable, Resilient Cloud Services](https://channel9.msdn.com/Series/FailSafe).</span></span> <span data-ttu-id="65f37-272">Ulrich Homann, Marc Mercuri ve Mark Simms ile dokuz parçalı video serisi.</span><span class="sxs-lookup"><span data-stu-id="65f37-272">Nine-part video series by Ulrich Homann, Marc Mercuri, and Mark Simms.</span></span> <span data-ttu-id="65f37-273">, Microsoft Müşteri danışmanlık ekibi (CAT) deneyiminden gerçek müşterilerle çekilen hikayelerle, yüksek düzeyde kavramlar ve mimari ilkeleri çok erişilebilir ve ilginç bir şekilde sunar.</span><span class="sxs-lookup"><span data-stu-id="65f37-273">Presents high-level concepts and architectural principles in a very accessible and interesting way, with stories drawn from Microsoft Customer Advisory Team (CAT) experience with actual customers.</span></span> <span data-ttu-id="65f37-274">Azure depolama hizmeti ve kuyruklara giriş için, bkz. Bölüm 5, 35:13 adresinden itibaren.</span><span class="sxs-lookup"><span data-stu-id="65f37-274">For an introduction to the Azure Storage service and queues, see episode 5 starting at 35:13.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="65f37-275">[Önceki](distributed-caching.md)
> [İleri](more-patterns-and-guidance.md)</span><span class="sxs-lookup"><span data-stu-id="65f37-275">[Previous](distributed-caching.md)
[Next](more-patterns-and-guidance.md)</span></span>
