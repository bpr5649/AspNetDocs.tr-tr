---
uid: aspnet/overview/owin-and-katana/owin-middleware-in-the-iis-integrated-pipeline
title: IIS Tümleşik ardışık düzeninde OWıN ara yazılımı | Microsoft Docs
author: Praburaj
description: Bu makalede, IIS Tümleşik ardışık düzeninde OWıN ara yazılım bileşenlerinin (OMCs) çalıştırılması ve bir OMC 'nin üzerinde çalıştığı işlem hattı olayının nasıl ayarlanacağı gösterilmektedir. Şunları yapmalısınız...
ms.author: riande
ms.date: 11/07/2013
ms.assetid: d031c021-33c2-45a5-bf9f-98f8fa78c2ab
msc.legacyurl: /aspnet/overview/owin-and-katana/owin-middleware-in-the-iis-integrated-pipeline
msc.type: authoredcontent
ms.openlocfilehash: 7d157fb6bd9e2ae9b55af41ef06c1eb5e6310ce1
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78617140"
---
# <a name="owin-middleware-in-the-iis-integrated-pipeline"></a><span data-ttu-id="d79a8-104">IIS Tümleşik ardışık düzeninde OWıN ara yazılımı</span><span class="sxs-lookup"><span data-stu-id="d79a8-104">OWIN Middleware in the IIS integrated pipeline</span></span>

<span data-ttu-id="d79a8-105">tarafından [Praburaj Thiagarajan](https://github.com/Praburaj), [Rick Anderson](https://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="d79a8-105">by [Praburaj Thiagarajan](https://github.com/Praburaj), [Rick Anderson](https://twitter.com/RickAndMSFT)</span></span>

> <span data-ttu-id="d79a8-106">Bu makalede, IIS Tümleşik ardışık düzeninde OWıN ara yazılım bileşenlerinin (OMCs) çalıştırılması ve bir OMC 'nin üzerinde çalıştığı işlem hattı olayının nasıl ayarlanacağı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-106">This article shows how to run OWIN middleware Components (OMCs) in the IIS integrated pipeline, and how to set the pipeline event an OMC runs on.</span></span> <span data-ttu-id="d79a8-107">Bu öğreticiyi okumadan önce proje Katana ve [Owın başlangıç sınıfı algılamasına](owin-startup-class-detection.md) [Ilişkin bir genel bakışı](an-overview-of-project-katana.md) gözden geçirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-107">You should review [An Overview of Project Katana](an-overview-of-project-katana.md) and [OWIN Startup Class Detection](owin-startup-class-detection.md) before reading this tutorial.</span></span> <span data-ttu-id="d79a8-108">Bu öğretici, Rick Anderson ( [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ), Chris No, Praburaj Thiagarajan ve Howard dierking ( [@howard\_Dierking](https://twitter.com/howard_dierking) ) tarafından yazılmıştır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-108">This tutorial was written by Rick Anderson ( [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ), Chris Ross, Praburaj Thiagarajan, and Howard Dierking ( [@howard\_dierking](https://twitter.com/howard_dierking) ).</span></span>

<span data-ttu-id="d79a8-109">[Owın](an-overview-of-project-katana.md) ara yazılım bileşenleri (OMCS) öncelikle sunucu belirsiz işlem hattında çalışacak şekilde tasarlansa da, IIS Tümleşik ardışık düzeninde bir OMC çalıştırmak mümkündür (**Klasik mod desteklenmez** ).</span><span class="sxs-lookup"><span data-stu-id="d79a8-109">Although [OWIN](an-overview-of-project-katana.md) middleware components (OMCs) are primarily designed to run in a server-agnostic pipeline, it is possible to run an OMC in the IIS integrated pipeline as well (**classic mode is *not* supported**).</span></span> <span data-ttu-id="d79a8-110">Paket Yöneticisi konsolundan (PMC) aşağıdaki paketi yükleyerek IIS Tümleşik işlem hattında çalışan bir OMC yapılabilir:</span><span class="sxs-lookup"><span data-stu-id="d79a8-110">An OMC can be made to work in the IIS integrated pipeline by installing the following package from the Package Manager Console (PMC):</span></span>

[!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample1.cmd)]

<span data-ttu-id="d79a8-111">Bu, henüz IIS ve System. Web dışında çalıştırılmayan tüm uygulama çerçevelerinin, var olan OWıN ara yazılım bileşenlerinden faydalanabileceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-111">This means that all application frameworks, even those that are not yet able to run outside of IIS and System.Web, can benefit from existing OWIN middleware components.</span></span> 

> [!NOTE]
> <span data-ttu-id="d79a8-112">`Microsoft.Owin.Security.*` paketlerin tümü, Visual Studio 2013 yeni kimlik sistemiyle (örneğin: tanımlama bilgileri, Microsoft hesabı, Google, Facebook, Twitter, [taşıyıcı belirteci](http://self-issued.info/docs/draft-ietf-oauth-v2-bearer.html), OAuth, yetkilendirme sunucusu, JWT, Azure Active Directory ve Active Directory Federasyon Hizmetleri), OMCS olarak yazılır ve hem şirket içinde hem de IIS tarafından barındırılan senaryolarda kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-112">All of the `Microsoft.Owin.Security.*` packages shipping with the new Identity System in Visual Studio 2013 (for example: Cookies, Microsoft Account, Google, Facebook, Twitter, [Bearer Token](http://self-issued.info/docs/draft-ietf-oauth-v2-bearer.html), OAuth, Authorization server, JWT, Azure Active directory, and Active directory federation services) are authored as OMCs, and can be used in both self-hosted and IIS-hosted scenarios.</span></span>

## <a name="how-owin-middleware-executes-in-the-iis-integrated-pipeline"></a><span data-ttu-id="d79a8-113">IIS Tümleşik ardışık düzeninde OWıN ara yazılımı nasıl çalıştırılır</span><span class="sxs-lookup"><span data-stu-id="d79a8-113">How OWIN Middleware Executes in the IIS Integrated Pipeline</span></span>

<span data-ttu-id="d79a8-114">OWıN konsol uygulamaları için, [Başlangıç yapılandırması](owin-startup-class-detection.md) kullanılarak oluşturulan uygulama ardışık düzeni, bileşenlerin `IAppBuilder.Use` yöntemi kullanılarak eklendiği sıraya göre ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-114">For OWIN console applications, the application pipeline built using the [startup configuration](owin-startup-class-detection.md) is set by the order the components are added using the `IAppBuilder.Use` method.</span></span> <span data-ttu-id="d79a8-115">Diğer bir deyişle, [Katana](an-overview-of-project-katana.md) çalışma zamanındaki owın ardışık düzeni, OMCS 'yi, `IAppBuilder.Use`kullanılarak kaydedildikleri sırada işler.</span><span class="sxs-lookup"><span data-stu-id="d79a8-115">That is, the OWIN pipeline in the [Katana](an-overview-of-project-katana.md) runtime will process OMCs in the order they were registered using `IAppBuilder.Use`.</span></span> <span data-ttu-id="d79a8-116">IIS Tümleşik işlem hattında, istek ardışık düzeni, [BeginRequest](https://msdn.microsoft.com/library/system.web.httpapplication.beginrequest.aspx), [doğruıbota](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx), [AuthorizeRequest](https://msdn.microsoft.com/library/system.web.httpapplication.authorizerequest.aspx)gibi işlem hattı olaylarının önceden tanımlanmış bir kümesine abone olan [httpModules](https://msdn.microsoft.com/library/ms178468(v=vs.85).aspx) 'tan oluşur.</span><span class="sxs-lookup"><span data-stu-id="d79a8-116">In the IIS integrated pipeline the request pipeline consists of [HttpModules](https://msdn.microsoft.com/library/ms178468(v=vs.85).aspx) subscribed to a pre-defined set of the pipeline events such as [BeginRequest](https://msdn.microsoft.com/library/system.web.httpapplication.beginrequest.aspx), [AuthenticateRequest](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx), [AuthorizeRequest](https://msdn.microsoft.com/library/system.web.httpapplication.authorizerequest.aspx), etc.</span></span>

<span data-ttu-id="d79a8-117">Bir OMC 'yi ASP.NET dünyasında bir [HttpModule](https://msdn.microsoft.com/library/zec9k340(v=vs.85).aspx) ile karşılaştırdığımızda, BIR OMC 'nin doğru önceden tanımlanmış ardışık düzen olayına kayıtlı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-117">If we compare an OMC to that of an [HttpModule](https://msdn.microsoft.com/library/zec9k340(v=vs.85).aspx) in the ASP.NET world, an OMC must be registered to the correct pre-defined pipeline event.</span></span> <span data-ttu-id="d79a8-118">Örneğin, bir istek işlem hattındaki [kimlik doğrulayan Terequest](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx) aşamasına geldiğinde, HttpModule `MyModule` çağrılır:</span><span class="sxs-lookup"><span data-stu-id="d79a8-118">For example, the HttpModule `MyModule` will get invoked when a request comes to the [AuthenticateRequest](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx) stage in the pipeline:</span></span>

[!code-csharp[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample2.cs?highlight=10)]

<span data-ttu-id="d79a8-119">Bir OMC 'nin bu aynı olay tabanlı yürütme sıralamasına katılmasını sağlamak için, [Katana](an-overview-of-project-katana.md) çalışma zamanı kodu [başlangıç yapılandırmasını](owin-startup-class-detection.md) tarar ve her bir ara yazılım bileşeninin her birini tümleşik bir ardışık düzen olayına abone olur.</span><span class="sxs-lookup"><span data-stu-id="d79a8-119">In order for an OMC to participate in this same, event-based execution ordering, the [Katana](an-overview-of-project-katana.md) runtime code scans through the [startup configuration](owin-startup-class-detection.md) and subscribes each of the middleware components to an integrated pipeline event.</span></span> <span data-ttu-id="d79a8-120">Örneğin, aşağıdaki OMC ve kayıt kodu, ara yazılım bileşenlerinin varsayılan olay kaydını görmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="d79a8-120">For example, the following OMC and registration code enables you to see the default event registration of middleware components.</span></span> <span data-ttu-id="d79a8-121">(Bir OWıN başlangıç sınıfı oluşturma hakkında daha ayrıntılı yönergeler için bkz. [Owın başlangıç sınıfı algılama](owin-startup-class-detection.md).)</span><span class="sxs-lookup"><span data-stu-id="d79a8-121">(For more detailed instructions on creating an OWIN startup class, see [OWIN Startup Class Detection](owin-startup-class-detection.md).)</span></span>

1. <span data-ttu-id="d79a8-122">Boş bir Web uygulaması projesi oluşturun ve **owin2**olarak adlandırın.</span><span class="sxs-lookup"><span data-stu-id="d79a8-122">Create an empty web application project and name it **owin2**.</span></span>
2. <span data-ttu-id="d79a8-123">Paket Yöneticisi konsolundan (PMC), aşağıdaki komutu çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="d79a8-123">From the Package Manager Console (PMC), run the following command:</span></span> 

    [!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample3.cmd)]
3. <span data-ttu-id="d79a8-124">`OWIN Startup Class` ekleyin ve `Startup`adlandırın.</span><span class="sxs-lookup"><span data-stu-id="d79a8-124">Add an `OWIN Startup Class` and name it `Startup`.</span></span> <span data-ttu-id="d79a8-125">Oluşturulan kodu aşağıdaki kodla değiştirin (değişiklikler vurgulanır):</span><span class="sxs-lookup"><span data-stu-id="d79a8-125">Replace the generated code with the following (the changes are highlighted):</span></span>  

    [!code-csharp[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample4.cs?highlight=5-7,15-36)]
4. <span data-ttu-id="d79a8-126">Uygulamayı çalıştırmak için F5 'e basın.</span><span class="sxs-lookup"><span data-stu-id="d79a8-126">Hit F5 to run the app.</span></span>

<span data-ttu-id="d79a8-127">Başlangıç yapılandırması üç ara yazılım bileşeni olan bir işlem hattını ayarlar, ilk iki, tanılama bilgilerini ve en son bir olay yanıt vermeyi (ve ayrıca tanılama bilgilerini görüntüler) görüntüler.</span><span class="sxs-lookup"><span data-stu-id="d79a8-127">The Startup configuration sets up a pipeline with three middleware components, the first two displaying diagnostic information and the last one responding to events (and also displaying diagnostic information).</span></span> <span data-ttu-id="d79a8-128">`PrintCurrentIntegratedPipelineStage` yöntemi, bu ara yazılımın çağrıldığı tümleşik işlem hattı olayını ve bir iletiyi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="d79a8-128">The `PrintCurrentIntegratedPipelineStage` method displays the integrated pipeline event this middleware is invoked on and a message.</span></span> <span data-ttu-id="d79a8-129">Çıkış pencereleri aşağıdakileri görüntüler:</span><span class="sxs-lookup"><span data-stu-id="d79a8-129">The output windows displays the following:</span></span>

[!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample5.cmd)]

<span data-ttu-id="d79a8-130">Katana çalışma zamanı, OWıN ara yazılım bileşenlerinden her birini varsayılan olarak [Preexecuterequesthandler](https://msdn.microsoft.com/library/system.web.httpapplication.prerequesthandlerexecute.aspx) ile EŞLEŞTIREREK IIS işlem hattı Event [PreRequestHandlerExecute](https://msdn.microsoft.com/library/system.web.httpapplication.prerequesthandlerexecute.aspx)'a karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="d79a8-130">The Katana runtime mapped each of the OWIN middleware components to [PreExecuteRequestHandler](https://msdn.microsoft.com/library/system.web.httpapplication.prerequesthandlerexecute.aspx) by default, which corresponds to the IIS pipeline event [PreRequestHandlerExecute](https://msdn.microsoft.com/library/system.web.httpapplication.prerequesthandlerexecute.aspx).</span></span>

## <a name="stage-markers"></a><span data-ttu-id="d79a8-131">Aşama Işaretçileri</span><span class="sxs-lookup"><span data-stu-id="d79a8-131">Stage Markers</span></span>

<span data-ttu-id="d79a8-132">`IAppBuilder UseStageMarker()` uzantısı yöntemini kullanarak, işlem hattının belirli aşamalarını yürütmek üzere OMCs 'yi işaretleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="d79a8-132">You can mark OMCs to execute at specific stages of the pipeline by using the `IAppBuilder UseStageMarker()` extension method.</span></span> <span data-ttu-id="d79a8-133">Belirli bir aşamada bir ara yazılım bileşenleri kümesi çalıştırmak için, kayıt sırasında ayarlanan son bileşenden hemen sonra bir aşama işareti ekleyin.</span><span class="sxs-lookup"><span data-stu-id="d79a8-133">To run a set of middleware components during a particular stage, insert a stage marker right after the last component is the set during registration.</span></span> <span data-ttu-id="d79a8-134">İşlem hattının hangi aşamasında ara yazılım yürütebileceği ve sipariş bileşenlerinin çalışması gereken kurallar vardır (kurallar Öğreticinin ilerleyen kısımlarında açıklanmıştır).</span><span class="sxs-lookup"><span data-stu-id="d79a8-134">There are rules on which stage of the pipeline you can execute middleware and the order components must run (The rules are explained later in the tutorial).</span></span> <span data-ttu-id="d79a8-135">`UseStageMarker` yöntemini aşağıda gösterildiği gibi `Configuration` koduna ekleyin:</span><span class="sxs-lookup"><span data-stu-id="d79a8-135">Add the `UseStageMarker` method to the `Configuration` code as shown below:</span></span>

[!code-csharp[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample6.cs?highlight=13,19)]

<span data-ttu-id="d79a8-136">`app.UseStageMarker(PipelineStage.Authenticate)` çağrısı, daha önce kaydedilen tüm ara yazılım bileşenlerini (Bu durumda, iki tanılama bileşenimizin) işlem hattının kimlik doğrulama aşamasında çalışacak şekilde yapılandırır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-136">The `app.UseStageMarker(PipelineStage.Authenticate)` call configures all the previously registered middleware components (in this case, our two diagnostic components) to run on the authentication stage of the pipeline.</span></span> <span data-ttu-id="d79a8-137">Son ara yazılım bileşeni (Tanılamayı ve isteklerin yanıt verdiğini gösterir) `ResolveCache` aşamada ( [ResolveRequestCache](https://msdn.microsoft.com/library/system.web.httpapplication.resolverequestcache.aspx) olayı) çalışır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-137">The last middleware component (which displays diagnostics and responds to requests) will run on the `ResolveCache` stage (the [ResolveRequestCache](https://msdn.microsoft.com/library/system.web.httpapplication.resolverequestcache.aspx) event).</span></span>

<span data-ttu-id="d79a8-138">Uygulamayı çalıştırmak için F5 'e basın. Çıkış penceresinde aşağıdakiler gösterilir:</span><span class="sxs-lookup"><span data-stu-id="d79a8-138">Hit F5 to run the app.The output window shows the following:</span></span>

[!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample7.cmd)]

## <a name="stage-marker-rules"></a><span data-ttu-id="d79a8-139">Aşama Işaretçisi kuralları</span><span class="sxs-lookup"><span data-stu-id="d79a8-139">Stage Marker Rules</span></span>

<span data-ttu-id="d79a8-140">Owın ara yazılım bileşenleri (OMC), aşağıdaki OWIN ardışık düzen aşaması olaylarında çalışacak şekilde yapılandırılabilir:</span><span class="sxs-lookup"><span data-stu-id="d79a8-140">Owin middleware components (OMC) can be configured to run at the following OWIN pipeline stage events:</span></span>

[!code-csharp[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample8.cs)]

1. <span data-ttu-id="d79a8-141">Varsayılan olarak, OMCs son olayda çalışır (`PreHandlerExecute`).</span><span class="sxs-lookup"><span data-stu-id="d79a8-141">By default, OMCs run at the last event (`PreHandlerExecute`).</span></span> <span data-ttu-id="d79a8-142">İlk örnek kodumuz "PreExecuteRequestHandler" olarak görüntülendi.</span><span class="sxs-lookup"><span data-stu-id="d79a8-142">That's why our first example code displayed "PreExecuteRequestHandler".</span></span>
2. <span data-ttu-id="d79a8-143">Bir OMC 'yi daha önce çalıştırmak üzere kaydetmek için bir `app.UseStageMarker` yöntemini kullanabilirsiniz. Bu işlem, `PipelineStage` numaralandırmasında listelenen OWıN işlem hattının herhangi bir aşamasında.</span><span class="sxs-lookup"><span data-stu-id="d79a8-143">You can use the a `app.UseStageMarker` method to register a OMC to run earlier, at any stage of the OWIN pipeline listed in the `PipelineStage` enum.</span></span>
3. <span data-ttu-id="d79a8-144">OWıN ardışık düzeni ve IIS işlem hattı sıralanmıştır, bu nedenle `app.UseStageMarker` çağrıları sırayla olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-144">The OWIN pipeline and the IIS pipeline is ordered, therefore calls to `app.UseStageMarker` must be in order.</span></span> <span data-ttu-id="d79a8-145">Olay işleyicisini, `app.UseStageMarker`için kaydedilen son olaydan önce gelen bir olaya ayarlayamazsınız.</span><span class="sxs-lookup"><span data-stu-id="d79a8-145">You cannot set the event handler to an event that precedes the last event registered with to `app.UseStageMarker`.</span></span> <span data-ttu-id="d79a8-146">Örneğin, öğesini çağırdıktan *sonra* :</span><span class="sxs-lookup"><span data-stu-id="d79a8-146">For example, *after* calling:</span></span>

    [!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample9.cmd)]

   <span data-ttu-id="d79a8-147">`Authenticate` veya `PostAuthenticate` geçirme `app.UseStageMarker` çağrılar kabul edilmez ve hiçbir özel durum oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="d79a8-147">calls to `app.UseStageMarker` passing `Authenticate` or `PostAuthenticate` will not be honored, and no exception will be thrown.</span></span> <span data-ttu-id="d79a8-148">OMCs, varsayılan olarak `PreHandlerExecute`en son aşamada çalışır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-148">OMCs run at the latest stage, which by default is `PreHandlerExecute`.</span></span> <span data-ttu-id="d79a8-149">Aşama işaretçileri, daha önce çalıştırılmasını sağlamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="d79a8-149">The stage markers are used to make them to run earlier.</span></span> <span data-ttu-id="d79a8-150">Aşama işaretlerini sıra dışında belirtirseniz, önceki İşaretleyiciye yuvarlıyoruz.</span><span class="sxs-lookup"><span data-stu-id="d79a8-150">If you specify stage markers out of order, we round to the earlier marker.</span></span> <span data-ttu-id="d79a8-151">Diğer bir deyişle, aşama işaretleyicisi eklemek "Aşama X 'ten sonra Hayır" ifadesini ifade ediyor.</span><span class="sxs-lookup"><span data-stu-id="d79a8-151">In other words, adding a stage marker says "Run no later than stage X".</span></span> <span data-ttu-id="d79a8-152">OMC 'nin, OWıN ardışık düzeninde olduktan sonra, ilk aşama işaretçisi üzerinde çalışması.</span><span class="sxs-lookup"><span data-stu-id="d79a8-152">OMC's run at the earliest stage marker added after them in the OWIN pipeline.</span></span>
4. <span data-ttu-id="d79a8-153">`app.UseStageMarker` WINS için en erken çağrı aşaması.</span><span class="sxs-lookup"><span data-stu-id="d79a8-153">The earliest stage of calls to `app.UseStageMarker` wins.</span></span> <span data-ttu-id="d79a8-154">Örneğin, önceki örneğimizdeki `app.UseStageMarker` çağrılarının sırasını değiştirirseniz:</span><span class="sxs-lookup"><span data-stu-id="d79a8-154">For example, if you switch the order of `app.UseStageMarker` calls from our previous example:</span></span>

    [!code-csharp[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample10.cs?highlight=13,19)]

   <span data-ttu-id="d79a8-155">Çıkış penceresi görüntülenir:</span><span class="sxs-lookup"><span data-stu-id="d79a8-155">The output window will display:</span></span> 

    [!code-console[Main](owin-middleware-in-the-iis-integrated-pipeline/samples/sample11.cmd)]

   <span data-ttu-id="d79a8-156">OMCs, `AuthenticateRequest` aşamada çalışır, çünkü son OMC `Authenticate` olayına kaydedilir ve `Authenticate` olayı diğer tüm olayların önüne geçer.</span><span class="sxs-lookup"><span data-stu-id="d79a8-156">The OMCs all run in the `AuthenticateRequest` stage, because the last OMC registered with the `Authenticate` event, and the `Authenticate` event precedes all other events.</span></span>
