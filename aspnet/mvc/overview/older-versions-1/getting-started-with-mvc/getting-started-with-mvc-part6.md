---
uid: mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part6
title: Oluşturma yöntemi ekleme ve görünüm oluşturma | Microsoft Docs
author: shanselman
description: Bu, ASP.NET MVC 'nin temellerini tanıtan bir başlangıç öğreticisidir. Bir veritabanından okuyan ve yazan basit bir Web uygulaması oluşturun.
ms.author: riande
ms.date: 08/14/2010
ms.assetid: a3a90963-0286-4fa0-9b3d-c230cc18b0a3
msc.legacyurl: /mvc/overview/older-versions-1/getting-started-with-mvc/getting-started-with-mvc-part6
msc.type: authoredcontent
ms.openlocfilehash: 05a281720f76b107fe8d902ef60d5d2e72af3ef5
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78543661"
---
# <a name="adding-a-create-method-and-create-view"></a><span data-ttu-id="b43ee-104">Oluşturma Metodu ve Oluşturma Görünümü Ekleme</span><span class="sxs-lookup"><span data-stu-id="b43ee-104">Adding a Create Method and Create View</span></span>

<span data-ttu-id="b43ee-105">[Scott Hanselman](https://github.com/shanselman) tarafından</span><span class="sxs-lookup"><span data-stu-id="b43ee-105">by [Scott Hanselman](https://github.com/shanselman)</span></span>

> <span data-ttu-id="b43ee-106">Bu, ASP.NET MVC 'nin temellerini tanıtan bir başlangıç öğreticisidir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-106">This is a beginner tutorial that introduces the basics of ASP.NET MVC.</span></span> <span data-ttu-id="b43ee-107">Bir veritabanından okuyan ve yazan basit bir Web uygulaması oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-107">You'll create a simple web application that reads and writes from a database.</span></span> <span data-ttu-id="b43ee-108">Diğer ASP.NET MVC öğreticileri ve örneklerini bulmak için [ASP.NET MVC öğrenme merkezini](../../../index.md) ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="b43ee-108">Visit the [ASP.NET MVC learning center](../../../index.md) to find other ASP.NET MVC tutorials and samples.</span></span>

<span data-ttu-id="b43ee-109">Bu bölümde, kullanıcıların veritabanımızda yeni filmler oluşturmalarına olanak tanımak için gereken desteği uygulayacağız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-109">In this section we are going to implement the support necessary to enable users to create new movies in our database.</span></span> <span data-ttu-id="b43ee-110">Bunu/Movies/Create URL eylemini uygulayarak yapacağız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-110">We'll do this by implementing the /Movies/Create URL action.</span></span>

<span data-ttu-id="b43ee-111">/Movies/Create URL 'SI uygulamak iki adımlı bir işlemdir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-111">Implementing the /Movies/Create URL is a two step process.</span></span> <span data-ttu-id="b43ee-112">Bir Kullanıcı/Movies/Create URL 'sini ilk kez ziyaret ettiğinde, yeni bir filmi girmek için dolduracakları bir HTML formu göstermek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="b43ee-112">When a user first visits the /Movies/Create URL we want to show them an HTML form that they can fill out to enter a new movie.</span></span> <span data-ttu-id="b43ee-113">Sonra, Kullanıcı formu gönderdiğinde ve verileri sunucuya geri gönderdiğinde, postalanan içerikleri almak ve veritabanınıza kaydetmek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="b43ee-113">Then, when the user submits the form and posts the data back to the server, we want to retrieve the posted contents and save it into our database.</span></span>

<span data-ttu-id="b43ee-114">Bu iki adımı, MoviesController sınıfımızın içindeki iki Create () yöntemi içinde uygulayacağız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-114">We'll implement these two steps within two Create() methods within our MoviesController class.</span></span> <span data-ttu-id="b43ee-115">Bir yöntemde, kullanıcının yeni bir film oluşturmak için doldurması gereken &lt;formu&gt; gösterilir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-115">One method will show the &lt;form&gt; that the user should fill out to create a new movie.</span></span> <span data-ttu-id="b43ee-116">İkinci yöntem, Kullanıcı &lt;form&gt; sunucuya geri gönderdiğinde ve veritabanı içinde yeni bir filmi kaydederken, gönderilen verilerin işlenmesini işleyecek.</span><span class="sxs-lookup"><span data-stu-id="b43ee-116">The second method will handle processing the posted data when the user submits the &lt;form&gt; back to the server, and save a new Movie within our database.</span></span>

<span data-ttu-id="b43ee-117">Bunu uygulamak için MoviesController sınıfımızı ekleyeceğiniz kod aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="b43ee-117">Below is the code we'll add to our MoviesController class to implement this:</span></span>

[!code-csharp[Main](getting-started-with-mvc-part6/samples/sample1.cs)]

<span data-ttu-id="b43ee-118">Yukarıdaki kod, denetleyicimiz dahilinde ihtiyaç duyduğumuz tüm kodu içerir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-118">The above code contains all of the code that we'll need within our Controller.</span></span>

<span data-ttu-id="b43ee-119">Şimdi kullanıcıya form görüntülemek için kullanacağımız görünüm oluştur şablonunu uygulayalim.</span><span class="sxs-lookup"><span data-stu-id="b43ee-119">Let's now implement the Create View template that we'll use to display a form to the user.</span></span> <span data-ttu-id="b43ee-120">İlk oluşturma yöntemine sağ tıklayıp film formumuza yönelik görünüm şablonunu oluşturmak için "Görünüm Ekle" seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="b43ee-120">We'll right click in the first Create method and select "Add View" to create the view template for our Movie form.</span></span>

<span data-ttu-id="b43ee-121">Görünüm şablonunu görünüm veri sınıfı olarak bir "film" geçireceğiz ve "oluşturma" şablonu "scafkatlamak" isteyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="b43ee-121">We'll select that we are going to pass the view template a "Movie" as its view data class, and indicate that we want to "scaffold" a "Create" template.</span></span>

<span data-ttu-id="b43ee-122">[![Görünüm Ekle](getting-started-with-mvc-part6/_static/image2.png)](getting-started-with-mvc-part6/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="b43ee-122">[![Add View](getting-started-with-mvc-part6/_static/image2.png)](getting-started-with-mvc-part6/_static/image1.png)</span></span>

<span data-ttu-id="b43ee-123">Ekle düğmesine tıkladıktan sonra, \Movies\Create.aspx görünüm şablonu sizin için oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="b43ee-123">After you click the Add button, \Movies\Create.aspx View template will be created for you.</span></span> <span data-ttu-id="b43ee-124">"İçeriği görüntüle" açılan menüsünden "Oluştur" 'u seçtiğimiz için, Görünüm Ekle iletişim kutusu bizim için varsayılan içerikleri otomatik olarak "scafkatlama" olarak seçtik.</span><span class="sxs-lookup"><span data-stu-id="b43ee-124">Because we selected "Create" from the "view content" dropdown, the Add View dialog automatically "scaffolded" some default content for us.</span></span> <span data-ttu-id="b43ee-125">Yapı iskelesi, bir HTML &lt;formu oluşturdu&gt;, doğrulama hatası iletileri için bir yer ve yapı iskelesi film hakkında bilgi sahibi olduğu için, sınıfımızın her bir özelliği için etiket ve alanları oluşturmuştur.</span><span class="sxs-lookup"><span data-stu-id="b43ee-125">The scaffolding created an HTML &lt;form&gt;, a place for validation error messages to go, and since scaffolding knows about Movies, it created Label and Fields for each property of our class.</span></span>

[!code-aspx[Main](getting-started-with-mvc-part6/samples/sample2.aspx)]

<span data-ttu-id="b43ee-126">Veritabanımız otomatik olarak bir filmi bir KIMLIK verdiğinden, modele başvuran bu alanları kaldıralim. Oluşturma Görünümümüzden kimlik.</span><span class="sxs-lookup"><span data-stu-id="b43ee-126">Since our database automatically gives a Movie an ID, let's remove those fields that reference model.Id from our Create View.</span></span> <span data-ttu-id="b43ee-127">&lt;&gt;göstergeden sonra 7 satırı kaldırın&lt;/Legend&gt; alanları, istediğimiz KIMLIK alanını gösterir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-127">Remove the 7 lines after &lt;legend&gt;Fields&lt;/legend&gt; as they show the ID field that we don't want.</span></span>

<span data-ttu-id="b43ee-128">Şimdi yeni bir film oluşturup veritabanına ekleyelim.</span><span class="sxs-lookup"><span data-stu-id="b43ee-128">Let's now create a new movie and add it to the database.</span></span> <span data-ttu-id="b43ee-129">Bunu uygulamayı yeniden çalıştırıp "/Filmler" URL 'sini ziyaret ederek ve yeni film eklemek için "Oluştur" bağlantısına tıklayarak yapacağız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-129">We'll do this by running the application again and visit the "/Movies" URL and click the "Create" link to add a new Movie.</span></span>

<span data-ttu-id="b43ee-130">[![oluştur-Windows Internet Explorer](getting-started-with-mvc-part6/_static/image4.png)](getting-started-with-mvc-part6/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="b43ee-130">[![Create - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image4.png)](getting-started-with-mvc-part6/_static/image3.png)</span></span>

<span data-ttu-id="b43ee-131">Oluştur düğmesine tıkladığımızda, bu formdaki verileri yeni oluşturduğumuz/Movies/Create yöntemine geri göndereceğiz (HTTP POST aracılığıyla).</span><span class="sxs-lookup"><span data-stu-id="b43ee-131">When we click the Create button, we'll be posting back (via HTTP POST) the data on this form to the /Movies/Create method that we just created.</span></span> <span data-ttu-id="b43ee-132">Sistem, "numTimes" ve "Name" parametresini URL 'den otomatik olarak alıp daha önce bir yöntemde parametrelere eşleştirirse olduğu gibi, sistem otomatik olarak bir GÖNDERINDEN form alanlarını alır ve bunları bir nesne ile eşler.</span><span class="sxs-lookup"><span data-stu-id="b43ee-132">Just like when the system automatically took the "numTimes" and "name " parameter out of the URL and mapped them to parameters on a method earlier, the system will automatically take the Form Fields from a POST and map them to an object.</span></span> <span data-ttu-id="b43ee-133">Bu durumda, HTML 'deki alanlardan "ReleaseDate" ve "title" gibi değerler otomatik olarak bir filmin yeni bir örneğinin doğru özelliklerine yerleştirilecek.</span><span class="sxs-lookup"><span data-stu-id="b43ee-133">In this case, values from fields in HTML like "ReleaseDate" and "Title" will automatically be put into the correct properties of a new instance of a Movie.</span></span>

<span data-ttu-id="b43ee-134">MoviesController bir kez ikinci oluşturma yöntemine göz atalım.</span><span class="sxs-lookup"><span data-stu-id="b43ee-134">Let's look at the second Create method from our MoviesController again.</span></span> <span data-ttu-id="b43ee-135">Bağımsız değişken olarak "film" nesnesini nasıl aldığına dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="b43ee-135">Notice how it takes a "Movie" object as an argument:</span></span>

[!code-csharp[Main](getting-started-with-mvc-part6/samples/sample3.cs)]

<span data-ttu-id="b43ee-136">Bu film nesnesi daha sonra oluşturma eylemi yönteminizin [HttpPost] sürümüne geçirilir ve bunu veritabanına kaydettik ve ardından Kullanıcı, kaydedilen sonucu film listesinde gösteren Index () eylem yöntemine geri yönlendirdik:</span><span class="sxs-lookup"><span data-stu-id="b43ee-136">This Movie object was then passed to the [HttpPost] version of our Create action method, and we saved it in the database and then redirected the user back to the Index() action method which will show the saved result in the movie list:</span></span>

<span data-ttu-id="b43ee-137">[![film listesi-Windows Internet Explorer](getting-started-with-mvc-part6/_static/image6.png)](getting-started-with-mvc-part6/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="b43ee-137">[![Movie List - Windows Internet Explorer](getting-started-with-mvc-part6/_static/image6.png)](getting-started-with-mvc-part6/_static/image5.png)</span></span>

<span data-ttu-id="b43ee-138">Filmlerimizin doğru olup olmadığını denetliyoruz, ancak veritabanı başlık olmadan bir filmi kaydetmemize izin vermez.</span><span class="sxs-lookup"><span data-stu-id="b43ee-138">We aren't checking if our movies are correct, though, and the database won't allow us to save a movie with no Title.</span></span> <span data-ttu-id="b43ee-139">Kullanıcıya veritabanı hata vermeden önce bunu söylememiz durumunda bu iyi bir durum olabilir.</span><span class="sxs-lookup"><span data-stu-id="b43ee-139">It'd be nice if we could tell the user that before the database threw an error.</span></span> <span data-ttu-id="b43ee-140">Uygulamamıza doğrulama desteği ekleyerek bunu bir sonraki adımda yapacağız.</span><span class="sxs-lookup"><span data-stu-id="b43ee-140">We'll do this next by adding validation support to our application.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="b43ee-141">[Önceki](getting-started-with-mvc-part5.md)
> [İleri](getting-started-with-mvc-part7.md)</span><span class="sxs-lookup"><span data-stu-id="b43ee-141">[Previous](getting-started-with-mvc-part5.md)
[Next](getting-started-with-mvc-part7.md)</span></span>
