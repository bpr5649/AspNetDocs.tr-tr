---
uid: mvc/overview/older-versions-1/models-data/creating-model-classes-with-the-entity-framework-cs
title: (C#) Entity Framework ile model sınıfları oluşturma | Microsoft Docs
author: microsoft
description: Bu öğreticide, ASP.NET MVC Microsoft Entity Framework ile kullanmayı öğrenin. Bir ADO.NET varlık Da oluşturmak için varlık Sihirbazı'nı kullanmayı öğrenin...
ms.author: riande
ms.date: 01/27/2009
ms.assetid: 61644169-e8b1-45dd-bf96-9c2301b69879
msc.legacyurl: /mvc/overview/older-versions-1/models-data/creating-model-classes-with-the-entity-framework-cs
msc.type: authoredcontent
ms.openlocfilehash: 29f7dded2f6fc2e8ce588dab2949b59ddb6f1fc4
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59388913"
---
# <a name="creating-model-classes-with-the-entity-framework-c"></a><span data-ttu-id="24f20-104">Entity Framework ile Model Sınıfları Oluşturma (C#)</span><span class="sxs-lookup"><span data-stu-id="24f20-104">Creating Model Classes with the Entity Framework (C#)</span></span>

<span data-ttu-id="24f20-105">tarafından [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="24f20-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="24f20-106">Bu öğreticide, ASP.NET MVC Microsoft Entity Framework ile kullanmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="24f20-106">In this tutorial, you learn how to use ASP.NET MVC with the Microsoft Entity Framework.</span></span> <span data-ttu-id="24f20-107">Bir ADO.NET varlık veri modeli oluşturmak için varlık Sihirbazı'nı kullanmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="24f20-107">You learn how to use the Entity Wizard to create an ADO.NET Entity Data Model.</span></span> <span data-ttu-id="24f20-108">Bu öğretici boyunca seçin, Ekle, Güncelleştir ve Entity Framework kullanarak veritabanı verileri silme işlemini gösteren bir web uygulaması ekleriz.</span><span class="sxs-lookup"><span data-stu-id="24f20-108">Over the course of this tutorial, we build a web application that illustrates how to select, insert, update, and delete database data by using the Entity Framework.</span></span>


<span data-ttu-id="24f20-109">Bu öğreticinin amacı, bir ASP.NET MVC uygulaması oluşturma sırasında Microsoft Entity Framework kullanarak veri erişim sınıfları nasıl oluşturacağınızı açıklar sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="24f20-109">The goal of this tutorial is to explain how you can create data access classes using the Microsoft Entity Framework when building an ASP.NET MVC application.</span></span> <span data-ttu-id="24f20-110">Bu öğretici, Microsoft Entity Framework'ün önceki bilgi varsayar.</span><span class="sxs-lookup"><span data-stu-id="24f20-110">This tutorial assumes no previous knowledge of the Microsoft Entity Framework.</span></span> <span data-ttu-id="24f20-111">Bu öğreticinin sonunda, Entity Framework seçin, ekleme, güncelleştirme ve veritabanı kayıtlarını silme hakkında bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="24f20-111">By the end of this tutorial, you'll understand how to use the Entity Framework to select, insert, update, and delete database records.</span></span>

<span data-ttu-id="24f20-112">Microsoft Entity Framework, bir veritabanından veri erişim katmanını otomatik olarak oluşturmanızı sağlayan bir nesne ilişkisel eşleme (O/RM) bir araçtır.</span><span class="sxs-lookup"><span data-stu-id="24f20-112">The Microsoft Entity Framework is an Object Relational Mapping (O/RM) tool that enables you to generate a data access layer from a database automatically.</span></span> <span data-ttu-id="24f20-113">Entity Framework, veri erişim sınıfları el ile oluşturma yorucu bir süreç iş kaçınmanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="24f20-113">The Entity Framework enables you to avoid the tedious work of building your data access classes by hand.</span></span>

<span data-ttu-id="24f20-114">Microsoft Entity Framework ASP.NET MVC ile nasıl kullanabileceğinizi anlamak için basit bir örnek bir uygulama oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="24f20-114">In order to illustrate how you can use the Microsoft Entity Framework with ASP.NET MVC, we'll build a simple sample application.</span></span> <span data-ttu-id="24f20-115">Görüntülemek ve düzenlemek film veritabanı kayıtlarını olanak tanıyan bir film veritabanı uygulaması oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="24f20-115">We'll create a Movie Database application that enables you to display and edit movie database records.</span></span>

<span data-ttu-id="24f20-116">Bu öğreticide, Visual Studio 2008 veya Visual Web Developer 2008 Service Pack 1 sahibi olduğunuzu varsayar.</span><span class="sxs-lookup"><span data-stu-id="24f20-116">This tutorial assumes that you have Visual Studio 2008 or Visual Web Developer 2008 with Service Pack 1.</span></span> <span data-ttu-id="24f20-117">Service Pack 1, Entity Framework kullanmak için gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-117">You need Service Pack 1 in order to use the Entity Framework.</span></span> <span data-ttu-id="24f20-118">Visual Studio 2008 Service Pack 1 veya hizmet paketi 1 ile Visual Web Developer şu adresten indirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="24f20-118">You can download Visual Studio 2008 Service Pack 1 or Visual Web Developer with Service Pack 1 from the following address:</span></span>

> [https://www.asp.net/downloads/](https://www.asp.net/downloads)


> [!NOTE] 
> 
> <span data-ttu-id="24f20-119">ASP.NET MVC ile Entity Framework Microsoft arasındaki temel bağlantı yoktur.</span><span class="sxs-lookup"><span data-stu-id="24f20-119">There is no essential connection between ASP.NET MVC and the Microsoft Entity Framework.</span></span> <span data-ttu-id="24f20-120">Entity Framework, ASP.NET MVC ile kullanabileceğiniz çeşitli alternatifler vardır.</span><span class="sxs-lookup"><span data-stu-id="24f20-120">There are several alternatives to the Entity Framework that you can use with ASP.NET MVC.</span></span> <span data-ttu-id="24f20-121">Örneğin, Microsoft SQL veya NHibernate SubSonic LINQ gibi diğer O/RM araçları kullanarak MVC Model sınıflarınızı oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-121">For example, you can build your MVC Model classes using other O/RM tools such as Microsoft LINQ to SQL, NHibernate, or SubSonic.</span></span>


## <a name="creating-the-movie-sample-database"></a><span data-ttu-id="24f20-122">Film örnek veritabanını oluşturma</span><span class="sxs-lookup"><span data-stu-id="24f20-122">Creating the Movie Sample Database</span></span>

<span data-ttu-id="24f20-123">Film veritabanı uygulaması şu sütunları içeren film adlı bir veritabanı tablosu kullanır:</span><span class="sxs-lookup"><span data-stu-id="24f20-123">The Movie Database application uses a database table named Movies that contains the following columns:</span></span>

| <span data-ttu-id="24f20-124">Sütun adı</span><span class="sxs-lookup"><span data-stu-id="24f20-124">Column Name</span></span> | <span data-ttu-id="24f20-125">Veri Türü</span><span class="sxs-lookup"><span data-stu-id="24f20-125">Data Type</span></span> | <span data-ttu-id="24f20-126">Null değerlere izin verilsin mi?</span><span class="sxs-lookup"><span data-stu-id="24f20-126">Allow Nulls?</span></span> | <span data-ttu-id="24f20-127">Birincil anahtar mı?</span><span class="sxs-lookup"><span data-stu-id="24f20-127">Is Primary Key?</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="24f20-128">Kimliği</span><span class="sxs-lookup"><span data-stu-id="24f20-128">Id</span></span> | <span data-ttu-id="24f20-129">int</span><span class="sxs-lookup"><span data-stu-id="24f20-129">int</span></span> | <span data-ttu-id="24f20-130">False</span><span class="sxs-lookup"><span data-stu-id="24f20-130">False</span></span> | <span data-ttu-id="24f20-131">Doğru</span><span class="sxs-lookup"><span data-stu-id="24f20-131">True</span></span> |
| <span data-ttu-id="24f20-132">Başlık</span><span class="sxs-lookup"><span data-stu-id="24f20-132">Title</span></span> | <span data-ttu-id="24f20-133">nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="24f20-133">nvarchar(100)</span></span> | <span data-ttu-id="24f20-134">False</span><span class="sxs-lookup"><span data-stu-id="24f20-134">False</span></span> | <span data-ttu-id="24f20-135">False</span><span class="sxs-lookup"><span data-stu-id="24f20-135">False</span></span> |
| <span data-ttu-id="24f20-136">Direktörü</span><span class="sxs-lookup"><span data-stu-id="24f20-136">Director</span></span> | <span data-ttu-id="24f20-137">nvarchar(100)</span><span class="sxs-lookup"><span data-stu-id="24f20-137">nvarchar(100)</span></span> | <span data-ttu-id="24f20-138">False</span><span class="sxs-lookup"><span data-stu-id="24f20-138">False</span></span> | <span data-ttu-id="24f20-139">False</span><span class="sxs-lookup"><span data-stu-id="24f20-139">False</span></span> |

<span data-ttu-id="24f20-140">Bu tablo, aşağıdaki adımları izleyerek bir ASP.NET MVC projesini ekleyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="24f20-140">You can add this table to an ASP.NET MVC project by following these steps:</span></span>

1. <span data-ttu-id="24f20-141">Uygulamayı sağ\_menü seçeneğini seçin ve Çözüm Gezgini penceresinde veri klasörü **Ekle, yeni öğe.**</span><span class="sxs-lookup"><span data-stu-id="24f20-141">Right-click the App\_Data folder in the Solution Explorer window and select the menu option **Add, New Item.**</span></span>
2. <span data-ttu-id="24f20-142">Gelen **Yeni Öğe Ekle** iletişim kutusunda **SQL Server veritabanı**, veritabanı MoviesDB.mdf ad verin ve tıklayın **Ekle** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="24f20-142">From the **Add New Item** dialog box, select **SQL Server Database**, give the database the name MoviesDB.mdf, and click the **Add** button.</span></span>
3. <span data-ttu-id="24f20-143">Sunucu Gezgini/veritabanı Gezgini penceresi açmak için MoviesDB.mdf dosyasına çift tıklayın.</span><span class="sxs-lookup"><span data-stu-id="24f20-143">Double-click the MoviesDB.mdf file to open the Server Explorer/Database Explorer window.</span></span>
4. <span data-ttu-id="24f20-144">MoviesDB.mdf veritabanı bağlantısı genişletin tablolarını klasörü sağ tıklatın ve menü seçeneğini **Yeni Tablo Ekle**.</span><span class="sxs-lookup"><span data-stu-id="24f20-144">Expand the MoviesDB.mdf database connection, right-click the Tables folder, and select the menu option **Add New Table**.</span></span>
5. <span data-ttu-id="24f20-145">Tablo Tasarımcısı'nda, kimlik, başlık ve Direktörü sütunları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="24f20-145">In the Table Designer, add the Id, Title, and Director columns.</span></span>
6. <span data-ttu-id="24f20-146">Tıklayın **Kaydet** düğmesine (disket simgesini vardır) yeni bir tablo adı filmlerle kaydetmek için.</span><span class="sxs-lookup"><span data-stu-id="24f20-146">Click the **Save** button (it has the icon of the floppy) to save the new table with the name Movies.</span></span>

<span data-ttu-id="24f20-147">Film veritabanı tablosu oluşturduktan sonra tabloya bazı örnek veriler eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-147">After you create the Movies database table, you should add some sample data to the table.</span></span> <span data-ttu-id="24f20-148">Menü seçeneği filmler tabloya sağ tıklayıp **tablo verilerini Göster**.</span><span class="sxs-lookup"><span data-stu-id="24f20-148">Right-click the Movies table and select the menu option **Show Table Data**.</span></span> <span data-ttu-id="24f20-149">Sahte film verileri görünen kılavuza girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-149">You can enter fake movie data into the grid that appears.</span></span>

## <a name="creating-the-adonet-entity-data-model"></a><span data-ttu-id="24f20-150">ADO.NET varlık veri modeli oluşturma</span><span class="sxs-lookup"><span data-stu-id="24f20-150">Creating the ADO.NET Entity Data Model</span></span>

<span data-ttu-id="24f20-151">Entity Framework kullanmak için bir varlık veri modeli oluşturmak gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-151">In order to use the Entity Framework, you need to create an Entity Data Model.</span></span> <span data-ttu-id="24f20-152">Visual Studio yararlanabilir *varlık veri modeli Sihirbazı* bir varlık veri modeli bir veritabanından otomatik olarak oluşturmak için.</span><span class="sxs-lookup"><span data-stu-id="24f20-152">You can take advantage of the Visual Studio *Entity Data Model Wizard* to generate an Entity Data Model from a database automatically.</span></span>

<span data-ttu-id="24f20-153">Aşağıdaki adımları uygulayın:</span><span class="sxs-lookup"><span data-stu-id="24f20-153">Follow these steps:</span></span>

1. <span data-ttu-id="24f20-154">Çözüm Gezgini penceresinde modeller klasörü sağ tıklatın ve menü seçeneğini **Ekle, yeni öğe**.</span><span class="sxs-lookup"><span data-stu-id="24f20-154">Right-click the Models folder in the Solution Explorer window and select the menu option **Add, New Item**.</span></span>
2. <span data-ttu-id="24f20-155">İçinde **Yeni Öğe Ekle** iletişim kutusunda, veri kategorisi seçin (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="24f20-155">In the **Add New Item** dialog, select the Data category (see Figure 1).</span></span>
3. <span data-ttu-id="24f20-156">Seçin **ADO.NET varlık veri modeli** şablonu, varlık veri modeli MoviesDBModel.edmx ad verin ve tıklayın **Ekle** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="24f20-156">Select the **ADO.NET Entity Data Model** template, give the Entity Data Model the name MoviesDBModel.edmx, and click the **Add** button.</span></span> <span data-ttu-id="24f20-157">Tıklayarak **Ekle** düğmesi veri modeli Sihirbazı başlatılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-157">Clicking the **Add** button launches the Data Model Wizard.</span></span>
4. <span data-ttu-id="24f20-158">İçinde **Choose Model Contents** adım öğesini **bir veritabanından Oluştur** seçeneğini ve tıklayın **sonraki** (bkz: Şekil 2) düğmesi.</span><span class="sxs-lookup"><span data-stu-id="24f20-158">In the **Choose Model Contents** step, choose the **Generate from a database** option and click the **Next** button (see Figure 2).</span></span>
5. <span data-ttu-id="24f20-159">İçinde **veri bağlantınızı seçin** adım, MoviesDB.mdf veritabanı bağlantısını seçin, bağlantı ayarları MoviesDBEntities adlandırın ve tıklayın varlıkları girin **sonraki** (bkz: Şekil 3) düğmesi.</span><span class="sxs-lookup"><span data-stu-id="24f20-159">In the **Choose Your Data Connection** step, select the MoviesDB.mdf database connection, enter the entities connection settings name MoviesDBEntities, and click the **Next** button (see Figure 3).</span></span>
6. <span data-ttu-id="24f20-160">İçinde **veritabanı nesnelerinizi seçin** adım, film veritabanı tablosunu seçin ve tıklayın **son** (bkz: Şekil 4) düğmesi.</span><span class="sxs-lookup"><span data-stu-id="24f20-160">In the **Choose Your Database Objects** step, select the Movie database table and click the **Finish** button (see Figure 4).</span></span>

<span data-ttu-id="24f20-161">Bu adımları tamamladıktan sonra ADO.NET varlık veri modeli Tasarımcısı'nı (varlık Tasarımcısı) açılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-161">After you complete these steps, the ADO.NET Entity Data Model Designer (Entity Designer) opens.</span></span>

**<span data-ttu-id="24f20-162">Şekil 1 – yeni bir varlık veri modeli oluşturma</span><span class="sxs-lookup"><span data-stu-id="24f20-162">Figure 1 – Creating a new Entity Data Model</span></span>**

![clip_image002](creating-model-classes-with-the-entity-framework-cs/_static/image1.jpg)

**<span data-ttu-id="24f20-164">Şekil 2: Model içeriğini adımını seçin</span><span class="sxs-lookup"><span data-stu-id="24f20-164">Figure 2 – Choose Model Contents Step</span></span>**

![clip_image004](creating-model-classes-with-the-entity-framework-cs/_static/image2.jpg)

**<span data-ttu-id="24f20-166">Şekil 3 – veri bağlantınızı seçin</span><span class="sxs-lookup"><span data-stu-id="24f20-166">Figure 3 – Choose Your Data Connection</span></span>**

![clip_image006](creating-model-classes-with-the-entity-framework-cs/_static/image3.jpg)

**<span data-ttu-id="24f20-168">Şekil 4-veritabanı nesnelerinizi seçin</span><span class="sxs-lookup"><span data-stu-id="24f20-168">Figure 4 – Choose Your Database Objects</span></span>**

![clip_image008](creating-model-classes-with-the-entity-framework-cs/_static/image4.jpg)

#### <a name="modifying-the-adonet-entity-data-model"></a><span data-ttu-id="24f20-170">ADO.NET varlık veri modeli değiştirme</span><span class="sxs-lookup"><span data-stu-id="24f20-170">Modifying the ADO.NET Entity Data Model</span></span>

<span data-ttu-id="24f20-171">Bir varlık veri modeli oluşturduktan sonra varlık Tasarımcısı avantajlarından yararlanarak model değiştirebilirsiniz (bkz: Şekil 5).</span><span class="sxs-lookup"><span data-stu-id="24f20-171">After you create an Entity Data Model, you can modify the model by taking advantage of the Entity Designer (see Figure 5).</span></span> <span data-ttu-id="24f20-172">Varlık Tasarımcısı, herhangi bir zamanda Çözüm Gezgini penceresinde modelleri klasördeki MoviesDBModel.edmx dosyasına çift tıklayarak açabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-172">You can open the Entity Designer at any time by double-clicking the MoviesDBModel.edmx file contained in the Models folder within the Solution Explorer window.</span></span>

**<span data-ttu-id="24f20-173">5-şekil ADO.NET varlık veri modeli Tasarımcısı</span><span class="sxs-lookup"><span data-stu-id="24f20-173">Figure 5 – The ADO.NET Entity Data Model Designer</span></span>**

![clip_image010](creating-model-classes-with-the-entity-framework-cs/_static/image5.jpg)

<span data-ttu-id="24f20-175">Örneğin, varlık Tasarımcısı, varlık veri modeli Sihirbazı oluşturur sınıfların adlarını değiştirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-175">For example, you can use the Entity Designer to change the names of the classes that the Entity Model Data Wizard generates.</span></span> <span data-ttu-id="24f20-176">Sihirbaz, filmler adlı yeni bir veri erişim sınıfı oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="24f20-176">The Wizard created a new data access class named Movies.</span></span> <span data-ttu-id="24f20-177">Diğer bir deyişle, sihirbaz sınıfı çok aynı adı taşıyan bir veritabanı tablosu getirdi.</span><span class="sxs-lookup"><span data-stu-id="24f20-177">In other words, the Wizard gave the class the very same name as the database table.</span></span> <span data-ttu-id="24f20-178">Bu sınıf belirli bir filmi örneği temsil eden kullanacağız çünkü biz filmler sınıftan film için yeniden adlandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-178">Because we will use this class to represent a particular Movie instance, we should rename the class from Movies to Movie.</span></span>

<span data-ttu-id="24f20-179">Bir varlık sınıfı yeniden adlandırmak isterseniz, varlık tasarımcısında sınıf adına çift tıklayın ve yeni bir ad girin (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="24f20-179">If you want to rename an entity class, you can double-click on the class name in the Entity Designer and enter a new name (see Figure 6).</span></span> <span data-ttu-id="24f20-180">Alternatif olarak, Özellikler penceresinde bir varlığın adı, varlık Tasarımcısı'nda bir varlık seçildikten sonra değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-180">Alternatively, you can change the name of an entity in the Properties window after selecting an entity in the Entity Designer.</span></span>

**<span data-ttu-id="24f20-181">Şekil 6: Varlık adının değiştirilmesi</span><span class="sxs-lookup"><span data-stu-id="24f20-181">Figure 6 – Changing an entity name</span></span>**

![clip_image012](creating-model-classes-with-the-entity-framework-cs/_static/image6.jpg)

<span data-ttu-id="24f20-183">Kaydet düğmesine (disket simgesi) tıklayarak bir değişiklik yaptıktan sonra varlık veri modeli kaydetmeyi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="24f20-183">Remember to save your Entity Data Model after making a modification by clicking the Save button (the icon of the floppy disk).</span></span> <span data-ttu-id="24f20-184">Varlık Tasarımcısı, arka planda, C# sınıf kümesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="24f20-184">Behind the scenes, the Entity Designer generates a set of C# classes.</span></span> <span data-ttu-id="24f20-185">Bu sınıflar Çözüm Gezgini penceresinde MoviesDBModel.Designer.cs dosyasını açarak görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-185">You can view these classes by opening the MoviesDBModel.Designer.cs file from the Solution Explorer window.</span></span>


<span data-ttu-id="24f20-186">Varlık Tasarımcısı kullandığınızda, değişikliklerin üzerine yazılır olduğundan Designer.cs dosyasındaki kodu değiştirmeyin.</span><span class="sxs-lookup"><span data-stu-id="24f20-186">Don't modify the code in the Designer.cs file since your changes will be overwritten the next time you use the Entity Designer.</span></span> <span data-ttu-id="24f20-187">Designer.cs dosyasında tanımlanan varlık sınıfları genişletmek istediğiniz sonra oluşturabileceğiniz *kısmi sınıflar* içinde dosyaları'nı ayırın.</span><span class="sxs-lookup"><span data-stu-id="24f20-187">If you want to extend the functionality of the entity classes defined in the Designer.cs file then you can create *partial classes* in separate files.</span></span>


#### <a name="selecting-database-records-with-the-entity-framework"></a><span data-ttu-id="24f20-188">Entity Framework ile veritabanı kayıtlarını seçme</span><span class="sxs-lookup"><span data-stu-id="24f20-188">Selecting Database Records with the Entity Framework</span></span>

<span data-ttu-id="24f20-189">Film kayıt listesini görüntüleyen bir sayfa oluşturarak film veritabanı uygulamamızı oluşturmaya başlayalım.</span><span class="sxs-lookup"><span data-stu-id="24f20-189">Let's start building our Movie Database application by creating a page that displays a list of movie records.</span></span> <span data-ttu-id="24f20-190">Giriş denetleyicisine listeleme 1 İNDİS() adlı bir eylem kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="24f20-190">The Home controller in Listing 1 exposes an action named Index().</span></span> <span data-ttu-id="24f20-191">İNDİS() eylemi, Entity Framework avantajlarından yararlanarak tüm film kayıtlar film veritabanı tablosundan döndürür.</span><span class="sxs-lookup"><span data-stu-id="24f20-191">The Index() action returns all of the movie records from the Movie database table by taking advantage of the Entity Framework.</span></span>

**<span data-ttu-id="24f20-192">1 – Controllers\HomeController.cs listeleme</span><span class="sxs-lookup"><span data-stu-id="24f20-192">Listing 1 – Controllers\HomeController.cs</span></span>**

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample1.cs)]

<span data-ttu-id="24f20-193">Denetleyici 1 listeleyen bir oluşturucu içerdiğine dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="24f20-193">Notice that the controller in Listing 1 includes a constructor.</span></span> <span data-ttu-id="24f20-194">Oluşturucu isimli bir sınıf seviyesi alanını başlatır \_db.</span><span class="sxs-lookup"><span data-stu-id="24f20-194">The constructor initializes a class-level field named \_db.</span></span> <span data-ttu-id="24f20-195">\_Db alan Microsoft Entity Framework tarafından oluşturulan veritabanı varlıkları temsil eder.</span><span class="sxs-lookup"><span data-stu-id="24f20-195">The \_db field represents the database entities generated by the Microsoft Entity Framework.</span></span> <span data-ttu-id="24f20-196">\_Db alandır varlık tasarımcısı tarafından oluşturulan MoviesDBEntities sınıfının örneği.</span><span class="sxs-lookup"><span data-stu-id="24f20-196">The \_db field is an instance of the MoviesDBEntities class that was generated by the Entity Designer.</span></span>


<span data-ttu-id="24f20-197">İçinde giriş denetleyicisine theMoviesDBEntities sınıfını kullanmak için MovieEntityApp.Models ad alanı içeri aktarmalısınız (*MVCProjectName*. Modeller).</span><span class="sxs-lookup"><span data-stu-id="24f20-197">In order to use theMoviesDBEntities class in the Home controller, you must import the MovieEntityApp.Models namespace (*MVCProjectName*.Models).</span></span>


<span data-ttu-id="24f20-198">\_Db alan İNDİS() eylemi içinde film veritabanı tablosundan kayıtları almak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-198">The \_db field is used within the Index() action to retrieve the records from the Movies database table.</span></span> <span data-ttu-id="24f20-199">İfade \_db. MovieSet, film veritabanı tablosunun tüm kayıtları temsil eder.</span><span class="sxs-lookup"><span data-stu-id="24f20-199">The expression \_db.MovieSet represents all of the records from the Movies database table.</span></span> <span data-ttu-id="24f20-200">ToList() yöntemi film nesnelerin genel bir koleksiyona filmler kümesini dönüştürmek için kullanılır (liste&lt;film&gt;).</span><span class="sxs-lookup"><span data-stu-id="24f20-200">The ToList() method is used to convert the set of movies into a generic collection of Movie objects (List&lt;Movie&gt;).</span></span>

<span data-ttu-id="24f20-201">LINQ to Entities'de yardımıyla film kayıtlar alınır.</span><span class="sxs-lookup"><span data-stu-id="24f20-201">The movie records are retrieved with the help of LINQ to Entities.</span></span> <span data-ttu-id="24f20-202">LINQ listeleme 1 İNDİS() eylemi kullanan *yöntem sözdizimi* veritabanı kayıt kümesini almak için.</span><span class="sxs-lookup"><span data-stu-id="24f20-202">The Index() action in Listing 1 uses LINQ *method syntax* to retrieve the set of database records.</span></span> <span data-ttu-id="24f20-203">Tercih ederseniz, LINQ kullanabileceğiniz *sorgu söz dizimi* yerine.</span><span class="sxs-lookup"><span data-stu-id="24f20-203">If you prefer, you can use LINQ *query syntax* instead.</span></span> <span data-ttu-id="24f20-204">Aşağıdaki iki deyimi çok aynı şeyi yapar:</span><span class="sxs-lookup"><span data-stu-id="24f20-204">The following two statements do the very same thing:</span></span>

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample2.cs)]

<span data-ttu-id="24f20-205">En kullanışlı bulabileceğiniz hangi LINQ söz dizimi – yöntem sözdizimi veya sorgu söz dizimi – kullanın.</span><span class="sxs-lookup"><span data-stu-id="24f20-205">Use whichever LINQ syntax – method syntax or query syntax – that you find most intuitive.</span></span> <span data-ttu-id="24f20-206">İki yaklaşım arasında performans farkı yoktur: tek fark stili.</span><span class="sxs-lookup"><span data-stu-id="24f20-206">There is no difference in performance between the two approaches – the only difference is style.</span></span>

<span data-ttu-id="24f20-207">2 liste görünümünde film kayıtları görüntülemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-207">The view in Listing 2 is used to display the movie records.</span></span>

**<span data-ttu-id="24f20-208">Listing 2 – Views\Home\Index.aspx</span><span class="sxs-lookup"><span data-stu-id="24f20-208">Listing 2 – Views\Home\Index.aspx</span></span>**

[!code-aspx[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample3.aspx)]

<span data-ttu-id="24f20-209">2 liste görünümünde içeren bir **foreach** döngü, her bir film kayıt yinelenir ve film kaydın başlığı ve Direktörü özelliklerin değerlerini görüntüler.</span><span class="sxs-lookup"><span data-stu-id="24f20-209">The view in Listing 2 contains a **foreach** loop that iterates through each movie record and displays the values of the movie record's Title and Director properties.</span></span> <span data-ttu-id="24f20-210">Bir düzenleme ve silme bağlantısı her bir kaydın yanındaki görüntülendiğini dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="24f20-210">Notice that an Edit and Delete link is displayed next to each record.</span></span> <span data-ttu-id="24f20-211">Ayrıca, film Ekle bağlantısını görünümün alt kısmında görünür (bkz. Şekil 7).</span><span class="sxs-lookup"><span data-stu-id="24f20-211">Furthermore, an Add Movie link appears at the bottom of the view (see Figure 7).</span></span>

**<span data-ttu-id="24f20-212">Şekil 7 – dizini görünümü</span><span class="sxs-lookup"><span data-stu-id="24f20-212">Figure 7 – The Index view</span></span>**

![clip_image014](creating-model-classes-with-the-entity-framework-cs/_static/image7.jpg)

<span data-ttu-id="24f20-214">Dizin görünüm bir *türü belirtilmiş Görünüm*.</span><span class="sxs-lookup"><span data-stu-id="24f20-214">The Index view is a *typed view*.</span></span> <span data-ttu-id="24f20-215">Dizin görünümünün içerir bir &lt;% @ sayfa %&gt; yönergesi ile bir *Inherits* film nesnelerin kesin türü belirtilmiş bir genel liste koleksiyon Model özelliğine bıraktığı özniteliği (liste&lt;film).</span><span class="sxs-lookup"><span data-stu-id="24f20-215">The Index view includes a &lt;%@ Page %&gt; directive with an *Inherits* attribute that casts the Model property to a strongly typed generic List collection of Movie objects (List&lt;Movie).</span></span>

## <a name="inserting-database-records-with-the-entity-framework"></a><span data-ttu-id="24f20-216">Entity Framework ile veritabanı kayıtlar ekleme</span><span class="sxs-lookup"><span data-stu-id="24f20-216">Inserting Database Records with the Entity Framework</span></span>

<span data-ttu-id="24f20-217">Entity Framework, yeni kayıtlar bir veritabanı tablosuna eklemek kolay hale getirmek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-217">You can use the Entity Framework to make it easy to insert new records into a database table.</span></span> <span data-ttu-id="24f20-218">Liste 3'teki yeni kayıtlar film veritabanı tablosuna eklemek için kullanabileceğiniz ve giriş denetleyici sınıfına eklenen iki yeni eylemler içerir.</span><span class="sxs-lookup"><span data-stu-id="24f20-218">Listing 3 contains two new actions added to the Home controller class that you can use to insert new records into the Movie database table.</span></span>

**<span data-ttu-id="24f20-219">3 – Controllers\HomeController.cs (Add yöntemleri) listeleme</span><span class="sxs-lookup"><span data-stu-id="24f20-219">Listing 3 – Controllers\HomeController.cs (Add methods)</span></span>**

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample4.cs)]

<span data-ttu-id="24f20-220">İlk Add() eylemi yalnızca bir görünüm verir.</span><span class="sxs-lookup"><span data-stu-id="24f20-220">The first Add() action simply returns a view.</span></span> <span data-ttu-id="24f20-221">Yeni bir film veritabanı eklemek için bir form görünümü içerir (bkz. Şekil 8) kaydedin.</span><span class="sxs-lookup"><span data-stu-id="24f20-221">The view contains a form for adding a new movie database record (see Figure 8).</span></span> <span data-ttu-id="24f20-222">Formu gönderdiğinde, ikinci Add() eylemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-222">When you submit the form, the second Add() action is invoked.</span></span>

<span data-ttu-id="24f20-223">İkinci Add() eylemi AcceptVerbs özniteliği ile donatılmış, dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="24f20-223">Notice that the second Add() action is decorated with the AcceptVerbs attribute.</span></span> <span data-ttu-id="24f20-224">Bu eylem, yalnızca bir HTTP POST işlemi gerçekleştirirken çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-224">This action can be invoked only when performing an HTTP POST operation.</span></span> <span data-ttu-id="24f20-225">Diğer bir deyişle, bu eylem yalnızca bir HTML formu aktarırken çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-225">In other words, this action can only be invoked when posting an HTML form.</span></span>

<span data-ttu-id="24f20-226">İkinci Add() eylem, ASP.NET MVC TryUpdateModel() yönteminin yardımıyla Entity Framework film sınıfının yeni bir örneğini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="24f20-226">The second Add() action creates a new instance of the Entity Framework Movie class with the help of the ASP.NET MVC TryUpdateModel() method.</span></span> <span data-ttu-id="24f20-227">TryUpdateModel() metodu Add() yönteme FormCollection alanlarını alır ve film sınıfı HTML form alanlarını bu değerleri atar.</span><span class="sxs-lookup"><span data-stu-id="24f20-227">The TryUpdateModel() method takes the fields in the FormCollection passed to the Add() method and assigns the values of these HTML form fields to the Movie class.</span></span>


<span data-ttu-id="24f20-228">Entity Framework'ü kullanırken TryUpdateModel veya UpdateModel yöntemleri bir varlık sınıfı özelliklerini güncelleştirmek için kullanırken "teknik"özelliklerin listesini belirtmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-228">When using the Entity Framework, you must supply a "white list" of properties when using the TryUpdateModel or UpdateModel methods to update the properties of an entity class.</span></span>


<span data-ttu-id="24f20-229">Ardından, bazı basit form doğrulaması Add() eylemi gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="24f20-229">Next, the Add() action performs some simple form validation.</span></span> <span data-ttu-id="24f20-230">Eylem başlık ve Direktörü özellikleri değerlere sahip olduğunu doğrular.</span><span class="sxs-lookup"><span data-stu-id="24f20-230">The action verifies that both the Title and Director properties have values.</span></span> <span data-ttu-id="24f20-231">Daha sonra bir doğrulama hatası varsa, doğrulama hatası iletisini ModelState için eklenir.</span><span class="sxs-lookup"><span data-stu-id="24f20-231">If there is a validation error, then a validation error message is added to ModelState.</span></span>

<span data-ttu-id="24f20-232">Doğrulama hataları varsa yeni bir film kayıt Entity Framework yardımıyla film veritabanı tablosuna eklenir.</span><span class="sxs-lookup"><span data-stu-id="24f20-232">If there are no validation errors then a new movie record is added to the Movies database table with the help of the Entity Framework.</span></span> <span data-ttu-id="24f20-233">Yeni kayıt, aşağıdaki iki kod satırı ile veritabanına eklenir:</span><span class="sxs-lookup"><span data-stu-id="24f20-233">The new record is added to the database with the following two lines of code:</span></span>

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample5.cs)]

<span data-ttu-id="24f20-234">Kodun ilk satırını yeni film varlık Entity Framework tarafından izleniyor filmler kümesine ekler.</span><span class="sxs-lookup"><span data-stu-id="24f20-234">The first line of code adds the new Movie entity to the set of movies being tracked by the Entity Framework.</span></span> <span data-ttu-id="24f20-235">İkinci kod satırının, temel alınan veritabanına geri izleniyor filmler hangi değişiklikler yapılmıştır kaydeder.</span><span class="sxs-lookup"><span data-stu-id="24f20-235">The second line of code saves whatever changes have been made to the Movies being tracked back to the underlying database.</span></span>

**<span data-ttu-id="24f20-236">Şekil 8 – Ekle görüntüle</span><span class="sxs-lookup"><span data-stu-id="24f20-236">Figure 8 – The Add view</span></span>**

![clip_image016](creating-model-classes-with-the-entity-framework-cs/_static/image8.jpg)

#### <a name="updating-database-records-with-the-entity-framework"></a><span data-ttu-id="24f20-238">Entity Framework ile veritabanı kayıtlarını güncelleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="24f20-238">Updating Database Records with the Entity Framework</span></span>

<span data-ttu-id="24f20-239">Yalnızca yeni bir veritabanı kaydı eklemek için izlenen bir yaklaşım Entity Framework ile bir veritabanı kaydını düzenlemek için neredeyse aynı yaklaşımı takip edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-239">You can follow almost the same approach to edit a database record with the Entity Framework as the approach that we just followed to insert a new database record.</span></span> <span data-ttu-id="24f20-240">4 listeleme Edit() adlı iki yeni denetleyici eylemleri içerir.</span><span class="sxs-lookup"><span data-stu-id="24f20-240">Listing 4 contains two new controller actions named Edit().</span></span> <span data-ttu-id="24f20-241">İlk Edit() eylemin film kaydı düzenlemek için bir HTML formuna döndürür.</span><span class="sxs-lookup"><span data-stu-id="24f20-241">The first Edit() action returns an HTML form for editing a movie record.</span></span> <span data-ttu-id="24f20-242">Veritabanını güncellemek ikinci Edit() eylemi çalışır.</span><span class="sxs-lookup"><span data-stu-id="24f20-242">The second Edit() action attempts to update the database.</span></span>

**<span data-ttu-id="24f20-243">4 – Controllers\HomeController.cs (düzenleme metotlarını) listeleme</span><span class="sxs-lookup"><span data-stu-id="24f20-243">Listing 4 – Controllers\HomeController.cs (Edit methods)</span></span>**

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample6.cs)]

<span data-ttu-id="24f20-244">İkinci Edit() eylemi düzenlenmekte olan film kimlik eşleştiren veritabanından film kaydı alarak başlatır.</span><span class="sxs-lookup"><span data-stu-id="24f20-244">The second Edit() action starts by retrieving the Movie record from the database that matches the Id of the movie being edited.</span></span> <span data-ttu-id="24f20-245">Aşağıdaki LINQ to Entities deyimi belirli bir kimlik eşleştiren ilk veritabanı kaydı Dallarınızla:</span><span class="sxs-lookup"><span data-stu-id="24f20-245">The following LINQ to Entities statement grabs the first database record that matches a particular Id:</span></span>

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample7.cs)]

<span data-ttu-id="24f20-246">Ardından, TryUpdateModel() yöntemi film entity öğesinin özellikleri için değerleri HTML form alanlarını atamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="24f20-246">Next, the TryUpdateModel() method is used to assign the values of the HTML form fields to the properties of the movie entity.</span></span> <span data-ttu-id="24f20-247">Güncelleştirilecek tam özelliklerini belirtmek için bir beyaz liste sağlanır dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="24f20-247">Notice that a white list is supplied to specify the exact properties to update.</span></span>

<span data-ttu-id="24f20-248">Ardından, birkaç basit doğrulaması filmi hem Direktörü özellikleri değerlere sahip olduğunu doğrulamak için gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-248">Next, some simple validation is performed to verify that both the Movie Title and Director properties have values.</span></span> <span data-ttu-id="24f20-249">Her iki özellik için bir değer eksik gerekirse ModelState için doğrulama hata iletisi eklenir ve ModelState.IsValid false değerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="24f20-249">If either property is missing a value, then a validation error message is added to ModelState and ModelState.IsValid returns the value false.</span></span>

<span data-ttu-id="24f20-250">Doğrulama hatası varsa, son olarak, ardından temel film veritabanı tablosu ile herhangi bir değişiklik SaveChanges() yöntemi çağırarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-250">Finally, if there are no validation errors, then the underlying Movies database table is updated with any changes by calling the SaveChanges() method.</span></span>

<span data-ttu-id="24f20-251">Veritabanı kayıtlarını düzenleme yaparken veritabanı güncelleştirmesi gerçekleştiren denetleyici eylemini düzenlenmekte olan kaydın kimliğini geçirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="24f20-251">When editing database records, you need to pass the Id of the record being edited to the controller action that performs the database update.</span></span> <span data-ttu-id="24f20-252">Aksi takdirde, denetleyici eylemi, temel alınan veritabanında güncelleştirmek için kayıt bilmez.</span><span class="sxs-lookup"><span data-stu-id="24f20-252">Otherwise, the controller action will not know which record to update in the underlying database.</span></span> <span data-ttu-id="24f20-253">Listeleme 5'te yer alan düzenleme görünümü düzenlenmekte olan veritabanı kaydın kimliğini temsil eden gizli bir form alanı içerir.</span><span class="sxs-lookup"><span data-stu-id="24f20-253">The Edit view, contained in Listing 5, includes a hidden form field that represents the Id of the database record being edited.</span></span>

**<span data-ttu-id="24f20-254">Listing 5 – Views\Home\Edit.aspx</span><span class="sxs-lookup"><span data-stu-id="24f20-254">Listing 5 – Views\Home\Edit.aspx</span></span>**

[!code-aspx[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample8.aspx)]

## <a name="deleting-database-records-with-the-entity-framework"></a><span data-ttu-id="24f20-255">Entity Framework ile veritabanı kayıtlarını silme</span><span class="sxs-lookup"><span data-stu-id="24f20-255">Deleting Database Records with the Entity Framework</span></span>

<span data-ttu-id="24f20-256">Bu öğreticide çıkmanın ihtiyacımız, son veritabanı işlemi veritabanı kayıtlarını siliniyor.</span><span class="sxs-lookup"><span data-stu-id="24f20-256">The final database operation, which we need to tackle in this tutorial, is deleting database records.</span></span> <span data-ttu-id="24f20-257">Belirli bir veritabanı kaydını silmek için denetleyici eylem listeleme 6'da kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-257">You can use the controller action in Listing 6 to delete a particular database record.</span></span>

**<span data-ttu-id="24f20-258">6--listeleme \Controllers\HomeController.cs (silme eylemi)</span><span class="sxs-lookup"><span data-stu-id="24f20-258">Listing 6 -- \Controllers\HomeController.cs (Delete action)</span></span>**

[!code-csharp[Main](creating-model-classes-with-the-entity-framework-cs/samples/sample9.cs)]

<span data-ttu-id="24f20-259">Delete() eylem ilk kimlik eşleştiren varlık eyleme geçirilen film alır.</span><span class="sxs-lookup"><span data-stu-id="24f20-259">The Delete() action first retrieves the Movie entity that matches the Id passed to the action.</span></span> <span data-ttu-id="24f20-260">Ardından, film SaveChanges() yöntemi tarafından izlenen DeleteObject() yöntemi çağırarak veritabanından silinir.</span><span class="sxs-lookup"><span data-stu-id="24f20-260">Next, the movie is deleted from the database by calling the DeleteObject() method followed by the SaveChanges() method.</span></span> <span data-ttu-id="24f20-261">Son olarak, kullanıcı dizini görünümüne yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="24f20-261">Finally, the user is redirected back to the Index view.</span></span>

## <a name="summary"></a><span data-ttu-id="24f20-262">Özet</span><span class="sxs-lookup"><span data-stu-id="24f20-262">Summary</span></span>

<span data-ttu-id="24f20-263">Bu öğreticide, ASP.NET MVC ve Microsoft Entity Framework avantajlarından yararlanarak veritabanı temelli web uygulamaları nasıl oluşturabileceğinizi göstermek için oluştu.</span><span class="sxs-lookup"><span data-stu-id="24f20-263">The purpose of this tutorial was to demonstrate how you can build database-driven web applications by taking advantage of ASP.NET MVC and the Microsoft Entity Framework.</span></span> <span data-ttu-id="24f20-264">Seçin, ekleme, güncelleştirme olanak sağlayan bir uygulama oluşturmak ve veritabanı kayıtlarını silmek öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="24f20-264">You learned how to build an application that enables you to select, insert, update, and delete database records.</span></span>

<span data-ttu-id="24f20-265">İlk olarak, bir varlık veri modelinden Visual Studio içinde oluşturulacak varlık veri modeli Sihirbazı'nı nasıl kullanabileceğinizi ele almıştık.</span><span class="sxs-lookup"><span data-stu-id="24f20-265">First, we discussed how you can use the Entity Data Model Wizard to generate an Entity Data Model from within Visual Studio.</span></span> <span data-ttu-id="24f20-266">Ardından, LINQ to Entities bir veritabanı tablosundan veritabanı kayıt kümesini almak için nasıl kullanılacağını öğrenin.</span><span class="sxs-lookup"><span data-stu-id="24f20-266">Next, you learn how to use LINQ to Entities to retrieve a set of database records from a database table.</span></span> <span data-ttu-id="24f20-267">Son olarak, Entity Framework ekleme, güncelleştirme ve veritabanı kayıtlarını silmek için kullandık.</span><span class="sxs-lookup"><span data-stu-id="24f20-267">Finally, we used the Entity Framework to insert, update, and delete database records.</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="24f20-268">Next</span><span class="sxs-lookup"><span data-stu-id="24f20-268">Next</span></span>](creating-model-classes-with-linq-to-sql-cs.md)
