---
uid: mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-cs
title: JavaScript ekleme saldırılarını (C#) önlemek | Microsoft Docs
author: StephenWalther
description: JavaScript ekleme saldırılarını ve siteler arası betik saldırılarının sizin için oluşmasını önleyin. Bu öğreticide, Stephen Walther nasıl kolayca de kullanabilirsiniz...
ms.author: riande
ms.date: 08/19/2008
ms.assetid: d0136da6-81a4-4815-b002-baa84744c09e
msc.legacyurl: /mvc/overview/older-versions-1/security/preventing-javascript-injection-attacks-cs
msc.type: authoredcontent
ms.openlocfilehash: fb00ee8a7e3d678e824052060eb5d9fd5d4b6a42
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78600410"
---
# <a name="preventing-javascript-injection-attacks-c"></a><span data-ttu-id="1a0db-104">JavaScript Ekleme Saldırılarını Engelleme (C#)</span><span class="sxs-lookup"><span data-stu-id="1a0db-104">Preventing JavaScript Injection Attacks (C#)</span></span>

<span data-ttu-id="1a0db-105">ile [Stephen Walther](https://github.com/StephenWalther)</span><span class="sxs-lookup"><span data-stu-id="1a0db-105">by [Stephen Walther](https://github.com/StephenWalther)</span></span>

[<span data-ttu-id="1a0db-106">PDF 'YI indir</span><span class="sxs-lookup"><span data-stu-id="1a0db-106">Download PDF</span></span>](https://download.microsoft.com/download/8/4/8/84843d8d-1575-426c-bcb5-9d0c42e51416/ASPNET_MVC_Tutorial_06_CS.pdf)

> <span data-ttu-id="1a0db-107">JavaScript ekleme saldırılarını ve siteler arası betik saldırılarının sizin için oluşmasını önleyin.</span><span class="sxs-lookup"><span data-stu-id="1a0db-107">Prevent JavaScript Injection Attacks and Cross-Site Scripting Attacks from happening to you.</span></span> <span data-ttu-id="1a0db-108">Bu öğreticide, Stephen Walther bu tür saldırıları nasıl kolayca erteleyerek içeriğinizi Kodlayabileceğiniz açıklanır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-108">In this tutorial, Stephen Walther explains how you can easily defeat these types of attacks by HTML encoding your content.</span></span>

<span data-ttu-id="1a0db-109">Bu öğreticinin amacı, ASP.NET MVC uygulamalarınızda JavaScript ekleme saldırılarını nasıl önleyebileceğini açıklamaktır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-109">The goal of this tutorial is to explain how you can prevent JavaScript injection attacks in your ASP.NET MVC applications.</span></span> <span data-ttu-id="1a0db-110">Bu öğreticide, bir JavaScript ekleme saldırısından Web sitenizin sonlandırılabileceği iki yaklaşım ele alınmaktadır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-110">This tutorial discusses two approaches to defending your website against a JavaScript injection attack.</span></span> <span data-ttu-id="1a0db-111">Görüntülenen verileri kodlayarak JavaScript ekleme saldırılarını nasıl önleyeceğinizi öğrenirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-111">You learn how to prevent JavaScript injection attacks by encoding the data that you display.</span></span> <span data-ttu-id="1a0db-112">Ayrıca, kabul ettiğiniz verileri kodlayarak JavaScript ekleme saldırılarını nasıl önleyeceğinizi öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-112">You also learn how to prevent JavaScript injection attacks by encoding the data that you accept.</span></span>

## <a name="what-is-a-javascript-injection-attack"></a><span data-ttu-id="1a0db-113">JavaScript ekleme saldırısı nedir?</span><span class="sxs-lookup"><span data-stu-id="1a0db-113">What is a JavaScript Injection Attack?</span></span>

<span data-ttu-id="1a0db-114">Kullanıcı girişini kabul ettiğinizde ve Kullanıcı girişini yeniden görüntülerseniz, Web sitenizi JavaScript ekleme saldırılarına açık olarak açarsınız.</span><span class="sxs-lookup"><span data-stu-id="1a0db-114">Whenever you accept user input and redisplay the user input, you open your website to JavaScript injection attacks.</span></span> <span data-ttu-id="1a0db-115">JavaScript ekleme saldırılarına açık olan somut bir uygulamayı inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="1a0db-115">Let's examine a concrete application that is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="1a0db-116">Müşteri geri bildirim Web sitesi oluşturduğunuzu düşünün (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="1a0db-116">Imagine that you have created a customer feedback website (see Figure 1).</span></span> <span data-ttu-id="1a0db-117">Müşteriler web sitesini ziyaret edebilir ve ürünlerinizi kullanarak deneyimlerine ilişkin geri bildirim girebilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-117">Customers can visit the website and enter feedback on their experience using your products.</span></span> <span data-ttu-id="1a0db-118">Bir müşteri geri bildirimi gönderdiğinde geri bildirim sayfasında geri bildirim yeniden görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-118">When a customer submits their feedback, the feedback is redisplayed on the feedback page.</span></span>

<span data-ttu-id="1a0db-119">[![müşteri geri bildirim Web sitesi](preventing-javascript-injection-attacks-cs/_static/image2.png)](preventing-javascript-injection-attacks-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1a0db-119">[![Customer Feedback Website](preventing-javascript-injection-attacks-cs/_static/image2.png)](preventing-javascript-injection-attacks-cs/_static/image1.png)</span></span>

<span data-ttu-id="1a0db-120">**Şekil 01**: müşteri geri bildirim Web sitesi ([tam boyutlu görüntüyü görüntülemek için tıklayın](preventing-javascript-injection-attacks-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1a0db-120">**Figure 01**: Customer Feedback Website ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image3.png))</span></span>

<span data-ttu-id="1a0db-121">Müşteri geri bildirim Web sitesi, liste 1 ' deki `controller` kullanır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-121">The customer feedback website uses the `controller` in Listing 1.</span></span> <span data-ttu-id="1a0db-122">Bu `controller`, `Index()` ve `Create()`adında iki eylem içerir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-122">This `controller` contains two actions named `Index()` and `Create()`.</span></span>

<span data-ttu-id="1a0db-123">**Listeleme 1 – `HomeController.cs`**</span><span class="sxs-lookup"><span data-stu-id="1a0db-123">**Listing 1 – `HomeController.cs`**</span></span>

[!code-csharp[Main](preventing-javascript-injection-attacks-cs/samples/sample1.cs)]

<span data-ttu-id="1a0db-124">`Index()` yöntemi `Index` görünümünü görüntüler.</span><span class="sxs-lookup"><span data-stu-id="1a0db-124">The `Index()` method displays the `Index` view.</span></span> <span data-ttu-id="1a0db-125">Bu yöntem, veritabanındaki geri bildirimleri (LINQ to SQL bir sorgu kullanarak) alarak önceki müşteri geri bildirimini `Index` görünümüne geçirir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-125">This method passes all of the previous customer feedback to the `Index` view by retrieving the feedback from the database (using a LINQ to SQL query).</span></span>

<span data-ttu-id="1a0db-126">`Create()` yöntemi yeni bir geri bildirim öğesi oluşturur ve veritabanına ekler.</span><span class="sxs-lookup"><span data-stu-id="1a0db-126">The `Create()` method creates a new Feedback item and adds it to the database.</span></span> <span data-ttu-id="1a0db-127">Müşterinin forma girdiği ileti, ileti parametresindeki `Create()` yöntemine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-127">The message that the customer enters in the form is passed to the `Create()` method in the message parameter.</span></span> <span data-ttu-id="1a0db-128">Bir geri bildirim öğesi oluşturulur ve ileti, geri bildirim öğesinin `Message` özelliğine atanır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-128">A Feedback item is created and the message is assigned to the Feedback item's `Message` property.</span></span> <span data-ttu-id="1a0db-129">Geri bildirim öğesi `DataContext.SubmitChanges()` yöntemi çağrısıyla veritabanına gönderilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-129">The Feedback item is submitted to the database with the `DataContext.SubmitChanges()` method call.</span></span> <span data-ttu-id="1a0db-130">Son olarak, ziyaretçi tüm geri bildirimin görüntülendiği `Index` görünümüne yeniden yönlendirilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-130">Finally, the visitor is redirected back to the `Index` view where all of the feedback is displayed.</span></span>

<span data-ttu-id="1a0db-131">`Index` görünümü liste 2 ' de yer alır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-131">The `Index` view is contained in Listing 2.</span></span>

<span data-ttu-id="1a0db-132">**Listeleme 2 – `Index.aspx`**</span><span class="sxs-lookup"><span data-stu-id="1a0db-132">**Listing 2 – `Index.aspx`**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample2.aspx)]

<span data-ttu-id="1a0db-133">`Index` görünümü iki bölümden oluşur.</span><span class="sxs-lookup"><span data-stu-id="1a0db-133">The `Index` view has two sections.</span></span> <span data-ttu-id="1a0db-134">En üstteki bölüm, gerçek müşteri geri bildirim formunu içerir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-134">The top section contains the actual customer feedback form.</span></span> <span data-ttu-id="1a0db-135">Alt bölüm Için bir içerir... Tüm önceki müşteri geri bildirim öğelerinin üzerinden döngü yapan ve her bir geri bildirim öğesi için EntryDate ve Message özelliklerini görüntüleyen her döngü.</span><span class="sxs-lookup"><span data-stu-id="1a0db-135">The bottom section contains a For..Each loop that loops through all of the previous customer feedback items and displays the EntryDate and Message properties for each feedback item.</span></span>

<span data-ttu-id="1a0db-136">Müşteri geri bildirimi web sitesi, basit bir Web sitesidir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-136">The customer feedback website is a simple website.</span></span> <span data-ttu-id="1a0db-137">Ne yazık ki, Web sitesi JavaScript ekleme saldırılarına açıktır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-137">Unfortunately, the website is open to JavaScript injection attacks.</span></span>

<span data-ttu-id="1a0db-138">Müşteri geri bildirim formuna aşağıdaki metni girdiğinizi düşünelim:</span><span class="sxs-lookup"><span data-stu-id="1a0db-138">Imagine that you enter the following text into the customer feedback form:</span></span>

[!code-html[Main](preventing-javascript-injection-attacks-cs/samples/sample3.html)]

<span data-ttu-id="1a0db-139">Bu metin, bir uyarı ileti kutusu gösteren bir JavaScript betiğini temsil eder.</span><span class="sxs-lookup"><span data-stu-id="1a0db-139">This text represents a JavaScript script that displays an alert message box.</span></span> <span data-ttu-id="1a0db-140">Birisi bu betiği geri bildirim formuna gönderdikten sonra ileti <em>Boo,!</em> Müşteri geri bildirim Web sitesini herkes ziyaret ettiğinde görüntülenir (bkz. Şekil 2).</span><span class="sxs-lookup"><span data-stu-id="1a0db-140">After someone submits this script into the feedback form, the message <em>Boo!</em>will appear whenever anyone visits the customer feedback website in the future (see Figure 2).</span></span>

<span data-ttu-id="1a0db-141">[JavaScript ekleme ![](preventing-javascript-injection-attacks-cs/_static/image5.png)](preventing-javascript-injection-attacks-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1a0db-141">[![JavaScript Injection](preventing-javascript-injection-attacks-cs/_static/image5.png)](preventing-javascript-injection-attacks-cs/_static/image4.png)</span></span>

<span data-ttu-id="1a0db-142">**Şekil 02**: JavaScript ekleme ([tam boyutlu görüntüyü görüntülemek için tıklayın](preventing-javascript-injection-attacks-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1a0db-142">**Figure 02**: JavaScript Injection ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image6.png))</span></span>

<span data-ttu-id="1a0db-143">Şimdi, JavaScript ekleme saldırılarına ilk yanıtınız Apathy olabilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-143">Now, your initial response to JavaScript injection attacks might be apathy.</span></span> <span data-ttu-id="1a0db-144">JavaScript ekleme saldırılarının yalnızca bir *savunma* saldırısı türü olduğunu düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-144">You might think that JavaScript injection attacks are simply a type of *defacement* attack.</span></span> <span data-ttu-id="1a0db-145">JavaScript ekleme saldırısı gerçekleştirerek hiç kimse gerçekten bir şey yapamadığımızı düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-145">You might believe that no one can do anything truly evil by committing a JavaScript injection attack.</span></span>

<span data-ttu-id="1a0db-146">Ne yazık ki, bir korsan ekleme JavaScript 'ı bir Web sitesine kadar gerçekten, gerçekten bir şekilde gerçekleştirebilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-146">Unfortunately, a hacker can do some really, really evil things by injecting JavaScript into a website.</span></span> <span data-ttu-id="1a0db-147">Bir siteler arası komut dosyası (XSS) saldırısı gerçekleştirmek için JavaScript ekleme saldırısı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-147">You can use a JavaScript injection attack to perform a Cross-Site Scripting (XSS) attack.</span></span> <span data-ttu-id="1a0db-148">Bir siteler arası betik saldırısında, gizli Kullanıcı bilgilerini çalmaya ve bilgileri başka bir Web sitesine göndermektir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-148">In a Cross-Site Scripting attack, you steal confidential user information and send the information to another website.</span></span>

<span data-ttu-id="1a0db-149">Örneğin, bir korsan tarayıcı tanımlama bilgilerinin değerlerini diğer kullanıcılardan çalmak için JavaScript ekleme saldırısı kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-149">For example, a hacker can use a JavaScript injection attack to steal the values of browser cookies from other users.</span></span> <span data-ttu-id="1a0db-150">Parolalar, kredi kartı numaraları veya sosyal güvenlik numaraları gibi hassas bilgiler tarayıcı tanımlama bilgilerinde depolanıyorsa, bir korsan bu bilgileri çalmak için JavaScript ekleme saldırısı kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-150">If sensitive information -- such as passwords, credit card numbers, or social security numbers – is stored in the browser cookies, then a hacker can use a JavaScript injection attack to steal this information.</span></span> <span data-ttu-id="1a0db-151">Ya da bir Kullanıcı, JavaScript saldırılarına karşı riskli bir sayfada bulunan bir form alanına gizli bilgiler girerse, korsan, form verilerini almak ve başka bir Web sitesine göndermek için eklenen JavaScript 'i kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-151">Or, if a user enters sensitive information in a form field contained in a page that has been compromised with a JavaScript attack, then the hacker can use the injected JavaScript to grab the form data and send it to another website.</span></span>

<span data-ttu-id="1a0db-152">*Lütfen korkmuş olun*.</span><span class="sxs-lookup"><span data-stu-id="1a0db-152">*Please be scared*.</span></span> <span data-ttu-id="1a0db-153">JavaScript ekleme saldırılarını önemli ölçüde yapın ve kullanıcılarınızın gizli bilgilerini koruyun.</span><span class="sxs-lookup"><span data-stu-id="1a0db-153">Take JavaScript injection attacks seriously and protect your user's confidential information.</span></span> <span data-ttu-id="1a0db-154">Sonraki iki bölümde, JavaScript ekleme saldırılarına karşı ASP.NET MVC uygulamalarınızı savunmak için kullanabileceğiniz iki teknik tartışıyoruz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-154">In the next two sections, we discuss two techniques that you can use to defend your ASP.NET MVC applications from JavaScript injection attacks.</span></span>

## <a name="approach-1-html-encode-in-the-view"></a><span data-ttu-id="1a0db-155">Yaklaşım #1: görünümdeki HTML kodlaması</span><span class="sxs-lookup"><span data-stu-id="1a0db-155">Approach #1: HTML Encode in the View</span></span>

<span data-ttu-id="1a0db-156">JavaScript ekleme saldırılarını önlemek için kullanabileceğiniz kolay bir yöntem, bir görünümdeki verileri yeniden görüntülediğinizde Web sitesi kullanıcıları tarafından girilen tüm verileri HTML olarak kodlayabilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-156">One easy method of preventing JavaScript injection attacks is to HTML encode any data entered by website users when you redisplay the data in a view.</span></span> <span data-ttu-id="1a0db-157">Listeleme 3 ' teki güncelleştirilmiş `Index` görünümü bu yaklaşımı izler.</span><span class="sxs-lookup"><span data-stu-id="1a0db-157">The updated `Index` view in Listing 3 follows this approach.</span></span>

<span data-ttu-id="1a0db-158">**Listeleme 3 – `Index.aspx` (HTML kodlamalı)**</span><span class="sxs-lookup"><span data-stu-id="1a0db-158">**Listing 3 – `Index.aspx` (HTML Encoded)**</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample4.aspx)]

<span data-ttu-id="1a0db-159">Değer aşağıdaki kodla görüntülenmeden önce, `feedback.Message` değerinin HTML kodlamalı olduğuna dikkat edin:</span><span class="sxs-lookup"><span data-stu-id="1a0db-159">Notice that the value of `feedback.Message` is HTML encoded before the value is displayed with the following code:</span></span>

[!code-aspx[Main](preventing-javascript-injection-attacks-cs/samples/sample5.aspx)]

<span data-ttu-id="1a0db-160">Bir dizeyi HTML olarak kodlamak ne anlama geliyor?</span><span class="sxs-lookup"><span data-stu-id="1a0db-160">What does it mean to HTML encode a string?</span></span> <span data-ttu-id="1a0db-161">HTML 'yi bir dizeyi kodlarken, `<` ve `>` gibi tehlikeli karakterler `&lt;` ve `&gt;`gibi HTML varlık başvurularına göre değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-161">When you HTML encode a string, dangerous characters such as `<` and `>` are replaced by HTML entity references such as `&lt;` and `&gt;`.</span></span> <span data-ttu-id="1a0db-162">Bu nedenle dize `<script>alert("Boo!")</script>` HTML kodlandığında, `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`dönüştürülür.</span><span class="sxs-lookup"><span data-stu-id="1a0db-162">So when the string `<script>alert("Boo!")</script>` is HTML encoded, it gets converted to `&lt;script&gt;alert(&quot;Boo!&quot;)&lt;/script&gt;`.</span></span> <span data-ttu-id="1a0db-163">Kodlanmış dize, bir tarayıcı tarafından yorumlanan bir JavaScript betiği olarak çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-163">The encoded string no longer executes as a JavaScript script when interpreted by a browser.</span></span> <span data-ttu-id="1a0db-164">Bunun yerine, Şekil 3 ' te zararsız sayfa alırsınız.</span><span class="sxs-lookup"><span data-stu-id="1a0db-164">Instead, you get the harmless page in Figure 3.</span></span>

<span data-ttu-id="1a0db-165">[![, beklenen JavaScript saldırısı](preventing-javascript-injection-attacks-cs/_static/image8.png)](preventing-javascript-injection-attacks-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1a0db-165">[![Defeated JavaScript Attack](preventing-javascript-injection-attacks-cs/_static/image8.png)](preventing-javascript-injection-attacks-cs/_static/image7.png)</span></span>

<span data-ttu-id="1a0db-166">**Şekil 03**: beklenen JavaScript saldırısı ([tam boyutlu görüntüyü görüntülemek için tıklayın](preventing-javascript-injection-attacks-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1a0db-166">**Figure 03**: Defeated JavaScript Attack ([Click to view full-size image](preventing-javascript-injection-attacks-cs/_static/image9.png))</span></span>

<span data-ttu-id="1a0db-167">Kod 3 ' teki `Index` görünümünde yalnızca `feedback.Message` değerinin kodlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="1a0db-167">Notice that in the `Index` view in Listing 3 only the value of `feedback.Message` is encoded.</span></span> <span data-ttu-id="1a0db-168">`feedback.EntryDate` değeri kodlanmadı.</span><span class="sxs-lookup"><span data-stu-id="1a0db-168">The value of `feedback.EntryDate` is not encoded.</span></span> <span data-ttu-id="1a0db-169">Yalnızca bir kullanıcı tarafından girilen verileri kodlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-169">You only need to encode data entered by a user.</span></span> <span data-ttu-id="1a0db-170">EntryDate değeri denetleyicide oluşturulduğundan, bu değeri HTML olarak kodlamak zorunda kalmazsınız.</span><span class="sxs-lookup"><span data-stu-id="1a0db-170">Because the value of EntryDate was generated in the controller, you don't need to HTML encode this value.</span></span>

## <a name="approach-2-html-encode-in-the-controller"></a><span data-ttu-id="1a0db-171">Yaklaşım #2: denetleyicide HTML kodlaması</span><span class="sxs-lookup"><span data-stu-id="1a0db-171">Approach #2: HTML Encode in the Controller</span></span>

<span data-ttu-id="1a0db-172">Verileri bir görünümde görüntülediğinizde HTML kodlama verileri yerine verileri veritabanına göndermeden önce HTML kodlaması yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-172">Instead of HTML encoding data when you display the data in a view, you can HTML encode the data just before you submit the data to the database.</span></span> <span data-ttu-id="1a0db-173">Bu ikinci yaklaşım, liste 4 ' teki `controller` söz konusu olduğunda alınır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-173">This second approach is taken in the case of the `controller` in Listing 4.</span></span>

<span data-ttu-id="1a0db-174">**Listeleme 4 – `HomeController.cs` (HTML kodlamalı)**</span><span class="sxs-lookup"><span data-stu-id="1a0db-174">**Listing 4 – `HomeController.cs` (HTML Encoded)**</span></span>

[!code-csharp[Main](preventing-javascript-injection-attacks-cs/samples/sample6.cs)]

<span data-ttu-id="1a0db-175">Değer, `Create()` eyleminde veritabanına gönderilmeden önce Ileti değerinin HTML olarak kodlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="1a0db-175">Notice that the value of Message is HTML encoded before the value is submitted to the database within the `Create()` action.</span></span> <span data-ttu-id="1a0db-176">Ileti görünümde yeniden görüntülendiğinde, Ileti HTML kodlamalı olur ve Iletiye eklenen herhangi bir JavaScript yürütülmez.</span><span class="sxs-lookup"><span data-stu-id="1a0db-176">When the Message is redisplayed in the view, the Message is HTML encoded and any JavaScript injected in the Message is not executed.</span></span>

<span data-ttu-id="1a0db-177">Genellikle, bu öğreticide açıklanan ilk yaklaşımı bu ikinci yaklaşımda benimsemelisiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-177">Typically, you should favor the first approach discussed in this tutorial over this second approach.</span></span> <span data-ttu-id="1a0db-178">Bu ikinci yaklaşımla ilgili sorun, veritabanınızdaki HTML kodlu verilerle sona erdirmek için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="1a0db-178">The problem with this second approach is that you end up with HTML encoded data in your database.</span></span> <span data-ttu-id="1a0db-179">Diğer bir deyişle, veritabanı verileriniz, komik görünen karakterlerle dizinlenmiş.</span><span class="sxs-lookup"><span data-stu-id="1a0db-179">In other words, your database data is dirtied with funny looking characters.</span></span>

<span data-ttu-id="1a0db-180">Bu neden yanlış?</span><span class="sxs-lookup"><span data-stu-id="1a0db-180">Why is this bad?</span></span> <span data-ttu-id="1a0db-181">Veritabanı verilerini bir Web sayfası dışında bir şekilde görüntülemeye ihtiyacınız varsa, sorunlar olur.</span><span class="sxs-lookup"><span data-stu-id="1a0db-181">If you ever need to display the database data in something other than a web page, then you will have problems.</span></span> <span data-ttu-id="1a0db-182">Örneğin, verileri artık Windows Forms bir uygulamada kolayca görüntüleyemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-182">For example, you can no longer easily display the data in a Windows Forms application.</span></span>

## <a name="summary"></a><span data-ttu-id="1a0db-183">Özet</span><span class="sxs-lookup"><span data-stu-id="1a0db-183">Summary</span></span>

<span data-ttu-id="1a0db-184">Bu öğreticinin amacı, JavaScript ekleme saldırısının aday adına yönelik olarak korsalcıdır.</span><span class="sxs-lookup"><span data-stu-id="1a0db-184">The purpose of this tutorial was to scare you about the prospect of a JavaScript injection attack.</span></span> <span data-ttu-id="1a0db-185">Bu öğretici, JavaScript ekleme saldırılarına karşı ASP.NET MVC uygulamalarınızın ertelanması için iki yaklaşımdan bahseterek, görünümdeki Kullanıcı tarafından gönderilen verileri HTML olarak kodlayabilir veya denetleyicideki Kullanıcı tarafından gönderilen verileri kodlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1a0db-185">This tutorial discussed two approaches for defending your ASP.NET MVC applications against JavaScript injection attacks: you can either HTML encode user submitted data in the view or you can HTML encode user submitted data in the controller.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1a0db-186">[Önceki](authenticating-users-with-windows-authentication-cs.md)
> [İleri](authenticating-users-with-forms-authentication-vb.md)</span><span class="sxs-lookup"><span data-stu-id="1a0db-186">[Previous](authenticating-users-with-windows-authentication-cs.md)
[Next](authenticating-users-with-forms-authentication-vb.md)</span></span>
