---
uid: mvc/overview/older-versions-1/security/authenticating-users-with-forms-authentication-vb
title: Forms kimlik doğrulama (VB) ile kullanıcıların kimliğini doğrulama | Microsoft Docs
author: microsoft
description: '[Authorize] özniteliği kullanmayı öğrenin MVC uygulamanızda belirli sayfalara parolanızı koruyun. Web sitesi yönetim çok kullanmayı öğrenin...'
ms.author: riande
ms.date: 01/27/2009
ms.assetid: 4341f5b1-6fe5-44c5-8b8a-18fa84f80177
msc.legacyurl: /mvc/overview/older-versions-1/security/authenticating-users-with-forms-authentication-vb
msc.type: authoredcontent
ms.openlocfilehash: a2c2140631d59a7f8b21aa73613a92ea5c7a91d0
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65122072"
---
# <a name="authenticating-users-with-forms-authentication-vb"></a><span data-ttu-id="70d2e-104">Forms Kimlik Doğrulaması ile Kullanıcıların Kimliğini Doğrulama (VB)</span><span class="sxs-lookup"><span data-stu-id="70d2e-104">Authenticating Users with Forms Authentication (VB)</span></span>

<span data-ttu-id="70d2e-105">tarafından [Microsoft](https://github.com/microsoft)</span><span class="sxs-lookup"><span data-stu-id="70d2e-105">by [Microsoft](https://github.com/microsoft)</span></span>

> <span data-ttu-id="70d2e-106">[Authorize] özniteliği kullanmayı öğrenin MVC uygulamanızda belirli sayfalara parolanızı koruyun.</span><span class="sxs-lookup"><span data-stu-id="70d2e-106">Learn how to use the [Authorize] attribute to password protect particular pages in your MVC application.</span></span> <span data-ttu-id="70d2e-107">Kullanıcılar ve roller oluşturmak ve yönetmek için Web Sitesi Yönetim Aracı'nı kullanmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-107">You learn how to use the Web Site Administration Tool to create and manage users and roles.</span></span> <span data-ttu-id="70d2e-108">Ayrıca kullanıcı hesabı ve rol bilgilerini depolandığı yapılandırmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-108">You also learn how to configure where user account and role information is stored.</span></span>

<span data-ttu-id="70d2e-109">Bu öğreticide formların nasıl kullanabileceğiniz açıklayacak şekilde hedefidir parola kimlik doğrulaması, ASP.NET MVC uygulamaları görünümlerde koruyun.</span><span class="sxs-lookup"><span data-stu-id="70d2e-109">The goal of this tutorial is to explain how you can use Forms authentication to password protect the views in your ASP.NET MVC applications.</span></span> <span data-ttu-id="70d2e-110">Kullanıcıları ve rolleri oluşturmak için Web Sitesi Yönetim Aracı'nı kullanmayı öğrenin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-110">You learn how to use the Web Site Administration Tool to create users and roles.</span></span> <span data-ttu-id="70d2e-111">Ayrıca yetkisiz kullanıcıların denetleyici eylemleri yürütmesini engelleme öğrenin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-111">You also learn how to prevent unauthorized users from invoking controller actions.</span></span> <span data-ttu-id="70d2e-112">Son olarak, kullanıcı adları ve parolaların depolandığı yapılandırma konusunda bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-112">Finally, you learn how to configure where user names and passwords are stored.</span></span>

#### <a name="using-the-web-site-administration-tool"></a><span data-ttu-id="70d2e-113">Web Sitesi Yönetim Aracı'nı kullanma</span><span class="sxs-lookup"><span data-stu-id="70d2e-113">Using the Web Site Administration Tool</span></span>

<span data-ttu-id="70d2e-114">Bunu başka bir şey yapmadan önce ki bazı kullanıcılar ve roller oluşturarak başlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-114">Before we do anything else, we should start by creating some users and roles.</span></span> <span data-ttu-id="70d2e-115">Visual Studio 2008 Web Sitesi Yönetim Aracı'nı yararlanmak için yeni kullanıcılar ve roller oluşturmak için en kolay yolu olan.</span><span class="sxs-lookup"><span data-stu-id="70d2e-115">The easiest way to create new users and roles is to take advantage of the Visual Studio 2008 Web Site Administration Tool.</span></span> <span data-ttu-id="70d2e-116">Menü seçeneğini belirleyerek bu araç başlatabilirsiniz **proje, ASP.NET yapılandırma**.</span><span class="sxs-lookup"><span data-stu-id="70d2e-116">You can launch this tool by selecting the menu option **Project, ASP.NET Configuration**.</span></span> <span data-ttu-id="70d2e-117">Alternatif olarak, Çözüm Gezgini penceresinin en üstünde görünen dünyanın ulaşmaktan Çekiç (biraz scary) simgesini tıklayarak Web Sitesi Yönetim Aracı'nı çalıştırmanızı sağlayan (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="70d2e-117">Alternatively, you can launch the Web Site Administration Tool by clicking the (somewhat scary) icon of the hammer hitting the world that appears at the top of the Solution Explorer window (see Figure 1).</span></span>

<span data-ttu-id="70d2e-118">**Şekil 1 – Web Sitesi Yönetim Aracı'nı başlatma**</span><span class="sxs-lookup"><span data-stu-id="70d2e-118">**Figure 1 – Launching the Web Site Administration Tool**</span></span>

![clip_image002[4]](authenticating-users-with-forms-authentication-vb/_static/image1.jpg)

<span data-ttu-id="70d2e-120">Web Sitesi Yönetim Aracı'içinde yeni kullanıcılar ve roller Güvenlik sekmesini seçerek oluşturun. Tıklayın **kullanıcı oluşturma** Stephen adlı yeni bir kullanıcı oluşturmak için bağlantı (bkz: Şekil 2).</span><span class="sxs-lookup"><span data-stu-id="70d2e-120">Within the Web Site Administration Tool, you create new users and roles by selecting the Security tab. Click the **Create user** link to create a new user named Stephen (see Figure 2).</span></span> <span data-ttu-id="70d2e-121">Stephen kullanıcı istediğiniz herhangi bir parolayla sağlayın (örneğin, *gizli*).</span><span class="sxs-lookup"><span data-stu-id="70d2e-121">Provide the Stephen user with any password that you want (for example, *secret*).</span></span>

<span data-ttu-id="70d2e-122">**Şekil 2-yeni kullanıcı oluşturma**</span><span class="sxs-lookup"><span data-stu-id="70d2e-122">**Figure 2 – Creating a new user**</span></span>

![clip_image004[4]](authenticating-users-with-forms-authentication-vb/_static/image2.jpg)

<span data-ttu-id="70d2e-124">İlk rol etkinleştirme ve bir veya daha fazla rollerini tanımlama yeni roller oluşturun.</span><span class="sxs-lookup"><span data-stu-id="70d2e-124">You create new roles by first enabling roles and defining one or more roles.</span></span> <span data-ttu-id="70d2e-125">Rolleri etkinleştirmek **rolleri etkinleştir** bağlantı.</span><span class="sxs-lookup"><span data-stu-id="70d2e-125">Enable roles by clicking the **Enable roles** link.</span></span> <span data-ttu-id="70d2e-126">Ardından, adlı bir rol oluşturun *Yöneticiler* tıklayarak **oluşturabilir veya rolleri yönetme** (bkz: Şekil 3) bağlayın.</span><span class="sxs-lookup"><span data-stu-id="70d2e-126">Next, create a role named *Administrators* by clicking the **Create or Manage roles** link (see Figure 3).</span></span>

<span data-ttu-id="70d2e-127">**Şekil 3 – yeni rol oluşturma**</span><span class="sxs-lookup"><span data-stu-id="70d2e-127">**Figure 3 – Creating a new role**</span></span>

![clip_image006[4]](authenticating-users-with-forms-authentication-vb/_static/image3.jpg)

<span data-ttu-id="70d2e-129">Son olarak, Sally adlı yeni bir kullanıcı oluşturun ve sally'nin satış Create User bağlantıya tıklamak ve sally'nin satış oluştururken seçmek, yöneticilerin yalnızca Yöneticiler rolü ile ilişkilendir (bkz: Şekil 4).</span><span class="sxs-lookup"><span data-stu-id="70d2e-129">Finally, create a new user named Sally and associate Sally with the Administrators role by clicking the Create User link and selecting Administrators when creating Sally (see Figure 4).</span></span>

<span data-ttu-id="70d2e-130">**Şekil 4 – bir kullanıcı bir role ekleniyor**</span><span class="sxs-lookup"><span data-stu-id="70d2e-130">**Figure 4 – Adding a user to a role**</span></span>

![clip_image008[4]](authenticating-users-with-forms-authentication-vb/_static/image4.jpg)

<span data-ttu-id="70d2e-132">Tüm belirtti ve bitti Stephen ve Sally adlı iki yeni kullanıcı olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-132">When all is said and done, you should have two new users named Stephen and Sally.</span></span> <span data-ttu-id="70d2e-133">Ayrıca, yöneticilerin adlı yeni bir rolü de sahip olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="70d2e-133">You should also have a new role named Administrators.</span></span> <span data-ttu-id="70d2e-134">Sally Yöneticiler rolünün bir üyesidir ve Stephen değildir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-134">Sally is a member of the Administrators role and Stephen is not.</span></span>

#### <a name="requiring-authorization"></a><span data-ttu-id="70d2e-135">Yetkilendirme gerektiren</span><span class="sxs-lookup"><span data-stu-id="70d2e-135">Requiring Authorization</span></span>

<span data-ttu-id="70d2e-136">Kullanıcı eylemi [Authorize] özniteliği ekleyerek bir denetleyici eylemi çağırır. önce doğrulanması bir kullanıcı gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-136">You can require a user to be authenticated before the user invokes a controller action by adding the [Authorize] attribute to the action.</span></span> <span data-ttu-id="70d2e-137">[Authorize] özniteliği için ayrı ayrı denetleyicisinin eylem uygulayabilir veya bu öznitelik için bir tüm denetleyicinin sınıf uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-137">You can apply the [Authorize] attribute to an individual controller action or you can apply this attribute to an entire controller class.</span></span>

<span data-ttu-id="70d2e-138">Örneğin, denetleyici 1 listeleme CompanySecrets() adlı bir eylem kullanıma sunar.</span><span class="sxs-lookup"><span data-stu-id="70d2e-138">For example, the controller in Listing 1 exposes an action named CompanySecrets().</span></span> <span data-ttu-id="70d2e-139">Bu eylem [Authorize] özniteliği ile donatılmış olduğundan, bir kullanıcının kimlik doğrulamasını sürece bu eylem çağrılamaz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-139">Because this action is decorated with the [Authorize] attribute, this action cannot be invoked unless a user is authenticated.</span></span>

<span data-ttu-id="70d2e-140">**1 – Controllers\HomeController.vb listeleme**</span><span class="sxs-lookup"><span data-stu-id="70d2e-140">**Listing 1 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](authenticating-users-with-forms-authentication-vb/samples/sample1.vb)]

<span data-ttu-id="70d2e-141">Tarayıcınızın adres çubuğuna URL'yi /Home/CompanySecrets girerek CompanySecrets() eylemin çağırması ve kimliği doğrulanmış bir kullanıcı olmayan varsa, otomatik olarak oturum açma görünümüne yönlendirilir (bkz: Şekil 5).</span><span class="sxs-lookup"><span data-stu-id="70d2e-141">If you invoke the CompanySecrets() action by entering the URL /Home/CompanySecrets in the address bar of your browser, and you are not an authenticated user, then you will be redirected to the Login view automatically (see Figure 5).</span></span>

<span data-ttu-id="70d2e-142">**Şekil 5-oturum açma görünümü**</span><span class="sxs-lookup"><span data-stu-id="70d2e-142">**Figure 5 – The Login view**</span></span>

![clip_image010[4]](authenticating-users-with-forms-authentication-vb/_static/image5.jpg)

<span data-ttu-id="70d2e-144">Kullanıcı adınızı ve parolanızı girmek için oturum açma görünümü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-144">You can use the Login view to enter your user name and password.</span></span> <span data-ttu-id="70d2e-145">Kayıtlı kullanıcı olmayan sonra tıklayabilirsiniz **kaydetme** kasaya gidilecek bağlantıya (bkz. Şekil 6) görüntüleyin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-145">If you are not a registered user then you can click the **register** link to navigate to the Register view (see Figure 6).</span></span> <span data-ttu-id="70d2e-146">Kayıt görünümü, yeni bir kullanıcı hesabı oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-146">You can use the Register view to create a new user account.</span></span>

<span data-ttu-id="70d2e-147">**Şekil 6: Register görüntüle**</span><span class="sxs-lookup"><span data-stu-id="70d2e-147">**Figure 6 – The Register view**</span></span>

![clip_image012](authenticating-users-with-forms-authentication-vb/_static/image6.jpg)

<span data-ttu-id="70d2e-149">Başarıyla oturum açtıktan sonra (bkz. Şekil 7) görüntüleme CompanySecrets görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-149">After you successfully log in, you can see the CompanySecrets view (see Figure 7).</span></span> <span data-ttu-id="70d2e-150">Varsayılan olarak, tarayıcı penceresini kapatana kadar oturum açma devam eder.</span><span class="sxs-lookup"><span data-stu-id="70d2e-150">By default, you will continue to be logged in until you close your browser window.</span></span>

<span data-ttu-id="70d2e-151">**Şekil 7 – CompanySecrets görüntüle**</span><span class="sxs-lookup"><span data-stu-id="70d2e-151">**Figure 7 – The CompanySecrets view**</span></span>

![clip_image014](authenticating-users-with-forms-authentication-vb/_static/image7.jpg)

#### <a name="authorizing-by-user-name-or-user-role"></a><span data-ttu-id="70d2e-153">Kullanıcı adı veya kullanıcı rolü tarafından yetkilendirme</span><span class="sxs-lookup"><span data-stu-id="70d2e-153">Authorizing by User Name or User Role</span></span>

<span data-ttu-id="70d2e-154">[Authorize] özniteliği bir denetleyici eylemi kullanıcı ya da belirli bir kullanıcı rolleri kümesi için belirli bir veri kümesine erişimi kısıtlamak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-154">You can use the [Authorize] attribute to restrict access to a controller action to a particular set of users or a particular set of user roles.</span></span> <span data-ttu-id="70d2e-155">Örneğin, 2 listeleme değiştirilmiş giriş denetleyicisine StephenSecrets() ve AdministratorSecrets() adlı iki yeni eylemler içerir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-155">For example, the modified Home controller in Listing 2 contains two new actions named StephenSecrets() and AdministratorSecrets().</span></span>

<span data-ttu-id="70d2e-156">**2 – Controllers\HomeController.vb listeleme**</span><span class="sxs-lookup"><span data-stu-id="70d2e-156">**Listing 2 – Controllers\HomeController.vb**</span></span>

[!code-vb[Main](authenticating-users-with-forms-authentication-vb/samples/sample2.vb)]

<span data-ttu-id="70d2e-157">Yalnızca bir kullanıcı kullanıcı adıyla Stephen StephenSecrets() eylemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-157">Only a user with the user name Stephen can invoke the StephenSecrets() action.</span></span> <span data-ttu-id="70d2e-158">Diğer tüm kullanıcılar oturum açma görünümüne yeniden yönlendirilen.</span><span class="sxs-lookup"><span data-stu-id="70d2e-158">All other users get redirected to the Login view.</span></span> <span data-ttu-id="70d2e-159">Kullanıcıların özelliği, kullanıcı hesabı adlarını virgülle ayrılmış listesini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="70d2e-159">The Users property accepts a comma separated list of user account names.</span></span>

<span data-ttu-id="70d2e-160">Yalnızca Yöneticiler rolündeki kullanıcılar AdministratorSecrets() eylemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-160">Only users in the Administrators role can invoke the AdministratorSecrets() action.</span></span> <span data-ttu-id="70d2e-161">Örneğin, Filiz sally'nin satış yöneticileri grubunun bir üyesi olduğundan, AdministratorSecrets() eylemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-161">For example, because Sally is a member of the Administrators group, she can invoke the AdministratorSecrets() action.</span></span> <span data-ttu-id="70d2e-162">Diğer tüm kullanıcılar oturum açma görünümüne yeniden yönlendirilen.</span><span class="sxs-lookup"><span data-stu-id="70d2e-162">All other users get redirected to the Login view.</span></span> <span data-ttu-id="70d2e-163">Roller özelliği Rol adlarının virgülle ayrılmış listesini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="70d2e-163">The Roles property accepts a comma separated list of role names.</span></span>

#### <a name="configuring-authentication"></a><span data-ttu-id="70d2e-164">Kimlik doğrulamasını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="70d2e-164">Configuring Authentication</span></span>

<span data-ttu-id="70d2e-165">Bu noktada, kullanıcı hesabı ve rol bilgilerini nerede depolandığını merak ediyor olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-165">At this point, you might be wondering where the user account and role information is being stored.</span></span> <span data-ttu-id="70d2e-166">Varsayılan olarak, ilgili bilgiler ve adlandırılmış ASPNETDB.mdf MVC uygulamanızın uygulamada bulunan (nedeniyle RANU) SQL Express veritabanında depolanır\_veri klasörü.</span><span class="sxs-lookup"><span data-stu-id="70d2e-166">By default, the information is stored in a (RANU) SQL Express database named ASPNETDB.mdf located in your MVC application's App\_Data folder.</span></span> <span data-ttu-id="70d2e-167">Bu veritabanı, üyelik kullanarak başlattığınızda ASP.NET çerçevesi tarafından otomatik olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="70d2e-167">This database is generated by the ASP.NET framework automatically when you start using membership.</span></span>

<span data-ttu-id="70d2e-168">Çözüm Gezgini penceresinde ASPNETDB.mdf veritabanı görmek için ilk menü seçeneği projenin tüm dosyaları göster seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-168">In order to see the ASPNETDB.mdf database in the Solution Explorer window, you first need to select the menu option Project, Show All Files.</span></span>

<span data-ttu-id="70d2e-169">Varsayılan SQL Express veritabanı ile bir uygulama geliştirirken uygundur.</span><span class="sxs-lookup"><span data-stu-id="70d2e-169">Using the default SQL Express database is fine when developing an application.</span></span> <span data-ttu-id="70d2e-170">Büyük olasılıkla, ancak bir üretim uygulaması için varsayılan ASPNETDB.mdf veritabanı kullanmak istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-170">Most likely, however, you won't want to use the default ASPNETDB.mdf database for a production application.</span></span> <span data-ttu-id="70d2e-171">Bu durumda, aşağıdaki iki adımı izleyerek kullanıcı hesabı bilgilerini nerede depolandığını değiştirebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="70d2e-171">In that case, you can change where user account information is stored by completing the following two steps:</span></span>

1. <span data-ttu-id="70d2e-172">Uygulama Hizmetleri veritabanı nesnelerini üretim veritabanınız için add - uygulama bağlantı dizenizi üretim veritabanına işaret edecek şekilde değiştirin</span><span class="sxs-lookup"><span data-stu-id="70d2e-172">Add the Application Services database objects to your production database - Change your application connection string to point to your production database</span></span>

<span data-ttu-id="70d2e-173">İlk adım üretim veritabanınız için tüm gerekli veritabanı nesnelerini (tablolarına ve depolanmış yordamlarına) eklemektir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-173">The first step is to add all of the necessary database objects (tables and stored procedures) to your production database.</span></span> <span data-ttu-id="70d2e-174">ASP.NET SQL Sunucusu Kurulum Sihirbazı'nın avantajlarından yararlanmak için yeni bir veritabanı için bu nesneleri eklemek için en kolay yolu olan (bkz. Şekil 8).</span><span class="sxs-lookup"><span data-stu-id="70d2e-174">The easiest way to add these objects to a new database is to take advantage of the ASP.NET SQL Server Setup Wizard (see Figure 8).</span></span> <span data-ttu-id="70d2e-175">Bu araç, Microsoft Visual Studio 2008 program grubundan Visual Studio 2008 Komut İstemi'ni açarak ve komut isteminden aşağıdaki komutu yürütülürken başlatabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="70d2e-175">You can launch this tool by opening the Visual Studio 2008 Command Prompt from the Microsoft Visual Studio 2008 program group and executing the following command from the command prompt:</span></span>

<span data-ttu-id="70d2e-176">aspnet\_regsql</span><span class="sxs-lookup"><span data-stu-id="70d2e-176">aspnet\_regsql</span></span>

<span data-ttu-id="70d2e-177">**8 – ASP.NET SQL Server Kurulum Sihirbazı'nı Şekil**</span><span class="sxs-lookup"><span data-stu-id="70d2e-177">**Figure 8 – The ASP.NET SQL Server Setup Wizard**</span></span>

![clip_image016](authenticating-users-with-forms-authentication-vb/_static/image8.jpg)

<span data-ttu-id="70d2e-179">ASP.NET SQL Sunucusu Kurulum Sihirbazı, ağınızdaki bir SQL Server veritabanını seçin ve ASP.NET uygulama hizmetleri tarafından gerekli veritabanı nesnelerini yüklemeniz sağlar.</span><span class="sxs-lookup"><span data-stu-id="70d2e-179">The ASP.NET SQL Server Setup Wizard enables you to select a SQL Server database on your network and install all of the database objects required by the ASP.NET application services.</span></span> <span data-ttu-id="70d2e-180">Veritabanı sunucusu yerel makinenizde bulunması gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-180">The database server is not required to be located on your local machine.</span></span>

> [!NOTE]
> <span data-ttu-id="70d2e-181">ASP.NET SQL Server Kurulum Sihirbazı kullanmak istemiyorsanız aşağıdaki klasörde uygulama Hizmetleri veritabanı nesneleri eklemek için SQL komut dosyaları bulabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="70d2e-181">If you don't want to use the ASP.NET SQL Server Setup Wizard, then you can find SQL scripts for adding the application services database objects in the following folder:</span></span>
> 
> 
> <span data-ttu-id="70d2e-182">C:\Windows\Microsoft.NET\Framework\v2.0.50727</span><span class="sxs-lookup"><span data-stu-id="70d2e-182">C:\Windows\Microsoft.NET\Framework\v2.0.50727</span></span>

<span data-ttu-id="70d2e-183">Gerekli veritabanı nesnelerini oluşturduktan sonra MVC uygulamanız tarafından kullanılan veritabanı bağlantısını değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-183">After you create the necessary database objects, you need to modify the database connection used by your MVC application.</span></span> <span data-ttu-id="70d2e-184">Üretim veritabanına işaret eden web (web.config) yapılandırma dosyanızdaki ApplicationServices bağlantı dizesini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-184">Modify the ApplicationServices connection string in your web configuration (web.config) file so that it points to the production database.</span></span> <span data-ttu-id="70d2e-185">Örneğin, listeleme 3'te değiştirilmiş bağlantı MyProductionDB (özgün ApplicationServices bağlantı dizesini yorum olarak belirtilmiştir) adlı bir veritabanına işaret eder.</span><span class="sxs-lookup"><span data-stu-id="70d2e-185">For example, the modified connection in Listing 3 points to a database named MyProductionDB (the original ApplicationServices connection string has been commented out).</span></span>

<span data-ttu-id="70d2e-186">**3 – Web.config listeleme**</span><span class="sxs-lookup"><span data-stu-id="70d2e-186">**Listing 3 – Web.config**</span></span>

[!code-xml[Main](authenticating-users-with-forms-authentication-vb/samples/sample3.xml)]

#### <a name="configuring-database-permissions"></a><span data-ttu-id="70d2e-187">Veritabanı izinlerini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="70d2e-187">Configuring Database Permissions</span></span>

<span data-ttu-id="70d2e-188">Veritabanınıza bağlanmak için tümleşik güvenlik kullanırsanız doğru Windows kullanıcı hesabı olarak oturum açın, veritabanına eklemek gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-188">If you use Integrated Security to connect to your database then you will need to add the correct Windows user account as a login to your database.</span></span> <span data-ttu-id="70d2e-189">Doğru hesap olup olmadığını ASP.NET geliştirme sunucusu ya da Internet Information Services, web sunucusu olarak kullandığınız bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="70d2e-189">The correct account depends on whether you are using the ASP.NET Development Server or Internet Information Services as your web server.</span></span> <span data-ttu-id="70d2e-190">Doğru kullanıcı hesabı Ayrıca, işletim sistemine bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="70d2e-190">The correct user account also depends on your operating system.</span></span>

<span data-ttu-id="70d2e-191">ASP.NET Geliştirme Sunucusu (Visual Studio tarafından kullanılan varsayılan web sunucusu) kullanıyorsanız, uygulamanızı Windows kullanıcı hesabınızın bağlamında yürütür.</span><span class="sxs-lookup"><span data-stu-id="70d2e-191">If you are using the ASP.NET Development Server (the default web server used by Visual Studio) then your application executes within the context of your Windows user account.</span></span> <span data-ttu-id="70d2e-192">Bu durumda, Windows kullanıcı hesabınızın veritabanı sunucusu oturum açma eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-192">In that case, you need to add your Windows user account as a database server login.</span></span>

<span data-ttu-id="70d2e-193">Internet Information Services kullanıyorsanız alternatif olarak, daha sonra ASP.NET hesabı veya NT AUTHORITY/NETWORK SERVICE hesabı veritabanı sunucusu oturum açma eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-193">Alternatively, if you are using Internet Information Services then you need to add either the ASPNET account or the NT AUTHORITY/NETWORK SERVICE account as a database server login.</span></span> <span data-ttu-id="70d2e-194">Windows XP kullanıyorsanız hesabından veritabanınız için bir oturum olarak ekleyin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-194">If you are using Windows XP then add the ASPNET account as a login to your database.</span></span> <span data-ttu-id="70d2e-195">Windows Vista veya Windows Server 2008 gibi daha yeni bir işletim sistemi kullanıyorsanız, NT Yetkilisi/ağ hizmeti hesabı veritabanı oturumu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-195">If you are using a more recent operating system, such as Windows Vista or Windows Server 2008, then add the NT AUTHORITY/NETWORK SERVICE account as the database login.</span></span>

<span data-ttu-id="70d2e-196">Microsoft SQL Server Management Studio'yu kullanarak veritabanına yeni bir kullanıcı hesabı ekleyebilirsiniz (bkz. Şekil 9).</span><span class="sxs-lookup"><span data-stu-id="70d2e-196">You can add a new user account to your database by using Microsoft SQL Server Management Studio (see Figure 9).</span></span>

<span data-ttu-id="70d2e-197">**Şekil 9 – yeni bir Microsoft SQL Server oturum açma oluşturma**</span><span class="sxs-lookup"><span data-stu-id="70d2e-197">**Figure 9 – Creating a new Microsoft SQL Server login**</span></span>

![clip_image018](authenticating-users-with-forms-authentication-vb/_static/image9.jpg)

<span data-ttu-id="70d2e-199">Gerekli oturum açma oluşturduktan sonra doğru veritabanı rollerine sahip bir veritabanı kullanıcısı için oturum açma eşlemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="70d2e-199">After you create the required login, you need to map the login to a database user with the right database roles.</span></span> <span data-ttu-id="70d2e-200">Oturum açma çift tıklayın ve kullanıcı eşleme sekmesini seçin. Bir veya daha fazla uygulama Hizmetleri veritabanı rolleri seçin.</span><span class="sxs-lookup"><span data-stu-id="70d2e-200">Double-click the login and select the User Mapping tab. Select one or more application services database roles.</span></span> <span data-ttu-id="70d2e-201">Örneğin, kullanıcıların kimliklerini doğrulamak için aspnet sağlamak gerekir\_üyelik\_BasicAccess veritabanı rolü.</span><span class="sxs-lookup"><span data-stu-id="70d2e-201">For example, in order to authenticate users, you need to enable the aspnet\_Membership\_BasicAccess database role.</span></span> <span data-ttu-id="70d2e-202">Yeni kullanıcılar oluşturmak için ASP.NET etkinleştirmeniz gerektiğini\_üyelik\_FullAccess veritabanı rolü (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="70d2e-202">In order to create new users, you need to enable the aspnet\_Membership\_FullAccess database role (see Figure 10).</span></span>

<span data-ttu-id="70d2e-203">**Şekil 10 – uygulama Hizmetleri veritabanı rolleri ekleme**</span><span class="sxs-lookup"><span data-stu-id="70d2e-203">**Figure 10 – Adding Application Services database roles**</span></span>

![clip_image020](authenticating-users-with-forms-authentication-vb/_static/image10.jpg)

#### <a name="summary"></a><span data-ttu-id="70d2e-205">Özet</span><span class="sxs-lookup"><span data-stu-id="70d2e-205">Summary</span></span>

<span data-ttu-id="70d2e-206">Bu öğreticide bir ASP.NET MVC uygulaması oluştururken form kimlik doğrulaması kullanmayı öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-206">In this tutorial, you learned how to use Forms authentication when building an ASP.NET MVC application.</span></span> <span data-ttu-id="70d2e-207">İlk olarak, yeni kullanıcılar ve roller Web Sitesi Yönetim Aracı'nı avantajlarından yararlanarak oluşturmayı öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-207">First, you learned how to create new users and roles by taking advantage of the Web Site Administration Tool.</span></span> <span data-ttu-id="70d2e-208">Ardından, yetkisiz kullanıcıların denetleyici eylemleri yürütmesini önlemek için [Authorize] özniteliği kullanmayı öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-208">Next, you learned how to use the [Authorize] attribute to prevent unauthorized users from invoking controller actions.</span></span> <span data-ttu-id="70d2e-209">Son olarak, bir üretim veritabanında kullanıcı ve rol bilgilerini depolamak için MVC uygulamasının nasıl yapılandırılacağını öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="70d2e-209">Finally, you learned how to configure your MVC application to store user and role information in a production database.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="70d2e-210">[Önceki](preventing-javascript-injection-attacks-cs.md)
> [İleri](authenticating-users-with-windows-authentication-vb.md)</span><span class="sxs-lookup"><span data-stu-id="70d2e-210">[Previous](preventing-javascript-injection-attacks-cs.md)
[Next](authenticating-users-with-windows-authentication-vb.md)</span></span>
