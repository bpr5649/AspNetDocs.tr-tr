---
uid: mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
title: "Öğretici: Bir ASP.NET MVC uygulamasında EF geçişlerini kullanma ve Azure 'a dağıtma"
author: tdykstra
description: Bu öğreticide, Code First geçişleri etkinleştirir ve uygulamayı Azure 'da buluta dağıtırsınız.
ms.author: riande
ms.date: 01/16/2019
ms.topic: tutorial
ms.assetid: d4dfc435-bda6-4621-9762-9ba270f8de4e
msc.legacyurl: /mvc/overview/getting-started/getting-started-with-ef-using-mvc/migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application
msc.type: authoredcontent
ms.openlocfilehash: 989dd0f0e18b338be057b9c5657586eff996d8ea
ms.sourcegitcommit: b95316530fa51087d6c400ff91814fe37e73f7e8
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 08/23/2019
ms.locfileid: "70000763"
---
# <a name="tutorial-use-ef-migrations-in-an-aspnet-mvc-app-and-deploy-to-azure"></a><span data-ttu-id="5c0a9-103">Öğretici: Bir ASP.NET MVC uygulamasında EF geçişlerini kullanma ve Azure 'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-103">Tutorial: Use EF Migrations in an ASP.NET MVC app and deploy to Azure</span></span>

<span data-ttu-id="5c0a9-104">Şu ana kadar Contoso Üniversitesi örnek Web uygulaması, geliştirme bilgisayarınızda IIS Express ' de yerel olarak çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-104">So far the Contoso University sample web application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="5c0a9-105">Gerçek bir uygulamayı diğer kişilerin Internet üzerinden kullanmasına olanak sağlamak için, bir Web barındırma sağlayıcısına dağıtmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-105">To make a real application available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="5c0a9-106">Bu öğreticide, Code First geçişleri etkinleştirir ve uygulamayı Azure 'da buluta dağıtırsınız:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-106">In this tutorial, you enable Code First migrations and deploy the application to the cloud in Azure:</span></span>

- <span data-ttu-id="5c0a9-107">Code First Migrations etkinleştirin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-107">Enable Code First Migrations.</span></span> <span data-ttu-id="5c0a9-108">Geçişler özelliği, veritabanını bırakıp yeniden oluşturmaya gerek kalmadan veritabanı şemasını güncelleştirerek veri modelini değiştirmenize ve yaptığınız değişiklikleri üretime dağıtmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-108">The Migrations feature enables you to change the data model and deploy your changes to production by updating the database schema without having to drop and re-create the database.</span></span>
- <span data-ttu-id="5c0a9-109">Azure 'a dağıtın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-109">Deploy to Azure.</span></span> <span data-ttu-id="5c0a9-110">Bu adım isteğe bağlıdır; projeyi dağıtmadan kalan öğreticilerle devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-110">This step is optional; you can continue with the remaining tutorials without having deployed the project.</span></span>

<span data-ttu-id="5c0a9-111">Dağıtım için kaynak denetimiyle sürekli bir tümleştirme işlemi kullanmanızı öneririz, ancak bu öğretici bu konuları kapsamaz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-111">We recommend that you use a continuous integration process with source control for deployment, but this tutorial does not cover those topics.</span></span> <span data-ttu-id="5c0a9-112">Daha fazla bilgi için bkz. [Azure Ile gerçek dünyada bulut uygulamaları oluşturmanın](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction) [kaynak denetimi](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) ve [sürekli tümleştirme](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) bölümleri.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-112">For more information, see the [source control](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/source-control) and [continuous integration](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/continuous-integration-and-continuous-delivery) chapters of [Building Real-World Cloud Apps with Azure](xref:aspnet/overview/developing-apps-with-windows-azure/building-real-world-cloud-apps-with-windows-azure/introduction).</span></span>

<span data-ttu-id="5c0a9-113">Bu öğreticide şunları yaptınız:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-113">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="5c0a9-114">Code First geçişlerini etkinleştir</span><span class="sxs-lookup"><span data-stu-id="5c0a9-114">Enable Code First migrations</span></span>
> * <span data-ttu-id="5c0a9-115">Uygulamayı Azure 'da dağıtma (isteğe bağlı)</span><span class="sxs-lookup"><span data-stu-id="5c0a9-115">Deploy the app in Azure (optional)</span></span>

## <a name="prerequisites"></a><span data-ttu-id="5c0a9-116">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="5c0a9-116">Prerequisites</span></span>

- [<span data-ttu-id="5c0a9-117">Bağlantı Dayanıklılığı ve Komut Durdurma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-117">Connection Resiliency and Command Interception</span></span>](connection-resiliency-and-command-interception-with-the-entity-framework-in-an-asp-net-mvc-application.md)

## <a name="enable-code-first-migrations"></a><span data-ttu-id="5c0a9-118">Code First geçişlerini etkinleştir</span><span class="sxs-lookup"><span data-stu-id="5c0a9-118">Enable Code First migrations</span></span>

<span data-ttu-id="5c0a9-119">Yeni bir uygulama geliştirirken, veri modeliniz sıklıkla değişir ve model her değiştiğinde veritabanıyla eşitlenmemiş olur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-119">When you develop a new application, your data model changes frequently, and each time the model changes, it gets out of sync with the database.</span></span> <span data-ttu-id="5c0a9-120">Veri modelini her değiştirişinizde veritabanını otomatik olarak bırakıp yeniden oluşturmak için Entity Framework yapılandırdınız.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-120">You have configured the Entity Framework to automatically drop and re-create the database each time you change the data model.</span></span> <span data-ttu-id="5c0a9-121">Varlık sınıfları eklediğinizde, kaldırdığınızda veya değiştirdiğinizde ya da `DbContext` sınıfınızı değiştirdiğinizde, uygulamayı bir sonraki çalıştırışınızda, otomatik olarak mevcut veritabanınızı siler, modelle eşleşen yeni bir tane oluşturur ve test verileriyle birlikte olur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-121">When you add, remove, or change entity classes or change your `DbContext` class, the next time you run the application it automatically deletes your existing database, creates a new one that matches the model, and seeds it with test data.</span></span>

<span data-ttu-id="5c0a9-122">Veritabanını veri modeliyle eşitlenmiş halde tutma yöntemi, uygulamayı üretime dağıtana kadar iyi çalışır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-122">This method of keeping the database in sync with the data model works well until you deploy the application to production.</span></span> <span data-ttu-id="5c0a9-123">Uygulama üretimde çalışırken, genellikle tutmak istediğiniz verileri saklar ve yeni sütun ekleme gibi her değişiklik yaptığınızda her şeyi kaybetmek istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-123">When the application is running in production, it is usually storing data that you want to keep, and you don't want to lose everything each time you make a change such as adding a new column.</span></span> <span data-ttu-id="5c0a9-124">[Code First Migrations](https://msdn.microsoft.com/data/jj591621) özelliği, veritabanını bırakıp yeniden oluşturmak yerine veritabanı şemasını güncelleştirmesine Code First etkinleştirerek bu sorunu çözer.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-124">The [Code First Migrations](https://msdn.microsoft.com/data/jj591621) feature solves this problem by enabling Code First to update the database schema instead of dropping and re-creating the database.</span></span> <span data-ttu-id="5c0a9-125">Bu öğreticide, uygulamayı dağıtırsınız ve geçişleri etkinleştireceksiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-125">In this tutorial, you'll deploy the application, and to prepare for that you'll enable Migrations.</span></span>

1. <span data-ttu-id="5c0a9-126">Uygulama Web. config dosyasına eklediğiniz `contexts` öğeyi açıklama ekleyerek veya silerek daha önce ayarladığınız başlatıcıyı devre dışı bırakın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-126">Disable the initializer that you set up earlier by commenting out or deleting the `contexts` element that you added to the application Web.config file.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample1.xml?highlight=2,6)]
2. <span data-ttu-id="5c0a9-127">Ayrıca, uygulama *Web. config* dosyasında, bağlantı dizesindeki veritabanının adını ContosoUniversity2 olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-127">Also in the application *Web.config* file, change the name of the database in the connection string to ContosoUniversity2.</span></span>

    [!code-xml[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample2.xml?highlight=2)]

    <span data-ttu-id="5c0a9-128">Bu değişiklik, ilk geçişin yeni bir veritabanı oluşturması için projeyi ayarlar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-128">This change sets up the project so that the first migration creates a new database.</span></span> <span data-ttu-id="5c0a9-129">Bu gerekli değildir ancak daha sonra iyi bir fikir olduğunu göreceksiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-129">This isn't required but you'll see later why it's a good idea.</span></span>
3. <span data-ttu-id="5c0a9-130">Gelen **Araçları** menüsünde **NuGet Paket Yöneticisi** > **Paket Yöneticisi Konsolu**.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-130">From the **Tools** menu, select **NuGet Package Manager** > **Package Manager Console**.</span></span>

1. <span data-ttu-id="5c0a9-131">`PM>` İsteminde aşağıdaki komutları girin:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-131">At the `PM>` prompt enter the following commands:</span></span>

    ```text
    enable-migrations
    add-migration InitialCreate
    ```

    <span data-ttu-id="5c0a9-132">Komut, contosouniversity projesinde bir *geçişler* klasörü oluşturur ve bu klasöre geçişleri yapılandırmak için düzenleyebileceğiniz bir Configuration.cs dosyası koyar. `enable-migrations`</span><span class="sxs-lookup"><span data-stu-id="5c0a9-132">The `enable-migrations` command creates a *Migrations* folder in the ContosoUniversity project, and it puts in that folder a *Configuration.cs* file that you can edit to configure Migrations.</span></span>

    <span data-ttu-id="5c0a9-133">(Yukarıdaki adımı kaçırdıysanız, veritabanı adını değiştirmenizi yönlendirirsiniz, geçişler var olan veritabanını bulur ve `add-migration` komutu otomatik olarak kullanacaktır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-133">(If you missed the step above that directs you to change the database name, Migrations will find the existing database and automatically do the `add-migration` command.</span></span> <span data-ttu-id="5c0a9-134">Bu sorun, veritabanını dağıtmadan önce geçiş kodunun bir testini çalıştırmayacağınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-134">That's okay, it just means you won't run a test of the migrations code before you deploy the database.</span></span> <span data-ttu-id="5c0a9-135">Daha sonra `update-database` komutu çalıştırdığınızda hiçbir şey gerçekleşmeyecektir çünkü veritabanı zaten var.)</span><span class="sxs-lookup"><span data-stu-id="5c0a9-135">Later when you run the `update-database` command nothing will happen because the database already exists.)</span></span>

    <span data-ttu-id="5c0a9-136">*Contosoüniversıty\migrations\configuration.cs* dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-136">Open the *ContosoUniversity\Migrations\Configuration.cs* file.</span></span> <span data-ttu-id="5c0a9-137">Daha önce gördüğünüz Başlatıcı sınıfı gibi, `Configuration` sınıfı bir `Seed` yöntemi içerir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-137">Like the initializer class that you saw earlier, the `Configuration` class includes a `Seed` method.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample3.cs)]

    <span data-ttu-id="5c0a9-138">[Çekirdek](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) yönteminin amacı, Code First veritabanını oluşturduktan veya güncelleştirdikten sonra test verilerini ekleme veya güncelleştirme olanağı sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-138">The purpose of the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is to enable you to insert or update test data after Code First creates or updates the database.</span></span> <span data-ttu-id="5c0a9-139">Yöntemi, veritabanı oluşturulduğunda ve bir veri modeli değişikliğinden sonra veritabanı şeması her güncelleştirildiği zaman çağrılır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-139">The method is called when the database is created and every time the database schema is updated after a data model change.</span></span>

### <a name="set-up-the-seed-method"></a><span data-ttu-id="5c0a9-140">Çekirdek yöntemi ayarlama</span><span class="sxs-lookup"><span data-stu-id="5c0a9-140">Set up the Seed method</span></span>

<span data-ttu-id="5c0a9-141">Her veri modeli değişikliği için veritabanını bırakıp yeniden oluşturduğunuzda, test verilerini eklemek için Başlatıcı sınıfının `Seed` yöntemini kullanırsınız, çünkü her model, veritabanını değiştirdikten sonra tüm test verileri kaybedilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-141">When you drop and re-create the database for every data model change, you use the initializer class's `Seed` method to insert test data, because after every model change the database is dropped and all the test data is lost.</span></span> <span data-ttu-id="5c0a9-142">Code First Migrations ile test verileri, veritabanı değişikliklerinden sonra tutulur, bu nedenle [temel](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) yöntemde test verilerinin dahil edilmesi genellikle gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-142">With Code First Migrations, test data is retained after database changes, so including test data in the [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method is typically not necessary.</span></span> <span data-ttu-id="5c0a9-143">Aslında, `Seed` yöntemi üretimde çalışacak şekilde veritabanını `Seed` üretime dağıtmak için geçişler kullanacaksanız, yöntemi test verileri eklemek istemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-143">In fact, you don't want the `Seed` method to insert test data if you'll be using Migrations to deploy the database to production, because the `Seed` method will run in production.</span></span> <span data-ttu-id="5c0a9-144">Bu durumda, `Seed` yönteminin yalnızca üretimde ihtiyacınız olan verileri veritabanına eklemesini istersiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-144">In that case, you want the `Seed` method to insert into the database only the data that you need in production.</span></span> <span data-ttu-id="5c0a9-145">Örneğin, uygulama üretimde kullanılabilir hale geldiğinde veritabanının gerçek bölüm adlarını `Department` tabloya dahil etmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-145">For example, you might want the database to include actual department names in the `Department` table when the application becomes available in production.</span></span>

<span data-ttu-id="5c0a9-146">Bu öğreticide, dağıtım için geçişler kullanacaksınız, ancak `Seed` Yöntem test verilerini el ile çok sayıda veri eklemek zorunda kalmadan nasıl çalıştığını görmeyi kolaylaştırmak için de test verileri ekleyecektir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-146">For this tutorial, you'll be using Migrations for deployment, but your `Seed` method will insert test data anyway in order to make it easier to see how application functionality works without having to manually insert a lot of data.</span></span>

1. <span data-ttu-id="5c0a9-147">*Configuration.cs* dosyasının içeriğini, test verilerini yeni veritabanına yükleyen aşağıdaki kodla değiştirin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-147">Replace the contents of the *Configuration.cs* file with the following code, which loads test data into the new database.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample4.cs)]

    <span data-ttu-id="5c0a9-148">[Çekirdek](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) yöntemi, veritabanı bağlamı nesnesini bir giriş parametresi olarak alır ve yöntemdeki kod bu nesneyi veritabanına yeni varlıklar eklemek için kullanır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-148">The [Seed](https://msdn.microsoft.com/library/hh829453(v=vs.103).aspx) method takes the database context object as an input parameter, and the code in the method uses that object to add new entities to the database.</span></span> <span data-ttu-id="5c0a9-149">Her varlık türü için, kod yeni varlıkların bir koleksiyonunu oluşturur, bunları uygun [Dbset](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) özelliğine ekler ve değişiklikleri veritabanına kaydeder.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-149">For each entity type, the code creates a collection of new entities, adds them to the appropriate [DbSet](https://msdn.microsoft.com/library/system.data.entity.dbset(v=vs.103).aspx) property, and then saves the changes to the database.</span></span> <span data-ttu-id="5c0a9-150">Burada yapılan her bir varlık grubundan sonra [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) yöntemini çağırmak gerekmez, ancak bu, kod veritabanına yazılırken bir özel durum oluşursa bir sorunun kaynağını bulmanıza yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-150">It isn't necessary to call the [SaveChanges](https://msdn.microsoft.com/library/system.data.entity.dbcontext.savechanges(v=VS.103).aspx) method after each group of entities, as is done here, but doing that helps you locate the source of a problem if an exception occurs while the code is writing to the database.</span></span>

    <span data-ttu-id="5c0a9-151">Veri ekleyen deyimlerden bazıları, "upsert" bir işlem gerçekleştirmek için [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) yöntemini kullanır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-151">Some of the statements that insert data use the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method to perform an "upsert" operation.</span></span> <span data-ttu-id="5c0a9-152">`Seed` Yöntemi `update-database` komutu her yürüttüğünüzde çalışır, genellikle her geçişten sonra, eklemeye çalıştığınız satırlar veritabanını oluşturan ilk geçişten sonra zaten mevcut olacağı için yalnızca veri ekleyemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-152">Because the `Seed` method runs every time you execute the `update-database` command, typically after each migration, you can't just insert data, because the rows you are trying to add will already be there after the first migration that creates the database.</span></span> <span data-ttu-id="5c0a9-153">"Upsert" işlemi, zaten var olan bir satır eklemeye çalışırsanız, ancak uygulamayı test ederken yapmış olduğunuz verilerde yapılan değişiklikleri ***geçersiz kılar*** .</span><span class="sxs-lookup"><span data-stu-id="5c0a9-153">The "upsert" operation prevents errors that would happen if you try to insert a row that already exists, but it ***overrides*** any changes to data that you may have made while testing the application.</span></span> <span data-ttu-id="5c0a9-154">Bazı tablolardaki test verileri ile bu durum oluşmasını istemeyebilirsiniz: bazı durumlarda verileri değiştirirken değişiklikler veritabanı güncelleştirmelerinden sonra kalmasını istiyor.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-154">With test data in some tables you might not want that to happen: in some cases when you change data while testing you want your changes to remain after database updates.</span></span> <span data-ttu-id="5c0a9-155">Bu durumda, bir koşullu ekleme işlemi yapmak istiyorsanız, yalnızca mevcut değilse bir satır ekleyin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-155">In that case you want to do a conditional insert operation: insert a row only if it doesn't already exist.</span></span> <span data-ttu-id="5c0a9-156">Çekirdek yöntemi her iki yaklaşımı kullanır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-156">The Seed method uses both approaches.</span></span>

    <span data-ttu-id="5c0a9-157">[AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) metoduna geçirilen ilk parametre, bir satırın zaten var olup olmadığını denetlemek için kullanılacak özelliği belirtir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-157">The first parameter passed to the [AddOrUpdate](https://msdn.microsoft.com/library/system.data.entity.migrations.idbsetextensions.addorupdate(v=vs.103).aspx) method specifies the property to use to check if a row already exists.</span></span> <span data-ttu-id="5c0a9-158">Sağladınız test öğrenci verileri için, `LastName` listedeki her bir ad benzersiz olduğundan bu amaçla özellik kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-158">For the test student data that you are providing, the `LastName` property can be used for this purpose since each last name in the list is unique:</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample5.cs)]

    <span data-ttu-id="5c0a9-159">Bu kod, son adların benzersiz olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-159">This code assumes that last names are unique.</span></span> <span data-ttu-id="5c0a9-160">Yinelenen son ada sahip bir öğrenci el ile eklerseniz, bir sonraki geçiş işlemi yaptığınızda aşağıdaki özel durumu alırsınız:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-160">If you manually add a student with a duplicate last name, you'll get the following exception the next time you perform a migration:</span></span>

    <span data-ttu-id="5c0a9-161">**Sıra birden fazla öğe içeriyor**</span><span class="sxs-lookup"><span data-stu-id="5c0a9-161">**Sequence contains more than one element**</span></span>

    <span data-ttu-id="5c0a9-162">"Alexander Carson" adlı iki öğrenci gibi gereksiz verilerin nasıl işleneceği hakkında daha fazla bilgi için, bkz. Rick Anderson 'ın blogu üzerinde [Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) .</span><span class="sxs-lookup"><span data-stu-id="5c0a9-162">For information about how to handle redundant data such as two students named "Alexander Carson", see [Seeding and Debugging Entity Framework (EF) DBs](https://blogs.msdn.com/b/rickandy/archive/2013/02/12/seeding-and-debugging-entity-framework-ef-dbs.aspx) on Rick Anderson's blog.</span></span> <span data-ttu-id="5c0a9-163">`AddOrUpdate` Yöntemi hakkında daha fazla bilgi için bkz. Julie Lerman 'ın blogda [EF 4,3 AddOrUpdate yöntemiyle dikkatli olunmalıdır](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) .</span><span class="sxs-lookup"><span data-stu-id="5c0a9-163">For more information about the `AddOrUpdate` method, see [Take care with EF 4.3 AddOrUpdate Method](http://thedatafarm.com/blog/data-access/take-care-with-ef-4-3-addorupdate-method/) on Julie Lerman's blog.</span></span>

    <span data-ttu-id="5c0a9-164">Varlıkları oluşturan `Enrollment` kod, koleksiyondaki varlıklarda `students` bulunan `ID` değer olduğunu varsayar, ancak bu özelliği koleksiyonu oluşturan kodda ayarlayamazsınız.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-164">The code that creates `Enrollment` entities assumes you have the `ID` value in the entities in the `students` collection, although you didn't set that property in the code that creates the collection.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample6.cs?highlight=2)]

    <span data-ttu-id="5c0a9-165">Bu `ID` özelliği, `ID` koleksiyonu`students` çağırdığınızda `SaveChanges` değer ayarlandığı için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-165">You can use the `ID` property here because the `ID` value is set when you call `SaveChanges` for the `students` collection.</span></span> <span data-ttu-id="5c0a9-166">EF, veritabanına bir varlık eklediğinde, birincil anahtar değerini otomatik olarak alır ve bu varlık, belleğin `ID` özelliğini bellekte güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-166">EF automatically gets the primary key value when it inserts an entity into the database, and it updates the `ID` property of the entity in memory.</span></span>

    <span data-ttu-id="5c0a9-167">Her `Enrollment` varlığı `Enrollments` varlıkkümesineekleyen`AddOrUpdate` kod yöntemini kullanmaz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-167">The code that adds each `Enrollment` entity to the `Enrollments` entity set doesn't use the `AddOrUpdate` method.</span></span> <span data-ttu-id="5c0a9-168">Bir varlığın zaten var olup olmadığını denetler ve varlık yoksa varlığı ekler.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-168">It checks if an entity already exists and inserts the entity if it doesn't exist.</span></span> <span data-ttu-id="5c0a9-169">Bu yaklaşım, uygulama kullanıcı arabirimini kullanarak bir kayıt sınıfı üzerinde yaptığınız değişiklikleri korur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-169">This approach will preserve changes you make to an enrollment grade by using the application UI.</span></span> <span data-ttu-id="5c0a9-170">Kod, `Enrollment` [listedeki](https://msdn.microsoft.com/library/6sh2ey19.aspx) her üye boyunca döngü yapar ve kayıt veritabanında bulunmazsa kaydı veritabanına ekler.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-170">The code loops through each member of the `Enrollment`[List](https://msdn.microsoft.com/library/6sh2ey19.aspx) and if the enrollment is not found in the database, it adds the enrollment to the database.</span></span> <span data-ttu-id="5c0a9-171">Veritabanını ilk güncelleştirdiğinizde, veritabanı boş olur, bu nedenle her bir kayıt eklenir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-171">The first time you update the database, the database will be empty, so it will add each enrollment.</span></span>

    [!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample7.cs)]

2. <span data-ttu-id="5c0a9-172">Projeyi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-172">Build the project.</span></span>

### <a name="execute-the-first-migration"></a><span data-ttu-id="5c0a9-173">İlk geçişi yürütme</span><span class="sxs-lookup"><span data-stu-id="5c0a9-173">Execute the first migration</span></span>

<span data-ttu-id="5c0a9-174">`add-migration` Komutunu çalıştırdığınızda geçişler, veritabanını sıfırdan oluşturacak kodu oluşturdu.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-174">When you executed the `add-migration` command, Migrations generated the code that would create the database from scratch.</span></span> <span data-ttu-id="5c0a9-175">Bu kod ayrıca,  *&lt;zaman&gt;damgası\_InitialCreate.cs*adlı dosyadaki *geçişler* klasöründedir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-175">This code is also in the *Migrations* folder, in the file named *&lt;timestamp&gt;\_InitialCreate.cs*.</span></span> <span data-ttu-id="5c0a9-176">Sınıfının yöntemi, veri modeli `Down` varlık kümelerine karşılık gelen veritabanı tablolarını oluşturur ve yöntemi onları siler. `Up` `InitialCreate`</span><span class="sxs-lookup"><span data-stu-id="5c0a9-176">The `Up` method of the `InitialCreate` class creates the database tables that correspond to the data model entity sets, and the `Down` method deletes them.</span></span>

[!code-csharp[Main](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/samples/sample8.cs)]

<span data-ttu-id="5c0a9-177">Geçişler, `Up` geçiş için veri modeli değişikliklerini uygulamak üzere yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-177">Migrations calls the `Up` method to implement the data model changes for a migration.</span></span> <span data-ttu-id="5c0a9-178">Güncelleştirmeyi geri almak için bir komut girdiğinizde, geçişler `Down` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-178">When you enter a command to roll back the update, Migrations calls the `Down` method.</span></span>

<span data-ttu-id="5c0a9-179">Bu, `add-migration InitialCreate` komutu girdiğinizde oluşturulan ilk geçişdir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-179">This is the initial migration that was created when you entered the `add-migration InitialCreate` command.</span></span> <span data-ttu-id="5c0a9-180">Parametresi (`InitialCreate` örnekteki) dosya adı için kullanılır ve istediğiniz her şey olabilir; genellikle, geçişte nelerin yapıldığını özetleyen bir sözcük veya tümcecik seçersiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-180">The parameter (`InitialCreate` in the example) is used for the file name and can be whatever you want; you typically choose a word or phrase that summarizes what is being done in the migration.</span></span> <span data-ttu-id="5c0a9-181">Örneğin, daha sonra bir geçiş &quot;AddDepartmentTable&quot;adı yazabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-181">For example, you might name a later migration &quot;AddDepartmentTable&quot;.</span></span>

<span data-ttu-id="5c0a9-182">Veritabanı zaten mevcut olduğunda ilk geçişi oluşturduysanız veritabanı oluşturma kodu oluşturulur, ancak veritabanı veri modeliyle zaten eşleştiğinden çalıştırması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-182">If you created the initial migration when the database already exists, the database creation code is generated but it doesn't have to run because the database already matches the data model.</span></span> <span data-ttu-id="5c0a9-183">Uygulamayı, veritabanının mevcut olmadığı başka bir ortama dağıttığınızda, bu kod veritabanınızı oluşturmak için çalışır, bu nedenle ilk önce test etmek iyi bir fikirdir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-183">When you deploy the app to another environment where the database doesn't exist yet, this code will run to create your database, so it's a good idea to test it first.</span></span> <span data-ttu-id="5c0a9-184">Bu nedenle, geçişlerin sıfırdan yeni bir tane oluşturabilmesi için bağlantı dizesindeki veritabanının adını daha&mdash;önce değiştirmiş olursunuz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-184">That's why you changed the name of the database in the connection string earlier&mdash;so that migrations can create a new one from scratch.</span></span>

1. <span data-ttu-id="5c0a9-185">**Paket Yöneticisi konsolu** penceresinde, aşağıdaki komutu girin:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-185">In the **Package Manager Console** window, enter the following command:</span></span>

    `update-database`

    <span data-ttu-id="5c0a9-186">Komutu veritabanını oluşturmak için `Up` yöntemini çalıştırır `Seed` ve sonra veritabanını doldurmak için yöntemini çalıştırır. `update-database`</span><span class="sxs-lookup"><span data-stu-id="5c0a9-186">The `update-database` command runs the `Up` method to create the database and then it runs the `Seed` method to populate the database.</span></span> <span data-ttu-id="5c0a9-187">Aynı işlem, uygulamayı dağıttıktan sonra, aşağıdaki bölümde göreceğiniz gibi otomatik olarak çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-187">The same process will run automatically in production after you deploy the application, as you'll see in the following section.</span></span>
2. <span data-ttu-id="5c0a9-188">İlk öğreticide yaptığınız gibi veritabanını incelemek için **Sunucu Gezgini** kullanın ve uygulamayı çalıştırarak her şeyin daha önce olduğu gibi çalıştığını doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-188">Use **Server Explorer** to inspect the database as you did in the first tutorial, and run the application to verify that everything still works the same as before.</span></span>

## <a name="deploy-to-azure"></a><span data-ttu-id="5c0a9-189">Azure’a dağıtma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-189">Deploy to Azure</span></span>

<span data-ttu-id="5c0a9-190">Şimdiye kadar uygulama, geliştirme bilgisayarınızda IIS Express yerel olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-190">So far the application has been running locally in IIS Express on your development computer.</span></span> <span data-ttu-id="5c0a9-191">Diğer kişilerin Internet üzerinden kullanmasını sağlamak için, bir Web barındırma sağlayıcısına dağıtmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-191">To make it available for other people to use over the Internet, you have to deploy it to a web hosting provider.</span></span> <span data-ttu-id="5c0a9-192">Öğreticinin bu bölümünde Azure 'a dağıtırsınız.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-192">In this section of the tutorial, you'll deploy it to Azure.</span></span> <span data-ttu-id="5c0a9-193">Bu bölüm isteğe bağlıdır; Bu adımı atlayabilir ve aşağıdaki öğreticiye devam edebilir ya da seçtiğiniz farklı bir barındırma sağlayıcısı için bu bölümdeki yönergeleri uyarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-193">This section is optional; you can skip this and continue with the following tutorial, or you can adapt the instructions in this section for a different hosting provider of your choice.</span></span>

### <a name="use-code-first-migrations-to-deploy-the-database"></a><span data-ttu-id="5c0a9-194">Veritabanını dağıtmak için Code First geçişleri kullanma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-194">Use Code First migrations to deploy the database</span></span>

<span data-ttu-id="5c0a9-195">Veritabanını dağıtmak için Code First Migrations kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-195">To deploy the database, you'll use Code First Migrations.</span></span> <span data-ttu-id="5c0a9-196">Visual Studio 'dan dağıtma ayarlarını yapılandırmak için kullandığınız yayımlama profilini oluşturduğunuzda, **veritabanını güncelleştir**etiketli bir onay kutusunu seçersiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-196">When you create the publish profile that you use to configure settings for deploying from Visual Studio, you'll select a check box labeled **Update Database**.</span></span> <span data-ttu-id="5c0a9-197">Bu ayar, dağıtım işleminin, Code First `MigrateDatabaseToLatestVersion` Başlatıcı sınıfını kullanması için hedef sunucudaki uygulama *Web. config* dosyasını otomatik olarak yapılandırmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-197">This setting causes the deployment process to automatically configure the application *Web.config* file on the destination server so that Code First uses the `MigrateDatabaseToLatestVersion` initializer class.</span></span>

<span data-ttu-id="5c0a9-198">Visual Studio, projenizi hedef sunucuya kopyalarken dağıtım işlemi sırasında veritabanıyla hiçbir şey yapmaz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-198">Visual Studio doesn't do anything with the database during the deployment process while it is copying your project to the destination server.</span></span> <span data-ttu-id="5c0a9-199">Dağıtılan uygulamayı çalıştırdığınızda ve dağıtımdan sonra veritabanına ilk kez eriştiğinde, veritabanının veri modeliyle eşleşip eşleşmediğini denetler Code First.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-199">When you run the deployed application and it accesses the database for the first time after deployment, Code First checks if the database matches the data model.</span></span> <span data-ttu-id="5c0a9-200">Bir uyumsuzluk varsa, Code First otomatik olarak veritabanını oluşturur (henüz yoksa) veya veritabanı şemasını en son sürüme güncelleştirir (bir veritabanı varsa ancak modelle eşleşmezse).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-200">If there's a mismatch, Code First automatically creates the database (if it doesn't exist yet) or updates the database schema to the latest version (if a database exists but doesn't match the model).</span></span> <span data-ttu-id="5c0a9-201">Uygulama bir geçişler `Seed` yöntemi uygularsa, yöntem veritabanı oluşturulduktan sonra veya şema güncelleştirildikten sonra çalışır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-201">If the application implements a Migrations `Seed` method, the method runs after the database is created or the schema is updated.</span></span>

<span data-ttu-id="5c0a9-202">Geçişler `Seed` yönteminiz test verileri ekler.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-202">Your Migrations `Seed` method inserts test data.</span></span> <span data-ttu-id="5c0a9-203">Bir üretim ortamına dağıtım yapıyorsanız, `Seed` yöntemi yalnızca üretim veritabanınıza eklemek istediğiniz verileri içerecek şekilde değiştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-203">If you were deploying to a production environment, you would have to change the `Seed` method so that it only inserts data that you want to be inserted into your production database.</span></span> <span data-ttu-id="5c0a9-204">Örneğin, geçerli veri modelinizde gerçek kurslar olmasını, ancak geliştirme veritabanında öğrenci öğrencilerine sahip olmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-204">For example, in your current data model you might want to have real courses but fictional students in the development database.</span></span> <span data-ttu-id="5c0a9-205">Geliştirme sırasında her ikisini `Seed` de yüklemek için bir yöntem yazabilir ve ardından üretime dağıtmadan önce kurgusal öğrencileri açıklama olarak girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-205">You can write a `Seed` method to load both in development, and then comment out the fictional students before you deploy to production.</span></span> <span data-ttu-id="5c0a9-206">Ya da yalnızca kursları yüklemek `Seed` için bir yöntem yazabilir ve uygulamanın kullanıcı arabirimini kullanarak test veritabanına kurgusal öğrencileri el ile girebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-206">Or you can write a `Seed` method to load only courses, and enter the fictional students in the test database manually by using the application's UI.</span></span>

### <a name="get-an-azure-account"></a><span data-ttu-id="5c0a9-207">Azure hesabı alın</span><span class="sxs-lookup"><span data-stu-id="5c0a9-207">Get an Azure account</span></span>

<span data-ttu-id="5c0a9-208">Bir Azure hesabınız olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-208">You'll need an Azure account.</span></span> <span data-ttu-id="5c0a9-209">Henüz bir tane yoksa ancak Visual Studio aboneliğiniz varsa, [abonelik avantajlarınızı](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
)etkinleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-209">If you don't already have one, but you do have a Visual Studio subscription, you can [activate your subscription benefits](https://azure.microsoft.com/pricing/member-offers/credit-for-visual-studio-subscribers/
).</span></span> <span data-ttu-id="5c0a9-210">Aksi takdirde, yalnızca birkaç dakika içinde ücretsiz bir deneme hesabı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-210">Otherwise, you can create a free trial account in just a couple of minutes.</span></span> <span data-ttu-id="5c0a9-211">Ayrıntılar için bkz [Azure ücretsiz deneme sürümü](https://azure.microsoft.com/free/).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-211">For details, see [Azure Free Trial](https://azure.microsoft.com/free/).</span></span>

### <a name="create-a-web-site-and-a-sql-database-in-azure"></a><span data-ttu-id="5c0a9-212">Azure 'da bir Web sitesi ve SQL veritabanı oluşturma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-212">Create a web site and a SQL database in Azure</span></span>

<span data-ttu-id="5c0a9-213">Azure 'daki Web uygulamanız paylaşılan bir barındırma ortamında çalışacak, bu da diğer Azure istemcileriyle paylaşılan sanal makinelerde (VM) çalıştığı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-213">Your web app in Azure will run in a shared hosting environment, which means it runs on virtual machines (VMs) that are shared with other Azure clients.</span></span> <span data-ttu-id="5c0a9-214">Paylaşılan barındırma ortamı, buluta başlamak için düşük maliyetli bir yoldur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-214">A shared hosting environment is a low-cost way to get started in the cloud.</span></span> <span data-ttu-id="5c0a9-215">Daha sonra, Web trafiğiniz arttıkça, uygulama adanmış VM 'lerde çalışırken ihtiyacı karşılayacak şekilde ölçeklendirebilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-215">Later, if your web traffic increases, the application can scale to meet the need by running on dedicated VMs.</span></span> <span data-ttu-id="5c0a9-216">Azure App Service için fiyatlandırma seçenekleri hakkında daha fazla bilgi edinmek için [App Service fiyatlandırmayı](https://azure.microsoft.com/pricing/details/app-service/)okuyun.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-216">To learn more about Pricing Options for Azure App Service, read [App Service pricing](https://azure.microsoft.com/pricing/details/app-service/).</span></span>

<span data-ttu-id="5c0a9-217">Veritabanını Azure SQL veritabanı 'na dağıtırsınız.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-217">You'll deploy the database to Azure SQL database.</span></span> <span data-ttu-id="5c0a9-218">SQL veritabanı, SQL Server teknolojileri üzerinde geliştirilen bulut tabanlı bir ilişkisel veritabanı hizmetidir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-218">SQL database is a cloud-based relational database service that is built on SQL Server technologies.</span></span> <span data-ttu-id="5c0a9-219">SQL Server ile birlikte çalışan araçlar ve uygulamalar SQL veritabanı ile de çalışır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-219">Tools and applications that work with SQL Server also work with SQL database.</span></span>

1. <span data-ttu-id="5c0a9-220">[Azure yönetim portalı](https://portal.azure.com), sol sekmede **kaynak oluştur** ' u seçin ve ardından tüm kullanılabilir kaynakları görmek için **Yeni** bölmede (veya *Dikey*pencerede) **Tümünü göster** ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-220">In the [Azure Management Portal](https://portal.azure.com), choose **Create a resource** in the left tab and then choose **See all** on the **New** pane (or *blade*) to see all available resources.</span></span> <span data-ttu-id="5c0a9-221">**Her şey** dikey penceresinin **Web** bölümünde **Web uygulaması + SQL** ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-221">Choose **Web App + SQL** in the **Web** section of the **Everything** blade.</span></span> <span data-ttu-id="5c0a9-222">Son olarak **Oluştur**' u seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-222">Finally, choose **Create**.</span></span>

    ![Azure portalında kaynak oluşturma](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/create-azure-resource.png)

   <span data-ttu-id="5c0a9-224">Yeni **Yeni bir Web uygulaması** oluşturmak için kullanılacak form + SQL kaynağı açılır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-224">The form to create a new **New Web App + SQL** resource opens.</span></span>

2. <span data-ttu-id="5c0a9-225">Uygulamanızın benzersiz URL 'SI olarak kullanmak için **uygulama adı** kutusuna bir dize girin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-225">Enter a string in the **App name** box to use as the unique URL for your application.</span></span> <span data-ttu-id="5c0a9-226">URL 'nin tamamı buraya girdiklerinizi ve Azure Uygulama Hizmetleri 'nin (. azurewebsites.net) varsayılan etki alanını içerir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-226">The complete URL will consist of what you enter here plus the default domain of Azure App Services (.azurewebsites.net).</span></span> <span data-ttu-id="5c0a9-227">**Uygulama adı** zaten alınmış Ise, sihirbaz sizi kırmızı bir *uygulama adı* yok iletisi ile bilgilendirir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-227">If the **App name** is already taken, the Wizard notifies you with a red *The app name is not available* message.</span></span> <span data-ttu-id="5c0a9-228">**Uygulama adı** kullanılabiliyorsa yeşil bir onay işareti görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-228">If the **App name** is available, you see a green checkmark.</span></span>

3. <span data-ttu-id="5c0a9-229">**Abonelik** kutusunda **App Service** bulunmasını istediğiniz Azure aboneliğini seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-229">In the **Subscription** box, choose the Azure Subscription in which you want the **App Service** to reside.</span></span>

4. <span data-ttu-id="5c0a9-230">**Kaynak grubu** metin kutusunda, bir kaynak grubu seçin veya yeni bir tane oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-230">In the **Resource Group** text box, choose a Resource Group or create a new one.</span></span> <span data-ttu-id="5c0a9-231">Bu ayar, Web sitenizin çalışacağı veri merkezini belirtir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-231">This setting specifies which data center your web site will run in.</span></span> <span data-ttu-id="5c0a9-232">Kaynak grupları hakkında daha fazla bilgi için bkz. [kaynak grupları](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-232">For more information about Resource Groups, see [Resource groups](/azure/azure-resource-manager/resource-group-overview#resource-groups).</span></span>

5. <span data-ttu-id="5c0a9-233">*App Service bölümüne*tıklayıp **App Service** **Yeni oluştur**' a tıklayarak yeni bir **App Service planı** oluşturun (App Service Ile aynı ad olabilir), **konum**ve **fiyatlandırma katmanı** (ücretsiz bir seçenek mevcuttur).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-233">Create a new **App Service Plan** by clicking the *App Service section*, **Create New**, and fill in **App Service plan** (can be same name as App Service), **Location**, and **Pricing tier** (there is a free option).</span></span>

6. <span data-ttu-id="5c0a9-234">**SQL veritabanı**' na tıklayın ve ardından **Yeni veritabanı oluştur** ' u seçin veya varolan bir veritabanını seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-234">Click **SQL Database**, and then choose **Create a new database** or select an existing database.</span></span>

7. <span data-ttu-id="5c0a9-235">**Ad** kutusuna veritabanınız için bir ad girin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-235">In the **Name** box, enter a name for your database.</span></span>
8. <span data-ttu-id="5c0a9-236">**Hedef sunucu** kutusuna tıklayın ve sonra **Yeni sunucu oluştur**' u seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-236">Click the **Target Server** box, and then select **Create a new server**.</span></span> <span data-ttu-id="5c0a9-237">Alternatif olarak, daha önce bir sunucu oluşturduysanız, bu sunucuyu kullanılabilir sunucular listesinden seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-237">Alternatively, if you previously created a server, you can select that server from list of available servers.</span></span>
9. <span data-ttu-id="5c0a9-238">**Fiyatlandırma katmanı** bölümünü seçin, *ücretsiz*' i seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-238">Choose **Pricing tier** section, choose *Free*.</span></span> <span data-ttu-id="5c0a9-239">Ek kaynaklar gerekiyorsa, veritabanı istediğiniz zaman ölçeklendirilebilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-239">If additional resources are needed, the database can be scaled up at any time.</span></span> <span data-ttu-id="5c0a9-240">Azure SQL fiyatlandırması hakkında daha fazla bilgi edinmek için bkz. [Azure SQL veritabanı fiyatlandırması](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-240">To learn more on Azure SQL Pricing, see [Azure SQL Database pricing](https://azure.microsoft.com/pricing/details/sql-database/managed/).</span></span>
10. <span data-ttu-id="5c0a9-241">[Harmanlamayı](/sql/relational-databases/collations/collation-and-unicode-support) gerektiği şekilde değiştirin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-241">Modify [collation](/sql/relational-databases/collations/collation-and-unicode-support) as needed.</span></span>
11. <span data-ttu-id="5c0a9-242">Yönetici **SQL Yöneticisi Kullanıcı adı** ve **SQL yönetici parolası**girin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-242">Enter an administrator **SQL Admin Username** and **SQL Admin Password**.</span></span>

    - <span data-ttu-id="5c0a9-243">**Yenı SQL veritabanı sunucusu**' nu seçtiyseniz, veritabanına erişirken daha sonra kullanacağınız yeni bir ad ve parola tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-243">If you selected **New SQL Database server**, define a new name and password that you'll use later when you access the database.</span></span>
    - <span data-ttu-id="5c0a9-244">Daha önce oluşturduğunuz bir sunucu seçtiyseniz, bu sunucunun kimlik bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-244">If you selected a server that you created previously, enter credentials for that server.</span></span>

12. <span data-ttu-id="5c0a9-245">Telemetri toplama, Application Insights kullanılarak App Service için etkinleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-245">Telemetry collection can be enabled for App Service using Application Insights.</span></span> <span data-ttu-id="5c0a9-246">Çok az yapılandırma sayesinde, Application Insights değerli olay, özel durum, bağımlılık, istek ve izleme bilgilerini toplar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-246">With little configuration, Application Insights collects valuable event, exception, dependency, request, and trace information.</span></span> <span data-ttu-id="5c0a9-247">Application Insights hakkında daha fazla bilgi edinmek için bkz. [Azure izleyici](https://azure.microsoft.com/services/monitor/).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-247">To learn more about Application Insights, see [Azure Monitor](https://azure.microsoft.com/services/monitor/).</span></span>
13. <span data-ttu-id="5c0a9-248">Bittiğini göstermek için en altta **Oluştur** ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-248">Click **Create** at the bottom to indicate that you're finished.</span></span>

    <span data-ttu-id="5c0a9-249">Yönetim Portalı, pano sayfasına döner ve sayfanın üst kısmındaki **Bildirimler** alanı sitenin oluşturulduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-249">The Management Portal returns to the Dashboard page, and the **Notifications** area at the top of the page shows that the site is being created.</span></span> <span data-ttu-id="5c0a9-250">Bir süre sonra (genellikle bir dakikadan kısa bir süre), dağıtımın başarılı olduğunu belirten bir bildirim vardır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-250">After a while (typically less than a minute), there's a notification that the Deployment succeeded.</span></span> <span data-ttu-id="5c0a9-251">Sol taraftaki Gezinti çubuğunda, yeni App Service **App Services** bölümünde görünür ve **SQL VERITABANLARı** bölümünde yeni SQL veritabanı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-251">In the navigation bar at the left, the new App Service appears in the **App Services** section and the new SQL database appears in the **SQL databases** section.</span></span>

### <a name="deploy-the-app-to-azure"></a><span data-ttu-id="5c0a9-252">Uygulamayı Azure'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-252">Deploy the app to Azure</span></span>

1. <span data-ttu-id="5c0a9-253">Visual Studio 'da **Çözüm Gezgini** projeye sağ tıklayın ve bağlam menüsünden **Yayımla** ' yı seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-253">In Visual Studio, right-click the project in **Solution Explorer** and select **Publish** from the context menu.</span></span>

2. <span data-ttu-id="5c0a9-254">**Bir yayımlama hedefi seçin** sayfasında **App Service** ' yi seçin ve ardından **var**' ı seçin ve ardından **Yayımla**' yı seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-254">On the **Pick a publish target** page, choose **App Service** and then **Select Existing**, and then choose **Publish**.</span></span>

    ![Bir yayımlama hedefi sayfası seçin](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/publish-select-existing-azure-app-service.png)

3. <span data-ttu-id="5c0a9-256">Daha önce Azure aboneliğinizi Visual Studio 'ya eklemediyseniz, ekrandaki adımları uygulayın.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-256">If you haven't previously added your Azure subscription in Visual Studio, perform the steps on the screen.</span></span> <span data-ttu-id="5c0a9-257">Bu adımlar, Visual Studio 'nun Azure aboneliğinize bağlanmasını sağlayarak **uygulama hizmetleri** listesinin Web sitenizi içermesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-257">These steps enable Visual Studio to connect to your Azure subscription so that the list of **App Services** will include your web site.</span></span>

4. <span data-ttu-id="5c0a9-258">**App Service** sayfasında, App Service eklediğiniz **aboneliği** seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-258">On the **App Service** page, select the **Subscription** you added the App Service to.</span></span> <span data-ttu-id="5c0a9-259">**Görünüm**bölümünde **kaynak grubu**' nu seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-259">Under **View**, select **Resource Group**.</span></span> <span data-ttu-id="5c0a9-260">App Service eklediğiniz kaynak grubunu genişletin ve App Service seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-260">Expand the resource group you added the App Service to, and then select the App Service.</span></span> <span data-ttu-id="5c0a9-261">Uygulamayı yayımlamak için **Tamam ' ı** seçin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-261">Choose **OK** to publish the app.</span></span>

5. <span data-ttu-id="5c0a9-262">**Çıkış** penceresinde hangi dağıtım eylemlerinin alındığı ve dağıtımın başarılı bir şekilde tamamlandığını raporlayan görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-262">The **Output** window shows what deployment actions were taken and reports successful completion of the deployment.</span></span>

6. <span data-ttu-id="5c0a9-263">Dağıtım başarılı olduğunda, varsayılan tarayıcı otomatik olarak dağıtılan Web sitesinin URL 'SI olarak açılır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-263">Upon successful deployment, the default browser automatically opens to the URL of the deployed web site.</span></span>

    ![Students_index_page_with_paging](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/cloud-app-browser.png)

    <span data-ttu-id="5c0a9-265">Uygulamanız artık bulutta çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-265">Your app is now running in the cloud.</span></span>

<span data-ttu-id="5c0a9-266">Bu noktada, **Execute Code First Migrations (uygulama başlangıcında çalışır)** öğesini SEÇTIĞINIZDEN Azure SQL veritabanında *SchoolContext* veritabanı oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-266">At this point, the *SchoolContext* database has been created in the Azure SQL database because you selected **Execute Code First Migrations (runs on app start)**.</span></span> <span data-ttu-id="5c0a9-267">*Web. config* dosyası dağıtılmış web sitesinde değiştirilmiştir, bu sayede, kodunuzun veritabanına veri okuması veya yazması ( **öğrenciler** sekmesini seçtiğinizde meydana gelir) Için [Migratedatabasetolatestversion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) başlatıcısı 'nın ilk kez çalışması. ):</span><span class="sxs-lookup"><span data-stu-id="5c0a9-267">The *Web.config* file in the deployed web site has been changed so that the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer runs the first time your code reads or writes data in the database (which happened when you selected the **Students** tab):</span></span>

![Web. config dosyası alıntısı](https://asp.net/media/4367421/mig.png)

<span data-ttu-id="5c0a9-269">Dağıtım işlemi ayrıca, veritabanı şemasını güncelleştirmek ve veritabanını dengeli yapmak için Code First Migrations için yeni bir bağlantı dizesi *(SchoolContext\_databasepublish*) oluşturmuştur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-269">The deployment process also created a new connection string *(SchoolContext\_DatabasePublish*) for Code First Migrations to use for updating the database schema and seeding the database.</span></span>

![Web. config dosyasında bağlantı dizesi](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/image26.png)

<span data-ttu-id="5c0a9-271">Web. config dosyasının dağıtılan sürümünü *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*' de kendi bilgisayarınızda bulabilirsiniz. Dağıtılmış *Web. config* dosyasının kendisini FTP kullanarak erişebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-271">You can find the deployed version of the Web.config file on your own computer in *ContosoUniversity\obj\Release\Package\PackageTmp\Web.config*. You can access the deployed *Web.config* file itself by using FTP.</span></span> <span data-ttu-id="5c0a9-272">Yönergeler için bkz [. Visual Studio kullanarak ASP.NET Web dağıtımı: Kod güncelleştirmesi](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update)dağıtma.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-272">For instructions, see [ASP.NET Web Deployment using Visual Studio: Deploying a Code Update](xref:web-forms/overview/deployment/visual-studio-web-deployment/deploying-a-code-update).</span></span> <span data-ttu-id="5c0a9-273">"FTP aracını kullanmak Için" ile başlayan yönergeleri izleyin: FTP URL 'SI, Kullanıcı adı ve parola. "</span><span class="sxs-lookup"><span data-stu-id="5c0a9-273">Follow the instructions that start with "To use an FTP tool, you need three things: the FTP URL, the user name, and the password."</span></span>

> [!NOTE]
> <span data-ttu-id="5c0a9-274">Web uygulaması güvenlik uygulamaz, böylece URL 'YI bulan herkes verileri değiştirebilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-274">The web app doesn't implement security, so anyone who finds the URL can change the data.</span></span> <span data-ttu-id="5c0a9-275">Web sitesinin güvenliğini sağlama hakkında yönergeler için bkz. Membership, [OAuth ve SQL veritabanı Ile güvenli bir ASP.NET MVC uygulamasını Azure 'A dağıtma](/aspnet/core/security/authorization/secure-data).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-275">For instructions on how to secure the web site, see [Deploy a Secure ASP.NET MVC app with Membership, OAuth, and SQL database to Azure](/aspnet/core/security/authorization/secure-data).</span></span> <span data-ttu-id="5c0a9-276">Visual Studio 'da Azure Yönetim Portalı veya **Sunucu Gezgini** kullanarak hizmeti durdurarak diğer kişilerin siteyi kullanmasını engelleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-276">You can prevent other people from using the site by stopping the service using the Azure Management Portal or **Server Explorer** in Visual Studio.</span></span>

![App Service menü öğesini durdur](migrations-and-deployment-with-the-entity-framework-in-an-asp-net-mvc-application/_static/server-explorer-stop-app-service.png)

## <a name="advanced-migrations-scenarios"></a><span data-ttu-id="5c0a9-278">Gelişmiş geçiş senaryoları</span><span class="sxs-lookup"><span data-stu-id="5c0a9-278">Advanced migrations scenarios</span></span>

<span data-ttu-id="5c0a9-279">Bu öğreticide gösterildiği gibi geçişleri otomatik olarak çalıştırarak bir veritabanını dağıtırsanız ve birden çok sunucu üzerinde çalışan bir Web sitesine dağıtıyorsanız, geçişleri aynı anda çalıştırmaya çalışan birden fazla sunucu alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-279">If you deploy a database by running migrations automatically as shown in this tutorial, and you are deploying to a web site that runs on multiple servers, you could get multiple servers trying to run migrations at the same time.</span></span> <span data-ttu-id="5c0a9-280">Geçişler atomik olduğundan, iki sunucu aynı geçişi çalıştırmaya çalışırsanız, biri başarılı olur ve diğeri başarısız olur (işlemlerin iki kez yapılamaması durumunda).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-280">Migrations are atomic, so if two servers try to run the same migration, one will succeed and the other will fail (assuming the operations can't be done twice).</span></span> <span data-ttu-id="5c0a9-281">Bu senaryoda, bu sorunlardan kaçınmak istiyorsanız geçişleri el ile çağırabilir ve yalnızca bir kez gerçekleşmeleri için kendi kodunuzu ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-281">In that scenario if you want to avoid those issues, you can call migrations manually and set up your own code so that it only happens once.</span></span> <span data-ttu-id="5c0a9-282">Daha fazla bilgi için bkz. Rowa Miller 'in blogu ve [migrate. exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) ' de [Koddan çalıştırılan ve betik geçişleri](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) (komut satırından geçişleri yürütmek için).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-282">For more information, see [Running and Scripting Migrations from Code](http://romiller.com/2012/02/09/running-scripting-migrations-from-code/) on Rowan Miller's blog and [Migrate.exe](/ef/ef6/modeling/code-first/migrations/migrate-exe) (for executing migrations from the command line).</span></span>

<span data-ttu-id="5c0a9-283">Diğer geçiş senaryoları hakkında daha fazla bilgi için bkz. [geçişleri ekran kaydı serisi](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span><span class="sxs-lookup"><span data-stu-id="5c0a9-283">For information about other migrations scenarios, see [Migrations Screencast Series](https://blogs.msdn.com/b/adonet/archive/2014/03/12/migrations-screencast-series.aspx).</span></span>

## <a name="update-specific-migration"></a><span data-ttu-id="5c0a9-284">Belirli geçişi Güncelleştir</span><span class="sxs-lookup"><span data-stu-id="5c0a9-284">Update specific migration</span></span>

`update-database -target MigrationName`

<span data-ttu-id="5c0a9-285">Komut `update-database -target MigrationName` , hedeflenen geçişi çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-285">The `update-database -target MigrationName` command runs the targeted migration.</span></span>

## <a name="ignore-migration-changes-to-database"></a><span data-ttu-id="5c0a9-286">Veritabanına yapılan geçiş değişikliklerini yoksay</span><span class="sxs-lookup"><span data-stu-id="5c0a9-286">Ignore migration changes to database</span></span>

`Add-migration MigrationName -ignoreChanges`

<span data-ttu-id="5c0a9-287">`ignoreChanges`geçerli modelle anlık görüntü olarak boş bir geçiş oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-287">`ignoreChanges` creates an empty migration with the current model as a snapshot.</span></span>

## <a name="code-first-initializers"></a><span data-ttu-id="5c0a9-288">Code First başlatıcıları</span><span class="sxs-lookup"><span data-stu-id="5c0a9-288">Code First initializers</span></span>

<span data-ttu-id="5c0a9-289">Dağıtım bölümünde, kullanılmakta olan [Migratedatabasetolatestversion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) başlatıcısı 'nı gördünüz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-289">In the deployment section, you saw the [MigrateDatabaseToLatestVersion](https://msdn.microsoft.com/library/hh829476(v=vs.103).aspx) initializer being used.</span></span> <span data-ttu-id="5c0a9-290">Code First Ayrıca, [Createdatabaseifnotexists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (varsayılan), [Dropcreatedatabaseifmodelchanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (daha önce kullandığınız) ve [dropcreatedatabaseher zaman](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx)dahil diğer başlatıcıları da sağlar.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-290">Code First also provides other initializers, including [CreateDatabaseIfNotExists](https://msdn.microsoft.com/library/gg679221(v=vs.103).aspx) (the default), [DropCreateDatabaseIfModelChanges](https://msdn.microsoft.com/library/gg679604(v=VS.103).aspx) (which you used earlier) and [DropCreateDatabaseAlways](https://msdn.microsoft.com/library/gg679506(v=VS.103).aspx).</span></span> <span data-ttu-id="5c0a9-291">Başlatıcı `DropCreateAlways` , birim testlerine yönelik koşulları ayarlamak için yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-291">The `DropCreateAlways` initializer can be useful for setting up conditions for unit tests.</span></span> <span data-ttu-id="5c0a9-292">Ayrıca kendi başlatıcılarınızı yazabilir ve uygulamanın veritabanından okuma veya veritabanına yazma işlemlerini beklemek istemiyorsanız bir başlatıcıyı açıkça çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-292">You can also write your own initializers, and you can call an initializer explicitly if you don't want to wait until the application reads from or writes to the database.</span></span>

<span data-ttu-id="5c0a9-293">Başlatıcılar hakkında daha fazla bilgi için bkz. [Entity Framework Code First veritabanı başlatıcıları anlama](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) ve kitap [programlama Entity Framework Bölüm 6: Julie](http://shop.oreilly.com/product/0636920022220.do) Lerman ve Rowa Miller tarafından Code First.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-293">For more information about initializers, see [Understanding Database Initializers in Entity Framework Code First](http://www.codeguru.com/csharp/article.php/c19999/Understanding-Database-Initializers-in-Entity-Framework-Code-First.htm) and chapter 6 of the book [Programming Entity Framework: Code First](http://shop.oreilly.com/product/0636920022220.do) by Julie Lerman and Rowan Miller.</span></span>

## <a name="get-the-code"></a><span data-ttu-id="5c0a9-294">Kodu alın</span><span class="sxs-lookup"><span data-stu-id="5c0a9-294">Get the code</span></span>

[<span data-ttu-id="5c0a9-295">Tamamlanmış projeyi indirin</span><span class="sxs-lookup"><span data-stu-id="5c0a9-295">Download the Completed Project</span></span>](https://webpifeed.blob.core.windows.net/webpifeed/Partners/ASP.NET%20MVC%20Application%20Using%20Entity%20Framework%20Code%20First.zip)

## <a name="additional-resources"></a><span data-ttu-id="5c0a9-296">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="5c0a9-296">Additional resources</span></span>

<span data-ttu-id="5c0a9-297">Diğer Entity Framework kaynaklarına bağlantılar, [ASP.NET Data Access-önerilen kaynaklar](xref:whitepapers/aspnet-data-access-content-map)bölümünde bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-297">Links to other Entity Framework resources can be found in [ASP.NET Data Access - Recommended Resources](xref:whitepapers/aspnet-data-access-content-map).</span></span>

## <a name="next-steps"></a><span data-ttu-id="5c0a9-298">Sonraki adımlar</span><span class="sxs-lookup"><span data-stu-id="5c0a9-298">Next steps</span></span>

<span data-ttu-id="5c0a9-299">Bu öğreticide şunları yaptınız:</span><span class="sxs-lookup"><span data-stu-id="5c0a9-299">In this tutorial, you:</span></span>

> [!div class="checklist"]
> * <span data-ttu-id="5c0a9-300">Code First geçişleri etkinleştirildi</span><span class="sxs-lookup"><span data-stu-id="5c0a9-300">Enabled Code First migrations</span></span>
> * <span data-ttu-id="5c0a9-301">Uygulamayı Azure 'da dağıtıldı (isteğe bağlı)</span><span class="sxs-lookup"><span data-stu-id="5c0a9-301">Deployed the app in Azure (optional)</span></span>

<span data-ttu-id="5c0a9-302">Bir ASP.NET MVC uygulaması için daha karmaşık bir veri modeli oluşturmayı öğrenmek üzere bir sonraki makaleye ilerleyin.</span><span class="sxs-lookup"><span data-stu-id="5c0a9-302">Advance to the next article to learn how to create a more complex data model for an ASP.NET MVC Application.</span></span>
> [!div class="nextstepaction"]
> [<span data-ttu-id="5c0a9-303">Daha karmaşık veri modeli oluşturma</span><span class="sxs-lookup"><span data-stu-id="5c0a9-303">Create a more complex data model</span></span>](creating-a-more-complex-data-model-for-an-asp-net-mvc-application.md)
