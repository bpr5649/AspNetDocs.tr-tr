---
uid: mvc/overview/performance/bundling-and-minification
title: Paketleme ve küçültme | Microsoft Docs
author: Rick-Anderson
description: Paketleme ve küçültme olan iki teknik isteği yükleme süresini kısaltmak için ASP.NET 4.5 içinde kullanabilirsiniz. Paketleme ve küçültme reducin tarafından yükleme süresini artırır...
ms.author: riande
ms.date: 08/23/2012
ms.assetid: 5894dc13-5d45-4dad-8096-136499120f1d
msc.legacyurl: /mvc/overview/performance/bundling-and-minification
msc.type: authoredcontent
ms.openlocfilehash: 9e4a2a9fc56393ac816f25a1039b233aa8961608
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59383843"
---
# <a name="bundling-and-minification"></a><span data-ttu-id="c2331-104">Paketleme ve Küçültme</span><span class="sxs-lookup"><span data-stu-id="c2331-104">Bundling and Minification</span></span>

<span data-ttu-id="c2331-105">Tarafından [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="c2331-105">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="c2331-106">Paketleme ve küçültme olan iki teknik isteği yükleme süresini kısaltmak için ASP.NET 4.5 içinde kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-106">Bundling and minification are two techniques you can use in ASP.NET 4.5 to improve request load time.</span></span> <span data-ttu-id="c2331-107">Paketleme ve küçültme sunucuya istek sayısını azaltarak ve istenilen varlıkların (örneğin, CSS ve JavaScript.) boyutunu azaltarak yükleme süresini artırır</span><span class="sxs-lookup"><span data-stu-id="c2331-107">Bundling and minification improves load time by reducing the number of requests to the server and reducing the size of requested assets (such as CSS and JavaScript.)</span></span>


<span data-ttu-id="c2331-108">Geçerli bilinen tarayıcılar çoğunu sayısını sınırlar [eşzamanlı bağlantı](http://www.browserscope.org/?category=network) altı için her bir ana bilgisayar başına.</span><span class="sxs-lookup"><span data-stu-id="c2331-108">Most of the current major browsers limit the number of [simultaneous connections](http://www.browserscope.org/?category=network) per each hostname to six.</span></span> <span data-ttu-id="c2331-109">Altı istekler işlendiği sırada bir konakta varlıkları için ek istekler tarayıcı tarafından sıralanacak anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="c2331-109">That means that while six requests are being processed, additional requests for assets on a host will be queued by the browser.</span></span> <span data-ttu-id="c2331-110">Aşağıdaki görüntüde, IE F12 geliştirici araçları ağı sekmeleri varlıklar hakkında bir örnek uygulamanın görünüm tarafından gerekli zamanlamasını gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-110">In the image below, the IE F12 developer tools network tabs shows the timing for assets required by the About view of a sample application.</span></span>

![B/M](bundling-and-minification/_static/image1.png)

<span data-ttu-id="c2331-112">Gri çubuklar isteği altı bağlantı sınırı bekleyen tarayıcı tarafından sıraya zamanı gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-112">The gray bars show the time the request is queued by the browser waiting on the six connection limit.</span></span> <span data-ttu-id="c2331-113">İstek süresi ilk bayta sarı çubuk olduğunu diğer bir deyişle, sunucudan ilk yanıtı alıp isteği göndermek için geçen süre.</span><span class="sxs-lookup"><span data-stu-id="c2331-113">The yellow bar is the request time to first byte, that is, the time taken to send the request and receive the first response from the server.</span></span> <span data-ttu-id="c2331-114">Mavi Çubuklar yanıt verileri sunucudan almak için geçen süreyi gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-114">The blue bars show the time taken to receive the response data from the server.</span></span> <span data-ttu-id="c2331-115">Ayrıntılı zamanlama bilgileri almak için bir varlık dosyasına çift tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-115">You can double-click on an asset to get detailed timing information.</span></span> <span data-ttu-id="c2331-116">Örneğin, aşağıdaki görüntüde yüklenmesi için zamanlama ayrıntılarını gösterir */Scripts/MyScripts/JavaScript6.js* dosya.</span><span class="sxs-lookup"><span data-stu-id="c2331-116">For example, the following image shows the timing details for loading the */Scripts/MyScripts/JavaScript6.js* file.</span></span>

![](bundling-and-minification/_static/image2.png)

<span data-ttu-id="c2331-117">Önceki gösterildiği **Başlat** olay, hangi isteği tarayıcının nedeniyle sıraya alınma zamanı sağlar, eşzamanlı bağlantı sayısını sınırlar.</span><span class="sxs-lookup"><span data-stu-id="c2331-117">The preceding image shows the **Start** event, which gives the time the request was queued because of the browser limit the number of simultaneous connections.</span></span> <span data-ttu-id="c2331-118">Bu durumda, istek tamamlamak başka bir isteği beklerken 46 milisaniye için kuyruğa alındı.</span><span class="sxs-lookup"><span data-stu-id="c2331-118">In this case, the request was queued for 46 milliseconds waiting for another request to complete.</span></span>

## <a name="bundling"></a><span data-ttu-id="c2331-119">Paketleme</span><span class="sxs-lookup"><span data-stu-id="c2331-119">Bundling</span></span>

<span data-ttu-id="c2331-120">Paketleme, birleştirme veya birden çok dosyayı tek bir dosyada paket kolaylaştırır ASP.NET 4.5 içinde yeni bir özelliktir.</span><span class="sxs-lookup"><span data-stu-id="c2331-120">Bundling is a new feature in ASP.NET 4.5 that makes it easy to combine or bundle multiple files into a single file.</span></span> <span data-ttu-id="c2331-121">CSS, JavaScript ve diğer paketleri oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-121">You can create CSS, JavaScript and other bundles.</span></span> <span data-ttu-id="c2331-122">Daha az dosya anlamına gelir daha az HTTP isteklerini ve, ilk sayfa yükleme performansı artırabilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-122">Fewer files means fewer HTTP requests and that can improve first page load performance.</span></span>

<span data-ttu-id="c2331-123">Aşağıdaki görüntüde, daha önce ancak bu sefer paketleme ve küçültme etkin hakkında görünümünün aynı zamanlama görünümünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-123">The following image shows the same timing view of the About view shown previously, but this time with bundling and minification enabled.</span></span>

![](bundling-and-minification/_static/image3.png)

## <a name="minification"></a><span data-ttu-id="c2331-124">Küçültme</span><span class="sxs-lookup"><span data-stu-id="c2331-124">Minification</span></span>

<span data-ttu-id="c2331-125">Küçültme betikleri veya gereksiz boşluk ve açıklamaları kaldırma ve bir karakter için değişken adlarını kısaltmak gibi css, farklı kod iyileştirmeleri çeşitli gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="c2331-125">Minification performs a variety of different code optimizations to scripts or css, such as removing unnecessary white space and comments and shortening variable names to one character.</span></span> <span data-ttu-id="c2331-126">Aşağıdaki JavaScript işlevi göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="c2331-126">Consider the following JavaScript function.</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample1.js)]

<span data-ttu-id="c2331-127">Küçültme sonra işlevi aşağıdaki azaltılır:</span><span class="sxs-lookup"><span data-stu-id="c2331-127">After minification, the function is reduced to the following:</span></span>

[!code-javascript[Main](bundling-and-minification/samples/sample2.js)]

<span data-ttu-id="c2331-128">Açıklamalar ve gereksiz boşluk kaldırma ek olarak, aşağıdaki parametreler ve değişken adları (kısaltılmış) şu şekilde değiştirilmiştir:</span><span class="sxs-lookup"><span data-stu-id="c2331-128">In addition to removing the comments and unnecessary whitespace, the following parameters and variable names were renamed (shortened) as follows:</span></span>

| **<span data-ttu-id="c2331-129">Özgün</span><span class="sxs-lookup"><span data-stu-id="c2331-129">Original</span></span>** | **<span data-ttu-id="c2331-130">Yeniden adlandırıldı</span><span class="sxs-lookup"><span data-stu-id="c2331-130">Renamed</span></span>** |
| --- | --- |
| <span data-ttu-id="c2331-131">imageTagAndImageID</span><span class="sxs-lookup"><span data-stu-id="c2331-131">imageTagAndImageID</span></span> | <span data-ttu-id="c2331-132">n</span><span class="sxs-lookup"><span data-stu-id="c2331-132">n</span></span> |
| <span data-ttu-id="c2331-133">imageContext</span><span class="sxs-lookup"><span data-stu-id="c2331-133">imageContext</span></span> | <span data-ttu-id="c2331-134">t</span><span class="sxs-lookup"><span data-stu-id="c2331-134">t</span></span> |
| <span data-ttu-id="c2331-135">imageElement</span><span class="sxs-lookup"><span data-stu-id="c2331-135">imageElement</span></span> | <span data-ttu-id="c2331-136">ı</span><span class="sxs-lookup"><span data-stu-id="c2331-136">i</span></span> |

## <a name="impact-of-bundling-and-minification"></a><span data-ttu-id="c2331-137">Etkisini paketleme ve küçültme</span><span class="sxs-lookup"><span data-stu-id="c2331-137">Impact of Bundling and Minification</span></span>

<span data-ttu-id="c2331-138">Aşağıdaki tabloda, tek tek tüm varlıklarını listeleme ve paketleme ve küçültme (B/dk) örnek program kullanarak arasında bazı önemli farklılıklar gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-138">The following table shows several important differences between listing all the assets individually and using bundling and minification (B/M) in the sample program.</span></span>

|  | **<span data-ttu-id="c2331-139">B/dk kullanma</span><span class="sxs-lookup"><span data-stu-id="c2331-139">Using B/M</span></span>** | **<span data-ttu-id="c2331-140">B/dk</span><span class="sxs-lookup"><span data-stu-id="c2331-140">Without B/M</span></span>** | **<span data-ttu-id="c2331-141">Değiştir</span><span class="sxs-lookup"><span data-stu-id="c2331-141">Change</span></span>** |
| --- | --- | --- | --- |
| **<span data-ttu-id="c2331-142">Dosya istekleri</span><span class="sxs-lookup"><span data-stu-id="c2331-142">File Requests</span></span>** | <span data-ttu-id="c2331-143">9</span><span class="sxs-lookup"><span data-stu-id="c2331-143">9</span></span> | <span data-ttu-id="c2331-144">34</span><span class="sxs-lookup"><span data-stu-id="c2331-144">34</span></span> | <span data-ttu-id="c2331-145">256%</span><span class="sxs-lookup"><span data-stu-id="c2331-145">256%</span></span> |
| **<span data-ttu-id="c2331-146">Gönderilen KB</span><span class="sxs-lookup"><span data-stu-id="c2331-146">KB Sent</span></span>** | <span data-ttu-id="c2331-147">3.26</span><span class="sxs-lookup"><span data-stu-id="c2331-147">3.26</span></span> | <span data-ttu-id="c2331-148">11.92</span><span class="sxs-lookup"><span data-stu-id="c2331-148">11.92</span></span> | <span data-ttu-id="c2331-149">266%</span><span class="sxs-lookup"><span data-stu-id="c2331-149">266%</span></span> |
| **<span data-ttu-id="c2331-150">Alınan KB</span><span class="sxs-lookup"><span data-stu-id="c2331-150">KB Received</span></span>** | <span data-ttu-id="c2331-151">388.51</span><span class="sxs-lookup"><span data-stu-id="c2331-151">388.51</span></span> | <span data-ttu-id="c2331-152">530</span><span class="sxs-lookup"><span data-stu-id="c2331-152">530</span></span> | <span data-ttu-id="c2331-153">36%</span><span class="sxs-lookup"><span data-stu-id="c2331-153">36%</span></span> |
| **<span data-ttu-id="c2331-154">Yükleme süresi</span><span class="sxs-lookup"><span data-stu-id="c2331-154">Load Time</span></span>** | <span data-ttu-id="c2331-155">510 MS</span><span class="sxs-lookup"><span data-stu-id="c2331-155">510 MS</span></span> | <span data-ttu-id="c2331-156">780 MS</span><span class="sxs-lookup"><span data-stu-id="c2331-156">780 MS</span></span> | <span data-ttu-id="c2331-157">53%</span><span class="sxs-lookup"><span data-stu-id="c2331-157">53%</span></span> |

<span data-ttu-id="c2331-158">Gönderilen bayt tarayıcılar bunlar üzerinde istekleri geçerli HTTP üst bilgilerini oldukça ayrıntılı olarak paketleme ile önemli bir azalma var.</span><span class="sxs-lookup"><span data-stu-id="c2331-158">The bytes sent had a significant reduction with bundling as browsers are fairly verbose with the HTTP headers they apply on requests.</span></span> <span data-ttu-id="c2331-159">Alınan bayt azaltma kadar büyük değil çünkü en büyük dosyaları (*betikleri\\jquery kullanıcı arabirimi 1.8.11.min.js* ve *betikleri\\jquery 1.7.1.min.js*) önceden küçültülmüş .</span><span class="sxs-lookup"><span data-stu-id="c2331-159">The received bytes reduction is not as large because the largest files (*Scripts\\jquery-ui-1.8.11.min.js* and *Scripts\\jquery-1.7.1.min.js*) are already minified.</span></span> <span data-ttu-id="c2331-160">Not: Kullanılan örnek program zamanlamaları [Fiddler](http://www.fiddler2.com/fiddler2/) yavaş bir ağa benzetmek için aracı.</span><span class="sxs-lookup"><span data-stu-id="c2331-160">Note: The timings on the sample program used the [Fiddler](http://www.fiddler2.com/fiddler2/) tool to simulate a slow network.</span></span> <span data-ttu-id="c2331-161">(Fiddler gelen **kuralları** menüsünde **performans** ardından **benzetimini Modem hızlarını**.)</span><span class="sxs-lookup"><span data-stu-id="c2331-161">(From the Fiddler **Rules** menu, select **Performance** then **Simulate Modem Speeds**.)</span></span>

## <a name="debugging-bundled-and-minified-javascript"></a><span data-ttu-id="c2331-162">Paketlenmiş ve küçültülmüş JavaScript hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="c2331-162">Debugging Bundled and Minified JavaScript</span></span>

<span data-ttu-id="c2331-163">Bir geliştirme ortamı, JavaScript'te hata ayıklamak kolaydır (burada [derleme öğesi](https://msdn.microsoft.com/library/s10awwz0.aspx) içinde *Web.config* dosya kümesine `debug="true"` ) JavaScript dosyaları değil gruplandığından veya küçültülmüş.</span><span class="sxs-lookup"><span data-stu-id="c2331-163">It's easy to debug your JavaScript in a development environment (where the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx) in the *Web.config* file is set to `debug="true"` ) because the JavaScript files are not bundled or minified.</span></span> <span data-ttu-id="c2331-164">JavaScript dosyalarınızın nerede toplanmış ve küçültülmüş yayın derlemesinde hata ayıklama yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-164">You can also debug a release build where your JavaScript files are bundled and minified.</span></span> <span data-ttu-id="c2331-165">IE F12 geliştirici araçlarını kullanarak, aşağıdaki yaklaşımı kullanarak bir küçültülmüş pakete eklenen bir JavaScript işlevi hata ayıklama:</span><span class="sxs-lookup"><span data-stu-id="c2331-165">Using the IE F12 developer tools, you debug a JavaScript function included in a minified bundle using the following approach:</span></span>

1. <span data-ttu-id="c2331-166">Seçin **betik** sekmesini seçip **hata ayıklamayı Başlat** düğmesi.</span><span class="sxs-lookup"><span data-stu-id="c2331-166">Select the **Script** tab and then select the **Start debugging** button.</span></span>
2. <span data-ttu-id="c2331-167">Varlıklar düğmesini kullanarak hata ayıklamak istediğiniz JavaScript işlevi içeren bir paket seçin.</span><span class="sxs-lookup"><span data-stu-id="c2331-167">Select the bundle containing the JavaScript function you want to debug using the assets button.</span></span>  
    ![](bundling-and-minification/_static/image4.png)
3. <span data-ttu-id="c2331-168">Küçültülmüş JavaScript seçerek biçimlendirme **Yapılandırma düğmesi** ![](bundling-and-minification/_static/image5.png)seçip **biçim JavaScript**.</span><span class="sxs-lookup"><span data-stu-id="c2331-168">Format the minified JavaScript by selecting the **Configuration button** ![](bundling-and-minification/_static/image5.png), and then selecting **Format JavaScript**.</span></span>
4. <span data-ttu-id="c2331-169">İçinde **arama betik** giriş kutusunda, hata ayıklamak istediğiniz işlevin adını seçin.</span><span class="sxs-lookup"><span data-stu-id="c2331-169">In the **Search Script** input box, select the name of the function you want to debug.</span></span> <span data-ttu-id="c2331-170">Aşağıdaki görüntüde, **AddAltToImg** girilen **arama betik** giriş kutusu.</span><span class="sxs-lookup"><span data-stu-id="c2331-170">In the following image, **AddAltToImg** was entered in the **Search Script** input box.</span></span>  
    ![](bundling-and-minification/_static/image6.png)

<span data-ttu-id="c2331-171">F12 geliştirici araçları ile hata ayıklama ile ilgili daha fazla bilgi için bkz. MSDN makalesi [JavaScript hatalarını hata ayıklama için F12 geliştirici araçlarını kullanma](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-171">For more information on debugging with the F12 developer tools, see the MSDN article [Using the F12 Developer Tools to Debug JavaScript Errors](https://msdn.microsoft.com/library/ie/gg699336(v=vs.85).aspx).</span></span>

## <a name="controlling-bundling-and-minification"></a><span data-ttu-id="c2331-172">Denetleme paketleme ve küçültme</span><span class="sxs-lookup"><span data-stu-id="c2331-172">Controlling Bundling and Minification</span></span>

<span data-ttu-id="c2331-173">Paketleme ve küçültme etkin veya devre dışı hata ayıklama özniteliğinin değerini ayarlayarak [derleme öğesi](https://msdn.microsoft.com/library/s10awwz0.aspx) içinde *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="c2331-173">Bundling and minification is enabled or disabled by setting the value of the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file.</span></span> <span data-ttu-id="c2331-174">Aşağıdaki XML'de `debug` bunu true olarak ayarlanırsa, paketleme ve küçültme devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="c2331-174">In the following XML, `debug` is set to true so bundling and minification is disabled.</span></span>

[!code-xml[Main](bundling-and-minification/samples/sample3.xml?highlight=2)]

<span data-ttu-id="c2331-175">Paketleme ve küçültme etkinleştirmek için ayarlayın `debug` "false" değeri.</span><span class="sxs-lookup"><span data-stu-id="c2331-175">To enable bundling and minification, set the `debug` value to "false".</span></span> <span data-ttu-id="c2331-176">Geçersiz kılabilirsiniz *Web.config* ayarı `EnableOptimizations` özelliği `BundleTable` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="c2331-176">You can override the *Web.config* setting with the `EnableOptimizations` property on the `BundleTable` class.</span></span> <span data-ttu-id="c2331-177">Aşağıdaki kod, paketleme ve küçültme sağlar ve içindeki herhangi bir ayarı geçersiz kılar *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="c2331-177">The following code enables bundling and minification and overrides any setting in the *Web.config* file.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample4.cs?highlight=7)]

> [!NOTE]
> <span data-ttu-id="c2331-178">Sürece `EnableOptimizations` olduğu `true` veya hata ayıklama özniteliğinde [derleme öğesi](https://msdn.microsoft.com/library/s10awwz0.aspx) içinde *Web.config* dosya kümesine `false`, dosyaları paketlenebilir veya küçültülmüş.</span><span class="sxs-lookup"><span data-stu-id="c2331-178">Unless `EnableOptimizations` is `true` or the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file is set to `false`, files will not be bundled or minified.</span></span> <span data-ttu-id="c2331-179">Buna ek olarak, dosyaların .min sürümünü kullanılmayacak, tam hata ayıklama sürümleri seçilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-179">Additionally, the .min version of files will not be used, the full debug versions will be selected.</span></span> `EnableOptimizations` <span data-ttu-id="c2331-180">debug özniteliği geçersiz kılar [derleme öğesi](https://msdn.microsoft.com/library/s10awwz0.aspx) içinde *Web.config* dosyası</span><span class="sxs-lookup"><span data-stu-id="c2331-180">overrides the debug attribute in the [compilation Element](https://msdn.microsoft.com/library/s10awwz0.aspx)  in the *Web.config* file</span></span>


## <a name="using-bundling-and-minification-with-aspnet-web-forms-and-web-pages"></a><span data-ttu-id="c2331-181">Kullanarak paketleme ve küçültme ile ASP.NET Web Forms ve Web sayfaları</span><span class="sxs-lookup"><span data-stu-id="c2331-181">Using Bundling and Minification with ASP.NET Web Forms and Web Pages</span></span>

- <span data-ttu-id="c2331-182">Web sayfaları için blog girişine bakın [ekleyerek Web iyileştirme için bir Web sayfaları sitesinde](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-182">For Web Pages, see the blog entry [Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="c2331-183">Web formları için blog girişine bakın [ekleme'ı paketleme ve küçültme Web Forms'a](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-183">For Web Forms, see the blog entry [Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>

## <a name="using-bundling-and-minification-with-aspnet-mvc"></a><span data-ttu-id="c2331-184">Kullanarak paketleme ve küçültme ile ASP.NET MVC</span><span class="sxs-lookup"><span data-stu-id="c2331-184">Using Bundling and Minification with ASP.NET MVC</span></span>

<span data-ttu-id="c2331-185">Bu bölümde bir ASP.NET MVC paketleme incelemek için proje ve küçültme oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="c2331-185">In this section we will create an ASP.NET MVC project to examine bundling and minification.</span></span> <span data-ttu-id="c2331-186">İlk olarak adlandırılan yeni bir ASP.NET MVC internet projesi oluşturun **MvcBM** herhangi birini varsayılan değerleri değiştirmeden.</span><span class="sxs-lookup"><span data-stu-id="c2331-186">First, create a new ASP.NET MVC internet project named **MvcBM** without changing any of the defaults.</span></span>

<span data-ttu-id="c2331-187">Açık *uygulama\\\_Başlat\\BundleConfig.cs* inceleyin ve dosya `RegisterBundles` oluşturmak, kaydedin ve paketleri yapılandırmak için kullanılan yöntem.</span><span class="sxs-lookup"><span data-stu-id="c2331-187">Open the *App\\\_Start\\BundleConfig.cs* file and examine the `RegisterBundles` method which is used to create, register and configure bundles.</span></span> <span data-ttu-id="c2331-188">Aşağıdaki kod bir bölümü gösterilmektedir `RegisterBundles` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c2331-188">The following code shows a portion of the `RegisterBundles` method.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample5.cs)]

<span data-ttu-id="c2331-189">Yukarıdaki kod adlı yeni bir JavaScript paket oluşturur *~/bundles/jquery* tüm uygun içeren (hata ayıklama veya küçültülmüş değil. *vsdoc*) dosyalarını *betikleri* "~/Scripts/jquery-{version} .js" joker karakter dizesi ile eşleşen bir klasör.</span><span class="sxs-lookup"><span data-stu-id="c2331-189">The  preceding code creates a new JavaScript bundle named *~/bundles/jquery* that includes all the appropriate (that is debug or minified but not .*vsdoc*) files in the *Scripts* folder that match the wild card string "~/Scripts/jquery-{version}.js".</span></span> <span data-ttu-id="c2331-190">ASP.NET MVC 4 için bu dosyanın bir hata ayıklama yapılandırması ile anlamına gelir *jquery 1.7.1.js* pakete eklenecek.</span><span class="sxs-lookup"><span data-stu-id="c2331-190">For ASP.NET MVC 4, this means with a debug configuration, the file *jquery-1.7.1.js* will be added to the bundle.</span></span> <span data-ttu-id="c2331-191">Bir sürüm yapılandırmasında *jquery 1.7.1.min.js* eklenir.</span><span class="sxs-lookup"><span data-stu-id="c2331-191">In a release configuration, *jquery-1.7.1.min.js* will be added.</span></span> <span data-ttu-id="c2331-192">Paketleme framework gibi birkaç genel kurallar aşağıdaki gibidir:</span><span class="sxs-lookup"><span data-stu-id="c2331-192">The bundling framework follows several common conventions such as:</span></span>

- <span data-ttu-id="c2331-193">".Min" dosya seçmek için sürümün *FileX.min.js* ve *FileX.js* mevcut.</span><span class="sxs-lookup"><span data-stu-id="c2331-193">Selecting ".min" file for release when *FileX.min.js* and *FileX.js* exist.</span></span>
- <span data-ttu-id="c2331-194">Hata ayıklama olmayan ".min" sürümü seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-194">Selecting the non ".min" version for debug.</span></span>
- <span data-ttu-id="c2331-195">Yoksayma "-vsdoc" dosyaları (gibi *jquery 1.7.1 vsdoc.js*), IntelliSense tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c2331-195">Ignoring "-vsdoc" files (such as *jquery-1.7.1-vsdoc.js*), which are used only by IntelliSense.</span></span>

<span data-ttu-id="c2331-196">`{version}` Yukarıda gösterilen joker eşleşen jQuery paket jQuery'nün uygun sürümüne otomatik olarak oluşturmak için kullanılır, *betikleri* klasör.</span><span class="sxs-lookup"><span data-stu-id="c2331-196">The `{version}` wild card matching shown above is used to automatically create a jQuery bundle with the appropriate version of jQuery in your *Scripts* folder.</span></span> <span data-ttu-id="c2331-197">Bu örnekte, bir joker kullanarak aşağıdaki avantajları sağlar:</span><span class="sxs-lookup"><span data-stu-id="c2331-197">In this example, using a wild card provides the following benefits:</span></span>

- <span data-ttu-id="c2331-198">Yukarıdaki paket kod veya Görünüm sayfalarınızda jQuery başvuruları değiştirmeden jQuery bir sürüme güncelleştirmek için NuGet kullanmanıza olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="c2331-198">Allows you to use NuGet to update to a newer jQuery version without changing the preceding bundling code or jQuery references in your view pages.</span></span>
- <span data-ttu-id="c2331-199">Otomatik olarak seçer, hata ayıklama yapılandırmaları için tam sürümü ve yayını için ".min" sürümü oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c2331-199">Automatically selects the full version for debug configurations and the ".min" version for release builds.</span></span>

## <a name="using-a-cdn"></a><span data-ttu-id="c2331-200">CDN kullanma</span><span class="sxs-lookup"><span data-stu-id="c2331-200">Using a CDN</span></span>

 <span data-ttu-id="c2331-201">İzleme kodu yerel jQuery paket CDN jQuery Paketle değiştirir.</span><span class="sxs-lookup"><span data-stu-id="c2331-201">The follow code replaces the local jQuery bundle with a CDN jQuery bundle.</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample6.cs)]

<span data-ttu-id="c2331-202">Yukarıdaki kod sürümde modu ve jQuery hata ayıklama sürümünü yerel olarak hata ayıklama modunda getirileceği sırada jQuery CDN'den istenecektir.</span><span class="sxs-lookup"><span data-stu-id="c2331-202">In the code above, jQuery will be requested from the CDN while in release mode and the debug version of jQuery will be fetched locally in debug mode.</span></span> <span data-ttu-id="c2331-203">CDN istek başarısız olursa bir CDN kullanarak, bir geri dönüş mekanizması olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c2331-203">When using a CDN, you should have a fallback mechanism in case the CDN request fails.</span></span> <span data-ttu-id="c2331-204">Aşağıdaki biçimlendirmede jQuery CDN hatasında istemek için eklenen Düzen dosyası gösterir betiği sonundan bölün.</span><span class="sxs-lookup"><span data-stu-id="c2331-204">The following markup fragment from the end of the layout file shows script added to request jQuery should the CDN fail.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample7.cshtml?highlight=5-13)]

## <a name="creating-a-bundle"></a><span data-ttu-id="c2331-205">Bir paket oluşturma</span><span class="sxs-lookup"><span data-stu-id="c2331-205">Creating a Bundle</span></span>

<span data-ttu-id="c2331-206">[Paket](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) sınıfı `Include` yöntemi her dize kaynak sanal yolu olduğu bir dizisini alır.</span><span class="sxs-lookup"><span data-stu-id="c2331-206">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `Include` method takes an array of strings, where each string is a virtual path to resource.</span></span> <span data-ttu-id="c2331-207">Aşağıdaki kodu `RegisterBundles` yönteminde *uygulama\\\_Başlat\\BundleConfig.cs* dosyasını nasıl birden çok dosya bir pakete eklenen gösterir:</span><span class="sxs-lookup"><span data-stu-id="c2331-207">The following code from the `RegisterBundles` method in the *App\\\_Start\\BundleConfig.cs* file shows how multiple files are added to a bundle:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample8.cs)]

<span data-ttu-id="c2331-208">[Paket](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) sınıfı `IncludeDirectory` yöntemi, bir arama deseniyle eşleşen tüm dosyaları bir dizin (ve isteğe bağlı olarak tüm alt dizinleri) eklemek için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="c2331-208">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` method is provided to add all the files in a directory (and optionally all subdirectories) which match a search pattern.</span></span> <span data-ttu-id="c2331-209">[Paket](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) sınıfı `IncludeDirectory` API aşağıda gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="c2331-209">The [Bundle](https://msdn.microsoft.com/library/system.web.optimization.bundle(v=VS.110).aspx) class `IncludeDirectory` API is shown below:</span></span>

[!code-csharp[Main](bundling-and-minification/samples/sample9.cs)]

<span data-ttu-id="c2331-210">Paketler oluşturma yöntemini kullanarak görünümlerde başvurulan (`Styles.Render` için CSS ve `Scripts.Render` JavaScript için).</span><span class="sxs-lookup"><span data-stu-id="c2331-210">Bundles are referenced in views using the Render method, (`Styles.Render` for CSS and `Scripts.Render` for JavaScript).</span></span> <span data-ttu-id="c2331-211">Aşağıdaki biçimlendirmeden *görünümleri\\paylaşılan\\\_Layout.cshtml* dosya, varsayılan ASP.NET internet proje görünümleri CSS ve JavaScript paketleri nasıl başvuru gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-211">The following markup from the *Views\\Shared\\\_Layout.cshtml* file shows how the default ASP.NET internet project views reference CSS and JavaScript bundles.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample10.cshtml?highlight=5-6,11)]

<span data-ttu-id="c2331-212">İşleme yöntemlerini bir kod satırında birden çok paket ekleyebilmek dizelerden oluşan bir dizi sağladığına dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="c2331-212">Notice the Render methods takes an array of strings, so you can add multiple bundles in one line of code.</span></span> <span data-ttu-id="c2331-213">Genellikle, varlığa başvurmak için gereken HTML'yi oluşturur işleme yöntemlerini kullanmayı isteyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-213">You will generally want to use the Render methods which create the necessary HTML to reference the asset.</span></span> <span data-ttu-id="c2331-214">Kullanabileceğiniz `Url` varlığa başvurmak için gerekli biçimlendirme varlık için URL'yi oluşturmak için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c2331-214">You can use the `Url` method to generate the URL to the asset without the markup needed to reference the asset.</span></span> <span data-ttu-id="c2331-215">Yeni HTML5 kullanmayı istiyorlardı varsayalım [zaman uyumsuz](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) özniteliği.</span><span class="sxs-lookup"><span data-stu-id="c2331-215">Suppose you wanted to use the new HTML5 [async](http://www.whatwg.org/specs/web-apps/current-work/#attr-script-async) attribute.</span></span> <span data-ttu-id="c2331-216">Aşağıdaki kodu kullanarak modernizr yapmayı gösterir `Url` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="c2331-216">The following code shows how to reference modernizr using the `Url` method.</span></span>

[!code-cshtml[Main](bundling-and-minification/samples/sample11.cshtml?highlight=11)]

## <a name="using-the--wildcard-character-to-select-files"></a><span data-ttu-id="c2331-217">Kullanarak "\*" dosyalar seçmek için joker karakter</span><span class="sxs-lookup"><span data-stu-id="c2331-217">Using the "\*" Wildcard Character to Select Files</span></span>

<span data-ttu-id="c2331-218">Belirtilen sanal yola `Include` yöntemi ve arama deseni olarak `IncludeDirectory` yöntemi bir kabul edebilir "\*" joker karakter olarak bir ön ek veya son yol kesimi için soneki.</span><span class="sxs-lookup"><span data-stu-id="c2331-218">The virtual path specified in the `Include` method and the search pattern in the `IncludeDirectory` method can accept one "\*" wildcard character as a prefix or suffix to in the last path segment.</span></span> <span data-ttu-id="c2331-219">Arama dizesi büyük/küçük harf ve büyük harflere duyarlı değildir.</span><span class="sxs-lookup"><span data-stu-id="c2331-219">The search string is case insensitive.</span></span> <span data-ttu-id="c2331-220">`IncludeDirectory` Yöntemi alt dizinleri arama seçeneği vardır.</span><span class="sxs-lookup"><span data-stu-id="c2331-220">The `IncludeDirectory` method has the option of searching subdirectories.</span></span>

<span data-ttu-id="c2331-221">Bir proje şu JavaScript dosyaları göz önünde bulundurun:</span><span class="sxs-lookup"><span data-stu-id="c2331-221">Consider a project with the following JavaScript files:</span></span>

- *<span data-ttu-id="c2331-222">Scripts\\Common\\AddAltToImg.js</span><span class="sxs-lookup"><span data-stu-id="c2331-222">Scripts\\Common\\AddAltToImg.js</span></span>*
- *<span data-ttu-id="c2331-223">Betikleri\\ortak\\ToggleDiv.js</span><span class="sxs-lookup"><span data-stu-id="c2331-223">Scripts\\Common\\ToggleDiv.js</span></span>*
- *<span data-ttu-id="c2331-224">Betikleri\\ortak\\ToggleImg.js</span><span class="sxs-lookup"><span data-stu-id="c2331-224">Scripts\\Common\\ToggleImg.js</span></span>*
- *<span data-ttu-id="c2331-225">Betikleri\\ortak\\Abon1\\ToggleLinks.js</span><span class="sxs-lookup"><span data-stu-id="c2331-225">Scripts\\Common\\Sub1\\ToggleLinks.js</span></span>*

![imag dizini](bundling-and-minification/_static/image7.png)

<span data-ttu-id="c2331-227">Aşağıdaki tabloda gösterildiği gibi joker karakter kullanarak bir pakete eklenen dosyalar gösterilmektedir:</span><span class="sxs-lookup"><span data-stu-id="c2331-227">The following table shows the files added to a bundle using the wildcard as shown:</span></span>

| **<span data-ttu-id="c2331-228">Çağrı</span><span class="sxs-lookup"><span data-stu-id="c2331-228">Call</span></span>** | **<span data-ttu-id="c2331-229">Eklenen dosyaları veya özel durum oluşturuldu</span><span class="sxs-lookup"><span data-stu-id="c2331-229">Files Added or Exception Raised</span></span>** |
| --- | --- |
| <span data-ttu-id="c2331-230">İçerir ("~/Scripts/Common/\*.js")</span><span class="sxs-lookup"><span data-stu-id="c2331-230">Include("~/Scripts/Common/\*.js")</span></span> | <span data-ttu-id="c2331-231">*AddAltToImg.js*, *ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="c2331-231">*AddAltToImg.js*, *ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="c2331-232">İçerir ("~/Scripts/Common/T\*.js")</span><span class="sxs-lookup"><span data-stu-id="c2331-232">Include("~/Scripts/Common/T\*.js")</span></span> | <span data-ttu-id="c2331-233">Deseni geçersiz özel durum.</span><span class="sxs-lookup"><span data-stu-id="c2331-233">Invalid pattern exception.</span></span> <span data-ttu-id="c2331-234">Joker karakter yalnızca ön ek veya sonek izin verilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-234">The wildcard character is only allowed on the prefix or suffix.</span></span> |
| <span data-ttu-id="c2331-235">İçerir ("~/Scripts/Common/\*og.\*")</span><span class="sxs-lookup"><span data-stu-id="c2331-235">Include("~/Scripts/Common/\*og.\*")</span></span> | <span data-ttu-id="c2331-236">Deseni geçersiz özel durum.</span><span class="sxs-lookup"><span data-stu-id="c2331-236">Invalid pattern exception.</span></span> <span data-ttu-id="c2331-237">Yalnızca bir joker karaktere izin verilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-237">Only one wildcard character is allowed.</span></span> |
| <span data-ttu-id="c2331-238">İçerir ("~/Scripts/Common/T\*")</span><span class="sxs-lookup"><span data-stu-id="c2331-238">Include("~/Scripts/Common/T\*")</span></span> | <span data-ttu-id="c2331-239">*ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="c2331-239">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="c2331-240">İçerir ("~/Scripts/Common/\*")</span><span class="sxs-lookup"><span data-stu-id="c2331-240">Include("~/Scripts/Common/\*")</span></span> | <span data-ttu-id="c2331-241">Deseni geçersiz özel durum.</span><span class="sxs-lookup"><span data-stu-id="c2331-241">Invalid pattern exception.</span></span> <span data-ttu-id="c2331-242">Saf joker karakter segmenti geçerli değil.</span><span class="sxs-lookup"><span data-stu-id="c2331-242">A pure wildcard segment is not valid.</span></span> |
| <span data-ttu-id="c2331-243">IncludeDirectory ("~/Scripts/Common", "T\*")</span><span class="sxs-lookup"><span data-stu-id="c2331-243">IncludeDirectory("~/Scripts/Common", "T\*")</span></span> | <span data-ttu-id="c2331-244">*ToggleDiv.js*, *ToggleImg.js*</span><span class="sxs-lookup"><span data-stu-id="c2331-244">*ToggleDiv.js*, *ToggleImg.js*</span></span> |
| <span data-ttu-id="c2331-245">IncludeDirectory ("~/Scripts/Common", "T\*", true)</span><span class="sxs-lookup"><span data-stu-id="c2331-245">IncludeDirectory("~/Scripts/Common", "T\*", true)</span></span> | <span data-ttu-id="c2331-246">*ToggleDiv.js*, *ToggleImg.js*, *ToggleLinks.js*</span><span class="sxs-lookup"><span data-stu-id="c2331-246">*ToggleDiv.js*, *ToggleImg.js*, *ToggleLinks.js*</span></span> |

<span data-ttu-id="c2331-247">Açıkça bir pakete her dosya ekleme genellikle tercih edilir joker yükleme dosyalarının aşağıdaki nedenlerle üzerinde:</span><span class="sxs-lookup"><span data-stu-id="c2331-247">Explicitly adding each file to a bundle is generally the preferred over wildcard loading of files for the following reasons:</span></span>

- <span data-ttu-id="c2331-248">Betikleri, genellikle değil istediğiniz alfabetik sırada yüklenmesi için joker karakter Varsayılanları tarafından ekleniyor.</span><span class="sxs-lookup"><span data-stu-id="c2331-248">Adding scripts by wildcard defaults to loading them in alphabetical order, which is typically not what you want.</span></span> <span data-ttu-id="c2331-249">Sık CSS ve JavaScript dosyaları (alfabetik olmayan) belirli bir sırayla eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c2331-249">CSS and JavaScript files frequently need to be added in a specific (non-alphabetic) order.</span></span> <span data-ttu-id="c2331-250">Özel bir ekleyerek bu riski azaltmak [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) uygulaması, ancak her dosya, daha az hata yapmaya açık olduğu açıkça ekleme.</span><span class="sxs-lookup"><span data-stu-id="c2331-250">You can mitigate this risk by adding a custom [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation, but explicitly adding each file is less error prone.</span></span> <span data-ttu-id="c2331-251">Örneğin, değiştirmenizi gerektirebilir gelecekte bir klasöre yeni varlıkları ekleyebilir, [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) uygulaması.</span><span class="sxs-lookup"><span data-stu-id="c2331-251">For example, you might add new assets to a folder in the future which might require you to modify your [IBundleOrderer](https://msdn.microsoft.com/library/system.web.optimization.ibundleorderer(VS.110).aspx) implementation.</span></span>
- <span data-ttu-id="c2331-252">Bu paket başvuran tüm görünümlerde yüklenirken joker kullanarak bir dizine eklenen belirli dosyaları görüntüle eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-252">View specific files added to a directory using wild card loading can be included in all views referencing that bundle.</span></span> <span data-ttu-id="c2331-253">Betiği görüntüle belirli bir pakete eklenirse, paket başvuran diğer görünümlerde bir JavaScript hatası alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-253">If the view specific script is added to a bundle, you may get a JavaScript error on other views that reference the bundle.</span></span>
- <span data-ttu-id="c2331-254">İçeri aktarılan dosyaları iki kez yüklenen diğer dosyaları içeri aktarma CSS dosyaları neden.</span><span class="sxs-lookup"><span data-stu-id="c2331-254">CSS files that import other files result in the imported files loaded twice.</span></span> <span data-ttu-id="c2331-255">Örneğin, aşağıdaki kod iki kez yüklenen jQuery kullanıcı Arabirimi teması CSS dosyaları çoğunu bir paket oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c2331-255">For example, the following code creates a bundle with most of the jQuery UI theme CSS files loaded twice.</span></span> 

    [!code-csharp[Main](bundling-and-minification/samples/sample12.cs)]

  <span data-ttu-id="c2331-256">Joker kart seçiciye "\*.css" klasöründeki her bir CSS dosyasına getirir dahil olmak üzere *içerik\\Temalar\\temel\\jquery.ui.all.css* dosya.</span><span class="sxs-lookup"><span data-stu-id="c2331-256">The wild card selector "\*.css" brings in each CSS file in the folder, including the *Content\\themes\\base\\jquery.ui.all.css* file.</span></span> <span data-ttu-id="c2331-257">*Jquery.ui.all.css* dosyası diğer CSS dosyaları alır.</span><span class="sxs-lookup"><span data-stu-id="c2331-257">The *jquery.ui.all.css* file imports other CSS files.</span></span>

## <a name="bundle-caching"></a><span data-ttu-id="c2331-258">Paket önbelleğe alma</span><span class="sxs-lookup"><span data-stu-id="c2331-258">Bundle Caching</span></span>

<span data-ttu-id="c2331-259">Paketler, paket ne zaman oluşturulur, bir yıl Expires HTTP üstbilgisini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c2331-259">Bundles set the HTTP Expires Header one year from when the bundle is created.</span></span> <span data-ttu-id="c2331-260">IE, paket için bir koşullu isteği yapmaz Fiddler gösterir daha önce görüntülenen bir sayfaya geçerseniz diğer bir deyişle, hiçbir IE paketleri için gelen HTTP GET istekleri ve vardır sunucusundan gelen HTTP 304 yanıt yok.</span><span class="sxs-lookup"><span data-stu-id="c2331-260">If you navigate to a previously viewed page, Fiddler shows IE does not make a conditional request for the bundle, that is, there are no HTTP GET requests from IE for the bundles and no HTTP 304 responses from the server.</span></span> <span data-ttu-id="c2331-261">F5 tuşuna (her paket için bir HTTP 304 yanıt kaynaklanan) ile her paket için koşullu istekte bulunmak için IE zorlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-261">You can force IE to make a conditional request for each bundle with the F5 key (resulting in a HTTP 304 response for each bundle).</span></span> <span data-ttu-id="c2331-262">Kullanarak tam yenilemeye zorlayabilirsiniz ^ F5 (her paket için bir HTTP 200 yanıtı olmasıyla sonuçlanır.)</span><span class="sxs-lookup"><span data-stu-id="c2331-262">You can force a full refresh by using ^F5 (resulting in a HTTP 200 response for each bundle.)</span></span>

<span data-ttu-id="c2331-263">Aşağıdaki görüntüde **önbelleğe alma** Fiddler yanıt bölmesinin sekmesinde:</span><span class="sxs-lookup"><span data-stu-id="c2331-263">The following image shows the **Caching** tab of the Fiddler response pane:</span></span>

![fiddler önbelleğe alma görüntüsü](bundling-and-minification/_static/image8.png)

<span data-ttu-id="c2331-265">İstek</span><span class="sxs-lookup"><span data-stu-id="c2331-265">The request</span></span>   
`http://localhost/MvcBM_time/bundles/AllMyScripts?v=r0sLDicvP58AIXN_mc3QdyVvVj5euZNzdsa2N1PKvb81`  
 <span data-ttu-id="c2331-266">paket için olan **AllMyScripts** ve bir sorgu dizesi çifti içeren **v r0sLDicvP58AIXN =\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span><span class="sxs-lookup"><span data-stu-id="c2331-266">is for the bundle **AllMyScripts** and contains a query string pair **v=r0sLDicvP58AIXN\\\_mc3QdyVvVj5euZNzdsa2N1PKvb81**.</span></span> <span data-ttu-id="c2331-267">Sorgu dizesi **v** diğer bir deyişle önbelleğe almak için kullanılan benzersiz bir tanımlayıcı belirteç bir değere sahip.</span><span class="sxs-lookup"><span data-stu-id="c2331-267">The query string **v** has a value token that is a unique identifier used for caching.</span></span> <span data-ttu-id="c2331-268">Paket değişmez sürece, ASP.NET uygulamasının isteyecek **AllMyScripts** Bu belirteci kullanarak paket.</span><span class="sxs-lookup"><span data-stu-id="c2331-268">As long as the bundle doesn't change, the ASP.NET application will request the **AllMyScripts** bundle using this token.</span></span> <span data-ttu-id="c2331-269">Paket herhangi bir dosyayı değiştirirse, ASP.NET iyileştirme çerçevesi tarayıcı istekleri paket için en son paket alırsınız güvence altına alır, yeni bir belirteç oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c2331-269">If any file in the bundle changes, the ASP.NET optimization framework will generate a new token, guaranteeing that browser requests for the bundle will get the latest bundle.</span></span>

<span data-ttu-id="c2331-270">IE9 F12 geliştirici araçlarını çalıştırma ve daha önce yüklenen bir sayfaya gidin, IE yanlış koşullu GET istekleri için her paket ve HTTP 304 döndüren sunucusu yapılan gösterir.</span><span class="sxs-lookup"><span data-stu-id="c2331-270">If you run the IE9 F12 developer tools and navigate to a previously loaded page, IE incorrectly shows conditional GET requests made to each bundle and the server returning HTTP 304.</span></span> <span data-ttu-id="c2331-271">IE9 koşullu bir istek blog girişi yapılmışsa belirleme sorunlara neden olduğunu okuyabilirsiniz [kullanarak CDN ve Web sitesi performansını geliştirmek için Expires](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-271">You can read why IE9 has problems determining if a conditional request was made in the blog entry [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

## <a name="less-coffeescript-scss-sass-bundling"></a><span data-ttu-id="c2331-272">Daha az, CoffeeScript, SCSS, Sass paketleme.</span><span class="sxs-lookup"><span data-stu-id="c2331-272">LESS, CoffeeScript, SCSS, Sass Bundling.</span></span>

<span data-ttu-id="c2331-273">Paketleme ve küçültme framework Ara diller gibi işlemek için bir mekanizma sağlar [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [daha az](http://www.dotlesscss.org/) veya [Coffeescript ](http://coffeescript.org/)ve elde edilen paket için dönüşümler küçültme gibi uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-273">The bundling and minification framework provides a mechanism to process intermediate languages such as [SCSS](http://sass-lang.com/), [Sass](http://sass-lang.com/), [LESS](http://www.dotlesscss.org/) or [Coffeescript](http://coffeescript.org/), and apply transforms such as minification to the resulting bundle.</span></span> <span data-ttu-id="c2331-274">Örneğin, eklemek için [.less](http://www.dotlesscss.org/) MVC 4 proje dosyaları:</span><span class="sxs-lookup"><span data-stu-id="c2331-274">For example, to add [.less](http://www.dotlesscss.org/) files to your MVC 4 project:</span></span>

1. <span data-ttu-id="c2331-275">Daha az içeriğiniz için bir klasör oluşturun.</span><span class="sxs-lookup"><span data-stu-id="c2331-275">Create a folder for your LESS content.</span></span> <span data-ttu-id="c2331-276">Aşağıdaki örnekte *içerik\\MyLess* klasör.</span><span class="sxs-lookup"><span data-stu-id="c2331-276">The following example uses the *Content\\MyLess* folder.</span></span>
2. <span data-ttu-id="c2331-277">Ekleme [.less](http://www.dotlesscss.org/) NuGet paketini **noktasız** projenize.</span><span class="sxs-lookup"><span data-stu-id="c2331-277">Add the [.less](http://www.dotlesscss.org/) NuGet package **dotless** to your project.</span></span>  
    ![NuGet noktasız yükleme](bundling-and-minification/_static/image9.png)
3. <span data-ttu-id="c2331-279">Uygulayan bir sınıf ekleyin [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) arabirimi.</span><span class="sxs-lookup"><span data-stu-id="c2331-279">Add a class that implements the [IBundleTransform](https://msdn.microsoft.com/library/system.web.optimization.ibundletransform(VS.110).aspx) interface.</span></span> <span data-ttu-id="c2331-280">.Less dönüştürme için projenize aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c2331-280">For the .less transform, add the following code to your project.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample13.cs)]
4. <span data-ttu-id="c2331-281">Daha az dosya içeren bir paket oluşturma `LessTransform` ve [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) dönüştürün.</span><span class="sxs-lookup"><span data-stu-id="c2331-281">Create a bundle of LESS files with the `LessTransform` and the [CssMinify](https://msdn.microsoft.com/library/system.web.optimization.cssminify(VS.110).aspx) transform.</span></span> <span data-ttu-id="c2331-282">Aşağıdaki kodu ekleyin `RegisterBundles` yönteminde *uygulama\\_başlatmayı\\BundleConfig.cs* dosya.</span><span class="sxs-lookup"><span data-stu-id="c2331-282">Add the following code to the `RegisterBundles` method in the *App\\_Start\\BundleConfig.cs* file.</span></span>

    [!code-csharp[Main](bundling-and-minification/samples/sample14.cs)]
5. <span data-ttu-id="c2331-283">Daha az paket başvuran tüm görünümler için aşağıdaki kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c2331-283">Add the following code to any views which references the LESS bundle.</span></span>

    [!code-cshtml[Main](bundling-and-minification/samples/sample15.cshtml)]

## <a name="bundle-considerations"></a><span data-ttu-id="c2331-284">Paket konuları</span><span class="sxs-lookup"><span data-stu-id="c2331-284">Bundle Considerations</span></span>

<span data-ttu-id="c2331-285">Paketleri oluştururken izlemek için iyi bir kuralı "paketi" Paket adı ön eki olarak eklemektir.</span><span class="sxs-lookup"><span data-stu-id="c2331-285">A good convention to follow when creating bundles is to include "bundle" as a prefix in the bundle name.</span></span> <span data-ttu-id="c2331-286">Bu olası bir engeller [yönlendirme çakışma](https://forums.asp.net/post/5012037.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-286">This will prevent a possible [routing conflict](https://forums.asp.net/post/5012037.aspx).</span></span>

<span data-ttu-id="c2331-287">Bir paketteki tek dosya güncelleştirdikten sonra paket sorgu dizesi parametresi için yeni bir belirteç oluşturulur ve bir istemci paketi içeren bir sayfa istediğinde tam paket indirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="c2331-287">Once you update one file in a bundle, a new token is generated for the bundle query string parameter and the full bundle must be downloaded the next time a client requests a page containing the bundle.</span></span> <span data-ttu-id="c2331-288">Burada tek tek her varlık listelenen geleneksel işaretlemede yalnızca değiştirilen dosya indirilecek.</span><span class="sxs-lookup"><span data-stu-id="c2331-288">In traditional markup where each asset is listed individually, only the changed file would be downloaded.</span></span> <span data-ttu-id="c2331-289">Sık sık değişen varlıklar, paketleme için iyi adaylar olabilir.</span><span class="sxs-lookup"><span data-stu-id="c2331-289">Assets that change frequently may not be good candidates for bundling.</span></span>

<span data-ttu-id="c2331-290">Paketleme ve küçültme öncelikle ilk sayfa isteği yükleme süresi geliştirmek.</span><span class="sxs-lookup"><span data-stu-id="c2331-290">Bundling and minification primarily improve the first page request load time.</span></span> <span data-ttu-id="c2331-291">Tarayıcı varlıkları (JavaScript, CSS ve görüntü) önbelleğe alır, bu bir Web sayfası istendi sonra paketleme ve küçültme olmaz sağlayan herhangi bir performans artışının aynı sayfa isteğinde bulunurken ya da site sayfaları aynı aynı varlıkları isteniyor.</span><span class="sxs-lookup"><span data-stu-id="c2331-291">Once a webpage has been requested, the browser caches the assets (JavaScript, CSS and images) so bundling and minification won't provide any performance boost when requesting the same page, or pages on the same site requesting the same assets.</span></span> <span data-ttu-id="c2331-292">Ayarlamazsanız varlıklarınızı başlığındaki doğru süresi dolar ve paketleme ve küçültme kullanmayın, tarayıcılar güncellik buluşsal yöntemler varlıkları eski birkaç gün sonra işaretler ve tarayıcı her varlık için bir doğrulama isteği gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c2331-292">If you don't set the expires header correctly on your assets, and you don't use bundling and minification, the browsers freshness heuristics will mark the assets stale after a few days and the browser will require a validation request for each asset.</span></span> <span data-ttu-id="c2331-293">Bu durumda, paketleme ve küçültme sonra ilk sayfa isteği bir performans artışı sağlar.</span><span class="sxs-lookup"><span data-stu-id="c2331-293">In this case, bundling and minification provide a performance increase after the first page request.</span></span> <span data-ttu-id="c2331-294">Ayrıntılar için blog bkz [kullanarak CDN ve Web sitesi performansını geliştirmek için süre sonu](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-294">For details, see the blog [Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span>

<span data-ttu-id="c2331-295">Her bir ana bilgisayar başına altı eşzamanlı bağlantı tarayıcı SORUMLULUĞUN kullanılarak azaltılabilir bir [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-295">The browser limitation of six simultaneous connections per each hostname can be mitigated by using a [CDN](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx).</span></span> <span data-ttu-id="c2331-296">CDN, barındırma sitesindeki puanlardan farklı bir ana bilgisayar adı sahip olacağından barındırma ortamınıza altı eşzamanlı bağlantı sayısı sınırı karşı varlık istekler CDN edilmez.</span><span class="sxs-lookup"><span data-stu-id="c2331-296">Because the CDN will have a different hostname than your hosting site, asset requests from the CDN will not count against the six simultaneous connections limit to your hosting environment.</span></span> <span data-ttu-id="c2331-297">CDN, ortak paketini önbelleğe alma ve avantajları önbelleğe alma uç de sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c2331-297">A CDN can also provide common package caching and edge caching advantages.</span></span>

<span data-ttu-id="c2331-298">Paketleri ihtiyaç sayfaları göre bölümlendirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="c2331-298">Bundles should be partitioned by pages that need them.</span></span> <span data-ttu-id="c2331-299">Örneğin, ' % s'varsayılan Internet uygulaması için ASP.NET MVC şablonu jQuery doğrulama paket jQuery ayrı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c2331-299">For example, the default ASP.NET MVC template for an internet application creates a jQuery Validation bundle separate from jQuery.</span></span> <span data-ttu-id="c2331-300">Oluşturulan varsayılan görünümlere sahip herhangi bir giriş ve değerleri göndermeyin olduğundan doğrulama paket dahil değildir.</span><span class="sxs-lookup"><span data-stu-id="c2331-300">Because the default views created have no input and do not post values, they don't include the validation bundle.</span></span>

<span data-ttu-id="c2331-301">`System.Web.Optimization` Ad alanı içinde uygulanan *System.Web.Optimization.dll*.</span><span class="sxs-lookup"><span data-stu-id="c2331-301">The `System.Web.Optimization` namespace is implemented in *System.Web.Optimization.dll*.</span></span> <span data-ttu-id="c2331-302">WebGrease kitaplığı yararlanır (*WebGrease.dll*) küçültme özellikleri için hangi sırayla kullandığı *Antlr3.Runtime.dll*.</span><span class="sxs-lookup"><span data-stu-id="c2331-302">It leverages the WebGrease library (*WebGrease.dll*) for minification capabilities, which in turn uses *Antlr3.Runtime.dll*.</span></span>

<span data-ttu-id="c2331-303">*Twitter gönderileri hızlı yapıp bağlantıları paylaşın kullanıyorum. My Twitter tanıtıcısı*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="c2331-303">*I use Twitter to make quick posts and share links. My Twitter handle is*: [@RickAndMSFT](http://twitter.com/RickAndMSFT)</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c2331-304">Ek kaynaklar</span><span class="sxs-lookup"><span data-stu-id="c2331-304">Additional resources</span></span>

- <span data-ttu-id="c2331-305">Video:[paketleme ve en iyi duruma getirme](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) tarafından [Howard Dierking](https://twitter.com/#!/howard_dierking)</span><span class="sxs-lookup"><span data-stu-id="c2331-305">Video:[Bundling and Optimizing](https://channel9.msdn.com/Events/aspConf/aspConf/Bundling-and-Optimizing) by [Howard Dierking](https://twitter.com/#!/howard_dierking)</span></span>
- <span data-ttu-id="c2331-306">[Bir Web sayfaları sitesinde Web iyileştirme ekleme](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-306">[Adding Web Optimization to a Web Pages Site](https://blogs.msdn.com/b/rickandy/archive/2012/08/15/adding-web-optimization-to-a-web-pages-site.aspx).</span></span>
- <span data-ttu-id="c2331-307">[Ekleme paketleme ve küçültme Web Forms'a](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span><span class="sxs-lookup"><span data-stu-id="c2331-307">[Adding Bundling and Minification to Web Forms](https://blogs.msdn.com/b/rickandy/archive/2012/08/14/adding-bundling-and-minification-to-web-forms.aspx).</span></span>
- <span data-ttu-id="c2331-308">[Performans etkilerini paketleme ve küçültme Web gözatma](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) tarafından [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span><span class="sxs-lookup"><span data-stu-id="c2331-308">[Performance Implications of Bundling and Minification on Web Browsing](https://blogs.msdn.com/b/henrikn/archive/2012/06/17/performance-implications-of-bundling-and-minification-on-http.aspx) by [Henrik F Nielsen](http://en.wikipedia.org/wiki/Henrik_Frystyk_Nielsen) [@frystyk](https://twitter.com/frystyk)</span></span>
- <span data-ttu-id="c2331-309">[CDN'ler kullanarak Web sitesi performansını geliştirmek için dolmadan](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) tarafından Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span><span class="sxs-lookup"><span data-stu-id="c2331-309">[Using CDNs and Expires to Improve Web Site Performance](https://blogs.msdn.com/b/rickandy/archive/2011/05/21/using-cdns-to-improve-web-site-performance.aspx) by Rick Anderson [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT)</span></span>
- [<span data-ttu-id="c2331-310">RTT (gidiş geliş zaman) simge durumuna küçült</span><span class="sxs-lookup"><span data-stu-id="c2331-310">Minimize RTT (round-trip times)</span></span>](https://developers.google.com/speed/docs/best-practices/rtt)

## <a name="contributors"></a><span data-ttu-id="c2331-311">Katkıda Bulunanlar</span><span class="sxs-lookup"><span data-stu-id="c2331-311">Contributors</span></span>

- <span data-ttu-id="c2331-312">Hao Kung</span><span class="sxs-lookup"><span data-stu-id="c2331-312">Hao Kung</span></span>
- [<span data-ttu-id="c2331-313">Howard Dierking</span><span class="sxs-lookup"><span data-stu-id="c2331-313">Howard Dierking</span></span>](https://twitter.com/#!/howard_dierking)
- <span data-ttu-id="c2331-314">Diana LaRose</span><span class="sxs-lookup"><span data-stu-id="c2331-314">Diana LaRose</span></span>
