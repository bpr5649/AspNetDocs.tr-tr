---
uid: identity/overview/extensibility/implementing-a-custom-mysql-aspnet-identity-storage-provider
title: Özel MySQL ASP.NET Identity depolama sağlayıcısı uygulama-ASP.NET 4. x
author: raquelsa
description: ASP.NET Identity, kendi depolama sağlayıcınızı oluşturmanızı ve appli 'ı yeniden çalıştırmadan uygulamanıza eklemenizi sağlayan genişletilebilir bir sistemdir...
ms.author: riande
ms.date: 05/22/2015
ms.assetid: 248f5fe7-39ba-40ea-ab1e-71a69b0bd649
ms.custom: seoapril2019
msc.legacyurl: /identity/overview/extensibility/implementing-a-custom-mysql-aspnet-identity-storage-provider
msc.type: authoredcontent
ms.openlocfilehash: 2f0b47d45bce82c71d1864536309f9e2ffed2d63
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78616916"
---
# <a name="implementing-a-custom-mysql-aspnet-identity-storage-provider"></a><span data-ttu-id="c0b08-103">Özel MySQL ASP.NET Identity Depolama Sağlayıcısı Uygulama</span><span class="sxs-lookup"><span data-stu-id="c0b08-103">Implementing a Custom MySQL ASP.NET Identity Storage Provider</span></span>

<span data-ttu-id="c0b08-104">[Raquel Soares de Almete](https://github.com/raquelsa), [Susize Joshi](https://github.com/suhasj), [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="c0b08-104">by [Raquel Soares De Almeida](https://github.com/raquelsa), [Suhas Joshi](https://github.com/suhasj), [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="c0b08-105">ASP.NET Identity, kendi depolama sağlayıcınızı oluşturmanızı ve uygulamayı yeniden çalıştırmadan uygulamanıza takmanızı sağlayan genişletilebilir bir sistemdir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-105">ASP.NET Identity is an extensible system which enables you to create your own storage provider and plug it into your application without re-working the application.</span></span> <span data-ttu-id="c0b08-106">Bu konu, ASP.NET Identity için bir MySQL depolama sağlayıcısı oluşturmayı açıklar.</span><span class="sxs-lookup"><span data-stu-id="c0b08-106">This topic describes how to create a MySQL storage provider for ASP.NET Identity.</span></span> <span data-ttu-id="c0b08-107">Özel depolama sağlayıcıları oluşturmaya genel bakış için bkz. [ASP.NET Identity Için özel depolama sağlayıcılarına genel bakış](overview-of-custom-storage-providers-for-aspnet-identity.md).</span><span class="sxs-lookup"><span data-stu-id="c0b08-107">For an overview of creating custom storage providers, see [Overview of Custom Storage Providers for ASP.NET Identity](overview-of-custom-storage-providers-for-aspnet-identity.md).</span></span>
> 
> <span data-ttu-id="c0b08-108">Bu öğreticiyi tamamlayabilmeniz için güncelleştirme 2 ile Visual Studio 2013 sahip olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-108">To complete this tutorial, you must have Visual Studio 2013 with Update 2.</span></span>
> 
> <span data-ttu-id="c0b08-109">Bu öğretici şu şekilde olur:</span><span class="sxs-lookup"><span data-stu-id="c0b08-109">This tutorial will:</span></span>
> 
> - <span data-ttu-id="c0b08-110">Azure 'da MySQL veritabanı örneği oluşturmayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-110">Show how to create a MySQL database instance on Azure.</span></span>
> - <span data-ttu-id="c0b08-111">Azure üzerinde tablo oluşturmak ve uzak veritabanınızı yönetmek için MySQL istemci aracının (MySQL çalışma ekranı) nasıl kullanılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-111">Show how to use a MySQL client tool (MySQL Workbench) to create tables and manage your remote database on Azure.</span></span>
> - <span data-ttu-id="c0b08-112">Varsayılan ASP.NET Identity depolama uygulamasının bir MVC uygulama projesindeki özel uygulamamız ile nasıl değiştirileceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-112">Show how to replace the default ASP.NET Identity storage implementation with our custom implementation on a MVC application project.</span></span>
> 
> <span data-ttu-id="c0b08-113">Bu öğretici, ilk olarak Raquel Soares ve almede Rick Anderson ( [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ) tarafından yazılmıştır.</span><span class="sxs-lookup"><span data-stu-id="c0b08-113">This tutorial was originally written by Raquel Soares De Almeida and Rick Anderson ( [@RickAndMSFT](https://twitter.com/#!/RickAndMSFT) ).</span></span> <span data-ttu-id="c0b08-114">Örnek proje, Susize Joshi tarafından 2,0 kimliği için güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="c0b08-114">The sample project was updated for Identity 2.0 by Suhas Joshi.</span></span> <span data-ttu-id="c0b08-115">Konu, Tom FitzMacken kimlik 2,0 kimliği için güncelleştirildi.</span><span class="sxs-lookup"><span data-stu-id="c0b08-115">The topic was updated for Identity 2.0 by Tom FitzMacken.</span></span>

## <a name="download-completed-project"></a><span data-ttu-id="c0b08-116">Tamamlanmış projeyi indir</span><span class="sxs-lookup"><span data-stu-id="c0b08-116">Download completed project</span></span>

<span data-ttu-id="c0b08-117">Bu öğreticinin sonunda, Azure 'da barındırılan bir MySQL veritabanıyla çalışan ASP.NET Identity bir MVC uygulama projesine sahip olursunuz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-117">At the end of this tutorial, you will have an MVC application project with ASP.NET Identity working with a MySQL database hosted on Azure.</span></span>

<span data-ttu-id="c0b08-118">Tamamlanan MySQL depolama sağlayıcısını [Aspnet. Identity. MySQL (GitHub)](https://github.com/aspnet/samples/tree/master/samples/aspnet/Identity/AspNet.Identity.MySQL)adresinden indirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-118">You can download the completed MySQL storage provider at [AspNet.Identity.MySQL (GitHub)](https://github.com/aspnet/samples/tree/master/samples/aspnet/Identity/AspNet.Identity.MySQL).</span></span>

## <a name="the-steps-you-will-perform"></a><span data-ttu-id="c0b08-119">Gerçekleştirilecek adımlar</span><span class="sxs-lookup"><span data-stu-id="c0b08-119">The steps you will perform</span></span>

<span data-ttu-id="c0b08-120">Bu öğreticide şunları yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="c0b08-120">In this tutorial you will:</span></span>

1. <span data-ttu-id="c0b08-121">Azure 'da MySQL veritabanı oluşturma</span><span class="sxs-lookup"><span data-stu-id="c0b08-121">Create a MySQL database on Azure</span></span>
2. <span data-ttu-id="c0b08-122">MySQL 'de ASP.NET Identity tabloları oluşturma</span><span class="sxs-lookup"><span data-stu-id="c0b08-122">Create the ASP.NET Identity tables in MySQL</span></span>
3. <span data-ttu-id="c0b08-123">MVC uygulaması oluşturma ve MySQL sağlayıcısını kullanmak için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="c0b08-123">Create an MVC application and configure it to use the MySQL provider</span></span>
4. <span data-ttu-id="c0b08-124">Uygulamayı çalıştırma</span><span class="sxs-lookup"><span data-stu-id="c0b08-124">Run the app</span></span>

<span data-ttu-id="c0b08-125">Bu konu, ASP.NET Identity mimarisini ve bir müşteri depolama sağlayıcısını uygularken yapmanız gereken kararları kapsamaz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-125">This topic does not cover the architecture of ASP.NET Identity and the decisions you must make when implementing a customer storage provider.</span></span> <span data-ttu-id="c0b08-126">Bu bilgi için bkz. [ASP.NET Identity Için özel depolama sağlayıcılarına genel bakış](overview-of-custom-storage-providers-for-aspnet-identity.md).</span><span class="sxs-lookup"><span data-stu-id="c0b08-126">For that information, see [Overview of Custom Storage Providers for ASP.NET Identity](overview-of-custom-storage-providers-for-aspnet-identity.md).</span></span>

## <a name="review-mysql-storage-provider-classes"></a><span data-ttu-id="c0b08-127">MySQL depolama sağlayıcısı sınıflarını gözden geçirin</span><span class="sxs-lookup"><span data-stu-id="c0b08-127">Review MySQL storage provider classes</span></span>

<span data-ttu-id="c0b08-128">MySQL depolama sağlayıcısını oluşturmaya yönelik adımlara geçmeden önce, depolama sağlayıcısını oluşturan sınıflara göz atalım.</span><span class="sxs-lookup"><span data-stu-id="c0b08-128">Before jumping into the steps to create the MySQL storage provider, let's look at the classes that make up the storage provider.</span></span> <span data-ttu-id="c0b08-129">Kullanıcıları ve rolleri yönetmek için uygulamadan çağrılan veritabanı işlemlerini ve sınıflarını yöneten sınıflara ihtiyaç duyarsınız.</span><span class="sxs-lookup"><span data-stu-id="c0b08-129">You will need classes that manage the database operations and classes that are called from the application to manage users and roles.</span></span>

### <a name="storage-classes"></a><span data-ttu-id="c0b08-130">Depolama sınıfları</span><span class="sxs-lookup"><span data-stu-id="c0b08-130">Storage classes</span></span>

- <span data-ttu-id="c0b08-131">[Identityuser](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/IdentityUser.cs) -kullanıcının özelliklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-131">[IdentityUser](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/IdentityUser.cs) - contains properties for the user.</span></span>
- <span data-ttu-id="c0b08-132">[UserStore](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserStore.cs) -kullanıcıları ekleme, güncelleştirme veya alma işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-132">[UserStore](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserStore.cs) - contains operations for adding, updating or retrieving users.</span></span>
- <span data-ttu-id="c0b08-133">[Identityrole](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/IdentityRole.cs) -rollerin özelliklerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-133">[IdentityRole](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/IdentityRole.cs) - contains properties for roles.</span></span>
- <span data-ttu-id="c0b08-134">[Rolestore](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/RoleStore.cs) -rolleri ekleme, silme, güncelleştirme ve alma işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-134">[RoleStore](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/RoleStore.cs) - contains operations for adding, deleting, updating and retrieving roles.</span></span>

### <a name="data-access-layer-classes"></a><span data-ttu-id="c0b08-135">Veri erişim katmanı sınıfları</span><span class="sxs-lookup"><span data-stu-id="c0b08-135">Data access layer classes</span></span>

<span data-ttu-id="c0b08-136">Bu örnekte, veri erişim katmanı sınıfları tablolarla çalışmak için SQL deyimlerini içerir; Ancak, kodunuzda Entity Framework veya Nhazırda bekleme gibi nesne ilişkisel eşleme (ORM) kullanmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-136">For this example, the data access layer classes contain SQL statements for working with the tables; however, in your code you might want to use object-relational mapping (ORM) such as Entity Framework or NHibernate.</span></span> <span data-ttu-id="c0b08-137">Özellikle, uygulamanız, yavaş yükleme ve nesne önbelleği içeren bir ORM olmadan düşük performansa sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-137">In particular, your application may experience poor performance without an ORM that includes lazy loading and object caching.</span></span> <span data-ttu-id="c0b08-138">Daha fazla bilgi için, [Entity Framework olmadan ASP.NET Identity 2,0](https://aspnetidentity.codeplex.com/discussions/561828) ' ya bakın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-138">For more information, see [ASP.NET Identity 2.0 without Entity Framework?](https://aspnetidentity.codeplex.com/discussions/561828)</span></span>

- <span data-ttu-id="c0b08-139">[Mysqldatabase](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/MySQLDatabase.cs) -MySQL veritabanı bağlantısını ve veritabanı işlemlerini gerçekleştirmeye yönelik yöntemleri içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-139">[MySQLDatabase](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/MySQLDatabase.cs) - contains the MySQL database connection and methods for performing database operations.</span></span> <span data-ttu-id="c0b08-140">UserStore ve RoleStore, her ikisi de bu sınıfın örneğiyle birlikte oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="c0b08-140">UserStore and RoleStore are both instantiated with an instance of this class.</span></span>
- <span data-ttu-id="c0b08-141">[Roletable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/RoleTable.cs) -rolleri depolayan tablo için veritabanı işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-141">[RoleTable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/RoleTable.cs) - contains database operations for the table that stores roles.</span></span>
- <span data-ttu-id="c0b08-142">[Userclaimstable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserClaimsTable.cs) -Kullanıcı taleplerini depolayan tablo için veritabanı işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-142">[UserClaimsTable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserClaimsTable.cs) - contains database operations for the table that stores user claims.</span></span>
- <span data-ttu-id="c0b08-143">[Userloginstable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserLoginsTable.cs) -Kullanıcı oturum açma bilgilerini depolayan tablo için veritabanı işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-143">[UserLoginsTable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserLoginsTable.cs) - contains database operations for the table that stores user login information.</span></span>
- <span data-ttu-id="c0b08-144">[Userroletable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserRoleTable.cs) -hangi kullanıcıların hangi rollere atandığını depolayan tablo için veritabanı işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-144">[UserRoleTable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserRoleTable.cs) - contains database operations for the table that stores which users are assigned to which roles.</span></span>
- <span data-ttu-id="c0b08-145">[Usertable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserTable.cs) -kullanıcıları depolayan tablo için veritabanı işlemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-145">[UserTable](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/UserTable.cs) - contains database operations for the table that stores users.</span></span>

## <a name="create-a-mysql-database-instance-on-azure"></a><span data-ttu-id="c0b08-146">Azure 'da MySQL veritabanı örneği oluşturma</span><span class="sxs-lookup"><span data-stu-id="c0b08-146">Create a MySQL database instance on Azure</span></span>

1. <span data-ttu-id="c0b08-147">[Azure Portal](https://manage.windowsazure.com/)’da oturum açın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-147">Log in to the [Azure Portal](https://manage.windowsazure.com/).</span></span>
2. <span data-ttu-id="c0b08-148">Sayfanın alt kısmındaki **+ Yeni** ' ye tıklayın ve ardından **Mağaza**' yı seçin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-148">Click **+NEW** at the bottom of the page, and then select **STORE**.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image1.png)
3. <span data-ttu-id="c0b08-149">**Seçme ve eklenti** sihirbazında **ClearDB MySQL veritabanı** ' nı seçin ve iletişim kutusunun sağ alt köşesindeki sonraki oka tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-149">In the **Choose and Add-on** wizard, select **ClearDB MySQL Database** and click on the next arrow at the bottom right of the dialog.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image2.png)
4. <span data-ttu-id="c0b08-150">Varsayılan **ücretsiz** planı koruyun ve **adı** **ıdentitymysqldatabase**olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-150">Keep the default **Free** plan and change the **Name** to **IdentityMySQLDatabase**.</span></span> <span data-ttu-id="c0b08-151">En yakın bölgeyi seçin ve ardından ileri okuna tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-151">Select the region nearest you and then click the next arrow.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image3.png)
5. <span data-ttu-id="c0b08-152">Veritabanı oluşturma işleminin tamamlanabilmesi için onay işaretine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-152">Click the checkmark to complete the database creation.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image4.png)
6. <span data-ttu-id="c0b08-153">Veritabanınız oluşturulduktan sonra yönetim portalındaki **Eklentiler sekmesinden bu** dosyayı yönetebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-153">After your database has been created, you can manage it from the **ADD-ONS** tab in the management portal.</span></span>   
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image5.png)
7. <span data-ttu-id="c0b08-154">Sayfanın alt kısmındaki **bağlantı bilgileri** ' ne tıklayarak veritabanı bağlantı bilgilerini alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c0b08-154">You can get the database connection information by clicking on **CONNECTION INFO** at the bottom of the page.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image6.png)
8. <span data-ttu-id="c0b08-155">Kopyala düğmesine tıklayarak bağlantı dizesini kopyalayın ve daha sonra MVC Uygulamanızda kullanabilmek için kaydedin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-155">Copy the connection string by clicking on the copy button and save it so you can use later in your MVC application.</span></span>   
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image7.png)

## <a name="create-the-aspnet-identity-tables-in-a-mysql-database"></a><span data-ttu-id="c0b08-156">MySQL veritabanında ASP.NET Identity tabloları oluşturma</span><span class="sxs-lookup"><span data-stu-id="c0b08-156">Create the ASP.NET Identity tables in a MySQL database</span></span>

### <a name="install-mysql-workbench-tool-to-connect-and-manage-mysql-database"></a><span data-ttu-id="c0b08-157">MySQL veritabanını bağlamak ve yönetmek için MySQL çalışma ekranı aracını yükler</span><span class="sxs-lookup"><span data-stu-id="c0b08-157">Install MySQL Workbench tool to connect and manage MySQL database</span></span>

1. <span data-ttu-id="c0b08-158">MySQL [İndirmeleri sayfasından](http://dev.mysql.com/downloads/windows/installer/) **MySQL çalışma ekranı** aracını yükler</span><span class="sxs-lookup"><span data-stu-id="c0b08-158">Install the **MySQL Workbench** tool from the [MySQL downloads page](http://dev.mysql.com/downloads/windows/installer/)</span></span>
2. <span data-ttu-id="c0b08-159">Uygulamayı başlatın ve yeni bir bağlantı eklemek için **Mysqlconnections +** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-159">Launch the app and add click on the **MySQLConnections +** button to add a new connection.</span></span> <span data-ttu-id="c0b08-160">Bu öğreticide daha önce oluşturduğunuz Azure MySQL veritabanından kopyaladığınız bağlantı dizesi verilerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-160">Use the connection string data you copied from the Azure MySQL database you created earlier in this tutorial.</span></span>
3. <span data-ttu-id="c0b08-161">Bağlantıyı kurduktan sonra yeni bir **sorgu** sekmesi açın; [Mysqlidentity. SQL](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/MySQLIdentity.sql) dosyasındaki komutları sorguya yapıştırın ve veritabanı tabloları oluşturmak için yürütün.</span><span class="sxs-lookup"><span data-stu-id="c0b08-161">After establishing the connection, open a new **Query** tab; paste the commands from [MySQLIdentity.sql](https://github.com/aspnet/samples/blob/master/samples/aspnet/Identity/AspNet.Identity.MySQL/MySQLIdentity.sql) into the query and execute it in order to create the database tables.</span></span>
4. <span data-ttu-id="c0b08-162">Artık, aşağıda gösterildiği gibi Azure üzerinde barındırılan bir MySQL veritabanında oluşturulan tüm ASP.NET Identity gerekli tabloları vardır.</span><span class="sxs-lookup"><span data-stu-id="c0b08-162">You now have all the ASP.NET Identity necessary tables created on a MySQL database hosted on Azure as shown below.</span></span>  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image1.jpg)

## <a name="create-an-mvc-application-project-from-template-and-configure-it-to-use-mysql-provider"></a><span data-ttu-id="c0b08-163">Şablondan MVC uygulama projesi oluşturma ve MySQL sağlayıcısını kullanacak şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="c0b08-163">Create an MVC application project from template and configure it to use MySQL provider</span></span>

<span data-ttu-id="c0b08-164">Gerekirse, [Web için Visual Studio Express 2013](https://go.microsoft.com/fwlink/?LinkId=299058) ' i veya güncelleştirme 2 ' yi [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566) .</span><span class="sxs-lookup"><span data-stu-id="c0b08-164">If needed, install either [Visual Studio Express 2013 for Web](https://go.microsoft.com/fwlink/?LinkId=299058) or [Visual Studio 2013](https://go.microsoft.com/fwlink/?LinkId=306566) with Update 2.</span></span>

### <a name="download-the-aspnetidentitymysql-project-from-github"></a><span data-ttu-id="c0b08-165">GitHub 'dan ASP. NET. Identity. MySQL projesini indirin</span><span class="sxs-lookup"><span data-stu-id="c0b08-165">Download the ASP.NET.Identity.MySQL project from GitHub</span></span>

1. <span data-ttu-id="c0b08-166">[Aspnet. Identity. MySQL (GitHub)](https://github.com/aspnet/samples/tree/master/samples/aspnet/Identity/AspNet.Identity.MySQL/)KONUMUNDAKI depo URL 'sine gidin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-166">Browse to the repository URL at [AspNet.Identity.MySQL (GitHub)](https://github.com/aspnet/samples/tree/master/samples/aspnet/Identity/AspNet.Identity.MySQL/).</span></span>
2. <span data-ttu-id="c0b08-167">Kaynak kodunu indirin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-167">Download the source code.</span></span>
3. <span data-ttu-id="c0b08-168">. Zip dosyasını yerel bir klasöre ayıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-168">Extract the .zip file into a local folder.</span></span>
4. <span data-ttu-id="c0b08-169">AspNet. Identity. MySQL çözümünü açın ve oluşturun.</span><span class="sxs-lookup"><span data-stu-id="c0b08-169">Open the AspNet.Identity.MySQL solution and build it.</span></span>

### <a name="create-a-new-mvc-application-project-from-template"></a><span data-ttu-id="c0b08-170">Şablondan yeni bir MVC uygulama projesi oluştur</span><span class="sxs-lookup"><span data-stu-id="c0b08-170">Create a new MVC application project from template</span></span>

1. <span data-ttu-id="c0b08-171">**Aspnet. Identity. MySQL** çözümüne sağ tıklayın ve **Yeni proje** **ekleyin**</span><span class="sxs-lookup"><span data-stu-id="c0b08-171">Right click the **AspNet.Identity.MySQL** solution and **Add**, **New Project**</span></span>
2. <span data-ttu-id="c0b08-172">**Yeni Proje Ekle** iletişim kutusunda sol taraftaki **görsel C#**  **' i seçin ve ardından** **ASP.NET Web uygulaması**' nı seçin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-172">In the **Add New Project** Dialog select **Visual C#** on the left, then **Web** and then select **ASP.NET Web Application**.</span></span> <span data-ttu-id="c0b08-173">Projeyi **ıdentitymysqldemo**; olarak adlandırın ardından Tamam ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-173">Name your project **IdentityMySQLDemo**; and then click OK.</span></span>  
  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image2.jpg)
3. <span data-ttu-id="c0b08-174">**Yeni ASP.NET projesi** iletişim kutusunda, varsayılan seçeneklerle (kimlik doğrulama yöntemi olarak **bireysel kullanıcı hesapları** da dahIl olmak üzere) MVC şablonunu seçin ve **Tamam**' a tıklayın.![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image3.jpg)</span><span class="sxs-lookup"><span data-stu-id="c0b08-174">In the **New ASP.NET Project** dialog, select the MVC template with the default options (that includes **Individual User Accounts** as authentication method) and click **OK**.![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image3.jpg)</span></span>
4. <span data-ttu-id="c0b08-175">Çözüm Gezgini, ıdentitymysqldemo projenize sağ tıklayın ve **NuGet Paketlerini Yönet**' i seçin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-175">In Solution Explorer, right-click your IdentityMySQLDemo project and select **Manage NuGet Packages**.</span></span> <span data-ttu-id="c0b08-176">Arama metin kutusu iletişim kutusunda **Identity. EntityFramework**yazın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-176">In the search text box dialog, type **Identity.EntityFramework**.</span></span> <span data-ttu-id="c0b08-177">Sonuçlar listesinde bu paketi seçin ve **Kaldır**' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-177">Select this package in the list of results and click **Uninstall**.</span></span> <span data-ttu-id="c0b08-178">EntityFramework bağımlılık paketini kaldırmanız istenecektir.</span><span class="sxs-lookup"><span data-stu-id="c0b08-178">You will be prompted to uninstall the dependency package EntityFramework.</span></span> <span data-ttu-id="c0b08-179">Bu uygulamada artık bu paketin olmadığı sürece Evet ' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-179">Click on Yes as we will no longer this package on this application.</span></span>
5. <span data-ttu-id="c0b08-180">Identitymysqldemo projesine sağ tıklayın, **Ekle**, **başvuru, çözüm, projeler** ' i seçin, ASPNET. Identity. MySQL projesini seçin ve **Tamam**' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-180">Right click the IdentityMySQLDemo project, select **Add**, **Reference, Solution, Projects;** select the AspNet.Identity.MySQL project and click **OK**.</span></span>
6. <span data-ttu-id="c0b08-181">Identitymysqldemo projesinde, tüm başvuruları Değiştir</span><span class="sxs-lookup"><span data-stu-id="c0b08-181">In the IdentityMySQLDemo project, replace all references to</span></span>  
    `using Microsoft.AspNet.Identity.EntityFramework;`  
   <span data-ttu-id="c0b08-182">örneklerini şununla değiştirin:</span><span class="sxs-lookup"><span data-stu-id="c0b08-182">with</span></span>  
     `using AspNet.Identity.MySQL;`
7. <span data-ttu-id="c0b08-183">IdentityModels.cs ' de, **Applicationdbcontext** ' i **mysqldatabase** 'dan türetebilir ve bağlantı adı ile tek bir parametre alan bir Oluşturucu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-183">In IdentityModels.cs, set **ApplicationDbContext** to derive from **MySqlDatabase** and include a constructor that take a single parameter with the connection name.</span></span>  

    [!code-csharp[Main](implementing-a-custom-mysql-aspnet-identity-storage-provider/samples/sample1.cs)]
8. <span data-ttu-id="c0b08-184">IdentityConfig.cs dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-184">Open the IdentityConfig.cs file.</span></span> <span data-ttu-id="c0b08-185">**Applicationusermanager. Create** yönteminde, UserManager örneğini aşağıdaki kodla değiştirin:</span><span class="sxs-lookup"><span data-stu-id="c0b08-185">In the **ApplicationUserManager.Create** method, replace instantiating UserManager with the following code:</span></span>  

    [!code-csharp[Main](implementing-a-custom-mysql-aspnet-identity-storage-provider/samples/sample2.cs)]
9. <span data-ttu-id="c0b08-186">Web. config dosyasını açın ve DefaultConnection dizesini, vurgulanan değerleri önceki adımlarda oluşturduğunuz MySQL veritabanının bağlantı dizesiyle değiştirerek bu girdiyle değiştirin:</span><span class="sxs-lookup"><span data-stu-id="c0b08-186">Open the web.config file and replace the DefaultConnection string with this entry replacing the highlighted values with the connection string of the MySQL database you created on previous steps:</span></span>  

    [!code-xml[Main](implementing-a-custom-mysql-aspnet-identity-storage-provider/samples/sample3.xml?highlight=2)]

## <a name="run-the-app-and-connect-to-the-mysql-db"></a><span data-ttu-id="c0b08-187">Uygulamayı çalıştırma ve MySQL DB 'ye bağlanma</span><span class="sxs-lookup"><span data-stu-id="c0b08-187">Run the app and connect to the MySQL DB</span></span>

1. <span data-ttu-id="c0b08-188">**Identitymysqldemo** projesine sağ tıklayın ve **Başlangıç projesi olarak ayarla** ' yı seçin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-188">Right click the **IdentityMySQLDemo** project and select **Set as Startup Project**</span></span>
2. <span data-ttu-id="c0b08-189">Uygulamayı derlemek ve çalıştırmak için **CTRL + F5** tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-189">Press **Ctrl + F5** to build and run the app.</span></span>
3. <span data-ttu-id="c0b08-190">Sayfanın üst kısmındaki **Kaydet** sekmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-190">Click on **Register** tab on the top of the page.</span></span>
4. <span data-ttu-id="c0b08-191">Yeni bir Kullanıcı adı ve parola girin ve ardından **Kaydet**' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c0b08-191">Enter a new user name and password and then click on **Register**.</span></span>  
  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image8.png)
5. <span data-ttu-id="c0b08-192">Yeni Kullanıcı artık kaydettirildi ve oturum açtı.</span><span class="sxs-lookup"><span data-stu-id="c0b08-192">The new user is now registered and logged in.</span></span>  
  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image9.png)
6. <span data-ttu-id="c0b08-193">MySQL çalışma ekranı aracına geri dönün ve **ıdentitymysqldatabase** tablosunun içeriğini inceleyin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-193">Go back to the MySQL Workbench tool and inspect the **IdentityMySQLDatabase** table's contents.</span></span> <span data-ttu-id="c0b08-194">Yeni kullanıcıları kaydettiğinizde, girişler için kullanıcılar tablosunu inceleyin.</span><span class="sxs-lookup"><span data-stu-id="c0b08-194">Inspect the users table for the entries as you register new users.</span></span>  
  
    ![](implementing-a-custom-mysql-aspnet-identity-storage-provider/_static/image10.png)

## <a name="next-steps"></a><span data-ttu-id="c0b08-195">Sonraki Adımlar</span><span class="sxs-lookup"><span data-stu-id="c0b08-195">Next Steps</span></span>

<span data-ttu-id="c0b08-196">Bu uygulamada diğer kimlik doğrulama yöntemlerinin nasıl etkinleştirileceği hakkında daha fazla bilgi için bkz. [Facebook ve Google OAuth2 Ile OpenID oturum açma ile ASP.NET MVC 5 uygulaması oluşturma](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md).</span><span class="sxs-lookup"><span data-stu-id="c0b08-196">For more information on how to enable other authentication methods on this app, refer to [Create an ASP.NET MVC 5 App with Facebook and Google OAuth2 and OpenID Sign-on](../../../mvc/overview/security/create-an-aspnet-mvc-5-app-with-facebook-and-google-oauth2-and-openid-sign-on.md).</span></span>

<span data-ttu-id="c0b08-197">Veritabanınızı OAuth ile tümleştirme hakkında bilgi edinmek ve kullanıcıların uygulamanıza erişimini sınırlamak için roller ayarlamayı öğrenmek için bkz. [Azure 'A üyelik, OAuth ve SQL veritabanı Ile güvenli bir ASP.NET MVC 5 uygulaması dağıtma](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data).</span><span class="sxs-lookup"><span data-stu-id="c0b08-197">To learn how to integrate your DB with OAuth and to set up roles to limit users access to your app, see [Deploy a Secure ASP.NET MVC 5 app with Membership, OAuth, and SQL Database to Azure](https://docs.microsoft.com/aspnet/core/security/authorization/secure-data).</span></span>
