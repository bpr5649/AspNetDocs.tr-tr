---
uid: visual-studio/overview/2012/windows-azure-authentication
title: Windows Azure kimlik doğrulaması | Microsoft Docs
author: Rick-Anderson
description: Windows Azure Active Directory için Microsoft ASP.NET araçları kolaylaştırır Windows Azure Web sitelerinde barındırılan web uygulamaları için kimlik doğrulamasını etkinleştir...
ms.author: riande
ms.date: 02/20/2013
ms.assetid: a3cef801-a54b-4ebd-93c3-55764e2e14b1
msc.legacyurl: /visual-studio/overview/2012/windows-azure-authentication
msc.type: authoredcontent
ms.openlocfilehash: cd3eed8c14103d29a66acd475fafe5ff3122a960
ms.sourcegitcommit: 289e051cc8a90e8f7127e239fda73047bde4de12
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/25/2019
ms.locfileid: "58421589"
---
# <a name="windows-azure-authentication"></a><span data-ttu-id="499e5-103">Windows Azure Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="499e5-103">Windows Azure Authentication</span></span>

<span data-ttu-id="499e5-104">Tarafından [Rick Anderson]((https://twitter.com/RickAndMSFT))</span><span class="sxs-lookup"><span data-stu-id="499e5-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="499e5-105">Microsoft ASP.NET araçları için Windows Azure Active Directory üzerinde barındırılan web uygulamaları için kimlik doğrulamasını etkinleştirme sürecini kolaylaştırır [Windows Azure Web siteleri](https://www.windowsazure.com/home/features/web-sites/).</span><span class="sxs-lookup"><span data-stu-id="499e5-105">Microsoft ASP.NET tools for Windows Azure Active Directory makes it simple to enable authentication for web applications hosted on [Windows Azure Web Sites](https://www.windowsazure.com/home/features/web-sites/).</span></span> <span data-ttu-id="499e5-106">Kuruluşunuz, şirket içi Active Directory'nizden eşitlenen Kurumsal hesaplara veya kendi özel Windows Azure Active Directory etki alanında oluşturulan kullanıcılar Office 365 kullanıcıların kimliğini doğrulamak için Windows Azure kimlik doğrulaması'nı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="499e5-106">You can use Windows Azure Authentication to authenticate Office 365 users from your organization, corporate accounts synced from your on-premise Active Directory or users created in your own custom Windows Azure Active Directory domain.</span></span> <span data-ttu-id="499e5-107">Windows Azure kimlik doğrulamasını etkinleştirme, tek bir kullanan kullanıcıların kimliğini doğrulamak için uygulamanıza yapılandırır [Windows Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) Kiracı.</span><span class="sxs-lookup"><span data-stu-id="499e5-107">Enabling Windows Azure Authentication configures your application to authenticate users using a single [Windows Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) tenant.</span></span>
>
> <span data-ttu-id="499e5-108">Bir bulut hizmeti web rolü için ASP.NET Windows Azure kimlik doğrulaması aracı desteklenmemektedir ancak gelecek bir sürümde bunun planlıyoruz.</span><span class="sxs-lookup"><span data-stu-id="499e5-108">The ASP.NET Windows Azure Authentication tool is not supported for web roles in a cloud service but we plan to do so in a future release.</span></span> <span data-ttu-id="499e5-109">[Windows Identity Foundation](https://msdn.microsoft.com/library/hh291066(v=VS.110).aspx) (WIF), Windows Azure web rolleri desteklenir.</span><span class="sxs-lookup"><span data-stu-id="499e5-109">[Windows Identity Foundation](https://msdn.microsoft.com/library/hh291066(v=VS.110).aspx) (WIF) is supported in Windows Azure web roles.</span></span>
>
> <span data-ttu-id="499e5-110">Windows Azure Active Directory kiracınız ile şirket içi Active Directory'nizde arasındaki eşitleme kurulumu hakkında ayrıntılar için lütfen bkz [uygulamak ve yönetmek için kullanım AD FS 2.0 çoklu oturum açma](https://technet.microsoft.com/library/jj205462.aspx).</span><span class="sxs-lookup"><span data-stu-id="499e5-110">For details on how to setup synchronization between your on-premise Active Directory and your Windows Azure Active Directory tenant please see [Use AD FS 2.0 to implement and manage single sign-on](https://technet.microsoft.com/library/jj205462.aspx).</span></span>
>
> <span data-ttu-id="499e5-111">Windows Azure Active Directory şu anda olarak bir [ücretsiz önizleme hizmeti](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span><span class="sxs-lookup"><span data-stu-id="499e5-111">Windows Azure Active Directory is currently available as a [free preview service](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span>


## <a name="requirements"></a><span data-ttu-id="499e5-112">Gereksinimler:</span><span class="sxs-lookup"><span data-stu-id="499e5-112">Requirements:</span></span>

- <span data-ttu-id="499e5-113">Visual Studio 2012 veya [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express)</span><span class="sxs-lookup"><span data-stu-id="499e5-113">Visual Studio 2012 or [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express)</span></span>
- <span data-ttu-id="499e5-114">[Web Araçları uzantıları Visual Studio 2012 için](https://go.microsoft.com/fwlink/?LinkID=282228&amp;clcid=0x409) veya [Web Araçları uzantıları Visual Studio Express 2012](https://go.microsoft.com/fwlink/?LinkID=282231&amp;clcid=0x409)</span><span class="sxs-lookup"><span data-stu-id="499e5-114">[Web Tools Extensions for Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282228&amp;clcid=0x409) or [Web Tools Extensions for Visual Studio Express 2012](https://go.microsoft.com/fwlink/?LinkID=282231&amp;clcid=0x409)</span></span>
- <span data-ttu-id="499e5-115">[Microsoft ASP.NET araçları için Windows Azure Active Directory ile Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282306) veya [Microsoft ASP.NET araçları için Windows Azure Active Directory ile Web için Visual Studio Express 2012](https://go.microsoft.com/fwlink/?LinkId=282652)</span><span class="sxs-lookup"><span data-stu-id="499e5-115">[Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282306) or [Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio Express 2012 for Web](https://go.microsoft.com/fwlink/?LinkId=282652)</span></span>

## <a name="create-an-aspnet-web-application-with-visual-studio-2012"></a><span data-ttu-id="499e5-116">Visual Studio 2012 ile bir ASP.NET Web uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="499e5-116">Create an ASP.NET Web Application with Visual Studio 2012</span></span>

<span data-ttu-id="499e5-117">Visual Studio 2012 ile herhangi bir Web uygulaması oluşturabilir, bu öğreticide ASP.NET MVC Intranet şablonunu kullanır.</span><span class="sxs-lookup"><span data-stu-id="499e5-117">You can create any Web Application with Visual Studio 2012, this tutorial uses the ASP.NET MVC intranet template.</span></span>

1. <span data-ttu-id="499e5-118">Yeni bir ASP.NET MVC 4 Intranet uygulaması oluşturun ve tüm Varsayılanları kabul edin.</span><span class="sxs-lookup"><span data-stu-id="499e5-118">Create a new ASP.NET MVC 4 Intranet Application and accept all the defaults.</span></span> <span data-ttu-id="499e5-119">(In olmalıdır **tra** net değildir **ter** net Proje).</span><span class="sxs-lookup"><span data-stu-id="499e5-119">(It must be an In **tra** net and not In **ter** net project).</span></span>
     ![](windows-azure-authentication/_static/image1.png)

## <a name="enable-window-azure-authentication-when-you-are-a-global-administrator-of-the-tenet"></a><span data-ttu-id="499e5-120">(Genel Yöneticisi de aynen geçerli olduğunda) penceresi Azure kimlik doğrulamasını etkinleştir</span><span class="sxs-lookup"><span data-stu-id="499e5-120">Enable Window Azure Authentication (When you are a Global Administrator of the Tenet)</span></span>

<span data-ttu-id="499e5-121">Mevcut bir Windows Azure Active Directory kiracısı (örneğin, üzerinden mevcut bir Office 365 hesabı) yoksa yeni bir kiracı için kaydolarak oluşturabileceğiniz bir [yeni Windows Azure Active Directory hesabı](http://g.microsoftonline.com/0AX00en/5).</span><span class="sxs-lookup"><span data-stu-id="499e5-121">If you do not have an existing Windows Azure Active Directory tenant (For example, through an existing Office 365 account) you can create a new tenant by signing up for a [new Windows Azure Active Directory account](http://g.microsoftonline.com/0AX00en/5).</span></span>

1. <span data-ttu-id="499e5-122">Proje menüsünden seçin **Windows Azure kimlik doğrulamasını etkinleştir**:</span><span class="sxs-lookup"><span data-stu-id="499e5-122">From the Project menu select **Enable Windows Azure Authentication**:</span></span>

   ![](windows-azure-authentication/_static/image2.png)

2. <span data-ttu-id="499e5-123">Windows Azure Active Directory kiracınız için (örneğin, contoso.onmicrosoft.com) etki alanı girin ve tıklayın **etkinleştirme**:</span><span class="sxs-lookup"><span data-stu-id="499e5-123">Enter the domain for your Windows Azure Active Directory tenant (for example, contoso.onmicrosoft.com) and click **Enable**:</span></span>

![](windows-azure-authentication/_static/image3.png)

3. <span data-ttu-id="499e5-124">Web kimlik doğrulaması iletişim oturum açma Windows Azure Active Directory kiracınız için yönetici olarak:</span><span class="sxs-lookup"><span data-stu-id="499e5-124">In the Web Authentication dialog sign in as an administrator for your Windows Azure Active Directory tenant:</span></span>

   ![](windows-azure-authentication/_static/image4.png)

![](windows-azure-authentication/_static/image5.png)

## <a name="enable-window-azure-by-a-non-administrator-of-the-tenet"></a><span data-ttu-id="499e5-125">Yönetici olmayan göre uyarlamanız, Windows Azure'ı etkinleştir</span><span class="sxs-lookup"><span data-stu-id="499e5-125">Enable Window Azure by a non-administrator of the Tenet</span></span>

<span data-ttu-id="499e5-126">Windows Azure Active Directory kiracınız için genel yönetici ayrıcalığına sahip değil, uygulama sağlama için onay kutusunun işaretini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="499e5-126">If you do not have Global Administrator privilege for your Windows Azure Active Directory tenant, you can uncheck the checkbox for provisioning the application.</span></span>

![](windows-azure-authentication/_static/image6.png)

<span data-ttu-id="499e5-127">İletişim kutusu görüntüler **etki alanı**, **uygulama birincil kimliği** ve **yanıt URL'si** olan uygulama Azure Active Directory ile sağlamak için gerekli de aynen geçerli.</span><span class="sxs-lookup"><span data-stu-id="499e5-127">The dialog will display the **Domain**, **Application Principal Id** and **Reply URL** which are required for provisioning the application with an Azure Active Directory tenet.</span></span> <span data-ttu-id="499e5-128">Uygulama sağlamak için yeterli ayrıcalığı olan birisi bu bilgiler vermemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="499e5-128">You need to give this information to someone who has sufficient privilege to provision the application.</span></span> <span data-ttu-id="499e5-129">Bkz:[nasıl Windows Azure Active Directory - ASP.NET uygulaması ile çoklu oturum açma uygulanacağı](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect) cmdlet'in el ile hizmet sorumlusu oluşturmak için nasıl kullanılacağı hakkında ayrıntılı bilgi için.</span><span class="sxs-lookup"><span data-stu-id="499e5-129">See[How to implement single sign-on with Windows Azure Active Directory - ASP.NET Application](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect) for details on how to use cmdlet to create the service principal manually.</span></span>
<span data-ttu-id="499e5-130">Uygulama başarıyla sağlandıktan sonra tıklayabilirsiniz **seçilen ayarlarla web.config güncelleştirmeye devam**.</span><span class="sxs-lookup"><span data-stu-id="499e5-130">Once the application has been successfully provisioned, you can click on **Continue to update web.config with the selected settings**.</span></span> <span data-ttu-id="499e5-131">Beklerken meydana gelmesine tıklayabilirsiniz sağlamak için uygulama geliştirmeye devam etmek istiyorsanız **kapatmak için Proje dosyasındaki ayarları unutmayın**.</span><span class="sxs-lookup"><span data-stu-id="499e5-131">If you want to continue developing the application while waiting for provisioning to happen, you can click **Close to remember the settings in project file**.</span></span> <span data-ttu-id="499e5-132">Sonraki Windows Azure kimlik doğrulamasını etkinleştir'i çağırmak ve sağlama onay kutusunun işaretini kaldırın, aynı ayarları görürsünüz ve tıklayabilirsiniz **devam**,'a tıklayın, **web.configBuayarlarıuygulamak**.</span><span class="sxs-lookup"><span data-stu-id="499e5-132">The next time you invoke Enable Windows Azure Authentication and uncheck the provisioning checkbox, you will see the same settings and you can click **Continue**, then click, **Apply these settings in web.config**.</span></span>

1. <span data-ttu-id="499e5-133">Uygulamanızı Windows Azure kimlik doğrulaması için yapılandırılmış ve Windows Azure Active Directory ile sağlanan bekleyin.</span><span class="sxs-lookup"><span data-stu-id="499e5-133">Wait while your application is configured for Windows Azure Authentication and provisioned with Windows Azure Active Directory.</span></span>
2. <span data-ttu-id="499e5-134">Windows Azure kimlik doğrulaması için uygulamanızı etkinleştirildikten sonra tıklayın **Kapat:**</span><span class="sxs-lookup"><span data-stu-id="499e5-134">Once Windows Azure Authentication has been enabled for your application, click **Close:**</span></span>

    ![](windows-azure-authentication/_static/image7.png)
3. <span data-ttu-id="499e5-135">Uygulamanızı çalıştırmak için F5'e basın.</span><span class="sxs-lookup"><span data-stu-id="499e5-135">Hit F5 to run your application.</span></span> <span data-ttu-id="499e5-136">Otomatik olarak oturum açma sayfasına yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="499e5-136">You should automatically get redirected to login page.</span></span> <span data-ttu-id="499e5-137">Uygulamada oturum açmak için dizin de aynen geçerli kullanıcı kimlik bilgilerini kullan...</span><span class="sxs-lookup"><span data-stu-id="499e5-137">Use the directory tenet user credentials to login to the application..</span></span>

    ![](windows-azure-authentication/_static/image1.jpg)
4. <span data-ttu-id="499e5-138">Uygulamanızı otomatik olarak imzalanan bir sertifika şu anda kullandığından, sertifika bir güvenilen sertifika yetkilisi tarafından verilmemiş tarayıcısından bir uyarı alırsınız.</span><span class="sxs-lookup"><span data-stu-id="499e5-138">Because your application is currently using a self-signed test certificate you will receive a warning from the browser that the certificate was not issued by a trusted certificate authority.</span></span>

    <span data-ttu-id="499e5-139">Bu uyarıyı güvenle yerel geliştirme sırasında tıklayarak yoksayılabilir **bu Web sitesine devam et:**</span><span class="sxs-lookup"><span data-stu-id="499e5-139">This warning can be safely ignored during local development by clicking **Continue to this website:**</span></span>

    ![](windows-azure-authentication/_static/image8.png)
5. <span data-ttu-id="499e5-140">Şimdi başarıyla uygulamanıza Windows Azure kimlik doğrulaması kullanarak oturum açtıktan!</span><span class="sxs-lookup"><span data-stu-id="499e5-140">You have now successfully logged in to your application using Windows Azure Authentication!</span></span>

    ![](windows-azure-authentication/_static/image2.jpg)

<span data-ttu-id="499e5-141">Windows Azure etkinleştirme kimlik doğrulaması, uygulamanız için aşağıdaki değişiklikleri yapar:</span><span class="sxs-lookup"><span data-stu-id="499e5-141">Enabling Windows Azure authentication makes the following changes to your application:</span></span>

- <span data-ttu-id="499e5-142">Bir Anti Site siteler arası istek sahteciliğini ([CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF))) sınıfı ( *uygulama\_Start\AntiXsrfConfig.cs* ) projenize eklenir.</span><span class="sxs-lookup"><span data-stu-id="499e5-142">An Anti-Cross-Site Request Forgery ([CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF))) class ( *App\_Start\AntiXsrfConfig.cs* ) is added to your project.</span></span>
- <span data-ttu-id="499e5-143">NuGet paketlerini `System.IdentityModel.Tokens.ValidatingIssuerNameRegistry` projenize eklenir.</span><span class="sxs-lookup"><span data-stu-id="499e5-143">The NuGet packages `System.IdentityModel.Tokens.ValidatingIssuerNameRegistry` is added to your project.</span></span>
- <span data-ttu-id="499e5-144">Windows Identity Foundation, uygulama ayarlarında, Windows Azure Active Directory kiracınızın güvenlik belirteçleri kabul edecek şekilde yapılandırılır.</span><span class="sxs-lookup"><span data-stu-id="499e5-144">Windows Identity Foundation settings in your application will be configured to accept security tokens from your Windows Azure Active Directory tenant.</span></span> <span data-ttu-id="499e5-145">Yapılan değişiklikleri Genişletilmiş görünümde görmek için aşağıdaki görüntüye tıklayın *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="499e5-145">Click on the image below to see an expanded view of the changes made to the *Web.config* file.</span></span>

     ![](windows-azure-authentication/_static/image9.png)
- <span data-ttu-id="499e5-146">Hizmet sorumlusu uygulamanıza Windows Azure Active Directory kiracınız için sağlanır.</span><span class="sxs-lookup"><span data-stu-id="499e5-146">A service principal for your application in your Windows Azure Active Directory tenant will be provisioned.</span></span>
- <span data-ttu-id="499e5-147">HTTPS etkin.</span><span class="sxs-lookup"><span data-stu-id="499e5-147">HTTPS is enabled.</span></span>

## <a name="deploy-the-application-to-windows-azure"></a><span data-ttu-id="499e5-148">Uygulamayı Windows azure'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="499e5-148">Deploy the application to Windows Azure</span></span>

<span data-ttu-id="499e5-149">Eksiksiz yönergeler için bkz: [bir ASP.NET Web uygulaması için bir Windows Azure Web sitesi dağıtma](https://docs.microsoft.com/azure/app-service-web/app-service-web-get-started-dotnet).</span><span class="sxs-lookup"><span data-stu-id="499e5-149">For complete instructions, see [Deploying an ASP.NET Web Application to a Windows Azure Web Site](https://docs.microsoft.com/azure/app-service-web/app-service-web-get-started-dotnet).</span></span>

<span data-ttu-id="499e5-150">Windows Azure kimlik doğrulaması için bir Azure Web sitesini kullanarak bir uygulama yayımlamak için:</span><span class="sxs-lookup"><span data-stu-id="499e5-150">To publish an application using Windows Azure Authentication to an Azure Web Site:</span></span>

1. <span data-ttu-id="499e5-151">Uygulamanız üzerinde sağ tıklatın ve seçin **Yayımla:**</span><span class="sxs-lookup"><span data-stu-id="499e5-151">Right click on your application and select **Publish:**</span></span>

    ![](windows-azure-authentication/_static/image3.jpg)
2. <span data-ttu-id="499e5-152">Web'i Yayımla iletişim kutusundan indirin ve Azure Web siteniz için bir yayımlama profili içeri aktarın.</span><span class="sxs-lookup"><span data-stu-id="499e5-152">From the Publish Web dialog download and import a publishing profile for your Azure Web Site.</span></span>

    ![](windows-azure-authentication/_static/image4.jpg)
3. <span data-ttu-id="499e5-153">**Bağlantı** sekme gösterir **hedef URL** (genel kullanıma yönelik uygulamanızın URL'si).</span><span class="sxs-lookup"><span data-stu-id="499e5-153">The **Connection** tab shows the **Destination URL** (the public facing URL for your application).</span></span> <span data-ttu-id="499e5-154">Tıklayın **bağlantıyı doğrula** bağlantınızı test etmek için:</span><span class="sxs-lookup"><span data-stu-id="499e5-154">Click **Validate Connection** to test your connection:</span></span>

    ![](windows-azure-authentication/_static/image5.jpg)
4. <span data-ttu-id="499e5-155">Bu Azure Web sitesine yayımladıysanız daha önce denetlemeyi düşünün **hedefteki ek dosyaları Kaldır** düzgün bir şekilde uygulamanızı emin olmak için ayar yayımlar.</span><span class="sxs-lookup"><span data-stu-id="499e5-155">If you have published to this Azure Web Site previously consider checking the **Remove additional files at destination** setting to ensure your application publishes cleanly.</span></span> <span data-ttu-id="499e5-156">Bildirim **Windows Azure kimlik doğrulamasını etkinleştir** onay kutusu seçilidir.</span><span class="sxs-lookup"><span data-stu-id="499e5-156">Notice the **Enable Windows Azure Authentication** check box is selected.</span></span>

    ![](windows-azure-authentication/_static/image10.png)
5. <span data-ttu-id="499e5-157">İsteğe bağlı: Üzerinde **Önizleme** sekmesini tıklatın **önizlemeyi Başlat** dağıtılan dosyaları görmek için.</span><span class="sxs-lookup"><span data-stu-id="499e5-157">Optional: On the **Preview** tab click **Start Preview** to see the files deployed.</span></span>

    ![](windows-azure-authentication/_static/image6.jpg)
6. <span data-ttu-id="499e5-158">Tıklayın **yayımlayın.**</span><span class="sxs-lookup"><span data-stu-id="499e5-158">Click **Publish.**</span></span>

    <span data-ttu-id="499e5-159">Hedef ana bilgisayar için Windows Azure kimlik doğrulamasını etkinleştirmek için istenir.</span><span class="sxs-lookup"><span data-stu-id="499e5-159">You will be prompted to enable Windows Azure Authentication for the target host.</span></span> <span data-ttu-id="499e5-160">Tıklayın **etkinleştirme** devam etmek için:</span><span class="sxs-lookup"><span data-stu-id="499e5-160">Click **Enable** to continue:</span></span>

    ![](windows-azure-authentication/_static/image11.png)
7. <span data-ttu-id="499e5-161">Windows Azure Active Directory kiracınız için yönetici kimlik bilgilerinizi girin:</span><span class="sxs-lookup"><span data-stu-id="499e5-161">Enter your administrator credentials for your Windows Azure Active Directory tenant:</span></span>

    ![](windows-azure-authentication/_static/image7.jpg)
8. <span data-ttu-id="499e5-162">Uygulamanız başarıyla yayımlandıktan sonra yayımlanmış bir web sitesine bir tarayıcıda açılır.</span><span class="sxs-lookup"><span data-stu-id="499e5-162">Once your application has been successfully published, a browser will open to the published web site.</span></span>

    > [!NOTE]
    > <span data-ttu-id="499e5-163">Bu, en fazla beş dakika (genellikle gereken daha az) uygulamanızın hedef ana bilgisayar için Windows Azure kimlik doğrulaması etkinleştirdikten sonra Windows Azure Active Directory ile tam olarak sağlanması sürebilir.</span><span class="sxs-lookup"><span data-stu-id="499e5-163">It may take up to five minutes (typically must less) for your application to be fully provisioned with Windows Azure Active Directory after enabling Windows Azure Authentication for the target host.</span></span> <span data-ttu-id="499e5-164">Ne zaman ACS50001 hata alırsanız önce uygulamanızı çalıştırın: Bağlı olan taraf adı [Bölge] ile bulunamadı, sonra birkaç dakika bekleyin ve uygulamayı yeniden çalıştırmayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="499e5-164">When you first run your application if you receive error ACS50001: Relying party with name ‘[realm]' was not found, then wait a few minutes and try running the application again.</span></span>
9. <span data-ttu-id="499e5-165">İstendiğinde, dizininizdeki bir kullanıcı olarak oturum açın:</span><span class="sxs-lookup"><span data-stu-id="499e5-165">When prompted, log in as a user in your directory:</span></span>

    ![](windows-azure-authentication/_static/image8.jpg)
10. <span data-ttu-id="499e5-166">Artık Azure başarıyla kapattınız barındırılan Windows Azure kimlik doğrulaması kullanarak uygulama.</span><span class="sxs-lookup"><span data-stu-id="499e5-166">You have now successfully logged into your Azure hosted application using Windows Azure Authentication.</span></span>

     ![](windows-azure-authentication/_static/image9.jpg)

## <a name="known-issues"></a><span data-ttu-id="499e5-167">Bilinen Sorunlar</span><span class="sxs-lookup"><span data-stu-id="499e5-167">Known Issues</span></span>

#### <a name="role-based-authorization-fails-when-using-windows-azure-authentication"></a><span data-ttu-id="499e5-168">Windows Azure kimlik doğrulamasını kullanırken, rol tabanlı yetkilendirme başarısız olur</span><span class="sxs-lookup"><span data-stu-id="499e5-168">Role-based authorization fails when using Windows Azure Authentication</span></span>

<span data-ttu-id="499e5-169">Böylece rol tabanlı yetkilendirme gerçekleştirilebilir Windows Azure kimlik doğrulaması gerekli rol talep şu anda sağlamaz.</span><span class="sxs-lookup"><span data-stu-id="499e5-169">Windows Azure Authentication does not currently provide the necessary role claim so that role-based authorization can be performed.</span></span> <span data-ttu-id="499e5-170">Kimliği doğrulanmış kullanıcı rolü, Windows Azure Active Directory'den elle alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="499e5-170">The role of the authenticated user must be manually retrieved from Windows Azure Active Directory.</span></span>

#### <a name="browsing-to-an-application-with-windows-azure-authentication-results-in-the-error-acs20016-the-domain-of-the-logged-in-user-livecom-does-not-match-any-allowed-domain-of-this-sts"></a><span data-ttu-id="499e5-171">Bir uygulama ile Windows için Azure kimlik doğrulaması sonuçlarını hata "(live.com) oturum açmış olan kullanıcının etki alanını herhangi eşleşmiyor ACS20016 bu etki alanı STS izin verilen" göz atma</span><span class="sxs-lookup"><span data-stu-id="499e5-171">Browsing to an application with Windows Azure Authentication results in the error "ACS20016 The domain of the logged in user (live.com) does not match any allowed domain of this STS"</span></span>

<span data-ttu-id="499e5-172">Zaten bir Microsoft Account (örneğin, hotmail.com, live.com, outlook.com) kaydedilir ve Windows Azure kimlik doğrulaması etkinleştirilmiş bir uygulamaya erişmeye çalışırsanız çünkü 400 hata yanıtı alabilirsiniz Microsoft Account etki alanı Windows Azure Active Directory tarafından tanınmıyor.</span><span class="sxs-lookup"><span data-stu-id="499e5-172">If you are already logged in to a Microsoft Account (for example hotmail.com, live.com, outlook.com) and you attempt to access an application that has enabled Windows Azure Authentication you may get a 400 error response because the domain of your Microsoft Account is not recognized by Windows Azure Active Directory.</span></span> <span data-ttu-id="499e5-173">Uygulamasına oturum açmak için Microsoft Account önce oturumunuzu.</span><span class="sxs-lookup"><span data-stu-id="499e5-173">To log into the application, log out from your Microsoft Account first.</span></span>

#### <a name="logging-into-an-application-with-windows-azure-authentication-enabled-and-a-x509certificatevalidationmode-other-than-none-results-in-certificate-validation-errors-for-the-accountsaccesscontrolwindowsnet-certificate"></a><span data-ttu-id="499e5-174">Windows Azure etkin kimlik doğrulama ve bir X509CertificateValidationMode ile bir uygulamaya dışındaki oturum hiçbiri accounts.accesscontrol.windows.net sertifika için sertifika doğrulama hatalarını sonuçlanır</span><span class="sxs-lookup"><span data-stu-id="499e5-174">Logging into an application with Windows Azure Authentication enabled and a X509CertificateValidationMode other than None results in certificate validation errors for the accounts.accesscontrol.windows.net certificate</span></span>

<span data-ttu-id="499e5-175">Sertifika doğrulama gerekli değildir ve devre dışı bırakılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="499e5-175">Certificate validation is not required and should be left disabled.</span></span> <span data-ttu-id="499e5-176">Verenin sertifika parmak izi WSFederationAuthenticationModule tarafından doğrulanır.</span><span class="sxs-lookup"><span data-stu-id="499e5-176">The thumbprint of the issuer certificate is validated by the WSFederationAuthenticationModule.</span></span>

#### <a name="when-attempting-to-enable-windows-azure-authentication-the-web-authentication-dialog-shows-the-error-acs20016-the-domain-of-the-logged-in-user-contosoonmicrosoftcom-does-not-match-any-allowed-domain-of-this-sts"></a><span data-ttu-id="499e5-177">Windows Azure kimlik doğrulamasını etkinleştirmek çalışırken Web kimlik doğrulaması iletişim kutusunun hata gösterir. "ACS20016: (Contoso.onmicrosoft.com) oturum açmış olan kullanıcının etki alanını bu STS, izin verilen olan herhangi bir etki alanı eşleşmiyor."</span><span class="sxs-lookup"><span data-stu-id="499e5-177">When attempting to enable Windows Azure Authentication the Web Authentication dialog shows the error "ACS20016: The domain of the logged in user (contoso.onmicrosoft.com) does not match any allowed domain of this STS."</span></span>

<span data-ttu-id="499e5-178">Daha önce başarılı bir farklı Windows Azure Active Directory hesabı aynı Visual Studio işlemini kullanarak oturum olduğunda bu hatayı görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="499e5-178">You may see this error when you have previously successfully logged in using a different Windows Azure Active Directory account from within the same Visual Studio process.</span></span> <span data-ttu-id="499e5-179">Belirtilen hesaptan oturumu kapatmayın veya Visual Studio'yu yeniden başlatın.</span><span class="sxs-lookup"><span data-stu-id="499e5-179">Log out from the specified account or restart Visual Studio.</span></span> <span data-ttu-id="499e5-180">Daha önce oturum açıp "Oturumumu açık bırak" seçeneği seçili değilse tarayıcı tanımlama bilgilerinizi temizlemek gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="499e5-180">If you previously logged in and selected the option to "Keep me signed in" then you may need to clear your browser cookies.</span></span>

## <a name="acs20012-the-request-is-not-a-valid-ws-federation-protocol-message"></a><span data-ttu-id="499e5-181">ACS20012: İstek geçerli bir WS-Federation protokolü ileti değil</span><span class="sxs-lookup"><span data-stu-id="499e5-181">ACS20012: The request is not a valid WS-Federation protocol message</span></span>

<span data-ttu-id="499e5-182">Diğer bazı Microsoft ID Azure hizmetlerinin bir oturum zaten oturum açtıysanız bu durum oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="499e5-182">This can happen if you are already logged in with some other Microsoft ID to one of the Azure services.</span></span> <span data-ttu-id="499e5-183">Kullanım özel tarayıcı penceresinde IE'de InPrivate veya Incognito Chrome gibi veya tüm tanımlama bilgilerini temizleyin.</span><span class="sxs-lookup"><span data-stu-id="499e5-183">Use Private browser window like InPrivate in IE or Incognito in Chrome or clear all the cookies.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="499e5-184">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="499e5-184">Additional Resources</span></span>

- <span data-ttu-id="499e5-185">[Microsoft ASP.NET araçları için Windows Azure Active Directory ile Visual Studio 2012](https://blogs.msdn.com/b/vbertocci/archive/2013/02/18/microsoft-asp-net-tools-for-windows-azure-active-directory-visual-studio-2012.aspx) – Vittorio Bertocci'nin</span><span class="sxs-lookup"><span data-stu-id="499e5-185">[Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio 2012](https://blogs.msdn.com/b/vbertocci/archive/2013/02/18/microsoft-asp-net-tools-for-windows-azure-active-directory-visual-studio-2012.aspx) – Vittorio Bertocci</span></span>
- [<span data-ttu-id="499e5-186">Windows Azure özellikleri: Kimlik</span><span class="sxs-lookup"><span data-stu-id="499e5-186">Windows Azure Features: Identity</span></span>](https://docs.microsoft.com/azure/active-directory/)
- [<span data-ttu-id="499e5-187">TechNet: Windows Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="499e5-187">TechNet: Windows Azure Active Directory</span></span>](https://technet.microsoft.com/library/hh967619.aspx)
- [<span data-ttu-id="499e5-188">Windows Azure Active Directory: Kuruluşunuz için uygulamalar geliştirin</span><span class="sxs-lookup"><span data-stu-id="499e5-188">Windows Azure Active Directory: Develop Apps for your organization</span></span>](https://activedirectory.windowsazure.com/Develop/Single-Tenant.aspx)
- [<span data-ttu-id="499e5-189">Windows Azure Active Directory: Birden çok kuruluşlar için uygulamalar geliştirin</span><span class="sxs-lookup"><span data-stu-id="499e5-189">Windows Azure Active Directory: Develop Apps for multiple organizations</span></span>](https://activedirectory.windowsazure.com/Develop/Multi-Tenant.aspx)
- [<span data-ttu-id="499e5-190">Windows Azure Active Directory ile çoklu oturum açma ekleme</span><span class="sxs-lookup"><span data-stu-id="499e5-190">How to implement single sign-on with Windows Azure Active Directory</span></span>](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect)
- <span data-ttu-id="499e5-191">[Çoklu oturum açma ile Windows Azure Active Directory: derinlemesine bakış](https://blogs.msdn.com/b/vbertocci/archive/2012/07/05/single-sign-on-with-windows-azure-active-directory-a-deep-dive.aspx) – Vittorio Bertocci'nin</span><span class="sxs-lookup"><span data-stu-id="499e5-191">[Single Sign-On with Windows Azure Active Directory: a Deep Dive](https://blogs.msdn.com/b/vbertocci/archive/2012/07/05/single-sign-on-with-windows-azure-active-directory-a-deep-dive.aspx) – Vittorio Bertocci</span></span>
- [<span data-ttu-id="499e5-192">Çoklu oturum açmayı uygulamak ve yönetmek için AD FS'yi kullanma 2.0</span><span class="sxs-lookup"><span data-stu-id="499e5-192">Use AD FS 2.0 to implement and manage single sign-on</span></span>](https://technet.microsoft.com/library/jj205462.aspx)
