---
uid: visual-studio/overview/2012/windows-azure-authentication
title: Windows Azure kimlik doğrulaması | Microsoft Docs
author: Rick-Anderson
description: Windows Azure Active Directory için Microsoft ASP.NET araçları, Windows Azure Web sitelerinde barındırılan Web uygulamaları için kimlik doğrulamasını etkinleştirmeyi kolaylaştırır...
ms.author: riande
ms.date: 02/20/2013
ms.assetid: a3cef801-a54b-4ebd-93c3-55764e2e14b1
msc.legacyurl: /visual-studio/overview/2012/windows-azure-authentication
msc.type: authoredcontent
ms.openlocfilehash: 41c4e6d02c965c10aa35b882964f4f04d9b8c44b
ms.sourcegitcommit: e365196c75ce93cd8967412b1cfdc27121816110
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 02/07/2020
ms.locfileid: "77075157"
---
# <a name="windows-azure-authentication"></a><span data-ttu-id="f2db3-103">Windows Azure Kimlik Doğrulaması</span><span class="sxs-lookup"><span data-stu-id="f2db3-103">Windows Azure Authentication</span></span>

<span data-ttu-id="f2db3-104">[Rick Anderson]((https://twitter.com/RickAndMSFT)) tarafından</span><span class="sxs-lookup"><span data-stu-id="f2db3-104">by [Rick Anderson]((https://twitter.com/RickAndMSFT))</span></span>

> <span data-ttu-id="f2db3-105">Windows Azure Active Directory için Microsoft ASP.NET araçları, [Windows Azure Web sitelerinde](https://www.windowsazure.com/home/features/web-sites/)barındırılan Web uygulamaları için kimlik doğrulamasını etkinleştirmeyi kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-105">Microsoft ASP.NET tools for Windows Azure Active Directory makes it simple to enable authentication for web applications hosted on [Windows Azure Web Sites](https://www.windowsazure.com/home/features/web-sites/).</span></span> <span data-ttu-id="f2db3-106">Kuruluşunuzda Office 365 kullanıcılarının kimliğini doğrulamak için Windows Azure kimlik doğrulamasını kullanabilirsiniz, şirket içi Active Directory veya kendi özel Windows Azure Active Directory etki alanında oluşturulan kullanıcılarınız tarafından eşitlenmiş kurumsal hesaplardır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-106">You can use Windows Azure Authentication to authenticate Office 365 users from your organization, corporate accounts synced from your on-premise Active Directory or users created in your own custom Windows Azure Active Directory domain.</span></span> <span data-ttu-id="f2db3-107">Windows Azure kimlik doğrulamasının etkinleştirilmesi, uygulamanızı tek bir [Windows Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) kiracı kullanarak kullanıcıların kimliğini doğrulayacak şekilde yapılandırır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-107">Enabling Windows Azure Authentication configures your application to authenticate users using a single [Windows Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) tenant.</span></span>
>
> <span data-ttu-id="f2db3-108">ASP.NET Windows Azure kimlik doğrulama aracı bir bulut hizmetindeki Web rolleri için desteklenmez, ancak bunu gelecekteki bir sürümde yapmanız planlanıyoruz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-108">The ASP.NET Windows Azure Authentication tool is not supported for web roles in a cloud service but we plan to do so in a future release.</span></span> <span data-ttu-id="f2db3-109">Windows [Identity Foundation](https://msdn.microsoft.com/library/hh291066(v=VS.110).aspx) (WIF), Windows Azure Web rollerinde desteklenir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-109">[Windows Identity Foundation](https://msdn.microsoft.com/library/hh291066(v=VS.110).aspx) (WIF) is supported in Windows Azure web roles.</span></span>
>
> <span data-ttu-id="f2db3-110">Şirket içi Active Directory ve Windows Azure Active Directory kiracınız arasında eşitlemeyi ayarlama hakkında daha fazla bilgi için lütfen bkz. [AD FS 2,0 kullanarak çoklu oturum açmayı uygulama ve yönetme](https://technet.microsoft.com/library/jj205462.aspx).</span><span class="sxs-lookup"><span data-stu-id="f2db3-110">For details on how to setup synchronization between your on-premise Active Directory and your Windows Azure Active Directory tenant please see [Use AD FS 2.0 to implement and manage single sign-on](https://technet.microsoft.com/library/jj205462.aspx).</span></span>
>
> <span data-ttu-id="f2db3-111">Windows Azure Active Directory şu anda [ücretsiz bir önizleme hizmeti](https://azure.microsoft.com/free/?WT.mc_id=A443DD604)olarak sunulmaktadır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-111">Windows Azure Active Directory is currently available as a [free preview service](https://azure.microsoft.com/free/?WT.mc_id=A443DD604).</span></span>

## <a name="requirements"></a><span data-ttu-id="f2db3-112">Gereksinimler:</span><span class="sxs-lookup"><span data-stu-id="f2db3-112">Requirements:</span></span>

- <span data-ttu-id="f2db3-113">Visual Studio 2012 veya [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express)</span><span class="sxs-lookup"><span data-stu-id="f2db3-113">Visual Studio 2012 or [Visual Studio Express 2012](https://www.microsoft.com/visualstudio/11/products/express)</span></span>
- <span data-ttu-id="f2db3-114">[Visual Studio 2012 Için Web Araçları uzantıları](https://go.microsoft.com/fwlink/?LinkID=282228&amp;clcid=0x409) veya [Visual Studio Express 2012 Için Web Araçları uzantıları](https://go.microsoft.com/fwlink/?LinkID=282231&amp;clcid=0x409)</span><span class="sxs-lookup"><span data-stu-id="f2db3-114">[Web Tools Extensions for Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282228&amp;clcid=0x409) or [Web Tools Extensions for Visual Studio Express 2012](https://go.microsoft.com/fwlink/?LinkID=282231&amp;clcid=0x409)</span></span>
- <span data-ttu-id="f2db3-115">[Windows Azure Active Directory için Microsoft ASP.NET araçları – Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282306) veya [Windows için Microsoft ASP.NET araçları Azure Active Directory – Web için Visual Studio Express 2012](https://go.microsoft.com/fwlink/?LinkId=282652)</span><span class="sxs-lookup"><span data-stu-id="f2db3-115">[Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio 2012](https://go.microsoft.com/fwlink/?LinkID=282306) or [Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio Express 2012 for Web](https://go.microsoft.com/fwlink/?LinkId=282652)</span></span>

## <a name="create-an-aspnet-web-application-with-visual-studio-2012"></a><span data-ttu-id="f2db3-116">Visual Studio 2012 ile ASP.NET Web uygulaması oluşturma</span><span class="sxs-lookup"><span data-stu-id="f2db3-116">Create an ASP.NET Web Application with Visual Studio 2012</span></span>

<span data-ttu-id="f2db3-117">Visual Studio 2012 ile herhangi bir Web uygulaması oluşturabilirsiniz, bu öğretici ASP.NET MVC intranet şablonunu kullanır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-117">You can create any Web Application with Visual Studio 2012, this tutorial uses the ASP.NET MVC intranet template.</span></span>

1. <span data-ttu-id="f2db3-118">Yeni bir ASP.NET MVC 4 Intranet uygulaması oluşturun ve tüm varsayılanları kabul edin.</span><span class="sxs-lookup"><span data-stu-id="f2db3-118">Create a new ASP.NET MVC 4 Intranet Application and accept all the defaults.</span></span> <span data-ttu-id="f2db3-119">(Bu, bir ın **tra** net ve **ter** net projesinde değil) olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-119">(It must be an In **tra** net and not In **ter** net project).</span></span>
     ![](windows-azure-authentication/_static/image1.png)

## <a name="enable-window-azure-authentication-when-you-are-a-global-administrator-of-the-tenet"></a><span data-ttu-id="f2db3-120">Windows Azure kimlik doğrulamasını etkinleştir (Tenet 'in genel Yöneticisi olduğunuzda)</span><span class="sxs-lookup"><span data-stu-id="f2db3-120">Enable Window Azure Authentication (When you are a Global Administrator of the Tenet)</span></span>

<span data-ttu-id="f2db3-121">Mevcut bir Windows Azure Active Directory kiracınız yoksa (örneğin, mevcut bir Office 365 hesabı aracılığıyla), [Yeni bir windows Azure Active Directory hesabına](https://g.microsoftonline.com/0AX00en/5)kaydolarak yeni bir kiracı oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-121">If you do not have an existing Windows Azure Active Directory tenant (For example, through an existing Office 365 account) you can create a new tenant by signing up for a [new Windows Azure Active Directory account](https://g.microsoftonline.com/0AX00en/5).</span></span>

1. <span data-ttu-id="f2db3-122">Proje menüsünden **Windows Azure kimlik doğrulamasını etkinleştir**' i seçin:</span><span class="sxs-lookup"><span data-stu-id="f2db3-122">From the Project menu select **Enable Windows Azure Authentication**:</span></span>

   ![](windows-azure-authentication/_static/image2.png)

2. <span data-ttu-id="f2db3-123">Windows Azure Active Directory kiracınızın etki alanını girin (örneğin, contoso.onmicrosoft.com) ve **Etkinleştir**' e tıklayın:</span><span class="sxs-lookup"><span data-stu-id="f2db3-123">Enter the domain for your Windows Azure Active Directory tenant (for example, contoso.onmicrosoft.com) and click **Enable**:</span></span>

![](windows-azure-authentication/_static/image3.png)

3. <span data-ttu-id="f2db3-124">Web kimlik doğrulaması iletişim kutusunda Windows Azure Active Directory kiracınız için yönetici olarak oturum açın:</span><span class="sxs-lookup"><span data-stu-id="f2db3-124">In the Web Authentication dialog sign in as an administrator for your Windows Azure Active Directory tenant:</span></span>

   ![](windows-azure-authentication/_static/image4.png)

![](windows-azure-authentication/_static/image5.png)

## <a name="enable-window-azure-by-a-non-administrator-of-the-tenet"></a><span data-ttu-id="f2db3-125">Windows Azure 'ı bir Tenet Yöneticisi olmayan bir şekilde etkinleştirin</span><span class="sxs-lookup"><span data-stu-id="f2db3-125">Enable Window Azure by a non-administrator of the Tenet</span></span>

<span data-ttu-id="f2db3-126">Windows Azure Active Directory kiracınız için genel yönetici ayrıcalıklarınız yoksa, uygulamayı sağlama onay kutusunun işaretini kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-126">If you do not have Global Administrator privilege for your Windows Azure Active Directory tenant, you can uncheck the checkbox for provisioning the application.</span></span>

![](windows-azure-authentication/_static/image6.png)

<span data-ttu-id="f2db3-127">İletişim kutusunda, Azure Active Directory Tenet ile uygulamayı sağlamak için gereken **etki alanı**, **uygulama sorumlusu kimliği** ve **yanıt URL 'si** görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-127">The dialog will display the **Domain**, **Application Principal Id** and **Reply URL** which are required for provisioning the application with an Azure Active Directory tenet.</span></span> <span data-ttu-id="f2db3-128">Bu bilgileri uygulamayı sağlamak için yeterli ayrıcalığa sahip olan birine vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-128">You need to give this information to someone who has sufficient privilege to provision the application.</span></span> <span data-ttu-id="f2db3-129">Hizmet sorumlusunu el ile oluşturmak için cmdlet 'i kullanma hakkında ayrıntılı bilgi için bkz.[Windows Azure Active Directory-ASP.NET uygulaması ile çoklu oturum açmayı](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect) uygulama.</span><span class="sxs-lookup"><span data-stu-id="f2db3-129">See[How to implement single sign-on with Windows Azure Active Directory - ASP.NET Application](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect) for details on how to use cmdlet to create the service principal manually.</span></span>
<span data-ttu-id="f2db3-130">Uygulama başarılı bir şekilde sağlandıktan sonra, **Web. config 'i seçili ayarlarla güncelleştirmek Için devam**' a tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-130">Once the application has been successfully provisioned, you can click on **Continue to update web.config with the selected settings**.</span></span> <span data-ttu-id="f2db3-131">Hazırlama işleminin gerçekleşmesini beklerken uygulamayı geliştirmeye devam etmek istiyorsanız, **Proje dosyasındaki ayarları hatırlamak Için kapat**' a tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-131">If you want to continue developing the application while waiting for provisioning to happen, you can click **Close to remember the settings in project file**.</span></span> <span data-ttu-id="f2db3-132">Windows Azure kimlik doğrulamasını etkinleştirin ve sağlama onay kutusunun işaretini kaldırın, aynı ayarları görürsünüz ve **devam**' a tıklayıp, **Bu ayarları Web. config dosyasına uygulayabilirsiniz**.</span><span class="sxs-lookup"><span data-stu-id="f2db3-132">The next time you invoke Enable Windows Azure Authentication and uncheck the provisioning checkbox, you will see the same settings and you can click **Continue**, then click, **Apply these settings in web.config**.</span></span>

1. <span data-ttu-id="f2db3-133">Uygulamanız Windows Azure kimlik doğrulaması için yapılandırılırken bekleyin ve Windows Azure Active Directory sağlandı.</span><span class="sxs-lookup"><span data-stu-id="f2db3-133">Wait while your application is configured for Windows Azure Authentication and provisioned with Windows Azure Active Directory.</span></span>
2. <span data-ttu-id="f2db3-134">Uygulamanız için Windows Azure kimlik doğrulaması etkinleştirildikten sonra Kapat ' a tıklayın **.**</span><span class="sxs-lookup"><span data-stu-id="f2db3-134">Once Windows Azure Authentication has been enabled for your application, click **Close:**</span></span>

    ![](windows-azure-authentication/_static/image7.png)
3. <span data-ttu-id="f2db3-135">Uygulamanızı çalıştırmak için F5 'e basın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-135">Hit F5 to run your application.</span></span> <span data-ttu-id="f2db3-136">Otomatik olarak oturum açma sayfasına yönlendirilmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-136">You should automatically get redirected to login page.</span></span> <span data-ttu-id="f2db3-137">Uygulamada oturum açmak için temel Kullanıcı kimlik bilgilerini kullanın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-137">Use the directory tenet user credentials to login to the application..</span></span>

    ![](windows-azure-authentication/_static/image1.jpg)
4. <span data-ttu-id="f2db3-138">Uygulamanız Şu anda otomatik olarak imzalanan bir test sertifikası kullandığından, bir tarayıcıdan sertifikanın güvenilir bir sertifika yetkilisi tarafından çıkarılmadığını bildiren bir uyarı alacaksınız.</span><span class="sxs-lookup"><span data-stu-id="f2db3-138">Because your application is currently using a self-signed test certificate you will receive a warning from the browser that the certificate was not issued by a trusted certificate authority.</span></span>

    <span data-ttu-id="f2db3-139">Bu uyarı, yerel geliştirme sırasında **Bu Web sitesine devam et** seçeneğine tıklanarak güvenle yoksayılabilir:</span><span class="sxs-lookup"><span data-stu-id="f2db3-139">This warning can be safely ignored during local development by clicking **Continue to this website:**</span></span>

    ![](windows-azure-authentication/_static/image8.png)
5. <span data-ttu-id="f2db3-140">Windows Azure kimlik doğrulamasını kullanarak uygulamanızda başarıyla oturum açtınız!</span><span class="sxs-lookup"><span data-stu-id="f2db3-140">You have now successfully logged in to your application using Windows Azure Authentication!</span></span>

    ![](windows-azure-authentication/_static/image2.jpg)

<span data-ttu-id="f2db3-141">Windows Azure kimlik doğrulamasını etkinleştirmek uygulamanızda aşağıdaki değişiklikleri yapar:</span><span class="sxs-lookup"><span data-stu-id="f2db3-141">Enabling Windows Azure authentication makes the following changes to your application:</span></span>

- <span data-ttu-id="f2db3-142">Bir çapraz site Isteği forgery ([CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF))) Sınıfı ( *App\_Start\AntiXsrfConfig.cs* ), projenize eklenir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-142">An Anti-Cross-Site Request Forgery ([CSRF](https://www.owasp.org/index.php/Cross-Site_Request_Forgery_(CSRF))) class ( *App\_Start\AntiXsrfConfig.cs* ) is added to your project.</span></span>
- <span data-ttu-id="f2db3-143">NuGet paketleri `System.IdentityModel.Tokens.ValidatingIssuerNameRegistry` projenize eklenir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-143">The NuGet packages `System.IdentityModel.Tokens.ValidatingIssuerNameRegistry` is added to your project.</span></span>
- <span data-ttu-id="f2db3-144">Uygulamanızdaki Windows Identity Foundation ayarları, Windows Azure Active Directory kiracınızdan güvenlik belirteçlerini kabul edecek şekilde yapılandırılacaktır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-144">Windows Identity Foundation settings in your application will be configured to accept security tokens from your Windows Azure Active Directory tenant.</span></span> <span data-ttu-id="f2db3-145">*Web. config* dosyasında yapılan değişikliklerin genişletilmiş görünümünü görmek için aşağıdaki görüntüye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-145">Click on the image below to see an expanded view of the changes made to the *Web.config* file.</span></span>

     ![](windows-azure-authentication/_static/image9.png)
- <span data-ttu-id="f2db3-146">Windows Azure Active Directory kiracınızdaki uygulamanız için bir hizmet sorumlusu sağlanacak.</span><span class="sxs-lookup"><span data-stu-id="f2db3-146">A service principal for your application in your Windows Azure Active Directory tenant will be provisioned.</span></span>
- <span data-ttu-id="f2db3-147">HTTPS etkin.</span><span class="sxs-lookup"><span data-stu-id="f2db3-147">HTTPS is enabled.</span></span>

## <a name="deploy-the-application-to-windows-azure"></a><span data-ttu-id="f2db3-148">Uygulamayı Windows Azure 'a dağıtma</span><span class="sxs-lookup"><span data-stu-id="f2db3-148">Deploy the application to Windows Azure</span></span>

<span data-ttu-id="f2db3-149">Tüm yönergeler için bkz. [Windows Azure Web sitesine ASP.NET Web uygulaması dağıtma](https://docs.microsoft.com/azure/app-service-web/app-service-web-get-started-dotnet).</span><span class="sxs-lookup"><span data-stu-id="f2db3-149">For complete instructions, see [Deploying an ASP.NET Web Application to a Windows Azure Web Site](https://docs.microsoft.com/azure/app-service-web/app-service-web-get-started-dotnet).</span></span>

<span data-ttu-id="f2db3-150">Bir Azure Web sitesinde Windows Azure kimlik doğrulamasını kullanarak bir uygulama yayımlamak için:</span><span class="sxs-lookup"><span data-stu-id="f2db3-150">To publish an application using Windows Azure Authentication to an Azure Web Site:</span></span>

1. <span data-ttu-id="f2db3-151">Uygulamanıza sağ tıklayıp Yayımla ' yı seçin **:**</span><span class="sxs-lookup"><span data-stu-id="f2db3-151">Right click on your application and select **Publish:**</span></span>

    ![](windows-azure-authentication/_static/image3.jpg)
2. <span data-ttu-id="f2db3-152">Web 'i Yayımla iletişim kutusundan Azure Web siteniz için bir yayımlama profili indirin ve içeri aktarın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-152">From the Publish Web dialog download and import a publishing profile for your Azure Web Site.</span></span>

    ![](windows-azure-authentication/_static/image4.jpg)
3. <span data-ttu-id="f2db3-153">**Bağlantı** sekmesi **hedef URL 'yi** (Uygulamanızın genel kullanıma yönelik URL 'si) gösterir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-153">The **Connection** tab shows the **Destination URL** (the public facing URL for your application).</span></span> <span data-ttu-id="f2db3-154">Bağlantınızı test etmek için **bağlantıyı doğrula** ' ya tıklayın:</span><span class="sxs-lookup"><span data-stu-id="f2db3-154">Click **Validate Connection** to test your connection:</span></span>

    ![](windows-azure-authentication/_static/image5.jpg)
4. <span data-ttu-id="f2db3-155">Bu Azure Web sitesine daha önce yayımladıysanız uygulamanızın düzgün bir şekilde yayımlanmasını sağlamak için **Hedefteki ek dosyaları Kaldır** ayarını kontrol etmeyi göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="f2db3-155">If you have published to this Azure Web Site previously consider checking the **Remove additional files at destination** setting to ensure your application publishes cleanly.</span></span> <span data-ttu-id="f2db3-156">**Windows Azure kimlik doğrulamasını etkinleştir** onay kutusunun seçili olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="f2db3-156">Notice the **Enable Windows Azure Authentication** check box is selected.</span></span>

    ![](windows-azure-authentication/_static/image10.png)
5. <span data-ttu-id="f2db3-157">İsteğe bağlı: **Önizleme** sekmesinde, dağıtılan dosyaları görmek Için **önizlemeyi Başlat** ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-157">Optional: On the **Preview** tab click **Start Preview** to see the files deployed.</span></span>

    ![](windows-azure-authentication/_static/image6.jpg)
6. <span data-ttu-id="f2db3-158">Yayımla ' ya tıklayın **.**</span><span class="sxs-lookup"><span data-stu-id="f2db3-158">Click **Publish.**</span></span>

    <span data-ttu-id="f2db3-159">Hedef konak için Windows Azure kimlik doğrulamasını etkinleştirmeniz istenir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-159">You will be prompted to enable Windows Azure Authentication for the target host.</span></span> <span data-ttu-id="f2db3-160">Devam etmek için **Etkinleştir** 'e tıklayın:</span><span class="sxs-lookup"><span data-stu-id="f2db3-160">Click **Enable** to continue:</span></span>

    ![](windows-azure-authentication/_static/image11.png)
7. <span data-ttu-id="f2db3-161">Windows Azure Active Directory kiracınız için yönetici kimlik bilgilerinizi girin:</span><span class="sxs-lookup"><span data-stu-id="f2db3-161">Enter your administrator credentials for your Windows Azure Active Directory tenant:</span></span>

    ![](windows-azure-authentication/_static/image7.jpg)
8. <span data-ttu-id="f2db3-162">Uygulamanız başarıyla yayımlandıktan sonra yayınlanan web sitesinde bir tarayıcı açılır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-162">Once your application has been successfully published, a browser will open to the published web site.</span></span>

    > [!NOTE]
    > <span data-ttu-id="f2db3-163">Hedef ana bilgisayar için Windows Azure kimlik doğrulamasını etkinleştirdikten sonra uygulamanızın Windows Azure Active Directory ile tam olarak sağlanması için beş dakika kadar sürebilir (genellikle daha az olmalıdır).</span><span class="sxs-lookup"><span data-stu-id="f2db3-163">It may take up to five minutes (typically must less) for your application to be fully provisioned with Windows Azure Active Directory after enabling Windows Azure Authentication for the target host.</span></span> <span data-ttu-id="f2db3-164">Uygulamanızı ilk kez çalıştırdığınızda ACS50001 hatası alırsanız: ' [Realm] ' adlı bağlı olan taraf bulunamadı, birkaç dakika bekleyip uygulamayı yeniden çalıştırmayı deneyin.</span><span class="sxs-lookup"><span data-stu-id="f2db3-164">When you first run your application if you receive error ACS50001: Relying party with name ‘[realm]' was not found, then wait a few minutes and try running the application again.</span></span>
9. <span data-ttu-id="f2db3-165">İstendiğinde, dizininizde bir kullanıcı olarak oturum açın:</span><span class="sxs-lookup"><span data-stu-id="f2db3-165">When prompted, log in as a user in your directory:</span></span>

    ![](windows-azure-authentication/_static/image8.jpg)
10. <span data-ttu-id="f2db3-166">Azure 'da barındırılan uygulamanızda Windows Azure kimlik doğrulamasını kullanarak başarıyla oturum açtınız.</span><span class="sxs-lookup"><span data-stu-id="f2db3-166">You have now successfully logged into your Azure hosted application using Windows Azure Authentication.</span></span>

     ![](windows-azure-authentication/_static/image9.jpg)

## <a name="known-issues"></a><span data-ttu-id="f2db3-167">Bilinen Sorunlar</span><span class="sxs-lookup"><span data-stu-id="f2db3-167">Known Issues</span></span>

#### <a name="role-based-authorization-fails-when-using-windows-azure-authentication"></a><span data-ttu-id="f2db3-168">Windows Azure kimlik doğrulaması kullanılırken rol tabanlı yetkilendirme başarısız oluyor</span><span class="sxs-lookup"><span data-stu-id="f2db3-168">Role-based authorization fails when using Windows Azure Authentication</span></span>

<span data-ttu-id="f2db3-169">Windows Azure kimlik doğrulaması, rol tabanlı yetkilendirmenin gerçekleştirilebilmesi için gerekli rol talebini Şu anda sağlamıyor.</span><span class="sxs-lookup"><span data-stu-id="f2db3-169">Windows Azure Authentication does not currently provide the necessary role claim so that role-based authorization can be performed.</span></span> <span data-ttu-id="f2db3-170">Kimliği doğrulanmış kullanıcının rolü Windows Azure Active Directory el ile alınmış olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-170">The role of the authenticated user must be manually retrieved from Windows Azure Active Directory.</span></span>

#### <a name="browsing-to-an-application-with-windows-azure-authentication-results-in-the-error-acs20016-the-domain-of-the-logged-in-user-livecom-does-not-match-any-allowed-domain-of-this-sts"></a><span data-ttu-id="f2db3-171">Windows Azure kimlik doğrulaması ile bir uygulamaya gözatılırken "ACS20016 oturum açan kullanıcının etki alanı (live.com), bu STS 'nin izin verilen etki alanıyla eşleşmez" hatası ile sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-171">Browsing to an application with Windows Azure Authentication results in the error "ACS20016 The domain of the logged in user (live.com) does not match any allowed domain of this STS"</span></span>

<span data-ttu-id="f2db3-172">Zaten bir Microsoft hesabında oturum açtıysanız (örneğin, hotmail.com, live.com, outlook.com) ve Windows Azure kimlik doğrulamasını etkinleştirmiş bir uygulamaya erişmeye çalışırsanız, Microsoft hesabınızın etki alanı nedeniyle 400 hata yanıtını alabilirsiniz Windows Azure Active Directory tarafından tanınmıyor.</span><span class="sxs-lookup"><span data-stu-id="f2db3-172">If you are already logged in to a Microsoft Account (for example hotmail.com, live.com, outlook.com) and you attempt to access an application that has enabled Windows Azure Authentication you may get a 400 error response because the domain of your Microsoft Account is not recognized by Windows Azure Active Directory.</span></span> <span data-ttu-id="f2db3-173">Uygulamada oturum açmak için önce Microsoft hesabınızda oturumunuzu açın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-173">To log into the application, log out from your Microsoft Account first.</span></span>

#### <a name="logging-into-an-application-with-windows-azure-authentication-enabled-and-a-x509certificatevalidationmode-other-than-none-results-in-certificate-validation-errors-for-the-accountsaccesscontrolwindowsnet-certificate"></a><span data-ttu-id="f2db3-174">Windows Azure kimlik doğrulaması etkinken bir uygulamada oturum açmak ve accounts.accesscontrol.windows.net sertifikası için sertifika doğrulama hatalarına neden olmayan bir X509CertificateValidationMode</span><span class="sxs-lookup"><span data-stu-id="f2db3-174">Logging into an application with Windows Azure Authentication enabled and a X509CertificateValidationMode other than None results in certificate validation errors for the accounts.accesscontrol.windows.net certificate</span></span>

<span data-ttu-id="f2db3-175">Sertifika doğrulama gerekli değildir ve devre dışı bırakılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-175">Certificate validation is not required and should be left disabled.</span></span> <span data-ttu-id="f2db3-176">Verenin sertifikasının parmak izi, WSFederationAuthenticationModule tarafından onaylanır.</span><span class="sxs-lookup"><span data-stu-id="f2db3-176">The thumbprint of the issuer certificate is validated by the WSFederationAuthenticationModule.</span></span>

#### <a name="when-attempting-to-enable-windows-azure-authentication-the-web-authentication-dialog-shows-the-error-acs20016-the-domain-of-the-logged-in-user-contosoonmicrosoftcom-does-not-match-any-allowed-domain-of-this-sts"></a><span data-ttu-id="f2db3-177">Windows Azure kimlik doğrulamasını etkinleştirmeye çalışırken, Web kimlik doğrulaması iletişim kutusunda "ACS20016: oturum açan kullanıcının etki alanı (contoso.onmicrosoft.com), bu STS 'nin izin verilen herhangi bir etki alanıyla eşleşmiyor."</span><span class="sxs-lookup"><span data-stu-id="f2db3-177">When attempting to enable Windows Azure Authentication the Web Authentication dialog shows the error "ACS20016: The domain of the logged in user (contoso.onmicrosoft.com) does not match any allowed domain of this STS."</span></span>

<span data-ttu-id="f2db3-178">Aynı Visual Studio işleminin içinden farklı bir Windows Azure Active Directory hesabı kullanarak oturum açmış olmanız durumunda bu hatayı görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="f2db3-178">You may see this error when you have previously successfully logged in using a different Windows Azure Active Directory account from within the same Visual Studio process.</span></span> <span data-ttu-id="f2db3-179">Belirtilen hesaptan oturumunuzu açın veya Visual Studio 'Yu yeniden başlatın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-179">Log out from the specified account or restart Visual Studio.</span></span> <span data-ttu-id="f2db3-180">Daha önce oturum açtıysanız ve "Oturumumu Açık tut" seçeneğini belirlediyseniz tarayıcı tanımlama bilgilerinizi temizlemeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-180">If you previously logged in and selected the option to "Keep me signed in" then you may need to clear your browser cookies.</span></span>

## <a name="acs20012-the-request-is-not-a-valid-ws-federation-protocol-message"></a><span data-ttu-id="f2db3-181">ACS20012: istek geçerli bir WS-Federation protokol iletisi değil</span><span class="sxs-lookup"><span data-stu-id="f2db3-181">ACS20012: The request is not a valid WS-Federation protocol message</span></span>

<span data-ttu-id="f2db3-182">Azure hizmetlerinden birine ait başka bir Microsoft KIMLIĞIYLE oturum açtıysanız bu durum oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="f2db3-182">This can happen if you are already logged in with some other Microsoft ID to one of the Azure services.</span></span> <span data-ttu-id="f2db3-183">IE1 veya Chrome 'da InPrivate veya tüm tanımlama bilgilerini temizleme gibi özel tarayıcı penceresini kullanın.</span><span class="sxs-lookup"><span data-stu-id="f2db3-183">Use Private browser window like InPrivate in IE or Incognito in Chrome or clear all the cookies.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="f2db3-184">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="f2db3-184">Additional Resources</span></span>

- <span data-ttu-id="f2db3-185">[Windows Azure Active Directory için Microsoft ASP.NET araçları – Visual Studio 2012](https://blogs.msdn.com/b/vbertocci/archive/2013/02/18/microsoft-asp-net-tools-for-windows-azure-active-directory-visual-studio-2012.aspx) – Vittorio Bertoccı</span><span class="sxs-lookup"><span data-stu-id="f2db3-185">[Microsoft ASP.NET Tools for Windows Azure Active Directory – Visual Studio 2012](https://blogs.msdn.com/b/vbertocci/archive/2013/02/18/microsoft-asp-net-tools-for-windows-azure-active-directory-visual-studio-2012.aspx) – Vittorio Bertocci</span></span>
- [<span data-ttu-id="f2db3-186">Windows Azure özellikleri: kimlik</span><span class="sxs-lookup"><span data-stu-id="f2db3-186">Windows Azure Features: Identity</span></span>](https://docs.microsoft.com/azure/active-directory/)
- [<span data-ttu-id="f2db3-187">TechNet: Windows Azure Active Directory</span><span class="sxs-lookup"><span data-stu-id="f2db3-187">TechNet: Windows Azure Active Directory</span></span>](https://technet.microsoft.com/library/hh967619.aspx)
- [<span data-ttu-id="f2db3-188">Windows Azure Active Directory: kuruluşunuz için uygulama geliştirme</span><span class="sxs-lookup"><span data-stu-id="f2db3-188">Windows Azure Active Directory: Develop Apps for your organization</span></span>](https://activedirectory.windowsazure.com/Develop/Single-Tenant.aspx)
- [<span data-ttu-id="f2db3-189">Windows Azure Active Directory: birden çok kuruluş için uygulama geliştirme</span><span class="sxs-lookup"><span data-stu-id="f2db3-189">Windows Azure Active Directory: Develop Apps for multiple organizations</span></span>](https://activedirectory.windowsazure.com/Develop/Multi-Tenant.aspx)
- [<span data-ttu-id="f2db3-190">Windows Azure Active Directory ile çoklu oturum açma uygulama</span><span class="sxs-lookup"><span data-stu-id="f2db3-190">How to implement single sign-on with Windows Azure Active Directory</span></span>](https://github.com/Azure-Samples/active-directory-dotnet-webapp-openidconnect)
- <span data-ttu-id="f2db3-191">[Windows Azure Active Directory 'de çoklu oturum açma: derin bir Dive](https://blogs.msdn.com/b/vbertocci/archive/2012/07/05/single-sign-on-with-windows-azure-active-directory-a-deep-dive.aspx) – Vittorio Bertoccı</span><span class="sxs-lookup"><span data-stu-id="f2db3-191">[Single Sign-On with Windows Azure Active Directory: a Deep Dive](https://blogs.msdn.com/b/vbertocci/archive/2012/07/05/single-sign-on-with-windows-azure-active-directory-a-deep-dive.aspx) – Vittorio Bertocci</span></span>
- [<span data-ttu-id="f2db3-192">Çoklu oturum açmayı uygulamak ve yönetmek için AD FS 2,0 kullanın</span><span class="sxs-lookup"><span data-stu-id="f2db3-192">Use AD FS 2.0 to implement and manage single sign-on</span></span>](https://technet.microsoft.com/library/jj205462.aspx)
