---
uid: web-api/overview/getting-started-with-aspnet-web-api/build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs
title: 'Uygulamalı Laboratuvar: ASP.NET Web API ve Angular.js - ASP.NET ile tek sayfalı uygulama (SPA) derleme 4.x'
author: rick-anderson
description: 'Adım adım kod: ASP.NET Web API ve Angular.js ile tek sayfalı uygulama (SPA) oluşturmak için ASP.NET 4.x.'
ms.author: riande
ms.date: 09/30/2015
ms.custom: seoapril2019
ms.assetid: 719727b7-bef3-45ad-bfe9-ba5bcdb2305f
msc.legacyurl: /web-api/overview/getting-started-with-aspnet-web-api/build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs
msc.type: authoredcontent
ms.openlocfilehash: 1f093e348216750cbadb6e52f524e5edd4d6c498
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59390278"
---
# <a name="hands-on-lab-build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs"></a><span data-ttu-id="95783-103">Uygulamalı Laboratuvar: ASP.NET Web API’si ve Angular.js ile Tek Sayfalı Uygulama (SPA) Oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-103">Hands On Lab: Build a Single Page Application (SPA) with ASP.NET Web API and Angular.js</span></span>

<span data-ttu-id="95783-104">Tarafından [Team Web Kampları](https://twitter.com/webcamps)</span><span class="sxs-lookup"><span data-stu-id="95783-104">by [Web Camps Team](https://twitter.com/webcamps)</span></span>

[<span data-ttu-id="95783-105">Eğitim Seti Web Kampları indirin</span><span class="sxs-lookup"><span data-stu-id="95783-105">Download Web Camps Training Kit</span></span>](https://aka.ms/webcamps-training-kit)

<span data-ttu-id="95783-106">Bu uygulamalı Laboratuvar göstermektedir tek sayfa uygulama (SPA) ASP.NET Web API ve Angular.js ile oluşturmak için ASP.NET 4.x.</span><span class="sxs-lookup"><span data-stu-id="95783-106">This hands on lab shows you how to build a Single Page Application (SPA) with ASP.NET Web API and Angular.js for ASP.NET 4.x.</span></span>

<span data-ttu-id="95783-107">Bu uygulamalı laboratuvarda Geek test, SPA kavramını temel Meraklısına Notlar Web sitesi uygulamak için bu teknolojilerden sürer.</span><span class="sxs-lookup"><span data-stu-id="95783-107">In this hand-on lab, you will take advantage of those technologies to implement Geek Quiz, a trivia website based on the SPA concept.</span></span> <span data-ttu-id="95783-108">Hizmet katmanı almak test sorularını ve yanıtlarını depolamak için gerekli uç noktaları kullanıma sunmak için ASP.NET Web API ile ilk uygular.</span><span class="sxs-lookup"><span data-stu-id="95783-108">You will first implement the service layer with ASP.NET Web API to expose the required endpoints to retrieve the quiz questions and store the answers.</span></span> <span data-ttu-id="95783-109">Ardından, AngularJS ve CSS3 dönüştürme efektleri kullanarak zengin ve esnek bir kullanıcı Arabirimi oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="95783-109">Then, you will build a rich and responsive UI using AngularJS and CSS3 transformation effects.</span></span>

<span data-ttu-id="95783-110">Geleneksel web uygulamaları, bir sayfa isteyerek istemci (tarayıcı) sunucusu ile iletişim başlatır.</span><span class="sxs-lookup"><span data-stu-id="95783-110">In traditional web applications, the client (browser) initiates the communication with the server by requesting a page.</span></span> <span data-ttu-id="95783-111">Sunucu isteği işler ve sayfanın HTML istemciye gönderir.</span><span class="sxs-lookup"><span data-stu-id="95783-111">The server then processes the request and sends the HTML of the page to the client.</span></span> <span data-ttu-id="95783-112">Sonraki sayfanın – örneğin kullanıcı bağlantısı gezinir veya verileri içeren formu gönderdiğinde – etkileşim içinde yeni bir istek sunucuya gönderilir ve akışı yeniden başlatır: sunucu isteği işler ve yeni bir sayfa tarayıcıya yeni eylem isteğine yanıt olarak gönderir Ed istemci tarafından.</span><span class="sxs-lookup"><span data-stu-id="95783-112">In subsequent interactions with the page –e.g. the user navigates to a link or submits a form with data– a new request is sent to the server, and the flow starts again: the server processes the request and sends a new page to the browser in response to the new action requested by the client.</span></span>
> 
> <span data-ttu-id="95783-113">Tek sayfa uygulamaları (Spa'lar) sayfanın tamamını ilk istek tarayıcıda yüklendi ancak etkileşiminde Ajax istekleri aracılığıyla gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="95783-113">In Single-Page Applications (SPAs) the entire page is loaded in the browser after the initial request, but subsequent interactions take place through Ajax requests.</span></span> <span data-ttu-id="95783-114">Bu tarayıcı yalnızca değişen sayfa bölümü güncelleştirilecek olduğu anlamına gelir; Tüm sayfayı yeniden yüklemek için gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="95783-114">This means that the browser has to update only the portion of the page that has changed; there is no need to reload the entire page.</span></span> <span data-ttu-id="95783-115">SPA yaklaşım daha akıcı bir deneyim, kullanıcı eylemlerini yanıt vermek için uygulama tarafından kullanılan süreyi azaltır.</span><span class="sxs-lookup"><span data-stu-id="95783-115">The SPA approach reduces the time taken by the application to respond to user actions, resulting in a more fluid experience.</span></span>
> 
> <span data-ttu-id="95783-116">Bir SPA mimarisi, geleneksel web uygulamaları mevcut olmayan bazı zorluklar içerir.</span><span class="sxs-lookup"><span data-stu-id="95783-116">The architecture of a SPA involves certain challenges that are not present in traditional web applications.</span></span> <span data-ttu-id="95783-117">Ancak, ASP.NET Web API gibi teknolojileri Gelişmekte olan, AngularJS JavaScript çerçevelerinin ister ve CSS3 tarafından sağlanan yeni stil özellikleri gerçekten Spa'lar tasarlayıp kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="95783-117">However, emerging technologies like ASP.NET Web API, JavaScript frameworks like AngularJS and new styling features provided by CSS3 make it really easy to design and build SPAs.</span></span>
> 
> 
> <span data-ttu-id="95783-118">Web Kampları eğitim Seti, kullanılabilir tüm örnek kodu ve kod parçacıkları dahil [ https://aka.ms/webcamps-training-kit ](https://aka.ms/webcamps-training-kit).</span><span class="sxs-lookup"><span data-stu-id="95783-118">All sample code and snippets are included in the Web Camps Training Kit, available at [https://aka.ms/webcamps-training-kit](https://aka.ms/webcamps-training-kit).</span></span>


## <a name="overview"></a><span data-ttu-id="95783-119">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="95783-119">Overview</span></span>

<a id="Objectives"></a>
### <a name="objectives"></a><span data-ttu-id="95783-120">Amaçlar</span><span class="sxs-lookup"><span data-stu-id="95783-120">Objectives</span></span>

<span data-ttu-id="95783-121">Bu uygulamalı laboratuvarda, öğreneceksiniz nasıl yapılır:</span><span class="sxs-lookup"><span data-stu-id="95783-121">In this hands-on lab, you will learn how to:</span></span>

- <span data-ttu-id="95783-122">JSON veri göndermek ve almak için bir ASP.NET Web API'si hizmetini oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-122">Create an ASP.NET Web API service to send and receive JSON data</span></span>
- <span data-ttu-id="95783-123">AngularJS kullanarak duyarlı bir kullanıcı Arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-123">Create a responsive UI using AngularJS</span></span>
- <span data-ttu-id="95783-124">CSS3 dönüştürmeleri kullanıcı Arabirimi deneyimini geliştirin</span><span class="sxs-lookup"><span data-stu-id="95783-124">Enhance the UI experience with CSS3 transformations</span></span>

<a id="Prerequisites"></a>
### <a name="prerequisites"></a><span data-ttu-id="95783-125">Önkoşullar</span><span class="sxs-lookup"><span data-stu-id="95783-125">Prerequisites</span></span>

<span data-ttu-id="95783-126">Aşağıda bu uygulamalı laboratuvarı tamamlamak için gereklidir:</span><span class="sxs-lookup"><span data-stu-id="95783-126">The following is required to complete this hands-on lab:</span></span>

- <span data-ttu-id="95783-127">[Visual Studio Express 2013 Web](https://www.microsoft.com/visualstudio/) veya üzeri</span><span class="sxs-lookup"><span data-stu-id="95783-127">[Visual Studio Express 2013 for Web](https://www.microsoft.com/visualstudio/) or greater</span></span>

<a id="Setup"></a>
### <a name="setup"></a><span data-ttu-id="95783-128">Kurulum</span><span class="sxs-lookup"><span data-stu-id="95783-128">Setup</span></span>

<span data-ttu-id="95783-129">Bu uygulamalı laboratuvarda alıştırmalar çalıştırmak için önce ortamı oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-129">In order to run the exercises in this hands-on lab, you will need to set up your environment first.</span></span>

1. <span data-ttu-id="95783-130">Açık Windows Gezgini ve Laboratuvar göz atın **kaynak** klasör.</span><span class="sxs-lookup"><span data-stu-id="95783-130">Open Windows Explorer and browse to the lab's **Source** folder.</span></span>
2. <span data-ttu-id="95783-131">Sağ **Setup.cmd** seçip **yönetici olarak çalıştır** ortamınızı yapılandırın ve bu Laboratuvar için Visual Studio kod parçacıkları yükleme kurulum işlemini başlatmak için.</span><span class="sxs-lookup"><span data-stu-id="95783-131">Right-click on **Setup.cmd** and select **Run as administrator** to launch the setup process that will configure your environment and install the Visual Studio code snippets for this lab.</span></span>
3. <span data-ttu-id="95783-132">Kullanıcı Hesabı Denetimi iletişim kutusunu gösteriliyorsa, devam etmek için eylemi onaylayın.</span><span class="sxs-lookup"><span data-stu-id="95783-132">If the User Account Control dialog box is shown, confirm the action to proceed.</span></span>

> [!NOTE]
> <span data-ttu-id="95783-133">Kurulumu çalıştırmadan önce bu Laboratuvar için tüm bağımlılıkların etkinleştirdiğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="95783-133">Make sure you have checked all the dependencies for this lab before running the setup.</span></span>


<a id="CodeSnippets"></a>
### <a name="using-the-code-snippets"></a><span data-ttu-id="95783-134">Kod parçacıklarını kullanma</span><span class="sxs-lookup"><span data-stu-id="95783-134">Using the Code Snippets</span></span>

<span data-ttu-id="95783-135">Laboratuvar belge boyunca kod blokları eklemeye yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-135">Throughout the lab document, you will be instructed to insert code blocks.</span></span> <span data-ttu-id="95783-136">Kolaylık olması için bu kodu çoğunu, Visual Studio el ile eklemek zorunda kalmamak için 2013 içinde erişebileceğiniz Visual Studio kod parçacıkları, olarak sağlanır.</span><span class="sxs-lookup"><span data-stu-id="95783-136">For your convenience, most of this code is provided as Visual Studio Code Snippets, which you can access from within Visual Studio 2013 to avoid having to add it manually.</span></span>

> [!NOTE]
> <span data-ttu-id="95783-137">Her alıştırma bulunan bir başlangıç çözüm eşlik **başlamak** her alıştırma diğerlerinden takip etmenize olanak tanıyan çalışma klasörü.</span><span class="sxs-lookup"><span data-stu-id="95783-137">Each exercise is accompanied by a starting solution located in the **Begin** folder of the exercise that allows you to follow each exercise independently of the others.</span></span> <span data-ttu-id="95783-138">Lütfen bir alıştırma sırasında eklenen kod parçacıkları bu çözümleri başlangıç eksik ve alıştırma tamamlayıncaya kadar çalışmayabilir unutmayın.</span><span class="sxs-lookup"><span data-stu-id="95783-138">Please be aware that the code snippets that are added during an exercise are missing from these starting solutions and may not work until you have completed the exercise.</span></span> <span data-ttu-id="95783-139">Ayrıca bulabilirsiniz bir alıştırma için kaynak kod içinde bir **son** karşılık gelen bir alıştırma olarak adımları tamamlamanızı sonuçları kodunu içeren bir Visual Studio çözüm içeren klasör.</span><span class="sxs-lookup"><span data-stu-id="95783-139">Inside the source code for an exercise, you will also find an **End** folder containing a Visual Studio solution with the code that results from completing the steps in the corresponding exercise.</span></span> <span data-ttu-id="95783-140">Bu uygulamalı laboratuvarı çalışırken ek yardıma ihtiyacınız varsa, bu çözümleri kılavuz kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-140">You can use these solutions as guidance if you need additional help as you work through this hands-on lab.</span></span>


---

<a id="Exercises"></a>
## <a name="exercises"></a><span data-ttu-id="95783-141">Alıştırmaları</span><span class="sxs-lookup"><span data-stu-id="95783-141">Exercises</span></span>

<span data-ttu-id="95783-142">Bu uygulamalı laboratuvarı aşağıdaki alıştırmaları içerir:</span><span class="sxs-lookup"><span data-stu-id="95783-142">This hands-on lab includes the following exercises:</span></span>

1. [<span data-ttu-id="95783-143">Web API'si oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-143">Creating a Web API</span></span>](#Exercise1)
2. [<span data-ttu-id="95783-144">SPA arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-144">Creating a SPA Interface</span></span>](#Exercise2)

<span data-ttu-id="95783-145">Bu laboratuvarı tamamlamak için tahmini süre: **60 dakika**</span><span class="sxs-lookup"><span data-stu-id="95783-145">Estimated time to complete this lab: **60 minutes**</span></span>

> [!NOTE]
> <span data-ttu-id="95783-146">Visual Studio'yu ilk başlattığınızda, önceden tanımlı ayar koleksiyonlarından birini seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-146">When you first start Visual Studio, you must select one of the predefined settings collections.</span></span> <span data-ttu-id="95783-147">Her önceden tanımlı bir koleksiyon belirli geliştirme stili eşleşecek şekilde tasarlanmıştır ve pencere düzenlerini, düzenleyici davranışı, IntelliSense kod parçacıkları ve iletişim kutusu seçenekleri belirler.</span><span class="sxs-lookup"><span data-stu-id="95783-147">Each predefined collection is designed to match a particular development style and determines window layouts, editor behavior, IntelliSense code snippets, and dialog box options.</span></span> <span data-ttu-id="95783-148">Bu Laboratuvar yordamları kullanarak Visual Studio'da belirli bir görevi gerçekleştirmek için gerekli eylemleri açıklayan **genel geliştirme ayarları** koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="95783-148">The procedures in this lab describe the actions necessary to accomplish a given task in Visual Studio when using the **General Development Settings** collection.</span></span> <span data-ttu-id="95783-149">Geliştirme ortamınız için farklı ayarlar koleksiyonu seçerseniz, dikkate almanız adımlar farklılıklar olabilir.</span><span class="sxs-lookup"><span data-stu-id="95783-149">If you choose a different settings collection for your development environment, there may be differences in the steps that you should take into account.</span></span>


<a id="Exercise1"></a>
### <a name="exercise-1-creating-a-web-api"></a><span data-ttu-id="95783-150">Alıştırma 1: Web API'si oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-150">Exercise 1: Creating a Web API</span></span>

<span data-ttu-id="95783-151">Anahtar bölümlerini bir SPA Hizmet katmanını biridir.</span><span class="sxs-lookup"><span data-stu-id="95783-151">One of the key parts of a SPA is the service layer.</span></span> <span data-ttu-id="95783-152">Kullanıcı Arabirimi ve veri döndürmeyi yanıt olarak bu çağrı tarafından gönderilen Ajax çağrıları işlemekten sorumludur.</span><span class="sxs-lookup"><span data-stu-id="95783-152">It is responsible for processing the Ajax calls sent by the UI and returning data in response to that call.</span></span> <span data-ttu-id="95783-153">Alınan verileri ayrıştırılması ve istemci tarafından tüketilen için makine tarafından okunabilir bir biçimde sunulmalıdır.</span><span class="sxs-lookup"><span data-stu-id="95783-153">The data retrieved should be presented in a machine-readable format in order to be parsed and consumed by the client.</span></span>

<span data-ttu-id="95783-154">Web API çerçevesi ASP.NET yığınının bir parçasıdır ve genel veri gönderme ve JSON veya XML biçimli bir RESTful API'si aracılığıyla alma HTTP hizmetlerini uygulamak amacıyla kolaylaştırmak için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="95783-154">The Web API framework is part of the ASP.NET Stack and is designed to make it easy to implement HTTP services, generally sending and receiving JSON- or XML-formatted data through a RESTful API.</span></span> <span data-ttu-id="95783-155">Bu alıştırmada, Geek test uygulamasını barındırmak ve ardından göstermek ve ASP.NET Web API kullanarak test verileri kalıcı hale getirmek için arka uç hizmeti uygulamak için bu Web sitesi oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="95783-155">In this exercise you will create the Web site to host the Geek Quiz application and then implement the back-end service to expose and persist the quiz data using ASP.NET Web API.</span></span>

<a id="Ex1Task1"></a>
#### <a name="task-1--creating-the-initial-project-for-geek-quiz"></a><span data-ttu-id="95783-156">Görev 1 – Geek sınavı için ilk proje oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-156">Task 1 – Creating the Initial Project for Geek Quiz</span></span>

<span data-ttu-id="95783-157">Bu görevde, ASP.NET Web API tabanlı yeni bir ASP.NET MVC projesi desteğiyle oluşturmaya başlayacağını **tek ASP.NET** proje Visual Studio ile birlikte gelen türü.</span><span class="sxs-lookup"><span data-stu-id="95783-157">In this task you will start creating a new ASP.NET MVC project with support for ASP.NET Web API based on the **One ASP.NET** project type that comes with Visual Studio.</span></span> <span data-ttu-id="95783-158">**Bir ASP.NET** tüm ASP.NET teknolojileri birleştirir ve karıştırın ve bunları istediğiniz gibi eşleşen seçeneği sunar.</span><span class="sxs-lookup"><span data-stu-id="95783-158">**One ASP.NET** unifies all ASP.NET technologies and gives you the option to mix and match them as desired.</span></span> <span data-ttu-id="95783-159">Ardından, Entity Framework'ün model sınıfları ve test sorularını eklemek için veritabanı Başlatıcı ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-159">You will then add the Entity Framework's model classes and the database initializer to insert the quiz questions.</span></span>

1. <span data-ttu-id="95783-160">Açık **Visual Studio Express 2013 Web** seçip **dosya | Yeni proje...**  yeni bir çözüm başlatmak için.</span><span class="sxs-lookup"><span data-stu-id="95783-160">Open **Visual Studio Express 2013 for Web** and select **File | New Project...** to start a new solution.</span></span>

    <span data-ttu-id="95783-161">![Yeni proje oluşturma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image1.png "yeni proje oluşturma")</span><span class="sxs-lookup"><span data-stu-id="95783-161">![Creating a New Project](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image1.png "Creating a New Project")</span></span>

    *<span data-ttu-id="95783-162">Yeni proje oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-162">Creating a New Project</span></span>*
2. <span data-ttu-id="95783-163">İçinde **yeni proje** iletişim kutusunda **ASP.NET Web uygulaması** altında **Visual C# | Web** sekmesi. Emin olun **.NET Framework 4.5** olduğu belirlenirse, ad *GeekQuiz*, seçin bir **konumu** tıklatıp **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="95783-163">In the **New Project** dialog box, select **ASP.NET Web Application** under the **Visual C# | Web** tab. Make sure **.NET Framework 4.5** is selected, name it *GeekQuiz*, choose a **Location** and click **OK**.</span></span>

    <span data-ttu-id="95783-164">![Yeni bir ASP.NET Web uygulaması projesi oluşturma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image2.png "yeni bir ASP.NET Web uygulaması projesi oluşturma")</span><span class="sxs-lookup"><span data-stu-id="95783-164">![Creating a new ASP.NET Web Application project](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image2.png "Creating a new ASP.NET Web Application project")</span></span>

    *<span data-ttu-id="95783-165">Yeni bir ASP.NET Web uygulaması projesi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-165">Creating a new ASP.NET Web Application project</span></span>*
3. <span data-ttu-id="95783-166">İçinde **yeni ASP.NET projesi** iletişim kutusunda **MVC** şablonu seçip alt **Web API** seçeneği.</span><span class="sxs-lookup"><span data-stu-id="95783-166">In the **New ASP.NET Project** dialog box, select the **MVC** template and select the **Web API** option.</span></span> <span data-ttu-id="95783-167">Ayrıca, emin **kimlik doğrulaması** seçeneği **bireysel kullanıcı hesapları**.</span><span class="sxs-lookup"><span data-stu-id="95783-167">Also, make sure that the **Authentication** option is set to **Individual User Accounts**.</span></span> <span data-ttu-id="95783-168">Devam etmek için **Tamam** 'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="95783-168">Click **OK** to continue.</span></span>

    ![Web API bileşenler dahil olmak üzere MVC şablonuyla yeni proje oluşturma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image3.png)

    *<span data-ttu-id="95783-170">Web API bileşenler dahil olmak üzere MVC şablonuyla yeni proje oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-170">Creating a new project with the MVC template, including Web API components</span></span>*
4. <span data-ttu-id="95783-171">İçinde **Çözüm Gezgini**, sağ **modelleri** klasörü **GeekQuiz** seçin ve proje **Ekle | Mevcut öğe...** .</span><span class="sxs-lookup"><span data-stu-id="95783-171">In **Solution Explorer**, right-click the **Models** folder of the **GeekQuiz** project and select **Add | Existing Item...**.</span></span>

    <span data-ttu-id="95783-172">![Var olan bir öğe eklemeye](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image4.png "var olan öğe ekleme")</span><span class="sxs-lookup"><span data-stu-id="95783-172">![Adding an existing item](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image4.png "Adding an existing item")</span></span>

    *<span data-ttu-id="95783-173">Var olan öğe ekleme</span><span class="sxs-lookup"><span data-stu-id="95783-173">Adding an existing item</span></span>*
5. <span data-ttu-id="95783-174">İçinde **varolan öğeyi Ekle** iletişim kutusunda, gitmek **varlıklar/kaynak/modelleri** klasörünü ve tüm dosyaları seçin.</span><span class="sxs-lookup"><span data-stu-id="95783-174">In the **Add Existing Item** dialog box, navigate to the **Source/Assets/Models** folder and select all the files.</span></span> <span data-ttu-id="95783-175">**Ekle**'yi tıklatın.</span><span class="sxs-lookup"><span data-stu-id="95783-175">Click **Add**.</span></span>

    <span data-ttu-id="95783-176">![Model varlıklar ekleme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image5.png "modeli varlıklar ekleme")</span><span class="sxs-lookup"><span data-stu-id="95783-176">![Adding the model assets](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image5.png "Adding the model assets")</span></span>

    *<span data-ttu-id="95783-177">Model varlıklar ekleme</span><span class="sxs-lookup"><span data-stu-id="95783-177">Adding the model assets</span></span>*

    > [!NOTE]
    > <span data-ttu-id="95783-178">Bu dosyaları ekleyerek, veri modeli, Entity Framework'ün veritabanı bağlamı ve Geek test uygulaması için veritabanı Başlatıcı ekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="95783-178">By adding these files, you are adding the data model, the Entity Framework's database context and the database initializer for the Geek Quiz application.</span></span>
    > 
    > <span data-ttu-id="95783-179">**Entity Framework (EF)** olan programlama ilişkisel depolama şeması kullanarak doğrudan programlama yerine kavramsal bir uygulama modeli tarafından veri erişimi uygulamaları oluşturmanızı sağlayan bir nesne ilişkisel eşleyicidir (ORM).</span><span class="sxs-lookup"><span data-stu-id="95783-179">**Entity Framework (EF)** is an object-relational mapper (ORM) that enables you to create data access applications by programming with a conceptual application model instead of programming directly using a relational storage schema.</span></span> <span data-ttu-id="95783-180">Entity Framework hakkında daha fazla bilgi [burada](../../../entity-framework.md).</span><span class="sxs-lookup"><span data-stu-id="95783-180">You can learn more about Entity Framework [here](../../../entity-framework.md).</span></span>
    > 
    > <span data-ttu-id="95783-181">Yeni eklediğiniz sınıfları açıklaması verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="95783-181">The following is a description of the classes you just added:</span></span>
    > 
    > - <span data-ttu-id="95783-182">**TriviaOption:** test soruyla ilişkili tek bir seçenek temsil eder</span><span class="sxs-lookup"><span data-stu-id="95783-182">**TriviaOption:** represents a single option associated with a quiz question</span></span>
    > - <span data-ttu-id="95783-183">**TriviaQuestion:** test soru temsil eder ve ilişkili çalışma seçeneklerde ortaya çıkaran **seçenekleri** özelliği</span><span class="sxs-lookup"><span data-stu-id="95783-183">**TriviaQuestion:** represents a quiz question and exposes the associated options through the **Options** property</span></span>
    > - <span data-ttu-id="95783-184">**TriviaAnswer:** test sorusuna yanıt kullanıcı tarafından seçilen seçeneğini temsil eder</span><span class="sxs-lookup"><span data-stu-id="95783-184">**TriviaAnswer:** represents the option selected by the user in response to a quiz question</span></span>
    > - <span data-ttu-id="95783-185">**TriviaContext:** Geek test uygulama Entity Framework'ün veritabanı bağlamını temsil eder.</span><span class="sxs-lookup"><span data-stu-id="95783-185">**TriviaContext:** represents the Entity Framework's database context of the Geek Quiz application.</span></span> <span data-ttu-id="95783-186">Bu sınıfın türetildiği **DContext** ve ortaya çıkaran **olan DB** yukarıda açıklanan varlık koleksiyonları temsil eden özellikler.</span><span class="sxs-lookup"><span data-stu-id="95783-186">This class derives from **DContext** and exposes **DbSet** properties that represent collections of the entities described above.</span></span>
    > - <span data-ttu-id="95783-187">**TriviaDatabaseInitializer:** uygulaması için Entity Framework Başlatıcı **TriviaContext** öğesinden devralan sınıf **Createdatabaseıfnotexists**.</span><span class="sxs-lookup"><span data-stu-id="95783-187">**TriviaDatabaseInitializer:** the implementation of the Entity Framework initializer for the **TriviaContext** class which inherits from **CreateDatabaseIfNotExists**.</span></span> <span data-ttu-id="95783-188">Bu sınıfın varsayılan davranış, yoksa yalnızca, veritabanı oluşturma, varlıklar ekleme belirtilen **çekirdek** yöntemi.</span><span class="sxs-lookup"><span data-stu-id="95783-188">The default behavior of this class is to create the database only if it does not exist, inserting the entities specified in the **Seed** method.</span></span>
6. <span data-ttu-id="95783-189">Açık **Global.asax.cs** dosya ve aşağıdaki deyimi kullanarak.</span><span class="sxs-lookup"><span data-stu-id="95783-189">Open the **Global.asax.cs** file and add the following using statement.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample1.cs)]
7. <span data-ttu-id="95783-190">Başında aşağıdaki kodu ekleyin **uygulama\_Başlat** ayarlanacak yöntemi **TriviaDatabaseInitializer** veritabanı başlatıcı olarak.</span><span class="sxs-lookup"><span data-stu-id="95783-190">Add the following code at the beginning of the **Application\_Start** method to set the **TriviaDatabaseInitializer** as the database initializer.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample2.cs)]
8. <span data-ttu-id="95783-191">Değiştirme **giriş** kimliği doğrulanmış kullanıcılara erişimi kısıtlamak için denetleyici.</span><span class="sxs-lookup"><span data-stu-id="95783-191">Modify the **Home** controller to restrict access to authenticated users.</span></span> <span data-ttu-id="95783-192">Bunu yapmak için açık **HomeController.cs** içinde dosya **denetleyicileri** klasör ve eklemek **Authorize** özniteliğini **HomeController**sınıf tanımını.</span><span class="sxs-lookup"><span data-stu-id="95783-192">To do this, open the **HomeController.cs** file inside the **Controllers** folder and add the **Authorize** attribute to the **HomeController** class definition.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample3.cs)]

    > [!NOTE]
    > <span data-ttu-id="95783-193">**Authorize** filtre kullanıcının kimliği doğrulanır, denetler.</span><span class="sxs-lookup"><span data-stu-id="95783-193">The **Authorize** filter checks to see if the user is authenticated.</span></span> <span data-ttu-id="95783-194">Kullanıcının kimliği doğrulanmazsa, HTTP durum kodunu 401 (yetkisiz) eylemi çağırma olmadan döndürür.</span><span class="sxs-lookup"><span data-stu-id="95783-194">If the user is not authenticated, it returns HTTP status code 401 (Unauthorized) without invoking the action.</span></span> <span data-ttu-id="95783-195">Genel olarak, denetleyici düzeyinde veya bireysel eylemleri düzeyini filtre uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-195">You can apply the filter globally, at the controller level, or at the level of individual actions.</span></span>
9. <span data-ttu-id="95783-196">Artık web sayfaları ve markalama düzenini özelleştireceksiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-196">You will now customize the layout of the web pages and the branding.</span></span> <span data-ttu-id="95783-197">Bunu yapmak için açık  **\_Layout.cshtml** içinde dosya **görünümleri | Paylaşılan** klasörü ve içeriğini güncelleştirme **&lt;başlık&gt;** değiştirerek öğesi *My ASP.NET Application* ile *Geek test* .</span><span class="sxs-lookup"><span data-stu-id="95783-197">To do this, open the **\_Layout.cshtml** file inside the **Views | Shared** folder and update the content of the **&lt;title&gt;** element by replacing *My ASP.NET Application* with *Geek Quiz*.</span></span>

    [!code-cshtml[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample4.cshtml)]
10. <span data-ttu-id="95783-198">Aynı dosyada, gezinti çubuğunda kaldırarak güncelleştirme *hakkında* ve *kişi* bağlantılar ve yeniden adlandırma *giriş* bağlantı *Play*.</span><span class="sxs-lookup"><span data-stu-id="95783-198">In the same file, update the navigation bar by removing the *About* and *Contact* links and renaming the *Home* link to *Play*.</span></span> <span data-ttu-id="95783-199">Ayrıca, yeniden adlandırma *uygulama adı* bağlantı *Geek test*.</span><span class="sxs-lookup"><span data-stu-id="95783-199">Additionally, rename the *Application name* link to *Geek Quiz*.</span></span> <span data-ttu-id="95783-200">HTML gezinti çubuğu için şu kod gibi görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="95783-200">The HTML for the navigation bar should look like the following code.</span></span>

    [!code-cshtml[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample5.cshtml)]
11. <span data-ttu-id="95783-201">Düzen sayfasının alt değiştirerek güncelleştirin *My ASP.NET Application* ile *Geek test*.</span><span class="sxs-lookup"><span data-stu-id="95783-201">Update the footer of the layout page by replacing *My ASP.NET Application* with *Geek Quiz*.</span></span> <span data-ttu-id="95783-202">Bunu yapmak için içeriğinin yerine geçecek **&lt;altbilgi&gt;** aşağıdaki vurgulanmış kodu olan öğe.</span><span class="sxs-lookup"><span data-stu-id="95783-202">To do this, replace the content of the **&lt;footer&gt;** element with the following highlighted code.</span></span>

    [!code-html[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample6.html)]

<a id="Ex1Task2"></a>
#### <a name="task-2--creating-the-triviacontroller-web-api"></a><span data-ttu-id="95783-203">Görev 2 – TriviaController Web API'si oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-203">Task 2 – Creating the TriviaController Web API</span></span>

<span data-ttu-id="95783-204">Önceki görevde başlangıç yapısını Geek test web uygulaması oluşturdunuz.</span><span class="sxs-lookup"><span data-stu-id="95783-204">In the previous task, you created the initial structure of the Geek Quiz web application.</span></span> <span data-ttu-id="95783-205">Şimdi, test veri modeli ile etkileşime geçer ve aşağıdaki eylemleri gösteren basit bir Web API'si hizmeti oluşturacaksınız:</span><span class="sxs-lookup"><span data-stu-id="95783-205">You will now build a simple Web API service that interacts with the quiz data model and exposes the following actions:</span></span>

- <span data-ttu-id="95783-206">**GET/api/trivia**: Sonraki soruya kimliği doğrulanmış kullanıcı tarafından yanıtlanması için test listesini alır.</span><span class="sxs-lookup"><span data-stu-id="95783-206">**GET /api/trivia**: Retrieves the next question from the quiz list to be answered by the authenticated user.</span></span>
- <span data-ttu-id="95783-207">**POST/api/trivia**: Kimliği doğrulanmış kullanıcı tarafından belirtilen test yanıt depolar.</span><span class="sxs-lookup"><span data-stu-id="95783-207">**POST /api/trivia**: Stores the quiz answer specified by the authenticated user.</span></span>

<span data-ttu-id="95783-208">Web API denetleyici sınıfı için taban çizgisi oluşturmak için Visual Studio tarafından sağlanan ASP.NET yapı İskelesi araçları kullanır.</span><span class="sxs-lookup"><span data-stu-id="95783-208">You will use the ASP.NET Scaffolding tools provided by Visual Studio to create the baseline for the Web API controller class.</span></span>

1. <span data-ttu-id="95783-209">Açık **WebApiConfig.cs** içinde dosya **uygulama\_Başlat** klasör.</span><span class="sxs-lookup"><span data-stu-id="95783-209">Open the **WebApiConfig.cs** file inside the **App\_Start** folder.</span></span> <span data-ttu-id="95783-210">Bu dosya yolları Web API denetleyici eylemleri için nasıl eşleştirildiğini gibi Web API hizmetinin yapılandırmasını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="95783-210">This file defines the configuration of the Web API service, like how routes are mapped to Web API controller actions.</span></span>
2. <span data-ttu-id="95783-211">Aşağıdaki using deyimini dosyanın başında.</span><span class="sxs-lookup"><span data-stu-id="95783-211">Add the following using statement at the beginning of the file.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample7.cs)]
3. <span data-ttu-id="95783-212">Aşağıdaki vurgulanmış kodu ekleyin **kaydetme** Genel Web API eylem yöntemleri tarafından alınan JSON verileri için biçimlendiriciyi yapılandırmak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="95783-212">Add the following highlighted code to the **Register** method to globally configure the formatter for the JSON data retrieved by the Web API action methods.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample8.cs)]

    > [!NOTE]
    > <span data-ttu-id="95783-213">**CamelCasePropertyNamesContractResolver** özellik adlarını otomatik olarak dönüştürür *camel* JavaScript özellik adları için genel kuralı durumda.</span><span class="sxs-lookup"><span data-stu-id="95783-213">The **CamelCasePropertyNamesContractResolver** automatically converts property names to *camel* case, which is the general convention for property names in JavaScript.</span></span>
4. <span data-ttu-id="95783-214">İçinde **Çözüm Gezgini**, sağ **denetleyicileri** klasörü **GeekQuiz** seçin ve proje **Ekle | Yeni İskeleli öğe...** .</span><span class="sxs-lookup"><span data-stu-id="95783-214">In **Solution Explorer**, right-click the **Controllers** folder of the **GeekQuiz** project and select **Add | New Scaffolded Item...**.</span></span>

    <span data-ttu-id="95783-215">![Yeni iskele kurulmuş öğe oluşturma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image6.png "yeni iskele kurulmuş öğe oluşturma")</span><span class="sxs-lookup"><span data-stu-id="95783-215">![Creating a new scaffolded item](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image6.png "Creating a new scaffolded item")</span></span>

    *<span data-ttu-id="95783-216">Yeni iskele kurulmuş öğe oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-216">Creating a new scaffolded item</span></span>*
5. <span data-ttu-id="95783-217">İçinde **İskele Ekle** iletişim kutusunda, emin **ortak** düğümü sol bölmede seçili.</span><span class="sxs-lookup"><span data-stu-id="95783-217">In the **Add Scaffold** dialog box, make sure that the **Common** node is selected in the left pane.</span></span> <span data-ttu-id="95783-218">Ardından, **Web API 2 denetleyici - boş** tıklatın ve Orta bölmede şablonunda **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="95783-218">Then, select the **Web API 2 Controller - Empty** template in the center pane and click **Add**.</span></span>

    <span data-ttu-id="95783-219">![Web API 2 denetleyicisi boş şablonu seçip](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image7.png "Web API 2 denetleyicisi boş şablonu seçme")</span><span class="sxs-lookup"><span data-stu-id="95783-219">![Selecting the Web API 2 Controller Empty template](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image7.png "Selecting the Web API 2 Controller Empty template")</span></span>

    *<span data-ttu-id="95783-220">Web API 2 denetleyicisi boş şablonu seçme</span><span class="sxs-lookup"><span data-stu-id="95783-220">Selecting the Web API 2 Controller Empty template</span></span>*

    > [!NOTE]
    > <span data-ttu-id="95783-221">**ASP.NET iskeleti oluşturma** bir ASP.NET Web uygulamaları için kod oluşturma çerçevedir.</span><span class="sxs-lookup"><span data-stu-id="95783-221">**ASP.NET Scaffolding** is a code generation framework for ASP.NET Web applications.</span></span> <span data-ttu-id="95783-222">Visual Studio 2013, MVC ve Web API projeleri için önceden yüklenmiş kod oluşturucuları içerir.</span><span class="sxs-lookup"><span data-stu-id="95783-222">Visual Studio 2013 includes pre-installed code generators for MVC and Web API projects.</span></span> <span data-ttu-id="95783-223">Standart veri işlemlerini geliştirmek için süre miktarını azaltmak için veri modelleri ile etkileşime giren kodu gerekli hızlı bir şekilde eklemek istediğiniz zaman, projenize yapı iskelesi kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-223">You should use scaffolding in your project when you want to quickly add code that interacts with data models in order to reduce the amount of time required to develop standard data operations.</span></span>
    > 
    > <span data-ttu-id="95783-224">İskele kurma işlemi ayrıca, tüm gerekli bağımlılıkları projede yüklendiğini sağlar.</span><span class="sxs-lookup"><span data-stu-id="95783-224">The scaffolding process also ensures that all the required dependencies are installed in the project.</span></span> <span data-ttu-id="95783-225">Boş ASP.NET projesi ile başlayın ve ardından bir Web API denetleyicisi eklemek için yapı iskelesi kullanın, örneğin, gerekli Web API NuGet paketleri ve başvuruları projenize otomatik olarak eklenir.</span><span class="sxs-lookup"><span data-stu-id="95783-225">For example, if you start with an empty ASP.NET project and then use scaffolding to add a Web API controller, the required Web API NuGet packages and references are added to your project automatically.</span></span>
6. <span data-ttu-id="95783-226">İçinde **denetleyici Ekle** iletişim kutusuna *TriviaController* içinde **Denetleyici adı** metin kutusu ve tıklatın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="95783-226">In the **Add Controller** dialog box, type *TriviaController* in the **Controller name** text box and click **Add**.</span></span>

    <span data-ttu-id="95783-227">![Meraklısına Notlar denetleyicisi ekleme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image8.png "Trivia denetleyici ekleme")</span><span class="sxs-lookup"><span data-stu-id="95783-227">![Adding the Trivia Controller](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image8.png "Adding the Trivia Controller")</span></span>

    *<span data-ttu-id="95783-228">Meraklısına Notlar denetleyici ekleme</span><span class="sxs-lookup"><span data-stu-id="95783-228">Adding the Trivia Controller</span></span>*
7. <span data-ttu-id="95783-229">**TriviaController.cs** dosya eklenen ardından **denetleyicileri** klasörü **GeekQuiz** içeren boş bir proje, **TriviaController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-229">The **TriviaController.cs** file is then added to the **Controllers** folder of the **GeekQuiz** project, containing an empty **TriviaController** class.</span></span> <span data-ttu-id="95783-230">Aşağıdaki using deyimlerini dosyanın başında.</span><span class="sxs-lookup"><span data-stu-id="95783-230">Add the following using statements at the beginning of the file.</span></span>

    <span data-ttu-id="95783-231">(Kod parçacığını - *AspNetWebApiSpa - Ex1 - TriviaControllerUsings*)</span><span class="sxs-lookup"><span data-stu-id="95783-231">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerUsings*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample9.cs)]
8. <span data-ttu-id="95783-232">Başında aşağıdaki kodu ekleyin **TriviaController** tanımlayın, başlatmak ve silmek için sınıf **TriviaContext** denetleyici örneği.</span><span class="sxs-lookup"><span data-stu-id="95783-232">Add the following code at the beginning of the **TriviaController** class to define, initialize and dispose the **TriviaContext** instance in the controller.</span></span>

    <span data-ttu-id="95783-233">(Kod parçacığını - *AspNetWebApiSpa - Ex1 - TriviaControllerContext*)</span><span class="sxs-lookup"><span data-stu-id="95783-233">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerContext*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample10.cs)]

    > [!NOTE]
    > <span data-ttu-id="95783-234">**Dispose** yöntemi **TriviaController** çağırır **Dispose** yöntemi **TriviaContext** sağlar örneği, tüm bağlam nesnesi tarafından kullanılan kaynakları serbest olduğunda **TriviaContext** örneği atıldı veya atık olarak toplanmış.</span><span class="sxs-lookup"><span data-stu-id="95783-234">The **Dispose** method of **TriviaController** invokes the **Dispose** method of the **TriviaContext** instance, which ensures that all the resources used by the context object are released when the **TriviaContext** instance is disposed or garbage-collected.</span></span> <span data-ttu-id="95783-235">Bu, Entity Framework tarafından açılmış olan tüm veritabanı bağlantıları kapatarak içerir.</span><span class="sxs-lookup"><span data-stu-id="95783-235">This includes closing all database connections opened by Entity Framework.</span></span>
9. <span data-ttu-id="95783-236">Aşağıdaki yardımcı yöntemini sonuna ekleyin **TriviaController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-236">Add the following helper method at the end of the **TriviaController** class.</span></span> <span data-ttu-id="95783-237">Bu yöntem aşağıdaki test soru belirtilen kullanıcı tarafından yanıtlanması gereken veritabanından alır.</span><span class="sxs-lookup"><span data-stu-id="95783-237">This method retrieves the following quiz question from the database to be answered by the specified user.</span></span>

    <span data-ttu-id="95783-238">(Kod parçacığını - *AspNetWebApiSpa - Ex1 - TriviaControllerNextQuestion*)</span><span class="sxs-lookup"><span data-stu-id="95783-238">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerNextQuestion*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample11.cs)]
10. <span data-ttu-id="95783-239">Aşağıdaki **alma** eylem yöntemine **TriviaController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-239">Add the following **Get** action method to the **TriviaController** class.</span></span> <span data-ttu-id="95783-240">Bu eylem yöntemini çağırır **NextQuestionAsync** kimliği doğrulanmış kullanıcı için bir sonraki soruya almak için önceki adımda tanımlanan yardımcı yöntemi.</span><span class="sxs-lookup"><span data-stu-id="95783-240">This action method calls the **NextQuestionAsync** helper method defined in the previous step to retrieve the next question for the authenticated user.</span></span>

    <span data-ttu-id="95783-241">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerGetAction*)</span><span class="sxs-lookup"><span data-stu-id="95783-241">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerGetAction*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample12.cs)]
11. <span data-ttu-id="95783-242">Aşağıdaki yardımcı yöntemini sonuna ekleyin **TriviaController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-242">Add the following helper method at the end of the **TriviaController** class.</span></span> <span data-ttu-id="95783-243">Bu yöntem, belirtilen yanıt veritabanında depolar ve yanıt doğru olup olmadığını belirten bir Boole değeri döndürür.</span><span class="sxs-lookup"><span data-stu-id="95783-243">This method stores the specified answer in the database and returns a Boolean value indicating whether or not the answer is correct.</span></span>

    <span data-ttu-id="95783-244">(Kod parçacığını - *AspNetWebApiSpa - Ex1 - TriviaControllerStoreAsync*)</span><span class="sxs-lookup"><span data-stu-id="95783-244">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerStoreAsync*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample13.cs)]
12. <span data-ttu-id="95783-245">Aşağıdaki **Post** eylem yöntemine **TriviaController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-245">Add the following **Post** action method to the **TriviaController** class.</span></span> <span data-ttu-id="95783-246">Bu eylem yöntemini çağırır ve kimliği doğrulanmış kullanıcı yanıtı ilişkilendirir **StoreAsync** yardımcı yöntemi.</span><span class="sxs-lookup"><span data-stu-id="95783-246">This action method associates the answer to the authenticated user and calls the **StoreAsync** helper method.</span></span> <span data-ttu-id="95783-247">Ardından, yardımcı yöntemi tarafından döndürülen bir Boole değeri ile bir yanıt gönderir.</span><span class="sxs-lookup"><span data-stu-id="95783-247">Then, it sends a response with the Boolean value returned by the helper method.</span></span>

    <span data-ttu-id="95783-248">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerPostAction*)</span><span class="sxs-lookup"><span data-stu-id="95783-248">(Code Snippet - *AspNetWebApiSpa - Ex1 - TriviaControllerPostAction*)</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample14.cs)]
13. <span data-ttu-id="95783-249">Web API denetleyicisi ekleyerek, kimliği doğrulanmış kullanıcılara erişimi kısıtlamak için değiştirme **Authorize** özniteliğini **TriviaController** sınıf tanımını.</span><span class="sxs-lookup"><span data-stu-id="95783-249">Modify the Web API controller to restrict access to authenticated users by adding the **Authorize** attribute to the **TriviaController** class definition.</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample15.cs)]

<a id="Ex1Task3"></a>
#### <a name="task-3--running-the-solution"></a><span data-ttu-id="95783-250">Görev 3: çözümü çalıştırma</span><span class="sxs-lookup"><span data-stu-id="95783-250">Task 3 – Running the Solution</span></span>

<span data-ttu-id="95783-251">Bu görevde, önceki görevde oluşturduğunuz Web API'si hizmeti beklendiği gibi çalıştığını doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="95783-251">In this task you will verify that the Web API service you built in the previous task is working as expected.</span></span> <span data-ttu-id="95783-252">Internet Explorer'ı kullanacağı **F12 Geliştirici araçlarıyla** ağ trafiğini yakalamak ve Web API'si hizmeti gelen tam yanıtı inceleyin.</span><span class="sxs-lookup"><span data-stu-id="95783-252">You will use the Internet Explorer **F12 Developer Tools** to capture the network traffic and inspect the full response from the Web API service.</span></span>

> [!NOTE]
> <span data-ttu-id="95783-253">Emin olun **Internet Explorer** seçili **Başlat** düğmesi Visual Studio araç çubuğunda yer alan.</span><span class="sxs-lookup"><span data-stu-id="95783-253">Make sure that **Internet Explorer** is selected in the **Start** button located on the Visual Studio toolbar.</span></span>
> 
> ![Internet Explorer seçeneği](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image9.png)


1. <span data-ttu-id="95783-255">Tuşuna **F5** çözümü çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="95783-255">Press **F5** to run the solution.</span></span> <span data-ttu-id="95783-256">**Oturum** sayfası, tarayıcıda görüntülenmelidir.</span><span class="sxs-lookup"><span data-stu-id="95783-256">The **Log in** page should appear in the browser.</span></span>

    > [!NOTE]
    > <span data-ttu-id="95783-257">Uygulama başladığında, varsayılan MVC yönlendirme, varsayılan olarak eşleştirilir tetiklenir **dizin** eylemi **HomeController** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-257">When the application starts, the default MVC route is triggered, which by default is mapped to the **Index** action of the **HomeController** class.</span></span> <span data-ttu-id="95783-258">Bu yana **HomeController** kimliği doğrulanmış kullanıcılara kısıtlıdır (Bu sınıf ile donatılmış unutmayın **Authorize** alıştırma 1'özniteliği) ve kimliği doğrulanmış bir kullanıcı henüz uygulama yok özgün istek oturum açma sayfasında yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="95783-258">Since **HomeController** is restricted to authenticated users (remember that you decorated that class with the **Authorize** attribute in Exercise 1) and there is no user authenticated yet, the application redirects the original request to the log in page.</span></span>

    <span data-ttu-id="95783-259">![Çözüm çalıştırılmadan](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image10.png "çözümü çalıştırma")</span><span class="sxs-lookup"><span data-stu-id="95783-259">![Running the solution](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image10.png "Running the solution")</span></span>

    *<span data-ttu-id="95783-260">Çözüm çalıştırma</span><span class="sxs-lookup"><span data-stu-id="95783-260">Running the solution</span></span>*
2. <span data-ttu-id="95783-261">Tıklayın **kaydetme** yeni bir kullanıcı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="95783-261">Click **Register** to create a new user.</span></span>

    <span data-ttu-id="95783-262">![Yeni bir kullanıcı kaydetme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image11.png "yeni bir kullanıcı kaydetme")</span><span class="sxs-lookup"><span data-stu-id="95783-262">![Registering a new user](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image11.png "Registering a new user")</span></span>

    *<span data-ttu-id="95783-263">Yeni bir kullanıcı kaydetme</span><span class="sxs-lookup"><span data-stu-id="95783-263">Registering a new user</span></span>*
3. <span data-ttu-id="95783-264">İçinde **kaydetme** want bir **kullanıcı adı** ve **parola**ve ardından **kaydetme**.</span><span class="sxs-lookup"><span data-stu-id="95783-264">In the **Register** page, enter a **User name** and **Password**, and then click **Register**.</span></span>

    <span data-ttu-id="95783-265">![Kayıt sayfası](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image12.png "kayıt sayfası")</span><span class="sxs-lookup"><span data-stu-id="95783-265">![Register page](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image12.png "Register page")</span></span>

    *<span data-ttu-id="95783-266">Kayıt sayfası</span><span class="sxs-lookup"><span data-stu-id="95783-266">Register page</span></span>*
4. <span data-ttu-id="95783-267">Uygulama, yeni hesabı kaydeder ve kullanıcı kimlik doğrulaması ve giriş sayfasına yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-267">The application registers the new account and the user is authenticated and redirected back to the home page.</span></span>

    <span data-ttu-id="95783-268">![Kullanıcının kimliği doğrulanır](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image13.png "kimliği doğrulanmış kullanıcı")</span><span class="sxs-lookup"><span data-stu-id="95783-268">![User is authenticated](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image13.png "User authenticated")</span></span>

    *<span data-ttu-id="95783-269">Kullanıcının kimliği doğrulanır</span><span class="sxs-lookup"><span data-stu-id="95783-269">User is authenticated</span></span>*
5. <span data-ttu-id="95783-270">Tarayıcıda basın **F12** açmak için **Geliştirici Araçları** paneli.</span><span class="sxs-lookup"><span data-stu-id="95783-270">In the browser, press **F12** to open the **Developer Tools** panel.</span></span> <span data-ttu-id="95783-271">Tuşuna **CTRL + 4** veya **ağ** simgesine ve ardından ağ trafiğini yakalamaktan başlamak için yeşil ok düğmesi.</span><span class="sxs-lookup"><span data-stu-id="95783-271">Press **CTRL + 4** or click the **Network** icon, and then click the green arrow button to begin capturing network traffic.</span></span>

    <span data-ttu-id="95783-272">![Web API ağ yakalama başlatma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image14.png "başlatma Web API ağ yakalama")</span><span class="sxs-lookup"><span data-stu-id="95783-272">![Initiating Web API network capture](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image14.png "Initiating Web API network capture")</span></span>

    *<span data-ttu-id="95783-273">Web API ağ yakalama başlatılıyor</span><span class="sxs-lookup"><span data-stu-id="95783-273">Initiating Web API network capture</span></span>*
6. <span data-ttu-id="95783-274">Append **API/trivia** tarayıcının adres çubuğundaki URL.</span><span class="sxs-lookup"><span data-stu-id="95783-274">Append **api/trivia** to the URL in the browser's address bar.</span></span> <span data-ttu-id="95783-275">Şimdi gelen yanıt ayrıntılarını inceleyeceksiniz **alma** eylem yönteminde **TriviaController**.</span><span class="sxs-lookup"><span data-stu-id="95783-275">You will now inspect the details of the response from the **Get** action method in **TriviaController**.</span></span>

    <span data-ttu-id="95783-276">![Web API aracılığıyla bir sonraki soruya veri alma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image15.png "Web API aracılığıyla bir sonraki soruya veri alma")</span><span class="sxs-lookup"><span data-stu-id="95783-276">![Retrieving the next question data through Web API](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image15.png "Retrieving the next question data through Web API")</span></span>

    *<span data-ttu-id="95783-277">Web API aracılığıyla bir sonraki soruya veri alma</span><span class="sxs-lookup"><span data-stu-id="95783-277">Retrieving the next question data through Web API</span></span>*

    > [!NOTE]
    > <span data-ttu-id="95783-278">İndirme tamamlandıktan sonra indirilen dosya ile bir eylem yapmanız istenir.</span><span class="sxs-lookup"><span data-stu-id="95783-278">Once the download finishes, you will be prompted to make an action with the downloaded file.</span></span> <span data-ttu-id="95783-279">İletişim kutusu, yanıt içeriği geliştiriciler araç penceresi aracılığıyla izlemek için açık bırakın.</span><span class="sxs-lookup"><span data-stu-id="95783-279">Leave the dialog box open in order to be able to watch the response content through the Developers Tool window.</span></span>
7. <span data-ttu-id="95783-280">Artık yanıt gövdesinin inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-280">Now you will inspect the body of the response.</span></span> <span data-ttu-id="95783-281">Bunu yapmak için tıklatın **ayrıntıları** sekmesine ve ardından **yanıt gövdesi**.</span><span class="sxs-lookup"><span data-stu-id="95783-281">To do this, click the **Details** tab and then click **Response body**.</span></span> <span data-ttu-id="95783-282">İndirilen verilerin özelliklerini içeren bir nesne olup olmadığını kontrol edebilirsiniz **seçenekleri** (listesi olduğu **TriviaOption** nesneleri), **kimliği** ve **başlığı** karşılık gelen için **TriviaQuestion** sınıfı.</span><span class="sxs-lookup"><span data-stu-id="95783-282">You can check that the downloaded data is an object with the properties **options** (which is a list of **TriviaOption** objects), **id** and **title** that correspond to the **TriviaQuestion** class.</span></span>

    <span data-ttu-id="95783-283">![Web API yanıt gövdesi görüntüleme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image16.png "Web API yanıt gövdesi görüntüleme")</span><span class="sxs-lookup"><span data-stu-id="95783-283">![Viewing the Web API Response Body](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image16.png "Viewing the Web API Response Body")</span></span>

    *<span data-ttu-id="95783-284">Web API yanıt gövdesi görüntüleme</span><span class="sxs-lookup"><span data-stu-id="95783-284">Viewing Web API Response Body</span></span>*
8. <span data-ttu-id="95783-285">Geri Git Visual Studio ve ENTER tuşuna **SHIFT + F5 tuşlarına basarak** hata ayıklamayı durdurmak için.</span><span class="sxs-lookup"><span data-stu-id="95783-285">Go back to Visual Studio and press **SHIFT + F5** to stop debugging.</span></span>

<a id="Exercise2"></a>
### <a name="exercise-2-creating-the-spa-interface"></a><span data-ttu-id="95783-286">Alıştırma 2: SPA arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-286">Exercise 2: Creating the SPA Interface</span></span>

<span data-ttu-id="95783-287">Bu alıştırmada, ilk web ön uç kısmı Geek test, kullanarak tek sayfalı uygulama etkileşimi odaklanarak oluşturacağınız **AngularJS**.</span><span class="sxs-lookup"><span data-stu-id="95783-287">In this exercise you will first build the web front-end portion of Geek Quiz, focusing on the Single-Page Application interaction using **AngularJS**.</span></span> <span data-ttu-id="95783-288">Ardından, bir soru diğerine geçiş yaparken geçiş içeriğinin bir görsel efekt zengin animasyonlar gerçekleştirmek ve CSS3 ile kullanıcı deneyimi de ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-288">You will then enhance the user experience with CSS3 to perform rich animations and provide a visual effect of context switching when transitioning from one question to the next.</span></span>

<a id="Ex2Task1"></a>
#### <a name="task-1--creating-the-spa-interface-using-angularjs"></a><span data-ttu-id="95783-289">Görev 1 – kullanılarak AngularJS SPA arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-289">Task 1 – Creating the SPA Interface Using AngularJS</span></span>

<span data-ttu-id="95783-290">Bu görevde kullanacağınız **AngularJS** Geek test uygulama istemci tarafında uygulamak için.</span><span class="sxs-lookup"><span data-stu-id="95783-290">In this task you will use **AngularJS** to implement the client side of the Geek Quiz application.</span></span> <span data-ttu-id="95783-291">**AngularJS** tarayıcı tabanlı uygulamalar ile çoğaltan bir açık kaynak JavaScript çerçevesi *Model-View-Controller* etkinleştirme hem geliştirme ve test etme (MVC) özelliği.</span><span class="sxs-lookup"><span data-stu-id="95783-291">**AngularJS** is an open-source JavaScript framework that augments browser-based applications with *Model-View-Controller* (MVC) capability, facilitating both development and testing.</span></span>

<span data-ttu-id="95783-292">Visual Studio Paket Yöneticisi konsolundan AngularJS yükleyerek başlar.</span><span class="sxs-lookup"><span data-stu-id="95783-292">You will start by installing AngularJS from Visual Studio's Package Manager Console.</span></span> <span data-ttu-id="95783-293">Ardından, Geek test uygulama sınav sorularını ve yanıtlarını AngularJS şablon altyapısı kullanılarak işlenecek görünümü ve davranışı sağlamak için denetleyici oluşturur.</span><span class="sxs-lookup"><span data-stu-id="95783-293">Then, you will create the controller to provide the behavior of the Geek Quiz app and the view to render the quiz questions and answers using the AngularJS template engine.</span></span>

> [!NOTE]
> <span data-ttu-id="95783-294">AngularJS hakkında daha fazla bilgi için [ [ http://angularjs.org/ ](http://angularjs.org/) ](http://angularjs.org/).</span><span class="sxs-lookup"><span data-stu-id="95783-294">For more information about AngularJS, refer to [[http://angularjs.org/](http://angularjs.org/)](http://angularjs.org/).</span></span>


1. <span data-ttu-id="95783-295">Açık **Visual Studio Express 2013 Web** açın **GeekQuiz.sln** çözüm bulunan **kaynak/Ex2-CreatingASPAInterface/başlangıcı** klasör.</span><span class="sxs-lookup"><span data-stu-id="95783-295">Open **Visual Studio Express 2013 for Web** and open the **GeekQuiz.sln** solution located in the **Source/Ex2-CreatingASPAInterface/Begin** folder.</span></span> <span data-ttu-id="95783-296">Alternatif olarak, önceki alıştırmada aldığınız çözümüyle devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-296">Alternatively, you can continue with the solution that you obtained in the previous exercise.</span></span>
2. <span data-ttu-id="95783-297">Açık **Paket Yöneticisi Konsolu** gelen **Araçları** > **NuGet Paket Yöneticisi**.</span><span class="sxs-lookup"><span data-stu-id="95783-297">Open the **Package Manager Console** from **Tools** > **NuGet Package Manager**.</span></span> <span data-ttu-id="95783-298">Yüklemek için aşağıdaki komutu yazın **AngularJS.Core** NuGet paketi.</span><span class="sxs-lookup"><span data-stu-id="95783-298">Type the following command to install the **AngularJS.Core** NuGet package.</span></span>

    [!code-powershell[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample16.ps1)]
3. <span data-ttu-id="95783-299">İçinde **Çözüm Gezgini**, sağ **betikleri** klasörü **GeekQuiz** seçin ve proje **Ekle | Yeni klasör**.</span><span class="sxs-lookup"><span data-stu-id="95783-299">In **Solution Explorer**, right-click the **Scripts** folder of the **GeekQuiz** project and select **Add | New Folder**.</span></span> <span data-ttu-id="95783-300">Klasör adı **uygulama** basın **Enter**.</span><span class="sxs-lookup"><span data-stu-id="95783-300">Name the folder **app** and press **Enter**.</span></span>
4. <span data-ttu-id="95783-301">Sağ **uygulama** az önce oluşturduğunuz ve seçin klasör **Ekle | JavaScript dosyası**.</span><span class="sxs-lookup"><span data-stu-id="95783-301">Right-click the **app** folder you just created and select **Add | JavaScript File**.</span></span>

    ![Yeni bir JavaScript dosyası oluşturma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image17.png)

    *<span data-ttu-id="95783-303">Yeni bir JavaScript dosyası oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-303">Creating a new JavaScript file</span></span>*
5. <span data-ttu-id="95783-304">İçinde **öğe için ad belirtmek** iletişim kutusuna *test denetleyicisi* içinde **öğe adı** metin kutusu ve tıklatın **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="95783-304">In the **Specify Name for Item** dialog box, type *quiz-controller* in the **Item name** text box and click **OK**.</span></span>

    ![Yeni bir JavaScript dosyası adlandırma](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image18.png)

    *<span data-ttu-id="95783-306">Yeni bir JavaScript dosyası adlandırma</span><span class="sxs-lookup"><span data-stu-id="95783-306">Naming the new JavaScript file</span></span>*
6. <span data-ttu-id="95783-307">İçinde **test controller.js** bildirmek ve AngularJS başlatmak için aşağıdaki kodu ekleyin **QuizCtrl** denetleyicisi.</span><span class="sxs-lookup"><span data-stu-id="95783-307">In the **quiz-controller.js** file, add the following code to declare and initialize the AngularJS **QuizCtrl** controller.</span></span>

    <span data-ttu-id="95783-308">(Kod parçacığını - *AspNetWebApiSpa - Ex2 - AngularQuizController*)</span><span class="sxs-lookup"><span data-stu-id="95783-308">(Code Snippet - *AspNetWebApiSpa - Ex2 - AngularQuizController*)</span></span>

    [!code-javascript[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample17.js)]

    > [!NOTE]
    > <span data-ttu-id="95783-309">Oluşturucu işlevi **QuizCtrl** denetleyicisi adlı injectable bir parametre bekliyor **$scope**.</span><span class="sxs-lookup"><span data-stu-id="95783-309">The constructor function of the **QuizCtrl** controller expects an injectable parameter named **$scope**.</span></span> <span data-ttu-id="95783-310">Kapsamı yapının başlangıç durumunun Oluşturucusu işlev özellikleri ekleyerek ayarlanması gereken **$scope** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-310">The initial state of the scope should be set up in the constructor function by attaching properties to the **$scope** object.</span></span> <span data-ttu-id="95783-311">Özellikleri içeren **görünüm modeli**ve denetleyiciye kaydedildiğinde şablona erişilebilir olacaktır.</span><span class="sxs-lookup"><span data-stu-id="95783-311">The properties contain the **view model**, and will be accessible to the template when the controller is registered.</span></span>
    > 
    > <span data-ttu-id="95783-312">**QuizCtrl** denetleyicisi adlı bir modül içinde tanımlanan **QuizApp**.</span><span class="sxs-lookup"><span data-stu-id="95783-312">The **QuizCtrl** controller is defined inside a module named **QuizApp**.</span></span> <span data-ttu-id="95783-313">Olanak tanıyan iş birimleri, uygulamanızın ayrı bileşenlere ayırmak modüllerdir.</span><span class="sxs-lookup"><span data-stu-id="95783-313">Modules are units of work that let you break your application into separate components.</span></span> <span data-ttu-id="95783-314">Modüller kullanmanın başlıca avantajlarından kod anlamak daha kolay olur ve birim testi, kullanılabilirlik ve bakımı kolaylaştıran olur.</span><span class="sxs-lookup"><span data-stu-id="95783-314">The main advantages of using modules is that the code is easier to understand and facilitates unit testing, reusability and maintainability.</span></span>
7. <span data-ttu-id="95783-315">Görünümden tetiklenen olaylara tepki vermek için kapsama davranış artık ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-315">You will now add behavior to the scope in order to react to events triggered from the view.</span></span> <span data-ttu-id="95783-316">Sonuna aşağıdaki kodu ekleyin **QuizCtrl** tanımlamak için denetleyici **nextQuestion** işlevi **$scope** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-316">Add the following code at the end of the **QuizCtrl** controller to define the **nextQuestion** function in the **$scope** object.</span></span>

    <span data-ttu-id="95783-317">(Kod parçacığını - *AspNetWebApiSpa - Ex2 - AngularQuizControllerNextQuestion*)</span><span class="sxs-lookup"><span data-stu-id="95783-317">(Code Snippet - *AspNetWebApiSpa - Ex2 - AngularQuizControllerNextQuestion*)</span></span>

    [!code-javascript[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample18.js)]

    > [!NOTE]
    > <span data-ttu-id="95783-318">Bu işlev öğesinden sonraki soruya alır **Meraklısına Notlar** Web API'si önceki alıştırmada oluşturulan ve soru veri ekler **$scope** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-318">This function retrieves the next question from the **Trivia** Web API created in the previous exercise and attaches the question data to the **$scope** object.</span></span>
8. <span data-ttu-id="95783-319">Sonuna aşağıdaki kodu ekleyin **QuizCtrl** tanımlamak için denetleyici **sendAnswer** işlevi **$scope** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-319">Insert the following code at the end of the **QuizCtrl** controller to define the **sendAnswer** function in the **$scope** object.</span></span>

    <span data-ttu-id="95783-320">(Kod parçacığını - *AspNetWebApiSpa - Ex2 - AngularQuizControllerSendAnswer*)</span><span class="sxs-lookup"><span data-stu-id="95783-320">(Code Snippet - *AspNetWebApiSpa - Ex2 - AngularQuizControllerSendAnswer*)</span></span>

    [!code-javascript[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample19.js)]

    > [!NOTE]
    > <span data-ttu-id="95783-321">Bu işlev için kullanıcı tarafından seçilen bir yanıt gönderir **Meraklısına Notlar** Web API ve sonucu – örneğin yanıt doğru değilse veya – depolar **$scope** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-321">This function sends the answer selected by the user to the **Trivia** Web API and stores the result –i.e. if the answer is correct or not– in the **$scope** object.</span></span>
    > 
    > <span data-ttu-id="95783-322">**NextQuestion** ve **sendAnswer** yukarıdaki işlevlerini AngularJS kullanan **$http** XMLHttpRequest aracılığıyla Web API'si ile iletişimi soyutlamak için nesne Tarayıcıda JavaScript nesnesi.</span><span class="sxs-lookup"><span data-stu-id="95783-322">The **nextQuestion** and **sendAnswer** functions from above use the AngularJS **$http** object to abstract the communication with the Web API via the XMLHttpRequest JavaScript object from the browser.</span></span> <span data-ttu-id="95783-323">AngularJS soyutlama RESTful API'ler aracılığıyla bir kaynağa karşı bir CRUD işlemleri gerçekleştirmek için yüksek seviyede getiren başka bir hizmete destekler.</span><span class="sxs-lookup"><span data-stu-id="95783-323">AngularJS supports another service that brings a higher level of abstraction to perform CRUD operations against a resource through RESTful APIs.</span></span> <span data-ttu-id="95783-324">AngularJS **$resource** nesne ile etkileşime gerek kalmadan üst düzey davranışları sağlayan eylem yöntemlerine sahip **$http** nesne.</span><span class="sxs-lookup"><span data-stu-id="95783-324">The AngularJS **$resource** object has action methods which provide high-level behaviors without the need to interact with the **$http** object.</span></span> <span data-ttu-id="95783-325">Kullanmayı göz önünde bulundurun **$resource** CRUD modelin gerektirdiği nesne senaryolarda (fore bilgi bkz [$resource belgeleri](https://docs.angularjs.org/api/ngResource/service/$resource)).</span><span class="sxs-lookup"><span data-stu-id="95783-325">Consider using the **$resource** object in scenarios that requires the CRUD model (fore information, see the [$resource documentation](https://docs.angularjs.org/api/ngResource/service/$resource)).</span></span>
9. <span data-ttu-id="95783-326">Sonraki adım, sınavı görünümünü tanımlayan AngularJS şablonu oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="95783-326">The next step is to create the AngularJS template that defines the view for the quiz.</span></span> <span data-ttu-id="95783-327">Bunu yapmak için açık **Index.cshtml** içinde dosya **görünümleri | Giriş** klasörü ve içeriğini aşağıdaki kodla değiştirin.</span><span class="sxs-lookup"><span data-stu-id="95783-327">To do this, open the **Index.cshtml** file inside the **Views | Home** folder and replace the content with the following code.</span></span>

    <span data-ttu-id="95783-328">(Kod parçacığını - *AspNetWebApiSpa - Ex2 - GeekQuizView*)</span><span class="sxs-lookup"><span data-stu-id="95783-328">(Code Snippet - *AspNetWebApiSpa - Ex2 - GeekQuizView*)</span></span>

    [!code-cshtml[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample20.cshtml)]

    > [!NOTE]
    > <span data-ttu-id="95783-329">AngularJS, model ve denetleyici bilgilerinden tarayıcıda kullanıcının gördüğü dinamik görünüm static işaretleme dönüştürmek için kullandığı bir bildirim temelli belirtimi şablonudur.</span><span class="sxs-lookup"><span data-stu-id="95783-329">The AngularJS template is a declarative specification that uses information from the model and the controller to transform static markup into the dynamic view that the user sees in the browser.</span></span> <span data-ttu-id="95783-330">AngularJS öğeleri ve şablonda kullanılabilir öğesi özniteliklerinin örnekleri aşağıda verilmiştir:</span><span class="sxs-lookup"><span data-stu-id="95783-330">The following are examples of AngularJS elements and element attributes that can be used in a template:</span></span>
    > 
    > - <span data-ttu-id="95783-331">**Ng-app** yönergesi, uygulama kök öğesini temsil eden DOM öğesi AngularJS söyler.</span><span class="sxs-lookup"><span data-stu-id="95783-331">The **ng-app** directive tells AngularJS the DOM element that represents the root element of the application.</span></span>
    > - <span data-ttu-id="95783-332">**Ng-controller** yönergesi bir denetleyici burada yönergesi bildirilmiş bir noktada DOM ekler.</span><span class="sxs-lookup"><span data-stu-id="95783-332">The **ng-controller** directive attaches a controller to the DOM at the point where the directive is declared.</span></span>
    > - <span data-ttu-id="95783-333">Küme ayracı gösterimi **{{}}** denetleyicide tanımlanan kapsam özellikleri için bağlamaları belirtir.</span><span class="sxs-lookup"><span data-stu-id="95783-333">The curly brace notation **{{ }}** denotes bindings to the scope properties defined in the controller.</span></span>
    > - <span data-ttu-id="95783-334">**Ng tıklamayla** yönergesi kullanıcı tıklamalara yanıt kapsamında tanımlanan işlevleri çağırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="95783-334">The **ng-click** directive is used to invoke the functions defined in the scope in response to user clicks.</span></span>
10. <span data-ttu-id="95783-335">Açık **Site.css** içinde dosya **içerik** klasörü ve aşağıdaki vurgulanan stilleri test görünümü için bir görünüm sağlamak için dosyanın sonuna ekleyin.</span><span class="sxs-lookup"><span data-stu-id="95783-335">Open the **Site.css** file inside the **Content** folder and add the following highlighted styles at the end of the file to provide a look and feel for the quiz view.</span></span>

    <span data-ttu-id="95783-336">(Kod parçacığını - *AspNetWebApiSpa - Ex2 - GeekQuizStyles*)</span><span class="sxs-lookup"><span data-stu-id="95783-336">(Code Snippet - *AspNetWebApiSpa - Ex2 - GeekQuizStyles*)</span></span>

    [!code-css[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample21.css)]

<a id="Ex2Task2"></a>
#### <a name="task-2--running-the-solution"></a><span data-ttu-id="95783-337">Görev 2 – çözümü çalıştırma</span><span class="sxs-lookup"><span data-stu-id="95783-337">Task 2 – Running the Solution</span></span>

<span data-ttu-id="95783-338">Bu görevde, yürütecek çözümü kullanarak yeni kullanıcı arabirimi test sorulara yanıt AngularJS derlediğiniz.</span><span class="sxs-lookup"><span data-stu-id="95783-338">In this task you will execute the solution using the new user interface you built with AngularJS to answer some of the quiz questions.</span></span>

1. <span data-ttu-id="95783-339">Tuşuna **F5** çözümü çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="95783-339">Press **F5** to run the solution.</span></span>
2. <span data-ttu-id="95783-340">Yeni bir kullanıcı hesabına kaydolun.</span><span class="sxs-lookup"><span data-stu-id="95783-340">Register a new user account.</span></span> <span data-ttu-id="95783-341">Bunu yapmak için görev 3 alıştırma 1'de açıklanan kayıt adımları izleyin.</span><span class="sxs-lookup"><span data-stu-id="95783-341">To do this, follow the registration steps described in Exercise 1, Task 3.</span></span>

    > [!NOTE]
    > <span data-ttu-id="95783-342">Önceki alıştırmada çözümü kullanıyorsanız, daha önce oluşturduğunuz kullanıcı hesabıyla oturum açabilir.</span><span class="sxs-lookup"><span data-stu-id="95783-342">If you are using the solution from the previous exercise, you can log in with the user account you created before.</span></span>
3. <span data-ttu-id="95783-343">**Giriş** sayfası görüntülenmelidir, test ilk soru gösteriliyor.</span><span class="sxs-lookup"><span data-stu-id="95783-343">The **Home** page should appear, showing the first question of the quiz.</span></span> <span data-ttu-id="95783-344">Seçeneklerden birini tıklatarak soruyu yanıtlayın.</span><span class="sxs-lookup"><span data-stu-id="95783-344">Answer the question by clicking one of the options.</span></span> <span data-ttu-id="95783-345">Bu tetikleyecek **sendAnswer** gönderen seçili seçeneği, daha önce tanımlanan işlevi **Meraklısına Notlar** Web API'si.</span><span class="sxs-lookup"><span data-stu-id="95783-345">This will trigger the **sendAnswer** function defined earlier, which sends the selected option to the **Trivia** Web API.</span></span>

    <span data-ttu-id="95783-346">![Bir soruyu yanıtlarken](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image19.png "soru yanıtlama")</span><span class="sxs-lookup"><span data-stu-id="95783-346">![Answering a question](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image19.png "Answering a question")</span></span>

    *<span data-ttu-id="95783-347">Bir soru yanıtlama</span><span class="sxs-lookup"><span data-stu-id="95783-347">Answering a question</span></span>*
4. <span data-ttu-id="95783-348">Düğmelerden birine tıklandıktan sonra yanıt görüntülenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-348">After clicking one of the buttons, the answer should appear.</span></span> <span data-ttu-id="95783-349">Tıklayın **sonraki soruya** aşağıdaki soru gösterilecek.</span><span class="sxs-lookup"><span data-stu-id="95783-349">Click **Next Question** to show the following question.</span></span> <span data-ttu-id="95783-350">Bu tetikleyecek **nextQuestion** denetleyicide tanımlanan işlevi.</span><span class="sxs-lookup"><span data-stu-id="95783-350">This will trigger the **nextQuestion** function defined in the controller.</span></span>

    <span data-ttu-id="95783-351">![Sonraki soruya isteyen](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image20.png "sonraki soruya isteme")</span><span class="sxs-lookup"><span data-stu-id="95783-351">![Requesting the next question](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image20.png "Requesting the next question")</span></span>

    *<span data-ttu-id="95783-352">Sonraki soruya isteme</span><span class="sxs-lookup"><span data-stu-id="95783-352">Requesting the next question</span></span>*
5. <span data-ttu-id="95783-353">Sonraki soruya görüntülenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-353">The next question should appear.</span></span> <span data-ttu-id="95783-354">İstediğiniz gibi birçok kez soru yanıtlama devam edin.</span><span class="sxs-lookup"><span data-stu-id="95783-354">Continue answering questions as many times as you want.</span></span> <span data-ttu-id="95783-355">Tüm soruları tamamladıktan sonra ilk yanıtını döndürmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-355">After completing all the questions you should return to the first question.</span></span>

    <span data-ttu-id="95783-356">![Başka bir soru](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image21.png "başka bir soru")</span><span class="sxs-lookup"><span data-stu-id="95783-356">![Another question](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image21.png "Another question")</span></span>

    *<span data-ttu-id="95783-357">Sonraki Soru</span><span class="sxs-lookup"><span data-stu-id="95783-357">Next question</span></span>*
6. <span data-ttu-id="95783-358">Geri Git Visual Studio ve ENTER tuşuna **SHIFT + F5 tuşlarına basarak** hata ayıklamayı durdurmak için.</span><span class="sxs-lookup"><span data-stu-id="95783-358">Go back to Visual Studio and press **SHIFT + F5** to stop debugging.</span></span>

<a id="Ex2Task3"></a>
#### <a name="task-3--creating-a-flip-animation-using-css3"></a><span data-ttu-id="95783-359">Görev 3 – CSS3 kullanarak çevir bir animasyon oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-359">Task 3 – Creating a Flip Animation Using CSS3</span></span>

<span data-ttu-id="95783-360">Bu görevde CSS3 özellikleri zengin animasyonlar Çevir etkili bir soru yanıtlandığında ve sonraki soruya alındığında ekleyerek gerçekleştirmek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="95783-360">In this task you will use CSS3 properties to perform rich animations by adding a flip effect when a question is answered and when the next question is retrieved.</span></span>

1. <span data-ttu-id="95783-361">İçinde **Çözüm Gezgini**, sağ **içerik** klasörü **GeekQuiz** seçin ve proje **Ekle | Mevcut öğe...** .</span><span class="sxs-lookup"><span data-stu-id="95783-361">In **Solution Explorer**, right-click the **Content** folder of the **GeekQuiz** project and select **Add | Existing Item...**.</span></span>

    <span data-ttu-id="95783-362">![Var olan bir öğe için içerik klasörünü ekleme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image22.png "içerik klasörüne var olan öğe ekleme")</span><span class="sxs-lookup"><span data-stu-id="95783-362">![Adding an existing item to the Content folder](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image22.png "Adding an existing item to the Content folder")</span></span>

    *<span data-ttu-id="95783-363">İçerik klasörüne var olan öğe ekleme</span><span class="sxs-lookup"><span data-stu-id="95783-363">Adding an existing item to the Content folder</span></span>*
2. <span data-ttu-id="95783-364">İçinde **Varolan Öğe Ekle** iletişim kutusunda, gitmek **kaynak/varlıklar** klasörü ve select **Flip.css**.</span><span class="sxs-lookup"><span data-stu-id="95783-364">In the **Add Existing Item** dialog box, navigate to the **Source/Assets** folder and select **Flip.css**.</span></span> <span data-ttu-id="95783-365">**Ekle**'yi tıklatın.</span><span class="sxs-lookup"><span data-stu-id="95783-365">Click **Add**.</span></span>

    <span data-ttu-id="95783-366">![Varlıklarından Flip.css dosya ekleme](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image23.png "varlıklarından Flip.css dosya ekleme")</span><span class="sxs-lookup"><span data-stu-id="95783-366">![Adding the Flip.css file from Assets](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image23.png "Adding the Flip.css file from Assets")</span></span>

    *<span data-ttu-id="95783-367">Varlıklarından Flip.css dosya ekleme</span><span class="sxs-lookup"><span data-stu-id="95783-367">Adding the Flip.css file from Assets</span></span>*
3. <span data-ttu-id="95783-368">Açık **Flip.css** eklemiş dosya ve içeriğini inceleyin.</span><span class="sxs-lookup"><span data-stu-id="95783-368">Open the **Flip.css** file you just added and inspect its content.</span></span>
4. <span data-ttu-id="95783-369">Bulun **ters çevirmek, dönüşümü** açıklaması.</span><span class="sxs-lookup"><span data-stu-id="95783-369">Locate the **flip transformation** comment.</span></span> <span data-ttu-id="95783-370">CSS stilleri açıklamanın aşağıda kullanan **perspektif** ve **rotateY** dönüşümler oluşturmak için bir &quot;kartı çevir&quot; efekt.</span><span class="sxs-lookup"><span data-stu-id="95783-370">The styles below that comment use the CSS **perspective** and **rotateY** transformations to generate a &quot;card flip&quot; effect.</span></span>

    [!code-css[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample22.css)]
5. <span data-ttu-id="95783-371">Bulun **Çevir sırasında arkasına Bölmesini Gizle** açıklaması.</span><span class="sxs-lookup"><span data-stu-id="95783-371">Locate the **hide back of pane during flip** comment.</span></span> <span data-ttu-id="95783-372">Ayarlayarak uzağa Görüntüleyicisi karşılaşıyorsanız, açıklamanın aşağıda stili dikdörtgenlerini arka tarafı gizler **arkayüz görünürlük** CSS özelliği *gizli*.</span><span class="sxs-lookup"><span data-stu-id="95783-372">The style below that comment hides the back-side of the faces when they are facing away from the viewer by setting the **backface-visibility** CSS property to *hidden*.</span></span>

    [!code-css[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample23.css)]
6. <span data-ttu-id="95783-373">Açık **BundleConfig.cs** içinde dosya **uygulama\_Başlat** klasörü ve referansı eklemek **Flip.css** dosyası **&quot;~/Content/css&quot;** stil paket</span><span class="sxs-lookup"><span data-stu-id="95783-373">Open the **BundleConfig.cs** file inside the **App\_Start** folder and add the reference to the **Flip.css** file in the **&quot;~/Content/css&quot;** style bundle</span></span>

    [!code-csharp[Main](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/samples/sample24.cs)]
7. <span data-ttu-id="95783-374">Tuşuna **F5** çözüm ve kimlik bilgilerinizle oturum çalıştırılacak.</span><span class="sxs-lookup"><span data-stu-id="95783-374">Press **F5** to run the solution and log in with your credentials.</span></span>
8. <span data-ttu-id="95783-375">Seçeneklerden birine tıklayarak soru yanıtlayın.</span><span class="sxs-lookup"><span data-stu-id="95783-375">Answer a question by clicking one of the options.</span></span> <span data-ttu-id="95783-376">Çevirme etkisi görünümler arasında geçiş yaparken dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="95783-376">Notice the flip effect when transitioning between views.</span></span>

    <span data-ttu-id="95783-377">![Çevirme etkisi olan bir soruyu yanıtlarken](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image24.png "Çevir etkisi olan soru yanıtlama")</span><span class="sxs-lookup"><span data-stu-id="95783-377">![Answering a question with the flip effect](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image24.png "Answering a question with the flip effect")</span></span>

    *<span data-ttu-id="95783-378">Çevirme etkisi olan soru yanıtlama</span><span class="sxs-lookup"><span data-stu-id="95783-378">Answering a question with the flip effect</span></span>*
9. <span data-ttu-id="95783-379">Tıklayın **sonraki soruya** aşağıdaki soru alınacak.</span><span class="sxs-lookup"><span data-stu-id="95783-379">Click **Next Question** to retrieve the following question.</span></span> <span data-ttu-id="95783-380">Çevirme etkisi yeniden görüntülenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="95783-380">The flip effect should appear again.</span></span>

    <span data-ttu-id="95783-381">![Aşağıdaki soru Çevir etkisi olan alınırken](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image25.png "Çevir etkisi olan aşağıdaki soru alınıyor")</span><span class="sxs-lookup"><span data-stu-id="95783-381">![Retrieving the following question with the flip effect](build-a-single-page-application-spa-with-aspnet-web-api-and-angularjs/_static/image25.png "Retrieving the following question with the flip effect")</span></span>

    *<span data-ttu-id="95783-382">Aşağıdaki soru Çevir etkisi olan alınıyor</span><span class="sxs-lookup"><span data-stu-id="95783-382">Retrieving the following question with the flip effect</span></span>*

---

<a id="Summary"></a>
## <a name="summary"></a><span data-ttu-id="95783-383">Özet</span><span class="sxs-lookup"><span data-stu-id="95783-383">Summary</span></span>

<span data-ttu-id="95783-384">Öğrendiğiniz Bu uygulamalı laboratuvarı tamamlayarak nasıl yapılır:</span><span class="sxs-lookup"><span data-stu-id="95783-384">By completing this hands-on lab you have learned how to:</span></span>

- <span data-ttu-id="95783-385">ASP.NET iskeleti oluşturma kullanarak bir ASP.NET Web API denetleyicisi oluşturma</span><span class="sxs-lookup"><span data-stu-id="95783-385">Create an ASP.NET Web API controller using ASP.NET Scaffolding</span></span>
- <span data-ttu-id="95783-386">Sonraki test soruya almak için bir Web API'sini kullanmaya başlamak eylemi gerçekleştir</span><span class="sxs-lookup"><span data-stu-id="95783-386">Implement a Web API Get action to retrieve the next quiz question</span></span>
- <span data-ttu-id="95783-387">Sınav yanıtlarını depolamak için bir Web API sonrası eylemi gerçekleştir</span><span class="sxs-lookup"><span data-stu-id="95783-387">Implement a Web API Post action to store the quiz answers</span></span>
- <span data-ttu-id="95783-388">AngularJS Visual Studio Paket Yöneticisi konsolundan yükleme</span><span class="sxs-lookup"><span data-stu-id="95783-388">Install AngularJS from the Visual Studio Package Manager Console</span></span>
- <span data-ttu-id="95783-389">AngularJS şablonları uygulamak ve denetleyiciler</span><span class="sxs-lookup"><span data-stu-id="95783-389">Implement AngularJS templates and controllers</span></span>
- <span data-ttu-id="95783-390">CSS3 geçişleri animasyon efektleri gerçekleştirmek için kullanın</span><span class="sxs-lookup"><span data-stu-id="95783-390">Use CSS3 transitions to perform animation effects</span></span>
