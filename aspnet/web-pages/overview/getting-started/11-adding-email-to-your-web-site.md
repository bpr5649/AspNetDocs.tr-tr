---
uid: web-pages/overview/getting-started/11-adding-email-to-your-web-site
title: ASP.NET Web Pages (Razor) sitesinden e-posta gönderme | Microsoft Docs
author: Rick-Anderson
description: Bu bölümde, bir Web sitesinden otomatikleştirilmiş bir e-posta iletisinin nasıl gönderileceği açıklanmaktadır.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: fc49bcb9-f1a9-4048-8c3f-b60951853200
msc.legacyurl: /web-pages/overview/getting-started/11-adding-email-to-your-web-site
msc.type: authoredcontent
ms.openlocfilehash: 23e9717329525fb5a0ed505c9dc94505d4f9dbbe
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78634717"
---
# <a name="sending-email-from-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="5f68a-103">ASP.NET Web Pages (Razor) sitesinden e-posta gönderme</span><span class="sxs-lookup"><span data-stu-id="5f68a-103">Sending Email from an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="5f68a-104">[Tom FitzMacken](https://github.com/tfitzmac) tarafından</span><span class="sxs-lookup"><span data-stu-id="5f68a-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="5f68a-105">Bu makalede, ASP.NET Web Pages (Razor) kullandığınızda bir Web sitesinden e-posta iletisinin nasıl gönderileceği açıklanır.</span><span class="sxs-lookup"><span data-stu-id="5f68a-105">This article explains how to send an email message from a website when you use ASP.NET Web Pages (Razor).</span></span>
> 
> <span data-ttu-id="5f68a-106">Öğrenecekleriniz:</span><span class="sxs-lookup"><span data-stu-id="5f68a-106">What you'll learn:</span></span>
> 
> - <span data-ttu-id="5f68a-107">Web siteinizden bir e-posta iletisi gönderme.</span><span class="sxs-lookup"><span data-stu-id="5f68a-107">How to send an email message from your website.</span></span>
> - <span data-ttu-id="5f68a-108">Bir e-posta iletisine dosya iliştirme.</span><span class="sxs-lookup"><span data-stu-id="5f68a-108">How to attach a file to an email message.</span></span>
> 
> <span data-ttu-id="5f68a-109">Bu, makalesinde sunulan ASP.NET özelliğidir:</span><span class="sxs-lookup"><span data-stu-id="5f68a-109">This is the ASP.NET feature introduced in the article:</span></span>
> 
> - <span data-ttu-id="5f68a-110">`WebMail` Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="5f68a-110">The `WebMail` helper.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="5f68a-111">Öğreticide kullanılan yazılım sürümleri</span><span class="sxs-lookup"><span data-stu-id="5f68a-111">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="5f68a-112">ASP.NET Web sayfaları (Razor) 3</span><span class="sxs-lookup"><span data-stu-id="5f68a-112">ASP.NET Web Pages (Razor) 3</span></span>
>   
> 
> <span data-ttu-id="5f68a-113">Bu öğretici, ASP.NET Web Pages 2 ile de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-113">This tutorial also works with ASP.NET Web Pages 2.</span></span>

<a id="Sending_Email_Messages"></a>
## <a name="sending-email-messages-from-your-website"></a><span data-ttu-id="5f68a-114">Web sitenizdeki e-posta Iletileri gönderme</span><span class="sxs-lookup"><span data-stu-id="5f68a-114">Sending Email Messages from Your Website</span></span>

<span data-ttu-id="5f68a-115">Web siteinizden e-posta göndermeniz gerekebilecek bazı nedenler vardır.</span><span class="sxs-lookup"><span data-stu-id="5f68a-115">There are all sorts of reasons why you might need to send email from your website.</span></span> <span data-ttu-id="5f68a-116">Kullanıcılara onay iletileri gönderebilir veya bildirimleri kendinize gönderebilirsiniz (örneğin, yeni bir kullanıcının kaydoldığına). `WebMail` Yardımcısı, e-posta göndermenizi kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="5f68a-116">You might send confirmation messages to users, or you might send notifications to yourself (for example, that a new user has registered.) The `WebMail` helper makes it easy for you to send email.</span></span>

<span data-ttu-id="5f68a-117">`WebMail` Yardımcısını kullanmak için bir SMTP sunucusuna erişiminizin olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-117">To use the `WebMail` helper, you have to have access to an SMTP server.</span></span> <span data-ttu-id="5f68a-118">(SMTP, *Basit Posta Aktarım Protokolü*için temsil eder.) SMTP sunucusu, yalnızca iletileri alıcının sunucusuna &#8212; ileten e-postanın giden tarafı olan bir e-posta sunucusudur.</span><span class="sxs-lookup"><span data-stu-id="5f68a-118">(SMTP stands for *Simple Mail Transfer Protocol*.) An SMTP server is an email server that only forwards messages to the recipient's server &#8212; it's the outbound side of email.</span></span> <span data-ttu-id="5f68a-119">Web siteniz için bir barındırma sağlayıcısı kullanırsanız, büyük olasılıkla e-posta ile sizin de sizin SMTP sunucusu adınızın ne olduğunu söyleyebilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-119">If you use a hosting provider for your website, they probably set you up with email and they can tell you what your SMTP server name is.</span></span> <span data-ttu-id="5f68a-120">Bir şirket ağı içinde çalışıyorsanız, bir yönetici veya BT departmanınız genellikle kullanabileceğiniz bir SMTP sunucusu hakkında bilgi sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-120">If you're working inside a corporate network, an administrator or your IT department can usually give you the information about an SMTP server that you can use.</span></span> <span data-ttu-id="5f68a-121">Evde çalışıyorsanız, normal e-posta sağlayıcınızı kullanarak, SMTP sunucusunun adını size bildirebilen bile test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-121">If you're working at home, you might even be able to test using your ordinary email provider, who can tell you the name of their SMTP server.</span></span> <span data-ttu-id="5f68a-122">Genellikle şunlar gerekir:</span><span class="sxs-lookup"><span data-stu-id="5f68a-122">You typically need:</span></span>

- <span data-ttu-id="5f68a-123">SMTP sunucusunun adı.</span><span class="sxs-lookup"><span data-stu-id="5f68a-123">The name of the SMTP server.</span></span>
- <span data-ttu-id="5f68a-124">Bağlantı noktası numarası.</span><span class="sxs-lookup"><span data-stu-id="5f68a-124">The port number.</span></span> <span data-ttu-id="5f68a-125">Bu neredeyse her zaman 25 ' tir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-125">This is almost always 25.</span></span> <span data-ttu-id="5f68a-126">Ancak, ISS 'niz 587 numaralı bağlantı noktasını kullanmanızı gerektirebilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-126">However, your ISP may require you to use port 587.</span></span> <span data-ttu-id="5f68a-127">E-posta için Güvenli Yuva Katmanı (SSL) kullanıyorsanız, farklı bir bağlantı noktası gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-127">If you are using secure sockets layer (SSL) for email, you might need a different port.</span></span> <span data-ttu-id="5f68a-128">E-posta sağlayıcınıza danışın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-128">Check with your email provider.</span></span>
- <span data-ttu-id="5f68a-129">Kimlik bilgileri (Kullanıcı adı, parola).</span><span class="sxs-lookup"><span data-stu-id="5f68a-129">Credentials (user name, password).</span></span>

<span data-ttu-id="5f68a-130">Bu yordamda iki sayfa oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="5f68a-130">In this procedure, you create two pages.</span></span> <span data-ttu-id="5f68a-131">İlk sayfa, kullanıcıların teknik destek formu doldurulmiş gibi bir açıklama girmelerini sağlayan bir form içerir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-131">The first page has a form that lets users enter a description, as if they were filling in a technical-support form.</span></span> <span data-ttu-id="5f68a-132">İlk sayfa, bilgilerini ikinci bir sayfaya gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-132">The first page submits its information to a second page.</span></span> <span data-ttu-id="5f68a-133">İkinci sayfada, kod kullanıcının bilgilerini ayıklar ve bir e-posta iletisi gönderir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-133">In the second page, code extracts the user's information and sends an email message.</span></span> <span data-ttu-id="5f68a-134">Ayrıca, sorun raporunun alındığını onaylayan bir ileti görüntüler.</span><span class="sxs-lookup"><span data-stu-id="5f68a-134">It also displays a message confirming that the problem report has been received.</span></span>

![görüntüyle](11-adding-email-to-your-web-site/_static/image1.jpg)

> [!NOTE]
> <span data-ttu-id="5f68a-136">Bu örneği basit tutmak için, kod `WebMail` Yardımcısı 'nı kullandığınız sayfada başlatır.</span><span class="sxs-lookup"><span data-stu-id="5f68a-136">To keep this example simple, the code initializes the `WebMail` helper right in the page where you use it.</span></span> <span data-ttu-id="5f68a-137">Bununla birlikte, gerçek web siteleri için, Web sitenizdeki tüm dosyalar için `WebMail` Yardımcısı 'nı başlatmak üzere başlatma kodunu genel bir dosyaya yerleştirmek daha iyi bir fikirdir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-137">However, for real websites, it's a better idea to put initialization code like this in a global file, so that you initialize the `WebMail` helper for all files in your website.</span></span> <span data-ttu-id="5f68a-138">Daha fazla bilgi için bkz. [ASP.NET Web Pages Için site genelinde davranışı özelleştirme](https://go.microsoft.com/fwlink/?LinkId=202906#Setting_Values_For_Helpers).</span><span class="sxs-lookup"><span data-stu-id="5f68a-138">For more information, see [Customizing Site-Wide Behavior for ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=202906#Setting_Values_For_Helpers).</span></span>

1. <span data-ttu-id="5f68a-139">Yeni bir Web sitesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="5f68a-139">Create a new website.</span></span>
2. <span data-ttu-id="5f68a-140">*Emailrequest. cshtml* adlı yeni bir sayfa ekleyin ve aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-140">Add a new page named *EmailRequest.cshtml* and add the following markup:</span></span> 

    [!code-html[Main](11-adding-email-to-your-web-site/samples/sample1.html)]

    <span data-ttu-id="5f68a-141">Form öğesinin `action` özniteliğinin *ProcessRequest. cshtml*olarak ayarlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-141">Notice that the `action` attribute of the form element has been set to *ProcessRequest.cshtml*.</span></span> <span data-ttu-id="5f68a-142">Bu, formun geçerli sayfaya geri dönmek yerine bu sayfaya gönderildiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-142">This means that the form will be submitted to that page instead of back to the current page.</span></span>
3. <span data-ttu-id="5f68a-143">Web sitesine *ProcessRequest. cshtml* adlı yeni bir sayfa ekleyin ve aşağıdaki kodu ve biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-143">Add a new page named *ProcessRequest.cshtml* to the website and add the following code and markup:</span></span>   

    [!code-cshtml[Main](11-adding-email-to-your-web-site/samples/sample2.cshtml)]

    <span data-ttu-id="5f68a-144">Kodda, sayfaya gönderilen form alanlarının değerlerini alırsınız.</span><span class="sxs-lookup"><span data-stu-id="5f68a-144">In the code, you get the values of the form fields that were submitted to the page.</span></span> <span data-ttu-id="5f68a-145">Sonra, e-posta iletisini oluşturmak ve göndermek için `WebMail` Yardımcısı 'nın `Send` yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-145">You then call the `WebMail` helper's `Send` method to create and send the email message.</span></span> <span data-ttu-id="5f68a-146">Bu durumda, kullanılacak değerler formdan gönderilen değerlerle birlikte birleştirdiğiniz metinden oluşur.</span><span class="sxs-lookup"><span data-stu-id="5f68a-146">In this case, the values to use are made up of text that you concatenate with the values that were submitted from the form.</span></span>

    <span data-ttu-id="5f68a-147">Bu sayfanın kodu bir `try/catch` bloğu içindedir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-147">The code for this page is inside a `try/catch` block.</span></span> <span data-ttu-id="5f68a-148">Herhangi bir nedenle e-posta gönderme girişimi işe yaramazsa (örneğin, ayarlar doğru değilse) `catch` bloğundaki kod çalışır ve `errorMessage` değişkenini oluşan hata olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="5f68a-148">If for any reason the attempt to send an email doesn't work (for example, the settings aren't right), the code in the `catch` block runs and sets the `errorMessage` variable to the error that has occurred.</span></span> <span data-ttu-id="5f68a-149">(`try/catch` blokları veya `<text>` etiketi hakkında daha fazla bilgi için bkz. [Razor sözdizimini kullanarak ASP.NET Web sayfalarına giriş programlama](https://go.microsoft.com/fwlink/?LinkID=251587#ID_HandlingErrors).)</span><span class="sxs-lookup"><span data-stu-id="5f68a-149">(For more information about `try/catch` blocks or the `<text>` tag, see [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkID=251587#ID_HandlingErrors).)</span></span>

    <span data-ttu-id="5f68a-150">Sayfanın gövdesinde, `errorMessage` değişkeni boşsa (varsayılan), kullanıcı e-posta iletisinin gönderildiğini belirten bir ileti görür.</span><span class="sxs-lookup"><span data-stu-id="5f68a-150">In the body of the page, if the `errorMessage` variable is empty (the default), the user sees a message that the email message has been sent.</span></span> <span data-ttu-id="5f68a-151">`errorMessage` değişkeni true olarak ayarlanırsa, kullanıcı iletiyi gönderirken bir sorun olduğunu belirten bir ileti görür.</span><span class="sxs-lookup"><span data-stu-id="5f68a-151">If the `errorMessage` variable is set to true, the user sees a message that there's been a problem sending the message.</span></span>

    <span data-ttu-id="5f68a-152">Sayfanın bir hata iletisi görüntüleyen bölümünde ek bir test olduğunu görürsünüz: `if(debuggingFlag)`.</span><span class="sxs-lookup"><span data-stu-id="5f68a-152">Notice that in the portion of the page that displays an error message, there's an additional test: `if(debuggingFlag)`.</span></span> <span data-ttu-id="5f68a-153">Bu, e-posta gönderirken sorun yaşıyorsanız true olarak ayarlayabileceğiniz bir değişkendir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-153">This is a variable that you can set to true if you're having trouble sending email.</span></span> <span data-ttu-id="5f68a-154">`debuggingFlag` true olduğunda ve e-posta gönderilirken bir sorun oluşursa, e-posta iletisini göndermeye çalıştığında rapor edilen ASP.NET gösteren ek bir hata iletisi görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-154">When `debuggingFlag` is true, and if there's a problem sending email, an additional error message is displayed that shows whatever ASP.NET has reported when it tried to send the email message.</span></span> <span data-ttu-id="5f68a-155">Orta uyarı, ancak: e-posta iletisi gönderemediği zaman ASP.NET raporlayan hata iletileri genel olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-155">Fair warning, though: the error messages that ASP.NET reports when it can't send an email message can be generic.</span></span> <span data-ttu-id="5f68a-156">Örneğin, ASP.NET SMTP sunucusuyla iletişim kuramadığı takdirde (örneğin, sunucu adında bir hata yaptıysanız), hata `Failure sending mail`.</span><span class="sxs-lookup"><span data-stu-id="5f68a-156">For example, if ASP.NET can't contact the SMTP server (for example, because you made an error in the server name), the error is `Failure sending mail`.</span></span>

    > [!NOTE] 
    > 
    > <span data-ttu-id="5f68a-157">**Önemli** Bir özel durum nesnesinden hata iletisi aldığınızda (koddaki`ex`), bu iletiyi *kullanıcılara düzenli olarak iletmeyin.*</span><span class="sxs-lookup"><span data-stu-id="5f68a-157">**Important** When you get an error message from an exception object (`ex` in the code), do *not* routinely pass that message through to users.</span></span> <span data-ttu-id="5f68a-158">Özel durum nesneleri genellikle kullanıcıların görmeme ve güvenlik açığı bile olabilecek bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-158">Exception objects often include information that users should not see and that can even be a security vulnerability.</span></span> <span data-ttu-id="5f68a-159">Bu nedenle bu kod, hata iletisini göstermek için anahtar olarak kullanılan `debuggingFlag` değişkenini ve varsayılan olarak değişkenin false olarak ayarlandığını içerir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-159">That's why this code includes the variable `debuggingFlag` that's used as a switch to display the error message, and why the variable by default is set to false.</span></span> <span data-ttu-id="5f68a-160">Bu değişkeni true olarak ayarlamanız gerekir (Bu nedenle, *yalnızca* e-posta gönderilirken bir sorun yaşıyorsanız ve hata ayıklaması yapmanız gerekiyorsa, hata iletisini görüntüleriz).</span><span class="sxs-lookup"><span data-stu-id="5f68a-160">You should set that variable to true (and therefore display the error message) *only* if you're having a problem with sending email and you need to debug.</span></span> <span data-ttu-id="5f68a-161">Sorunları düzelttikten sonra, `debuggingFlag` tekrar false olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-161">Once you have fixed any problems, set `debuggingFlag` back to false.</span></span>

    <span data-ttu-id="5f68a-162">Koddaki aşağıdaki e-posta ile ilgili ayarları değiştirin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-162">Modify the following email related settings in the code:</span></span>

   - <span data-ttu-id="5f68a-163">`your-SMTP-host`, erişiminiz olan SMTP sunucusunun adına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-163">Set `your-SMTP-host` to the name of the SMTP server that you have access to.</span></span>
   - <span data-ttu-id="5f68a-164">`your-user-name-here`, SMTP sunucusu hesabınızın kullanıcı adına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-164">Set `your-user-name-here` to the user name for your SMTP server account.</span></span>
   - <span data-ttu-id="5f68a-165">SMTP sunucusu hesabınızın parolasını `your-account-password` ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-165">Set `your-account-password` to the password for your SMTP server account.</span></span>
   - <span data-ttu-id="5f68a-166">`your-email-address-here` kendi e-posta adresinizi ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-166">Set `your-email-address-here` to your own email address.</span></span> <span data-ttu-id="5f68a-167">Bu, iletinin gönderildiği e-posta adresidir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-167">This is the email address that the message is sent from.</span></span> <span data-ttu-id="5f68a-168">(Bazı e-posta sağlayıcıları farklı bir `From` adresi belirtmenize izin vermez ve Kullanıcı adınızı `From` adresi olarak kullanır.)</span><span class="sxs-lookup"><span data-stu-id="5f68a-168">(Some email providers don't let you specify a different `From` address and will use your user name as the `From` address.)</span></span>

     > [!TIP] 
     > 
     > <a id="configuring_email_settings"></a>
     > ### <a name="configuring-email-settings"></a><span data-ttu-id="5f68a-169">E-posta ayarlarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="5f68a-169">Configuring Email Settings</span></span>
     > 
     > <span data-ttu-id="5f68a-170">Bu, bazen SMTP sunucusu, bağlantı noktası numarası gibi doğru ayarlara sahip olduğunuzdan emin olmak için bir sorun olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-170">It can be a challenge sometimes to make sure you have the right settings for the SMTP server, port number, and so on.</span></span> <span data-ttu-id="5f68a-171">İşte birkaç ipucu:</span><span class="sxs-lookup"><span data-stu-id="5f68a-171">Here are a few tips:</span></span>
     > 
     > - <span data-ttu-id="5f68a-172">SMTP sunucusu adı genellikle `smtp.provider.com` veya `smtp.provider.net`gibi bir şeydir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-172">The SMTP server name is often something like `smtp.provider.com` or `smtp.provider.net`.</span></span> <span data-ttu-id="5f68a-173">Ancak, sitenizi bir barındırma sağlayıcısına yayımlarsanız, söz konusu noktada SMTP sunucu adı `localhost`olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-173">However, if you publish your site to a hosting provider, the SMTP server name at that point might be `localhost`.</span></span> <span data-ttu-id="5f68a-174">Bunun nedeni, yayımladıktan ve sitenizin sağlayıcının sunucusunda çalışıyor olması nedeniyle, e-posta sunucusu uygulamanızın perspektifinden yerel olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-174">This is because after you've published and your site is running on the provider's server, the email server might be local from the perspective of your application.</span></span> <span data-ttu-id="5f68a-175">Sunucu adlarında bu değişiklik, yayımlama işleminizin bir parçası olarak SMTP sunucu adını değiştirmeniz gerektiği anlamına gelebilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-175">This change in server names might mean you have to change the SMTP server name as part of your publishing process.</span></span>
     > - <span data-ttu-id="5f68a-176">Bağlantı noktası numarası genellikle 25 ' tir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-176">The port number is usually 25.</span></span> <span data-ttu-id="5f68a-177">Ancak, bazı sağlayıcılar bağlantı noktası 587 ' yı veya başka bir bağlantı noktasını kullanmanızı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-177">However, some providers require you to use port 587 or some other port.</span></span>
     > - <span data-ttu-id="5f68a-178">Doğru kimlik bilgilerini kullandığınızdan emin olun.</span><span class="sxs-lookup"><span data-stu-id="5f68a-178">Make sure that you use the right credentials.</span></span> <span data-ttu-id="5f68a-179">Sitenizi bir barındırma sağlayıcısına yayımladıysanız, sağlayıcının özel olarak belirttiği kimlik bilgilerini e-posta için kullanın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-179">If you've published your site to a hosting provider, use the credentials that the provider has specifically indicated are for email.</span></span> <span data-ttu-id="5f68a-180">Bunlar, yayımlamak için kullandığınız kimlik bilgilerinden farklı olabilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-180">These might be different from the credentials you use to publish.</span></span>
     > - <span data-ttu-id="5f68a-181">Bazen kimlik bilgilerine gerek kalmaz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-181">Sometimes you don't need credentials at all.</span></span> <span data-ttu-id="5f68a-182">Kişisel ISS 'nizi kullanarak e-posta gönderiyorsanız, e-posta sağlayıcınız kimlik bilgilerinizi zaten bilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-182">If you're sending email using your personal ISP, your email provider might already know your credentials.</span></span> <span data-ttu-id="5f68a-183">Yayımladıktan sonra, yerel bilgisayarınızda sınama yaparken farklı kimlik bilgileri kullanmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-183">After you publish, you might need to use different credentials than when you test on your local computer.</span></span>
     > - <span data-ttu-id="5f68a-184">E-posta sağlayıcınız şifrelemeyi kullanıyorsa, `WebMail.EnableSsl` `true`ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-184">If your email provider uses encryption, you have to set `WebMail.EnableSsl` to `true`.</span></span>
4. <span data-ttu-id="5f68a-185">Bir tarayıcıda *Emailrequest. cshtml* sayfasını çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-185">Run the *EmailRequest.cshtml* page in a browser.</span></span> <span data-ttu-id="5f68a-186">(Çalıştırmadan önce sayfanın **dosyalar** çalışma alanında seçili olduğundan emin olun.)</span><span class="sxs-lookup"><span data-stu-id="5f68a-186">(Make sure the page is selected in the **Files** workspace before you run it.)</span></span>
5. <span data-ttu-id="5f68a-187">Adınızı ve sorun açıklamasını girip **Gönder** düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-187">Enter your name and a problem description, and then click the **Submit** button.</span></span> <span data-ttu-id="5f68a-188">Size iletinizi onaylayan ve size bir e-posta iletisi gönderen *ProcessRequest. cshtml* sayfasına yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-188">You're redirected to the *ProcessRequest.cshtml* page, which confirms your message and which sends you an email message.</span></span> 

    ![görüntüyle](11-adding-email-to-your-web-site/_static/image2.jpg)

<a id="Sending_a_File"></a>
## <a name="sending-a-file-using-email"></a><span data-ttu-id="5f68a-190">Bir dosyayı e-posta Ile gönderme</span><span class="sxs-lookup"><span data-stu-id="5f68a-190">Sending a File Using Email</span></span>

<span data-ttu-id="5f68a-191">Ayrıca, e-posta iletilerine eklenen dosyaları da gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-191">You can also send files that are attached to email messages.</span></span> <span data-ttu-id="5f68a-192">Bu yordamda, bir metin dosyası ve iki HTML sayfası oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="5f68a-192">In this procedure, you create a text file and two HTML pages.</span></span> <span data-ttu-id="5f68a-193">Metin dosyasını bir e-posta eki olarak kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="5f68a-193">You'll use the text file as an email attachment.</span></span>

1. <span data-ttu-id="5f68a-194">Web sitesinde, yeni bir metin dosyası ekleyin ve dosyayı *Dosyam. txt*olarak adlandırın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-194">In the website, add a new text file and name it *MyFile.txt*.</span></span>
2. <span data-ttu-id="5f68a-195">Aşağıdaki metni kopyalayın ve dosyaya yapıştırın:</span><span class="sxs-lookup"><span data-stu-id="5f68a-195">Copy the following text and paste it in the file:</span></span> 

    `Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.`
3. <span data-ttu-id="5f68a-196">*SendFile. cshtml* adlı bir sayfa oluşturun ve aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-196">Create a page named *SendFile.cshtml* and add the following markup:</span></span> 

    [!code-html[Main](11-adding-email-to-your-web-site/samples/sample3.html)]
4. <span data-ttu-id="5f68a-197">*ProcessFile. cshtml* adlı bir sayfa oluşturun ve aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-197">Create a page named *ProcessFile.cshtml* and add the following markup:</span></span> 

    [!code-cshtml[Main](11-adding-email-to-your-web-site/samples/sample4.cshtml)]
5. <span data-ttu-id="5f68a-198">Örnekteki kodda ilgili aşağıdaki e-posta ayarlarını değiştirin:</span><span class="sxs-lookup"><span data-stu-id="5f68a-198">Modify the following email related settings in the code from the example:</span></span>

    - <span data-ttu-id="5f68a-199">`your-SMTP-host`, erişiminiz olan bir SMTP sunucusunun adına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-199">Set `your-SMTP-host` to the name of an SMTP server that you have access to.</span></span>
    - <span data-ttu-id="5f68a-200">`your-user-name-here`, SMTP sunucusu hesabınızın kullanıcı adına ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-200">Set `your-user-name-here` to the user name for your SMTP server account.</span></span>
    - <span data-ttu-id="5f68a-201">`your-email-address-here` kendi e-posta adresinizi ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-201">Set `your-email-address-here` to your own email address.</span></span> <span data-ttu-id="5f68a-202">Bu, iletinin gönderildiği e-posta adresidir.</span><span class="sxs-lookup"><span data-stu-id="5f68a-202">This is the email address that the message is sent from.</span></span>
    - <span data-ttu-id="5f68a-203">SMTP sunucusu hesabınızın parolasını `your-account-password` ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-203">Set `your-account-password` to the password for your SMTP server account.</span></span>
    - <span data-ttu-id="5f68a-204">`target-email-address-here` kendi e-posta adresinizi ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-204">Set `target-email-address-here` to your own email address.</span></span> <span data-ttu-id="5f68a-205">(Önceki gibi, normalde başka birine e-posta gönderirsiniz, ancak test için kendinize gönderebilirsiniz.)</span><span class="sxs-lookup"><span data-stu-id="5f68a-205">(As before, you'd normally send an email to someone else, but for testing, you can send it to yourself.)</span></span>
6. <span data-ttu-id="5f68a-206">*SendFile. cshtml* sayfasını bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-206">Run the *SendFile.cshtml* page in a browser.</span></span>
7. <span data-ttu-id="5f68a-207">Adınızı, konu satırını ve iliştirilecek metin dosyasının adını (*Dosyam. txt*) girin.</span><span class="sxs-lookup"><span data-stu-id="5f68a-207">Enter your name, a subject line, and the name of the text file to attach (*MyFile.txt*).</span></span>
8. <span data-ttu-id="5f68a-208">`Submit` düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="5f68a-208">Click the `Submit` button.</span></span> <span data-ttu-id="5f68a-209">Daha önce olduğu gibi, iletinizi onaylayan ve size ekli dosyayı içeren bir e-posta iletisi gönderen *ProcessFile. cshtml* sayfasına yönlendirilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5f68a-209">As before, you're redirected to the *ProcessFile.cshtml* page, which confirms your message and which sends you an email message with the attached file.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="5f68a-210">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="5f68a-210">Additional Resources</span></span>

- [<span data-ttu-id="5f68a-211">ASP.NET Web Sayfaları (Razor) Sorun Giderme Kılavuzu</span><span class="sxs-lookup"><span data-stu-id="5f68a-211">ASP.NET Web Pages (Razor) Troubleshooting Guide</span></span>](https://go.microsoft.com/fwlink/?LinkId=253001)
- [<span data-ttu-id="5f68a-212">Basit Posta Aktarım Protokolü</span><span class="sxs-lookup"><span data-stu-id="5f68a-212">Simple Mail Transfer Protocol</span></span>](https://msdn.microsoft.com/library/aa480435.aspx)
- [<span data-ttu-id="5f68a-213">ASP.NET Web sayfaları için site genelinde davranışı özelleştirme</span><span class="sxs-lookup"><span data-stu-id="5f68a-213">Customizing Site-Wide Behavior for ASP.NET Web Pages</span></span>](https://go.microsoft.com/fwlink/?LinkId=202906)
