---
uid: web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
title: Formları kullanarak veritabanı verileri girme - ASP.NET Web sayfaları ile tanışın | Microsoft Docs
author: Rick-Anderson
description: Bu öğretici, bir giriş formunu oluşturma ve ardından ASP.NET Web sayfaları (...) kullandığınızda bir veritabanı tablosuna formdan alma verileri girin gösterir
ms.author: riande
ms.date: 05/28/2015
ms.assetid: d37c93fc-25fd-4e94-8671-0d437beef206
msc.legacyurl: /web-pages/overview/getting-started/introducing-aspnet-web-pages-2/entering-data
msc.type: authoredcontent
ms.openlocfilehash: d76f607f1d5e779d43ee15d8f2d697e7b0f147ae
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59380125"
---
# <a name="introducing-aspnet-web-pages---entering-database-data-by-using-forms"></a><span data-ttu-id="cb5d0-103">ASP.NET Web sayfaları ile tanışın - formları kullanarak veritabanı verileri girme</span><span class="sxs-lookup"><span data-stu-id="cb5d0-103">Introducing ASP.NET Web Pages - Entering Database Data by Using Forms</span></span>

<span data-ttu-id="cb5d0-104">tarafından [Tom FitzMacken](https://github.com/tfitzmac)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="cb5d0-105">Bu öğreticide bir giriş formunu oluşturmak ve ardından ASP.NET Web sayfaları (Razor) kullandığınızda, bir veritabanı tablosuna formdan alma verileri girin gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-105">This tutorial shows you how to create an entry form and then enter the data that you get from the form into a database table when you use ASP.NET Web Pages (Razor).</span></span> <span data-ttu-id="cb5d0-106">Bu seriyi aracılığıyla bitirdiğinizi [HTML formu, temel ASP.NET Web Pages'de](https://go.microsoft.com/fwlink/?LinkId=251581).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-106">It assumes you have completed the series through [Basics of HTML Forms in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581).</span></span>
> 
> <span data-ttu-id="cb5d0-107">Öğrenecekleriniz:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-107">What you'll learn:</span></span>
> 
> - <span data-ttu-id="cb5d0-108">Girişi formları işlem hakkında daha fazla.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-108">More about how to process entry forms.</span></span>
> - <span data-ttu-id="cb5d0-109">Verileri (Ekle) bir veritabanında ekleme.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-109">How to add (insert) data in a database.</span></span>
> - <span data-ttu-id="cb5d0-110">Nasıl kullanıcılar gerekli bir değer biçiminde (kullanıcı girişini doğrulama nasıl) girdiğinizden emin olun.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-110">How to make sure that users have entered a required value in a form (how to validate user input).</span></span>
> - <span data-ttu-id="cb5d0-111">Doğrulama hataları görüntülemek nasıl.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-111">How to display validation errors.</span></span>
> - <span data-ttu-id="cb5d0-112">Geçerli sayfadaki başka bir sayfaya gitmek nasıl.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-112">How to jump to another page from the current page.</span></span>
>   
> 
> <span data-ttu-id="cb5d0-113">Ele alınan özelliklerin/teknolojiler:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-113">Features/technologies discussed:</span></span>
> 
> - <span data-ttu-id="cb5d0-114">`Database.Execute` Yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-114">The `Database.Execute` method.</span></span>
> - <span data-ttu-id="cb5d0-115">SQL `Insert Into` deyimi</span><span class="sxs-lookup"><span data-stu-id="cb5d0-115">The SQL `Insert Into` statement</span></span>
> - <span data-ttu-id="cb5d0-116">`Validation` Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-116">The `Validation` helper.</span></span>
> - <span data-ttu-id="cb5d0-117">`Response.Redirect` Yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-117">The `Response.Redirect` method.</span></span>


## <a name="what-youll-build"></a><span data-ttu-id="cb5d0-118">Ne oluşturacaksınız</span><span class="sxs-lookup"><span data-stu-id="cb5d0-118">What You'll Build</span></span>

<span data-ttu-id="cb5d0-119">Bir veritabanını nasıl oluşturulacağını gösterir, öğreticide daha önce veritabanı verileri doğrudan çalışma WebMatrix veritabanında düzenleyerek girdiğiniz **veritabanı** çalışma.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-119">In the tutorial earlier that showed you how to create a database, you entered database data by editing the database directly in WebMatrix, working in the **Database** workspace.</span></span> <span data-ttu-id="cb5d0-120">Çoğu uygulamada, verileri veritabanına, ancak yerleştirme için pratik bir yol değil.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-120">In most apps, that's not a practical way to put data into the database, though.</span></span> <span data-ttu-id="cb5d0-121">Bu nedenle bu öğreticide, siz veya biri veri girin ve veritabanına kaydetme sağlayan web tabanlı bir arabirimi oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-121">So in this tutorial, you'll create a web-based interface that lets you or anyone enter data and save it to the database.</span></span>

<span data-ttu-id="cb5d0-122">Yeni filmler girebileceğiniz bir sayfa oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-122">You'll create a page where you can enter new movies.</span></span> <span data-ttu-id="cb5d0-123">Sayfanın bir filmi, türe ve yıl girebileceğiniz alanları (metin kutuları) olan bir giriş formunu içerir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-123">The page will contain an entry form that has fields (text boxes) where you can enter a movie title, genre, and year.</span></span> <span data-ttu-id="cb5d0-124">Sayfa, bu sayfayı gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-124">The page will look like this page:</span></span>

!['Add film' sayfasını tarayıcıda](entering-data/_static/image1.png)

<span data-ttu-id="cb5d0-126">HTML metin kutuları olur `<input>` gibi bu işaretleme görüneceğini öğeler:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-126">The text boxes will be HTML `<input>` elements that will look like this markup:</span></span>

`<input type="text" name="genre" value="" />`

## <a name="creating-the-basic-entry-form"></a><span data-ttu-id="cb5d0-127">Temel giriş formu oluşturma</span><span class="sxs-lookup"><span data-stu-id="cb5d0-127">Creating the Basic Entry Form</span></span>

<span data-ttu-id="cb5d0-128">Adlı bir sayfa oluşturun *AddMovie.cshtml*.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-128">Create a page named *AddMovie.cshtml*.</span></span>

<span data-ttu-id="cb5d0-129">Dosyasına aşağıdaki işaretlemeyle nedir değiştirin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-129">Replace what's in the file with the following markup.</span></span> <span data-ttu-id="cb5d0-130">Her şeyi üzerine; kısa bir süre içinde en üstünde bir kod bloğu ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-130">Overwrite everything; you'll add a code block at the top shortly.</span></span>

[!code-cshtml[Main](entering-data/samples/sample1.cshtml)]

<span data-ttu-id="cb5d0-131">Bu örnek, tipik bir HTML form oluştururken gösterir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-131">This example shows typical HTML for creating a form.</span></span> <span data-ttu-id="cb5d0-132">Kullandığı `<input>` öğe metin kutuları ve Gönder düğmesi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-132">It uses `<input>` elements for the text boxes and for the submit button.</span></span> <span data-ttu-id="cb5d0-133">Standart kullanarak metin kutuları için resim yazıları oluşturulur `<label>` öğeleri.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-133">The captions for the text boxes are created by using standard `<label>` elements.</span></span> <span data-ttu-id="cb5d0-134">`<fieldset>` Ve `<legend>` öğeleri yerleştirme form çevresinde güzel bir kutu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-134">The `<fieldset>` and `<legend>` elements put a nice box around the form.</span></span>

<span data-ttu-id="cb5d0-135">Bu sayfada, dikkat `<form>` öğesini kullanan `post` değeri olarak `method` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-135">Notice that in this page, the `<form>` element uses `post` as the value for the `method` attribute.</span></span> <span data-ttu-id="cb5d0-136">Önceki öğreticide oluşturduğunuz kullanılan form `get` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-136">In the previous tutorial, you created a form that used the `get` method.</span></span> <span data-ttu-id="cb5d0-137">Form değerleri sunucuya gönderilen olsa da, herhangi bir değişiklik isteği yapmayan olduğundan, doğru.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-137">That was correct, because although the form submitted values to the server, the request did not make any changes.</span></span> <span data-ttu-id="cb5d0-138">Tüm kişiselleştirmeden farklı yollarla verileri getirme oluştu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-138">All it did was fetch data in different ways.</span></span> <span data-ttu-id="cb5d0-139">Ancak, bu konuda, sayfa *olacak* değişiklik — yeni veritabanı kayıtları eklemek için oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-139">However, in this page you *will* make changes—you're going to add new database records.</span></span> <span data-ttu-id="cb5d0-140">Bu nedenle, bu formu kullanmalısınız `post` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-140">Therefore, this form should use the `post` method.</span></span> <span data-ttu-id="cb5d0-141">(Arasındaki fark hakkında daha fazla bilgi için `GET` ve `POST` işlemleri görmek[GET, POST ve HTTP fiili güvenliği](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) kenar önceki öğreticide.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-141">(For more about the difference between `GET` and `POST` operations, see the[GET, POST, and HTTP Verb Safety](https://go.microsoft.com/fwlink/?LinkId=251581#GET,_POST,_and_HTTP_Verb_Safety) sidebar in the previous tutorial.)</span></span>

<span data-ttu-id="cb5d0-142">Her metin kutusuna sahip Not bir `name` öğesi (`title`, `genre`, `year`).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-142">Note that each text box has a `name` element (`title`, `genre`, `year`).</span></span> <span data-ttu-id="cb5d0-143">Önceki öğreticide gördüğünüz gibi daha sonra kullanıcının girişi sınıflandırıp adları olması gerektiğinden bu adlar önemlidir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-143">As you saw in the previous tutorial, these names are important because you must have those names so you can get the user's input later.</span></span> <span data-ttu-id="cb5d0-144">Herhangi bir adı kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-144">You can use any names.</span></span> <span data-ttu-id="cb5d0-145">İçin yararlıdır yardımcı anlamlı adlar kullanın hangi verilerin ile çalıştığınızı unutmayın.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-145">It's helpful to use meaningful names that help you remember what data you're working with.</span></span>

<span data-ttu-id="cb5d0-146">`value` Her öznitelik `<input>` öğesi içeren bir boyutta bir Razor kod (örneğin, `Request.Form["title"]`).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-146">The `value` attribute of each `<input>` element contains a bit of Razor code (for example, `Request.Form["title"]`).</span></span> <span data-ttu-id="cb5d0-147">Form gönderildikten sonra bu yöntem bir sürümünü (varsa) metin kutusuna girilen değer korumak için önceki öğreticide öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-147">You learned a version of this trick in the previous tutorial to preserve the value entered into the text box (if any) after the form has been submitted.</span></span>

## <a name="getting-the-form-values"></a><span data-ttu-id="cb5d0-148">Form değerlerini alma</span><span class="sxs-lookup"><span data-stu-id="cb5d0-148">Getting the Form Values</span></span>

<span data-ttu-id="cb5d0-149">Ardından, bu formu işleyen kodu ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-149">Next, you add code that processes the form.</span></span> <span data-ttu-id="cb5d0-150">Anahat içinde aşağıdakileri yapmanız:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-150">In outline, you'll do the following:</span></span>

1. <span data-ttu-id="cb5d0-151">Sayfa gönderilen olup olmadığını denetleyin (gönderildi).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-151">Check whether the page is being posted (was submitted).</span></span> <span data-ttu-id="cb5d0-152">Kodunuzu ilk değil sayfa çalıştığında yalnızca kullanıcıların düğmeye tıklandığında çalıştırmak istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-152">You want to your code to run only when users have clicked the button, not when the page first runs.</span></span>
2. <span data-ttu-id="cb5d0-153">Metin kutularına kullanıcı girilen değerleri alır.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-153">Get the values that the user entered into the text boxes.</span></span> <span data-ttu-id="cb5d0-154">Bu durumda, formu kullandığından `POST` fiil, form değerleri alma `Request.Form` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-154">In this case, because the form is using the `POST` verb, you get the form values from the `Request.Form` collection.</span></span>
3. <span data-ttu-id="cb5d0-155">Yeni bir kayıt olarak değer eklemek *filmler* veritabanı tablosu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-155">Insert the values as a new record in the *Movies* database table.</span></span>

<span data-ttu-id="cb5d0-156">Dosyasının en üstüne aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-156">At the top of the file, add the following code:</span></span>

[!code-cshtml[Main](entering-data/samples/sample2.cshtml)]

<span data-ttu-id="cb5d0-157">İlk birkaç satırı değişkenlerinin (`title`, `genre`, ve `year`) metin kutularında değerleri tutmak için.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-157">The first few lines create variables (`title`, `genre`, and `year`) to hold the values from the text boxes.</span></span> <span data-ttu-id="cb5d0-158">Satır `if(IsPost)` değişkenleri ayarlandığından emin olur *yalnızca* kullanıcılar'ı tıklattığınızda **ekleme film** düğmesi — diğer bir deyişle, ne zaman formun forumumuza gönderildi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-158">The line `if(IsPost)` makes sure that the variables are set *only* when users click the **Add Movie** button — that is, when the form has been posted.</span></span>

<span data-ttu-id="cb5d0-159">Önceki bir öğreticide gördüğünüz gibi değeri metin kutusu gibi bir ifade kullanarak almak `Request.Form["name"]`burada *adı* adıdır `<input>` öğesi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-159">As you saw in an earlier tutorial, you get the value of a text box by using an expression like `Request.Form["name"]`, where *name* is the name of the `<input>` element.</span></span>

<span data-ttu-id="cb5d0-160">Değişkenlerin adlarını (`title`, `genre`, ve `year`) rasgele.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-160">The names of the variables (`title`, `genre`, and `year`) are arbitrary.</span></span> <span data-ttu-id="cb5d0-161">Atadığınız adlar gibi `<input>` öğeleri, bunları istediğiniz herhangi bir şey çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-161">Like the names that you assign to `<input>` elements, you can call them anything you like.</span></span> <span data-ttu-id="cb5d0-162">(Değişkenlerin adlarını ad özniteliklerini eşleşmesi gerekmez `<input>` formu üzerindeki öğelerin.) Ancak olduğu gibi `<input>` öğeleri, içerdikleri veriler yansıtan değişken adları kullanmak iyi bir fikir olduğunu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-162">(The names of the variables don't have to match the name attributes of `<input>` elements on the form.) But as with the `<input>` elements, it's a good idea to use variable names that reflect the data that they contain.</span></span> <span data-ttu-id="cb5d0-163">Kod yazdığınızda, tutarlı adlar sizin çalıştığınız hangi verilerin kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-163">When you write code, consistent names make it easier for you to remember what data you're working with.</span></span>

## <a name="adding-data-to-the-database"></a><span data-ttu-id="cb5d0-164">Veritabanına veri ekleme</span><span class="sxs-lookup"><span data-stu-id="cb5d0-164">Adding Data to the Database</span></span>

<span data-ttu-id="cb5d0-165">Kodda, yeni eklenen, yalnızca engelleme *içinde* kapanış ayracı ( `}` ), `if` engelleyin (yalnızca kod bloğu içinde), aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-165">In the code block you just added, just *inside* the closing brace ( `}` ) of the `if` block (not just inside the code block), add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample3.cs)]

<span data-ttu-id="cb5d0-166">Bu örnek, önceki bir öğreticide veri getirme ve görüntüleme için kullanılan kod benzerdir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-166">This example is similar to the code you used in a previous tutorial to fetch and display data.</span></span> <span data-ttu-id="cb5d0-167">İle başlayan satırı `db =` açılır önce gibi veritabanı ve sonraki satırı tanımlayan bir SQL deyimi yeniden olarak daha önce gördüğünüz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-167">The line that starts with `db =` opens the database, like before, and the next line defines a SQL statement, again as you saw before.</span></span> <span data-ttu-id="cb5d0-168">Ancak, bu kez tanımladığı bir SQL `Insert Into` deyimi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-168">However, this time it defines a SQL `Insert Into` statement.</span></span> <span data-ttu-id="cb5d0-169">Aşağıdaki örnek genel söz dizimi görülmektedir `Insert Into` deyimi:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-169">The following example shows the general syntax of the `Insert Into` statement:</span></span>

`INSERT INTO table (column1, column2, column3, ...) VALUES (value1, value2, value3, ...)`

<span data-ttu-id="cb5d0-170">Diğer bir deyişle, tablonun takın, ardından içine eklenecek sütun listesinde ve ardından liste değerleri eklemek için belirtin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-170">In other words, you specify the table to insert into, then list the columns to insert into, and then list the values to insert.</span></span> <span data-ttu-id="cb5d0-171">(Bazı kişiler komutu okunmasını kolaylaştırmak için anahtar sözcükler büyük harf ancak önce belirtildiği gibi SQL büyük/küçük harfe duyarlı değildir.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-171">(As noted before, SQL is not case sensitive but some people capitalize the keywords to make it easier to read the command.)</span></span>

<span data-ttu-id="cb5d0-172">İçine ekleme sütunları zaten komut içinde listelenen — `(Title, Genre, Year)`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-172">The columns that you're inserting into are already listed in the command — `(Title, Genre, Year)`.</span></span> <span data-ttu-id="cb5d0-173">Metin kutularına gelen değerlerin nereden ilgi çekici bir parçası olan `VALUES` komutunun bir parçası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-173">The interesting part is how you get the values from the text boxes into the `VALUES` part of the command.</span></span> <span data-ttu-id="cb5d0-174">Gerçek değerleri yerine gördüğünüz `@0`, `@1`, ve `@2`, olan doğal yer tutucu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-174">Instead of actual values, you see `@0`, `@1`, and `@2`, which are of course placeholders.</span></span> <span data-ttu-id="cb5d0-175">Komutu çalıştırdığınızda (üzerinde `db.Execute` satır), metin kutularında aldığınız değerlerini geçirirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-175">When you run the command (on the `db.Execute` line), you pass the values that you got from the text boxes.</span></span>

**<span data-ttu-id="cb5d0-176">Önemli!</span><span class="sxs-lookup"><span data-stu-id="cb5d0-176">Important!</span></span>** <span data-ttu-id="cb5d0-177">Burada gördüğünüz gibi hiç olmadığı kadar içermelidir çevrimiçi bir SQL deyimi bir kullanıcı tarafından girilen veriler tek yolu yer tutucuları, kullanılacak olduğunu unutmayın (`VALUES(@0, @1, @2)`).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-177">Remember that the only way you should ever include data entered online by a user in a SQL statement is to use placeholders, as you see here (`VALUES(@0, @1, @2)`).</span></span> <span data-ttu-id="cb5d0-178">Bir SQL deyimi kullanıcı girişlerini birleştirmek, kendiniz SQL ekleme saldırısına açıklandığı şekilde açmak [formuyla ilgili temel kavramlar ASP.NET Web Pages'de](https://go.microsoft.com/fwlink/?LinkId=251581) (önceki öğreticide).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-178">If you concatenate user input into a SQL statement, you open yourself to a SQL injection attack, as explained in [Form Basics in ASP.NET Web Pages](https://go.microsoft.com/fwlink/?LinkId=251581) (the previous tutorial).</span></span>

<span data-ttu-id="cb5d0-179">İçinde hala `if` engelleme, sonra aşağıdaki satırı ekleyin `db.Execute` satırı:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-179">Still inside the `if` block, add the following line after the `db.Execute` line:</span></span>

[!code-css[Main](entering-data/samples/sample4.css)]

<span data-ttu-id="cb5d0-180">Yeni film veritabanına eklendikten sonra bu satır, (yeniden yönlendirmeleri) atlar *filmler* girdiğiniz film görebilmeniz için sayfa.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-180">After the new movie has been inserted into the database, this line jumps you (redirects) to the *Movies* page so you can see the movie you just entered.</span></span> <span data-ttu-id="cb5d0-181">`~` İşleci anlamına gelir "Web sitesinin kök."</span><span class="sxs-lookup"><span data-stu-id="cb5d0-181">The `~` operator means "root of the website."</span></span> <span data-ttu-id="cb5d0-182">( `~` İşleci yalnızca içinde çalıştığı ASP.NET sayfaları, HTML değil, genellikle.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-182">(The `~` operator works only in ASP.NET pages, not in HTML generally.)</span></span>

<span data-ttu-id="cb5d0-183">Tam kod bloğunu şu örnekteki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-183">The complete code block looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample5.cshtml)]

## <a name="testing-the-insert-command-so-far"></a><span data-ttu-id="cb5d0-184">INSERT komutu (şimdiye) test etme</span><span class="sxs-lookup"><span data-stu-id="cb5d0-184">Testing the Insert Command (So Far)</span></span>

<span data-ttu-id="cb5d0-185">Henüz tamamlanmadı ancak şimdi test etmek için iyi bir zamandır.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-185">You're not done yet, but now is a good time to test.</span></span>

<span data-ttu-id="cb5d0-186">WebMatrix dosyalarında ağaç görünümünde, sağ *AddMovie.cshtml* sayfasında ve ardından **tarayıcıda Başlat**.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-186">In the tree view of files in WebMatrix, right-click the *AddMovie.cshtml* page and then click **Launch in browser**.</span></span>

!['Add film' sayfasını tarayıcıda](entering-data/_static/image2.png)

<span data-ttu-id="cb5d0-188">(Başka bir sayfaya tarayıcıda elde edersiniz, URL olduğundan emin olun `http://localhost:nnnnn/AddMovie`), burada *nnnnn* kullandığınız bağlantı noktası numarasıdır.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-188">(If you end up with a different page in the browser, make sure that the URL is `http://localhost:nnnnn/AddMovie`), where *nnnnn* is the port number that you're using.)</span></span>

<span data-ttu-id="cb5d0-189">Bir hata sayfası mı aldınız?</span><span class="sxs-lookup"><span data-stu-id="cb5d0-189">Did you get an error page?</span></span> <span data-ttu-id="cb5d0-190">Bu durumda, dikkatle okuyun ve ne daha önce listelenen kodu tam olarak göründüğünden emin olun.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-190">If so, read it carefully and make sure that the code looks exactly what was listed earlier.</span></span>

<span data-ttu-id="cb5d0-191">Bir filmi girin &mdash; Örneğin, "Gamze Vatandaşlık", "DRAM" ve "1941" kullanın.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-191">Enter a movie in the form &mdash; for example, use "Citizen Kane", "Drama", and "1941".</span></span> <span data-ttu-id="cb5d0-192">(Veya.) Ardından **ekleme film**.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-192">(Or whatever.) Then click **Add Movie**.</span></span>

<span data-ttu-id="cb5d0-193">Tüm yapıldığında için yönlendirilirsiniz *filmler* sayfası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-193">If all goes well, you're redirected to the *Movies* page.</span></span> <span data-ttu-id="cb5d0-194">Yeni, film listelendiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-194">Make sure that your new movie is listed.</span></span>

![Film gösteren yeni filmler sayfası eklendi](entering-data/_static/image3.png)

## <a name="validating-user-input"></a><span data-ttu-id="cb5d0-196">Kullanıcı girişini doğrulama</span><span class="sxs-lookup"><span data-stu-id="cb5d0-196">Validating User Input</span></span>

<span data-ttu-id="cb5d0-197">Geri Git *AddMovie* sayfasında veya yeniden çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-197">Go back to the *AddMovie* page, or run it again.</span></span> <span data-ttu-id="cb5d0-198">Başka bir film, ancak bu kez girin, yalnızca bir başlık girin &mdash; "Açev'nda Yağmur" girin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-198">Enter another movie, but this time, enter only the title &mdash; for example, enter "Singin' in the Rain".</span></span> <span data-ttu-id="cb5d0-199">Ardından **ekleme film**.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-199">Then click **Add Movie**.</span></span>

<span data-ttu-id="cb5d0-200">İçin yönlendirilirsiniz *filmler* yeniden sayfa.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-200">You're redirected to the *Movies* page again.</span></span> <span data-ttu-id="cb5d0-201">Yeni film bulabilirsiniz, ancak eksik.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-201">You can find the new movie, but it's incomplete.</span></span>

![Bazı değerler eksik gösteren yeni film filmler sayfası](entering-data/_static/image4.png)

<span data-ttu-id="cb5d0-203">Oluştururken *filmler* tablo açıkça söylediğiniz alanların null olabileceğini.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-203">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="cb5d0-204">Burada bir giriş formunu yeni filmler için sahip ve alanları boş bırakılması.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-204">Here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="cb5d0-205">Bu bir hatadır.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-205">That's an error.</span></span>

<span data-ttu-id="cb5d0-206">Bu durumda, veritabanını gerçekten yükseltmek istemediğiniz (veya *throw*) bir hata oluştu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-206">In this case, the database didn't actually raise (or *throw*) an error.</span></span> <span data-ttu-id="cb5d0-207">Bir türe veya yıl, bu nedenle belirtmediyseniz kodda *AddMovie* sayfası bu değerleri olarak anılan kabul *boş dizelere*.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-207">You didn't supply a genre or year, so the code in the *AddMovie* page treated those values as so-called *empty strings*.</span></span> <span data-ttu-id="cb5d0-208">SQL `Insert Into` komutun çalıştığını, türe ve yıl alanları yararlı verileri bunları yoktu, ancak bunlar null olmayan.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-208">When the SQL `Insert Into` command ran, the genre and year fields didn't have useful data in them, but they weren't null.</span></span>

<span data-ttu-id="cb5d0-209">Belli ki, yarı boş film bilgileri veritabanına girmek kullanıcılara bildirmek istemiyorum.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-209">Obviously, you don't want to let users enter half-empty movie information into the database.</span></span> <span data-ttu-id="cb5d0-210">Kullanıcı girişini onaylamak için çözümüdür.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-210">The solution is to validate the user's input.</span></span> <span data-ttu-id="cb5d0-211">Başlangıçta, doğrulama yalnızca kullanıcı bir değer tüm alanlar için girdiğini emin olmanızı sağlar (diğer bir deyişle, bunların hiçbiri boş bir dize içeriyor).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-211">Initially, the validation will simply make sure that the user has entered a value for all of the fields (that is, that none of them contains an empty string).</span></span>

> [!TIP]
> 
> **<span data-ttu-id="cb5d0-212">NULL ve boş dizeler</span><span class="sxs-lookup"><span data-stu-id="cb5d0-212">Null and Empty Strings</span></span>**
> 
> <span data-ttu-id="cb5d0-213">Programlamada, "değer yok" farklı kavramları arasında bir ayrım yoktur</span><span class="sxs-lookup"><span data-stu-id="cb5d0-213">In programming, there's a distinction between different notions of "no value."</span></span> <span data-ttu-id="cb5d0-214">Genel olarak, bir değerdir *null* ise, hiçbir zaman ayarlayın veya bırakıldığı herhangi bir şekilde başlatıldı.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-214">In general, a value is *null* if it has never been set or initialized in any way.</span></span> <span data-ttu-id="cb5d0-215">Karakter verileri (dize) bekliyor bir değişkeni buna karşılık, ayarlanabilir bir *boş dize*.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-215">In contrast, a variable that expects character data (strings) can be set to an *empty string*.</span></span> <span data-ttu-id="cb5d0-216">Bu durumda, değer null değil; Bunu yalnızca açıkça uzunluğu olan sıfır karakter dizesi için ayarlanmış.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-216">In that case, the value is not null; it's just been explicitly set to a string of characters whose length is zero.</span></span> <span data-ttu-id="cb5d0-217">Bu iki deyimden farkı gösterir:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-217">These two statements show the difference:</span></span>
> 
> [!code-csharp[Main](entering-data/samples/sample6.cs)]
> 
> <span data-ttu-id="cb5d0-218">Bunu biraz daha karmaşık, ancak en önemli nokta olan `null` belirlenmemiş bir durum kavramını temsil eder.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-218">It's a little more complicated than that, but the important point is that `null` represents a sort of undetermined state.</span></span>
> 
> <span data-ttu-id="cb5d0-219">Artık ve sonra tam olarak ne zaman bir değer null ve boş bir dize olduğunda anlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-219">Now and then it's important to understand exactly when a value is null and when it's just an empty string.</span></span> <span data-ttu-id="cb5d0-220">Kodunda *AddMovie* sayfası, metin kutuları değerlerini kullanarak elde `Request.Form["title"]` ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-220">In the code for the *AddMovie* page, you get the values of the text boxes by using `Request.Form["title"]` and so on.</span></span> <span data-ttu-id="cb5d0-221">(Düğmesine tıklamadan önce) sayfa ilk çalıştığında, değerini `Request.Form["title"]` null.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-221">When the page first runs (before you click the button), the value of `Request.Form["title"]` is null.</span></span> <span data-ttu-id="cb5d0-222">Ancak, formun gönderdiğinizde `Request.Form["title"]` değerini alır `title` metin kutusu.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-222">But when you submit the form, `Request.Form["title"]` gets the value of the `title` text box.</span></span> <span data-ttu-id="cb5d0-223">Belirgin değildir, ancak boş bir metin kutusu boş değil; Bunu yalnızca boş bir dize var.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-223">It's not obvious, but an empty text box is not null; it just has an empty string in it.</span></span> <span data-ttu-id="cb5d0-224">Bu nedenle kod yanıt düğme olarak çalıştığında tıklayın, `Request.Form["title"]` boş bir dize içinde yok.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-224">So when the code runs in response to the button click, `Request.Form["title"]` has an empty string in it.</span></span>
> 
> <span data-ttu-id="cb5d0-225">Bu ayrım neden önemlidir?</span><span class="sxs-lookup"><span data-stu-id="cb5d0-225">Why is this distinction important?</span></span> <span data-ttu-id="cb5d0-226">Oluştururken *filmler* tablo açıkça söylediğiniz alanların null olabileceğini.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-226">When you created the *Movies* table, you explicitly said that none of the fields could be null.</span></span> <span data-ttu-id="cb5d0-227">Ancak burada bir giriş formunu yeni filmler için sahip ve alanları boş bırakılması.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-227">But here you have an entry form for new movies, and you're leaving fields blank.</span></span> <span data-ttu-id="cb5d0-228">Türe veya yıl değerlerini gerekmedi yeni filmler kaydetmeye çalıştığında şikayet veritabanına makul beklenir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-228">You would reasonably expect the database to complain when you tried to save new movies that didn't have values for genre or year.</span></span> <span data-ttu-id="cb5d0-229">Ancak, noktasıdır &mdash; olsa bile bu metin kutularını boş bırakın, değerler null dahil değildir; boş dizeler oldukları.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-229">But that's the point &mdash; even if you leave those text boxes blank, the values aren't null; they're empty strings.</span></span> <span data-ttu-id="cb5d0-230">Sonuç olarak, yeni bir film veritabanı boş bu sütunlar ile kaydedebilir &mdash; ancak boş değil!</span><span class="sxs-lookup"><span data-stu-id="cb5d0-230">As a result, you're able to save new movies to the database with these columns empty &mdash; but not null!</span></span> <span data-ttu-id="cb5d0-231">&mdash; değerler.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-231">&mdash; values.</span></span> <span data-ttu-id="cb5d0-232">Bu nedenle, kullanıcıların kullanıcı girişini doğrulama tarafından yapabileceğiniz boş bir dize paylaşmayın emin olmalısınız.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-232">Therefore, you have to make sure that users don't submit an empty string, which you can do by validating the user's input.</span></span>


### <a name="the-validation-helper"></a><span data-ttu-id="cb5d0-233">Doğrulama Yardımcısı</span><span class="sxs-lookup"><span data-stu-id="cb5d0-233">The Validation Helper</span></span>

<span data-ttu-id="cb5d0-234">ASP.NET Web sayfaları içeren bir yardımcı &mdash; `Validation` Yardımcısı &mdash; kullanıcılar gereksinimlerinizi karşılayan verileri girin emin olmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-234">ASP.NET Web Pages includes a helper &mdash; the `Validation` helper &mdash; that you can use to make sure that users enter data that meets your requirements.</span></span> <span data-ttu-id="cb5d0-235">`Validation` Yardımcısı NuGet, önceki bir öğreticide Gravatar Yardımcısı yüklü biçimini kullanarak bir paket olarak yüklemeniz gerekmez, ASP.NET Web sayfaları için yerleşik olarak Yardımcıları biridir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-235">The `Validation` helper is one of the helpers that's built in to ASP.NET Web Pages, so you don't have to install it as a package by using NuGet, the way you installed the Gravatar helper in an earlier tutorial.</span></span>

<span data-ttu-id="cb5d0-236">Kullanıcı girişini doğrulamak için aşağıdakileri:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-236">To validate the user's input, you'll do the following:</span></span>

- <span data-ttu-id="cb5d0-237">Kod sayfasında metin kutularında değerleri gerektirir istediğinizi belirtmek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-237">Use code to specify that you want to require values in the text boxes on the page.</span></span>
- <span data-ttu-id="cb5d0-238">Bir test, böylece yalnızca her şeyin düzgün bir şekilde doğrulanırsa film bilgileri veritabanına eklenen kodun içine yerleştirin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-238">Put a test into the code so that the movie information is added to the database only if everything validates properly.</span></span>
- <span data-ttu-id="cb5d0-239">Kod hata iletilerini görüntülemek için işaretleme ekleyin.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-239">Add code into the markup to display error messages.</span></span>

<span data-ttu-id="cb5d0-240">Kod bloğu içinde *AddMovie* sayfasında, sağa yukarı üst değişken bildirimlerini önce aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-240">In the code block in the *AddMovie* page, right up at the top before the variable declarations, add the following code:</span></span>

[!code-csharp[Main](entering-data/samples/sample7.cs)]

<span data-ttu-id="cb5d0-241">Çağırmanızı `Validation.RequireField` her alan için bir kez (`<input>` öğesi) bir giriş gerektiren istediğiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-241">You call `Validation.RequireField` once for each field (`<input>` element) where you want to require an entry.</span></span> <span data-ttu-id="cb5d0-242">Burada gördüğünüz gibi her çağrı bir özel hata iletisi de ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-242">You can also add a custom error message for each call, like you see here.</span></span> <span data-ttu-id="cb5d0-243">(Biz, istediğiniz herhangi bir şey buraya koyabilirsiniz olduğunu göstermek için iletilerini değiştirilen.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-243">(We varied the messages just to show that you can put anything you like there.)</span></span>

<span data-ttu-id="cb5d0-244">Bir sorun varsa, veritabanına eklenen yeni film bilgilerinin önlemek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-244">If there's a problem, you want to prevent the new movie information from being inserted into the database.</span></span> <span data-ttu-id="cb5d0-245">İçinde `if(IsPost)` engelleme, kullanın `&&` (testleri başka bir koşul eklemek için mantıksal ve) `Validation.IsValid()`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-245">In the `if(IsPost)` block, use `&&` (logical AND) to add another condition that tests `Validation.IsValid()`.</span></span> <span data-ttu-id="cb5d0-246">Bitirdiğinizde, bütün `if(IsPost)` blok şu kod gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-246">When you're done, the whole `if(IsPost)` block looks like this code:</span></span>

[!code-csharp[Main](entering-data/samples/sample8.cs)]

<span data-ttu-id="cb5d0-247">Kullanarak kaydettiğiniz alanlarının herhangi bir doğrulama hatası varsa `Validation` yardımcıyı `Validation.IsValid` yöntem false döndürür.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-247">If there's a validation error with any of the fields that you registered by using the `Validation` helper, the `Validation.IsValid` method returns false.</span></span> <span data-ttu-id="cb5d0-248">Ve geçersiz film giriş yok veritabanına eklenecek şekilde bu durumda, söz konusu bloğu içindeki kod hiçbiri çalıştırılır.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-248">And in that case, none of the code in that block will run, so no invalid movie entries will be inserted into the database.</span></span> <span data-ttu-id="cb5d0-249">Ve Elbette yönlendirilirsiniz değil *filmler* sayfası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-249">And of course you're not redirected to the *Movies* page.</span></span>

<span data-ttu-id="cb5d0-250">Doğrulama kodu içeren tam bir kod bloğu, artık şu örnekteki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-250">The complete code block, including the validation code, now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample9.cshtml?highlight=10)]

## <a name="displaying-validation-errors"></a><span data-ttu-id="cb5d0-251">Doğrulama hataları görüntüleme</span><span class="sxs-lookup"><span data-stu-id="cb5d0-251">Displaying Validation Errors</span></span>

<span data-ttu-id="cb5d0-252">Son adım, herhangi bir hata iletisi görüntülemektir.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-252">The last step is to display any error messages.</span></span> <span data-ttu-id="cb5d0-253">Bir Özet veya her ikisi de görüntüleyebilir veya tek tek her doğrulama hatası iletilerini görüntüleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-253">You can display individual messages for each validation error, or you can display a summary, or both.</span></span> <span data-ttu-id="cb5d0-254">Nasıl çalıştığını görebilmeniz için Bu öğretici için her ikisi de yaparsınız.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-254">For this tutorial, you'll do both so that you can see how it works.</span></span>

<span data-ttu-id="cb5d0-255">Her yanındaki `<input>` doğrulamakta öğe, çağrı `Html.ValidationMessage` yöntemi ve adını geçirin `<input>` öğesi doğrulanıyor.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-255">Next to each `<input>` element that you're validating, call the `Html.ValidationMessage` method and pass it the name of the `<input>` element you're validating.</span></span> <span data-ttu-id="cb5d0-256">Eklediğiniz `Html.ValidationMessage` yöntemi sağ istediğiniz görüntülenecek hata iletisi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-256">You put the `Html.ValidationMessage` method right where you want the error message to appear.</span></span> <span data-ttu-id="cb5d0-257">Sayfa çalıştığında, `Html.ValidationMessage` yöntemi oluşturur bir `<span>` doğrulama hatası nereye öğesi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-257">When the page runs, the `Html.ValidationMessage` method renders a `<span>` element where the validation error will go.</span></span> <span data-ttu-id="cb5d0-258">(Herhangi bir hata varsa `<span>` öğesi işlenir, yoktur ancak metin içinde.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-258">(If there's no error, the `<span>` element is rendered, but there's no text in it.)</span></span>

<span data-ttu-id="cb5d0-259">Sayfa biçimlendirmeyi değiştirin, böylece içerdiği bir `Html.ValidationMessage` her üç yöntemi `<input>` gibi öğeler sayfasında, bu örnekte:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-259">Change the markup in the page so that it includes an `Html.ValidationMessage` method for each of the three `<input>` elements on the page, like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample10.cshtml?highlight=3,8,13)]

<span data-ttu-id="cb5d0-260">Özet nasıl çalıştığını görmek için ayrıca aşağıdaki işaretlemeyi ekleyin ve hemen sonra kod `<h1>Add a Movie</h1>` öğeyi sayfada:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-260">To see how the summary works, also add the following markup and code right after the `<h1>Add a Movie</h1>` element on the page:</span></span>

[!code-cshtml[Main](entering-data/samples/sample11.cshtml)]

<span data-ttu-id="cb5d0-261">Varsayılan olarak, `Html.ValidationSummary` yöntemi, tüm doğrulama iletilerinin bir listede görüntüler (bir `<ul>` içinde öğesi bir `<div>` öğesi).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-261">By default, the `Html.ValidationSummary` method displays all the validation messages in a list (a `<ul>` element that's inside a `<div>` element).</span></span> <span data-ttu-id="cb5d0-262">Olduğu gibi `Html.ValidationMessage` yöntemi, biçimlendirme doğrulama özeti için her zaman işlenir; herhangi bir hata varsa, liste öğesi oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-262">As with the `Html.ValidationMessage` method, the markup for the validation summary is always rendered; if there are no errors, no list items are rendered.</span></span>

<span data-ttu-id="cb5d0-263">Özet kullanarak yerine doğrulama iletileri görüntülemek için alternatif bir yolu olabilir `Html.ValidationMessage` her alana özgü hata görüntülemek için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-263">The summary can be an alternative way to display validation messages instead of by using the `Html.ValidationMessage` method to display each field-specific error.</span></span> <span data-ttu-id="cb5d0-264">Veya, hem Özet hem de ayrıntılarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-264">Or you can use both a summary and the details.</span></span> <span data-ttu-id="cb5d0-265">Ya da `Html.ValidationSummary` genel bir hata görüntüler ve ardından tek yöntemi `Html.ValidationMessage` ayrıntılarını görüntülemek için çağrıları.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-265">Or you can use the `Html.ValidationSummary` method to display a generic error and then use individual `Html.ValidationMessage` calls to display details.</span></span>

<span data-ttu-id="cb5d0-266">Tam sayfa artık şu örnekteki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-266">The complete page now looks like this example:</span></span>

[!code-cshtml[Main](entering-data/samples/sample12.cshtml)]

<span data-ttu-id="cb5d0-267">İşte bu kadar.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-267">That's it.</span></span> <span data-ttu-id="cb5d0-268">Bir filmi ekleme ancak bir veya daha fazla alan bırakarak artık sayfayı test edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-268">You can now test the page by adding a movie but leaving out one or more of the fields.</span></span> <span data-ttu-id="cb5d0-269">Bunu yaptığınızda, görüntüler aşağıdaki hatayı görürsünüz:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-269">When you do, you see the following error display:</span></span>

![Doğrulama hatası iletilerini gösteren film Sayfası Ekle](entering-data/_static/image5.png)

## <a name="styling-the-validation-error-messages"></a><span data-ttu-id="cb5d0-271">Doğrulama hatası iletilerini stil oluşturma</span><span class="sxs-lookup"><span data-stu-id="cb5d0-271">Styling the Validation Error Messages</span></span>

<span data-ttu-id="cb5d0-272">Hata iletileri vardır, ancak bunlar gerçekten çok iyi göze yoksa görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-272">You can see that there are error messages, but they don't really stand out very well.</span></span> <span data-ttu-id="cb5d0-273">Hata iletileri, ancak stilini belirlemek için kolay bir yolu yoktur.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-273">There's an easy way to style the error messages, though.</span></span>

<span data-ttu-id="cb5d0-274">Tarafından görüntülenen tek hata iletilerini biçimlendirmek için `Html.ValidationMessage`, adlandırılmış bir CSS stil sınıfı oluşturma `field-validation-error`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-274">To style the individual error messages that are displayed by `Html.ValidationMessage`, create a CSS style class named `field-validation-error`.</span></span> <span data-ttu-id="cb5d0-275">Doğrulama Özeti Görünümü tanımlamak için adlandırılmış bir CSS stil sınıfı oluşturma `validation-summary-errors`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-275">To define the look for the validation summary, create a CSS style class named `validation-summary-errors`.</span></span>

<span data-ttu-id="cb5d0-276">Bu teknik nasıl çalıştığını görmek için ekleme bir `<style>` öğe içinde `<head>` sayfasının bölümünde.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-276">To see how this technique works, add a `<style>` element inside the `<head>` section of the page.</span></span> <span data-ttu-id="cb5d0-277">Ardından adlı stil sınıflarını tanımlayın `field-validation-error` ve `validation-summary-errors` aşağıdaki kurallar içerir:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-277">Then define style classes named `field-validation-error` and `validation-summary-errors` that contain the following rules:</span></span>

[!code-cshtml[Main](entering-data/samples/sample13.cshtml?highlight=4-17)]

<span data-ttu-id="cb5d0-278">Ayrı bir stil bilgileri büyük olasılıkla normalde koyabilirsiniz *.css* dosya, ancak kolaylık olması için bunları sayfasında şimdilik koyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-278">Normally you'd probably put style information into a separate *.css* file, but for simplicity you can put them in the page for now.</span></span> <span data-ttu-id="cb5d0-279">(Daha sonra Bu öğretici kümesinde, ayrı bir CSS kurallarını taşırsınız *.css* dosyası.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-279">(Later in this tutorial set, you'll move the CSS rules to a separate *.css* file.)</span></span>

<span data-ttu-id="cb5d0-280">Bir doğrulama hatası varsa `Html.ValidationMessage` yöntemi oluşturur bir `<span>` içeren öğe `class="field-validation-error"`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-280">If there's a validation error, the `Html.ValidationMessage` method renders a `<span>` element that includes `class="field-validation-error"`.</span></span> <span data-ttu-id="cb5d0-281">O sınıf için bir stil tanımını ekleyerek, ileti benzer yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-281">By adding a style definition for that class, you can configure what the message looks like.</span></span> <span data-ttu-id="cb5d0-282">Hatalar, varsa `ValidationSummary` yöntemi öznitelik benzer şekilde dinamik olarak işler `class="validation-summary-errors"`.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-282">If there are errors, the `ValidationSummary` method likewise dynamically renders the attribute `class="validation-summary-errors"`.</span></span>

<span data-ttu-id="cb5d0-283">Sayfayı yeniden çalıştırın ve alanları birkaç kasıtlı olarak bırakın.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-283">Run the page again and deliberately leave out a couple of the fields.</span></span> <span data-ttu-id="cb5d0-284">Hatalar daha belirgin görüntüleniyor.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-284">The errors are now more noticeable.</span></span> <span data-ttu-id="cb5d0-285">(Aslında, overdone ancak yalnızca neler yapabileceğinizi gösterecek şekilde olmasıdır.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-285">(In fact, they're overdone, but that's just to show what you can do.)</span></span>

![Stil uygulanmış doğrulama hatalarını gösteren film Sayfası Ekle](entering-data/_static/image6.png)

## <a name="adding-a-link-to-the-movies-page"></a><span data-ttu-id="cb5d0-287">Filmler sayfasına bağlantı ekleme</span><span class="sxs-lookup"><span data-stu-id="cb5d0-287">Adding a Link to the Movies Page</span></span>

<span data-ttu-id="cb5d0-288">Bir son adımdır almak uygun hale getirmek için *AddMovie* özgün film listenin sayfasından.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-288">One final step is to make it convenient to get to the *AddMovie* page from the original movie listing.</span></span>

<span data-ttu-id="cb5d0-289">Açık *filmler* yeniden sayfa.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-289">Open the *Movies* page again.</span></span> <span data-ttu-id="cb5d0-290">Kapatma sonrasında `</div>` izleyen etiketi `WebGrid` Yardımcısı, aşağıdaki işaretlemeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-290">After the closing `</div>` tag that follows the `WebGrid` helper, add the following markup:</span></span>

[!code-cshtml[Main](entering-data/samples/sample14.cshtml)]

<span data-ttu-id="cb5d0-291">Daha önce gördüğünüz gibi ASP.NET yorumlar `~` Web sitesinin kök olarak işleci.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-291">As you saw before, ASP.NET interprets the `~` operator as the root of the website.</span></span> <span data-ttu-id="cb5d0-292">Kullanmak zorunda değilsiniz `~` işleci; biçimlendirme kullanabileceğinizi `<a href="./AddMovie">Add a movie</a>` veya HTML anlayan yolunu tanımlamak için başka bir şekilde.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-292">You don't have to use the `~` operator; you could use the markup `<a href="./AddMovie">Add a movie</a>` or some other way to define the path that HTML understands.</span></span> <span data-ttu-id="cb5d0-293">Ancak `~` işleci, iyi bir genel yaklaşım Razor sayfaları için bağlantılar oluşturduğunuzda, sitenin daha esnek hale getirdiği için — geçerli sayfa bir alt klasöre taşırsanız, bağlantıyı yine de gidin *AddMovie* sayfası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-293">But the `~` operator is a good general approach when you create links for Razor pages, because it makes the site more flexible — if you move the current page to a subfolder, the link will still go to the *AddMovie* page.</span></span> <span data-ttu-id="cb5d0-294">(Unutmayın `~` işleci yalnızca çalışır *.cshtml* sayfaları.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-294">(Remember that the `~` operator only works in *.cshtml* pages.</span></span> <span data-ttu-id="cb5d0-295">ASP.NET anlar, ancak standart HTML değildir.)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-295">ASP.NET understands it, but it's not standard HTML.)</span></span>

<span data-ttu-id="cb5d0-296">İşiniz bittiğinde çalıştırma *filmler* sayfası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-296">When you're done, run the *Movies* page.</span></span> <span data-ttu-id="cb5d0-297">Bunun gibi bu sayfası görünür:</span><span class="sxs-lookup"><span data-stu-id="cb5d0-297">It will look like this page:</span></span>

!['Filmler Ekle' sayfasına filmler sayfası](entering-data/_static/image7.png)

<span data-ttu-id="cb5d0-299">Tıklayın **film ekleme** için giden emin olmak için bağlantı *AddMovie* sayfası.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-299">Click the **Add a movie** link to make sure that it goes to the *AddMovie* page.</span></span>

## <a name="coming-up-next"></a><span data-ttu-id="cb5d0-300">Sıradaki gelen</span><span class="sxs-lookup"><span data-stu-id="cb5d0-300">Coming Up Next</span></span>

<span data-ttu-id="cb5d0-301">Sonraki öğreticide zaten veritabanında olan verileri düzenleme kullanıcıların öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-301">In the next tutorial, you'll learn how to let users edit data that's already in the database.</span></span>

## <a name="complete-listing-for-addmovie-page"></a><span data-ttu-id="cb5d0-302">Tam listesi için AddMovie sayfası</span><span class="sxs-lookup"><span data-stu-id="cb5d0-302">Complete Listing for AddMovie Page</span></span>

[!code-cshtml[Main](entering-data/samples/sample15.cshtml)]

## <a name="additional-resources"></a><span data-ttu-id="cb5d0-303">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="cb5d0-303">Additional Resources</span></span>

- [<span data-ttu-id="cb5d0-304">ASP.NET Web programlama Razor söz dizimini kullanarak giriş</span><span class="sxs-lookup"><span data-stu-id="cb5d0-304">Introduction to ASP.NET Web Programming Using the Razor Syntax</span></span>](https://go.microsoft.com/fwlink/?LinkID=202890)
- <span data-ttu-id="cb5d0-305">[SQL INSERT INTO deyimi](http://www.w3schools.com/sql/sql_insert.asp) W3Schools sitesinde</span><span class="sxs-lookup"><span data-stu-id="cb5d0-305">[SQL INSERT INTO Statement](http://www.w3schools.com/sql/sql_insert.asp) on the W3Schools site</span></span>
- <span data-ttu-id="cb5d0-306">[ASP.NET Web uygulamasında kullanıcı girdisi doğrulama sayfaları sitelerini](https://go.microsoft.com/fwlink/?LinkId=253002).</span><span class="sxs-lookup"><span data-stu-id="cb5d0-306">[Validating User Input in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=253002).</span></span> <span data-ttu-id="cb5d0-307">İle çalışma hakkında daha fazla bilgi `Validation` Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="cb5d0-307">More information about working with the `Validation` helper.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="cb5d0-308">[Önceki](form-basics.md)
> [İleri](updating-data.md)</span><span class="sxs-lookup"><span data-stu-id="cb5d0-308">[Previous](form-basics.md)
[Next](updating-data.md)</span></span>
