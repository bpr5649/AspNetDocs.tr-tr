---
uid: web-pages/overview/data/working-with-files
title: Bir ASP.NET Web Pages (Razor) sitesindeki dosyalarla çalışma | Microsoft Docs
author: Rick-Anderson
description: Bu bölümde, dosyaları okuma, yazma, ekleme, silme ve karşıya yükleme işlemleri açıklanmaktadır.
ms.author: riande
ms.date: 02/20/2014
ms.assetid: eee916e4-ba4c-439a-a24e-68df7d45a569
msc.legacyurl: /web-pages/overview/data/working-with-files
msc.type: authoredcontent
ms.openlocfilehash: 684c47a8a8480dc040e5144144577c94c35d39e5
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78642368"
---
# <a name="working-with-files-in-an-aspnet-web-pages-razor-site"></a><span data-ttu-id="02dba-103">Bir ASP.NET Web Pages (Razor) sitesinde dosyalarla çalışma</span><span class="sxs-lookup"><span data-stu-id="02dba-103">Working with Files in an ASP.NET Web Pages (Razor) Site</span></span>

<span data-ttu-id="02dba-104">[Tom FitzMacken](https://github.com/tfitzmac) tarafından</span><span class="sxs-lookup"><span data-stu-id="02dba-104">by [Tom FitzMacken](https://github.com/tfitzmac)</span></span>

> <span data-ttu-id="02dba-105">Bu makalede, bir ASP.NET Web Pages (Razor) sitesinde dosyaları okuma, yazma, ekleme, silme ve karşıya yükleme işlemleri açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="02dba-105">This article explains how to read, write, append, delete, and upload files in an ASP.NET Web Pages (Razor) site.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="02dba-106">Görüntüleri karşıya yüklemek ve işlemek istiyorsanız (örneğin, bunları çevirin veya yeniden boyutlandırın), bkz. [ASP.NET Web Pages sitesindeki görüntülerle çalışma](/aspnet/web-pages/overview/ui-layouts-and-themes/9-working-with-images).</span><span class="sxs-lookup"><span data-stu-id="02dba-106">If you want to upload images and manipulate them (for example, flip or resize them), see [Working with Images in an ASP.NET Web Pages Site](/aspnet/web-pages/overview/ui-layouts-and-themes/9-working-with-images).</span></span>
> 
> 
> <span data-ttu-id="02dba-107">**Şunları öğreneceksiniz:**</span><span class="sxs-lookup"><span data-stu-id="02dba-107">**What you'll learn:**</span></span> 
> 
> - <span data-ttu-id="02dba-108">Metin dosyası oluşturma ve verileri yazma.</span><span class="sxs-lookup"><span data-stu-id="02dba-108">How to create a text file and write data to it.</span></span>
> - <span data-ttu-id="02dba-109">Mevcut bir dosyaya veri ekleme.</span><span class="sxs-lookup"><span data-stu-id="02dba-109">How to append data to an existing file.</span></span>
> - <span data-ttu-id="02dba-110">Dosya okuma ve dosyadan görüntüleme.</span><span class="sxs-lookup"><span data-stu-id="02dba-110">How to read a file and display from it.</span></span>
> - <span data-ttu-id="02dba-111">Bir Web sitesinden dosyaları silme.</span><span class="sxs-lookup"><span data-stu-id="02dba-111">How to delete files from a website.</span></span>
> - <span data-ttu-id="02dba-112">Kullanıcıların bir dosya veya birden çok dosyayı karşıya yüklemesine izin verin.</span><span class="sxs-lookup"><span data-stu-id="02dba-112">How to let users upload one file or multiple files.</span></span>
> 
> <span data-ttu-id="02dba-113">Makalesinde sunulan ASP.NET programlama özellikleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="02dba-113">These are the ASP.NET programming features introduced in the article:</span></span>
> 
> - <span data-ttu-id="02dba-114">Dosyaları yönetmek için bir yol sağlayan `File` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="02dba-114">The `File` object, which provides a way to manage files.</span></span>
> - <span data-ttu-id="02dba-115">`FileUpload` Yardımcısı.</span><span class="sxs-lookup"><span data-stu-id="02dba-115">The `FileUpload` helper.</span></span>
> - <span data-ttu-id="02dba-116">Yolu ve dosya adlarını değiştirmenize olanak sağlayan yöntemler sağlayan `Path` nesnesi.</span><span class="sxs-lookup"><span data-stu-id="02dba-116">The `Path` object, which provides methods that let you manipulate path and file names.</span></span>
>   
> 
> ## <a name="software-versions-used-in-the-tutorial"></a><span data-ttu-id="02dba-117">Öğreticide kullanılan yazılım sürümleri</span><span class="sxs-lookup"><span data-stu-id="02dba-117">Software versions used in the tutorial</span></span>
> 
> 
> - <span data-ttu-id="02dba-118">ASP.NET Web sayfaları (Razor) 2</span><span class="sxs-lookup"><span data-stu-id="02dba-118">ASP.NET Web Pages (Razor) 2</span></span>
> - <span data-ttu-id="02dba-119">WebMatrix 2</span><span class="sxs-lookup"><span data-stu-id="02dba-119">WebMatrix 2</span></span>
>   
> 
> <span data-ttu-id="02dba-120">Bu öğretici WebMatrix 3 ile de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-120">This tutorial also works with WebMatrix 3.</span></span>

<a id="Creating_a_Text_File"></a>
## <a name="creating-a-text-file-and-writing-data-to-it"></a><span data-ttu-id="02dba-121">Metin dosyası oluşturma ve verileri yazma</span><span class="sxs-lookup"><span data-stu-id="02dba-121">Creating a Text File and Writing Data to It</span></span>

<span data-ttu-id="02dba-122">Web sitenizde bir veritabanı kullanmanın yanı sıra dosyalarla çalışabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-122">In addition to using a database in your website, you might work with files.</span></span> <span data-ttu-id="02dba-123">Örneğin, site verilerini depolamak için basit bir yol olarak metin dosyalarını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-123">For example, you might use text files as a simple way to store data for the site.</span></span> <span data-ttu-id="02dba-124">(Verileri depolamak için kullanılan bir metin dosyası bazen *düz dosya*olarak adlandırılır.) Metin dosyaları *. txt*, *. xml*veya *. csv* (virgülle ayrılmış değerler) gibi farklı biçimlerde olabilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-124">(A text file that's used to store data is sometimes called a *flat file*.) Text files can be in different formats, like *.txt*, *.xml*, or *.csv* (comma-delimited values).</span></span>

<span data-ttu-id="02dba-125">Verileri bir metin dosyasında depolamak istiyorsanız, oluşturulacak dosyayı ve dosyaya yazılacak verileri belirtmek için `File.WriteAllText` yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-125">If you want to store data in a text file, you can use the `File.WriteAllText` method to specify the file to create and the data to write to it.</span></span> <span data-ttu-id="02dba-126">Bu yordamda, üç `input` öğesi (ad, son ad ve e-posta adresi) ve **Gönder** düğmesi içeren basit bir form içeren bir sayfa oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="02dba-126">In this procedure, you'll create a page that contains a simple form with three `input` elements (first name, last name, and email address) and a **Submit** button.</span></span> <span data-ttu-id="02dba-127">Kullanıcı formu gönderdiğinde, kullanıcının girişini bir metin dosyasında depolayacaksınız.</span><span class="sxs-lookup"><span data-stu-id="02dba-127">When the user submits the form, you'll store the user's input in a text file.</span></span>

1. <span data-ttu-id="02dba-128">Zaten mevcut değilse, *uygulama\_veri*adlı yeni bir klasör oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-128">Create a new folder named *App\_Data*, if it doesn't exist already.</span></span>
2. <span data-ttu-id="02dba-129">Web sitenizin kökünde, *UserData. cshtml*adlı yeni bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-129">At the root of your website, create a new file named *UserData.cshtml*.</span></span>
3. <span data-ttu-id="02dba-130">Var olan içeriği aşağıdaki ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-130">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample1.cshtml)]

    <span data-ttu-id="02dba-131">HTML biçimlendirmesi, formu üç metin kutusu ile oluşturur.</span><span class="sxs-lookup"><span data-stu-id="02dba-131">The HTML markup creates the form with the three text boxes.</span></span> <span data-ttu-id="02dba-132">Kodda, işleme başlamadan önce sayfanın gönderilip gönderilmediğini anlamak için `IsPost` özelliğini kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="02dba-132">In the code, you use the `IsPost` property to determine whether the page has been submitted before you start processing.</span></span>

    <span data-ttu-id="02dba-133">İlk görev, Kullanıcı girişini almak ve bunları değişkenlere atayacaktır.</span><span class="sxs-lookup"><span data-stu-id="02dba-133">The first task is to get the user input and assign it to variables.</span></span> <span data-ttu-id="02dba-134">Kod daha sonra ayrı değişkenlerin değerlerini virgülle ayrılmış tek bir dizede birleştirir, bu daha sonra farklı bir değişkende depolanır.</span><span class="sxs-lookup"><span data-stu-id="02dba-134">The code then concatenates the values of the separate variables into one comma-delimited string, which is then stored in a different variable.</span></span> <span data-ttu-id="02dba-135">Oluşturmakta olduğunuz büyük dizeye tam olarak bir virgül Katıştırırken, virgül ayırıcısının tırnak işaretleri (",") içinde bulunan bir dize olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-135">Notice that the comma separator is a string contained in quotation marks (","), because you're literally embedding a comma into the big string that you're creating.</span></span> <span data-ttu-id="02dba-136">Birlikte birleştirdiğiniz verilerin sonunda `Environment.NewLine`eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-136">At the end of the data that you concatenate together, you add `Environment.NewLine`.</span></span> <span data-ttu-id="02dba-137">Bu bir satır sonu ekler (yeni satır karakteri).</span><span class="sxs-lookup"><span data-stu-id="02dba-137">This adds a line break (a newline character).</span></span> <span data-ttu-id="02dba-138">Bu birleştirme ile oluşturduğunuz şey şöyle görünen bir dizedir:</span><span class="sxs-lookup"><span data-stu-id="02dba-138">What you're creating with all this concatenation is a string that looks like this:</span></span>

    [!code-css[Main](working-with-files/samples/sample2.css)]

    <span data-ttu-id="02dba-139">(Sonunda görünmez bir satır sonuyla birlikte.)</span><span class="sxs-lookup"><span data-stu-id="02dba-139">(With an invisible line break at the end.)</span></span>

    <span data-ttu-id="02dba-140">Ardından, verilerin depolandığı dosyanın konumunu ve adını içeren bir değişken (`dataFile`) oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="02dba-140">You then create a variable (`dataFile`) that contains the location and name of the file to store the data in.</span></span> <span data-ttu-id="02dba-141">Konumun ayarlanması için bazı özel işlem yapılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="02dba-141">Setting the location requires some special handling.</span></span> <span data-ttu-id="02dba-142">Web sitelerinde, Web sunucusundaki dosyalar için *C:\folder\dosya.txt* gibi mutlak yollara kodda başvurmak kötü bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="02dba-142">In websites, it's a bad practice to refer in code to absolute paths like *C:\Folder\File.txt* for files on the web server.</span></span> <span data-ttu-id="02dba-143">Bir Web sitesi taşınırsa, mutlak bir yol yanlış olur.</span><span class="sxs-lookup"><span data-stu-id="02dba-143">If a website is moved, an absolute path will be wrong.</span></span> <span data-ttu-id="02dba-144">Üstelik, barındırılan bir site için (kendi bilgisayarınızda aksine), kodu yazarken doğru yolun ne olduğunu de bilemezsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-144">Moreover, for a hosted site (as opposed to on your own computer) you typically don't even know what the correct path is when you're writing the code.</span></span>

    <span data-ttu-id="02dba-145">Ancak bazen (Şimdi de bir dosya yazmak için), tüm yola ihtiyacınız vardır.</span><span class="sxs-lookup"><span data-stu-id="02dba-145">But sometimes (like now, for writing a file) you do need a complete path.</span></span> <span data-ttu-id="02dba-146">Çözüm, `Server` nesnesinin `MapPath` yöntemini kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="02dba-146">The solution is to use the `MapPath` method of the `Server` object.</span></span> <span data-ttu-id="02dba-147">Bu, Web sitenizin tüm yolunu döndürür.</span><span class="sxs-lookup"><span data-stu-id="02dba-147">This returns the complete path to your website.</span></span> <span data-ttu-id="02dba-148">Web sitesi kökünün yolunu almak için, `~` işlecine (sitenin sanal kökünü yeniden eklemek için) `MapPath`.</span><span class="sxs-lookup"><span data-stu-id="02dba-148">To get the path for the website root, you user the `~` operator (to represen the site's virtual root) to `MapPath`.</span></span> <span data-ttu-id="02dba-149">(Bu alt klasörün yolunu almak için *~/App\_Data/* gibi bir alt klasör adı da geçirebilirsiniz.) Daha sonra, bir bütün yol oluşturmak için yöntemin döndürdüğü her şeyi üzerine ek bilgileri birleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-149">(You can also pass a subfolder name to it, like *~/App\_Data/*, to get the path for that subfolder.) You can then concatenate additional information onto whatever the method returns in order to create a complete path.</span></span> <span data-ttu-id="02dba-150">Bu örnekte, bir dosya adı eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-150">In this example, you add a file name.</span></span> <span data-ttu-id="02dba-151">( [Razor söz dizimini kullanarak ASP.NET Web sayfaları programlamasına giriş](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths)bölümünde dosya ve klasör yollarıyla çalışma hakkında daha fazla bilgi edinebilirsiniz.)</span><span class="sxs-lookup"><span data-stu-id="02dba-151">(You can read more about how to work with file and folder paths in [Introduction to ASP.NET Web Pages Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span></span>

    <span data-ttu-id="02dba-152">Dosya, *App\_veri* klasörüne kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-152">The file is saved in the *App\_Data* folder.</span></span> <span data-ttu-id="02dba-153">Bu klasör, [ASP.NET Web sayfaları sitelerinde bir veritabanıyla çalışmaya giriş](https://go.microsoft.com/fwlink/?LinkId=195209)bölümünde açıklandığı gibi, ASP.NET içinde veri dosyalarını depolamak için kullanılan özel bir klasördür.</span><span class="sxs-lookup"><span data-stu-id="02dba-153">This folder is a special folder in ASP.NET that's used to store data files, as described in [Introduction to Working with a Database in ASP.NET Web Pages Sites](https://go.microsoft.com/fwlink/?LinkId=195209).</span></span>

    <span data-ttu-id="02dba-154">`File` nesnesinin `WriteAllText` yöntemi, verileri dosyaya yazar.</span><span class="sxs-lookup"><span data-stu-id="02dba-154">The `WriteAllText` method of the `File` object writes the data to the file.</span></span> <span data-ttu-id="02dba-155">Bu yöntem iki parametre alır: yazılacak dosyanın adı (yol ile) ve yazılacak gerçek veriler.</span><span class="sxs-lookup"><span data-stu-id="02dba-155">This method takes two parameters: the name (with path) of the file to write to, and the actual data to write.</span></span> <span data-ttu-id="02dba-156">İlk parametrenin adının ön ek olarak bir `@` karakteri olduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="02dba-156">Notice that the name of the first parameter has an `@` character as a prefix.</span></span> <span data-ttu-id="02dba-157">Bu, tam bir dize sabit değeri ASP.NET ve "/" gibi karakterlerin özel yollarla yorumlanmaması gerektiğini söyler.</span><span class="sxs-lookup"><span data-stu-id="02dba-157">This tells ASP.NET that you're providing a verbatim string literal, and that characters like "/" should not be interpreted in special ways.</span></span> <span data-ttu-id="02dba-158">(Daha fazla bilgi için bkz. [Razor sözdizimini kullanarak ASP.NET Web programlamaya giriş](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span><span class="sxs-lookup"><span data-stu-id="02dba-158">(For more information, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=195205#ID_WorkingWithFileAndFolderPaths).)</span></span>

    > [!NOTE]
    > <span data-ttu-id="02dba-159">Kodunuzun *App\_Data* klasöründeki dosyaları kaydetmesi için, uygulamanın bu klasör için okuma-yazma izinlerine sahip olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="02dba-159">In order for your code to save files in the *App\_Data* folder, the application needs read-write permissions for that folder.</span></span> <span data-ttu-id="02dba-160">Geliştirme bilgisayarınızda bu genellikle bir sorun değildir.</span><span class="sxs-lookup"><span data-stu-id="02dba-160">On your development computer this is not typically an issue.</span></span> <span data-ttu-id="02dba-161">Ancak, sitenizi bir barındırma sağlayıcısının Web sunucusunda yayımladığınızda, bu izinleri açıkça ayarlamanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-161">However, when you publish your site to a hosting provider's web server, you might need to explicitly set those permissions.</span></span> <span data-ttu-id="02dba-162">Bu kodu bir barındırma sağlayıcısının sunucusunda çalıştırırsanız ve hata alırsanız, bu izinleri nasıl ayarlayacağınızı öğrenmek için barındırma sağlayıcısına başvurun.</span><span class="sxs-lookup"><span data-stu-id="02dba-162">If you run this code on a hosting provider's server and get errors, check with the hosting provider to find out how to set those permissions.</span></span>

- <span data-ttu-id="02dba-163">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-163">Run the page in a browser.</span></span> 

    ![](working-with-files/_static/image1.jpg)
- <span data-ttu-id="02dba-164">Alanlara değerler girin ve ardından **Gönder**' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-164">Enter values into the fields and then click **Submit**.</span></span>
- <span data-ttu-id="02dba-165">Tarayıcıyı kapatın.</span><span class="sxs-lookup"><span data-stu-id="02dba-165">Close the browser.</span></span>
- <span data-ttu-id="02dba-166">Projeye dönün ve görünümü yenileyin.</span><span class="sxs-lookup"><span data-stu-id="02dba-166">Return to the project and refresh the view.</span></span>
- <span data-ttu-id="02dba-167">*Data. txt* dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="02dba-167">Open the *data.txt* file.</span></span> <span data-ttu-id="02dba-168">Formda gönderdiğiniz veriler dosyasında bulunur.</span><span class="sxs-lookup"><span data-stu-id="02dba-168">The data you submitted in the form is in the file.</span></span> 

    ![görüntüyle](working-with-files/_static/image2.jpg)
- <span data-ttu-id="02dba-170">*Data. txt* dosyasını kapatın.</span><span class="sxs-lookup"><span data-stu-id="02dba-170">Close the *data.txt* file.</span></span>

<a id="Appending_Data"></a>
## <a name="appending-data-to-an-existing-file"></a><span data-ttu-id="02dba-171">Mevcut bir dosyaya veri ekleme</span><span class="sxs-lookup"><span data-stu-id="02dba-171">Appending Data to an Existing File</span></span>

<span data-ttu-id="02dba-172">Önceki örnekte, içinde yalnızca bir veri parçası olan bir metin dosyası oluşturmak için `WriteAllText` kullandınız.</span><span class="sxs-lookup"><span data-stu-id="02dba-172">In the previous example, you used `WriteAllText` to create a text file that's got just one piece of data in it.</span></span> <span data-ttu-id="02dba-173">Yöntemi yeniden çağırır ve aynı dosya adına geçirirseniz, var olan dosyanın tamamen üzerine yazılır.</span><span class="sxs-lookup"><span data-stu-id="02dba-173">If you call the method again and pass it the same file name, the existing file is completely overwritten.</span></span> <span data-ttu-id="02dba-174">Bununla birlikte, bir dosyayı oluşturduktan sonra genellikle dosyanın sonuna yeni veri eklemek istersiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-174">However, after you've created a file you often want to add new data to the end of the file.</span></span> <span data-ttu-id="02dba-175">Bunu, `File` nesnesinin `AppendAllText` yöntemini kullanarak yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-175">You can do that using the `AppendAllText` method of the `File` object.</span></span>

1. <span data-ttu-id="02dba-176">Web sitesinde, *UserData. cshtml* dosyasının bir kopyasını oluşturun ve Copy *userdatamultiple. cshtml*olarak adlandırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-176">In the website, make a copy of the *UserData.cshtml* file and name the copy *UserDataMultiple.cshtml*.</span></span>
2. <span data-ttu-id="02dba-177">Kod bloğunu, açma `<!DOCTYPE html>` etiketinden önce aşağıdaki kod bloğu ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-177">Replace the code block before the opening `<!DOCTYPE html>` tag with the following code block:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample3.cshtml)]

    <span data-ttu-id="02dba-178">Bu kodun önceki örnekteki bir değişikliği vardır.</span><span class="sxs-lookup"><span data-stu-id="02dba-178">This code has one change in it from the previous example.</span></span> <span data-ttu-id="02dba-179">`WriteAllText`kullanmak yerine `the AppendAllText` yöntemini kullanır.</span><span class="sxs-lookup"><span data-stu-id="02dba-179">Instead of using `WriteAllText`, it uses `the AppendAllText` method.</span></span> <span data-ttu-id="02dba-180">Yöntemler benzerdir, çünkü `AppendAllText` verileri dosyanın sonuna ekler.</span><span class="sxs-lookup"><span data-stu-id="02dba-180">The methods are similar, except that `AppendAllText` adds the data to the end of the file.</span></span> <span data-ttu-id="02dba-181">`WriteAllText`gibi, zaten yoksa, `AppendAllText` dosyayı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="02dba-181">As with `WriteAllText`, `AppendAllText` creates the file if it doesn't already exist.</span></span>
3. <span data-ttu-id="02dba-182">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-182">Run the page in a browser.</span></span>
4. <span data-ttu-id="02dba-183">Alanlar için değerler girin ve ardından **Gönder**' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-183">Enter values for the fields and then click **Submit**.</span></span>
5. <span data-ttu-id="02dba-184">Daha fazla veri ekleyin ve formu yeniden gönderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-184">Add more data and submit the form again.</span></span>
6. <span data-ttu-id="02dba-185">Projenize dönün, proje klasörüne sağ tıklayın ve ardından **Yenile**' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-185">Return to your project, right-click the project folder, and then click **Refresh**.</span></span>
7. <span data-ttu-id="02dba-186">*Data. txt* dosyasını açın.</span><span class="sxs-lookup"><span data-stu-id="02dba-186">Open the *data.txt* file.</span></span> <span data-ttu-id="02dba-187">Şimdi girdiğiniz yeni verileri içerir.</span><span class="sxs-lookup"><span data-stu-id="02dba-187">It now contains the new data that you just entered.</span></span> 

    ![görüntüyle](working-with-files/_static/image3.jpg)

<a id="Reading_and_Displaying_Data"></a>
## <a name="reading-and-displaying-data-from-a-file"></a><span data-ttu-id="02dba-189">Dosyadaki verileri okuma ve görüntüleme</span><span class="sxs-lookup"><span data-stu-id="02dba-189">Reading and Displaying Data from a File</span></span>

<span data-ttu-id="02dba-190">Bir metin dosyasına veri yazmanıza gerek olmasa bile, bazen verileri bir dosyadan okumanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-190">Even if you don't need to write data to a text file, you'll probably sometimes need to read data from one.</span></span> <span data-ttu-id="02dba-191">Bunu yapmak için `File` nesnesini yeniden kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-191">To do this, you can again use the `File` object.</span></span> <span data-ttu-id="02dba-192">Her satırı ayrı ayrı okumak için `File` nesnesini kullanabilirsiniz (satır sonlarına göre) veya birbirinden ayrıldıklarında bağımsız bir öğeyi okuyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-192">You can use the `File` object to read each line individually (separated by line breaks) or to read individual item no matter how they're separated.</span></span>

<span data-ttu-id="02dba-193">Bu yordam, önceki örnekte oluşturduğunuz verilerin nasıl okunacağını ve görüntüleneceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="02dba-193">This procedure shows you how to read and display the data that you created in the previous example.</span></span>

1. <span data-ttu-id="02dba-194">Web sitenizin kökünde *displayData. cshtml*adlı yeni bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-194">At the root of your website, create a new file named *DisplayData.cshtml*.</span></span>
2. <span data-ttu-id="02dba-195">Var olan içeriği aşağıdaki ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-195">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample4.cshtml)]

    <span data-ttu-id="02dba-196">Kod, önceki örnekte oluşturduğunuz dosyayı, bu yöntem çağrısını kullanarak `userData`adlı bir değişkene okuyarak başlar:</span><span class="sxs-lookup"><span data-stu-id="02dba-196">The code starts by reading the file that you created in the previous example into a variable named `userData`, using this method call:</span></span>

    [!code-css[Main](working-with-files/samples/sample5.css)]

    <span data-ttu-id="02dba-197">Bunu yapmak için kod `if` deyimin içindedir.</span><span class="sxs-lookup"><span data-stu-id="02dba-197">The code to do this is inside an `if` statement.</span></span> <span data-ttu-id="02dba-198">Bir dosyayı okumak istediğinizde, dosyanın kullanılabilir olup olmadığını anlamak için `File.Exists` metodunu kullanmak iyi bir fikirdir.</span><span class="sxs-lookup"><span data-stu-id="02dba-198">When you want to read a file, it's a good idea to use the `File.Exists` method to determine first whether the file is available.</span></span> <span data-ttu-id="02dba-199">Kod ayrıca dosyanın boş olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="02dba-199">The code also checks whether the file is empty.</span></span>

    <span data-ttu-id="02dba-200">Sayfanın gövdesi, diğeri içinde iç içe olan iki `foreach` döngüsü içerir.</span><span class="sxs-lookup"><span data-stu-id="02dba-200">The body of the page contains two `foreach` loops, one nested inside the other.</span></span> <span data-ttu-id="02dba-201">Dış `foreach` döngüsü, veri dosyasından bir seferde bir satır alır.</span><span class="sxs-lookup"><span data-stu-id="02dba-201">The outer `foreach` loop gets one line at a time from the data file.</span></span> <span data-ttu-id="02dba-202">Bu durumda, satırlar dosyadaki &#8212; satır sonları tarafından tanımlanır, her veri öğesi kendi satırlardır.</span><span class="sxs-lookup"><span data-stu-id="02dba-202">In this case, the lines are defined by line breaks in the file &#8212; that is, each data item is on its own line.</span></span> <span data-ttu-id="02dba-203">Dış döngü sıralı bir liste içinde (`<ol>` öğesi) yeni bir öğe (`<li>` öğesi) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="02dba-203">The outer loop creates a new item (`<li>` element) inside an ordered list (`<ol>` element).</span></span>

    <span data-ttu-id="02dba-204">İç döngü, her bir veri satırını bir sınırlayıcı olarak virgül kullanarak öğelere (alanlar) böler.</span><span class="sxs-lookup"><span data-stu-id="02dba-204">The inner loop splits each data line into items (fields) using a comma as a delimiter.</span></span> <span data-ttu-id="02dba-205">(Önceki örneğe bağlı olarak, her bir satırın adı, son adı ve e &#8212; -posta adresi, her biri bir virgülle ayrılmış olarak üç alan içerdiği anlamına gelir.) İç döngü Ayrıca bir `<ul>` listesi oluşturur ve veri satırındaki her alan için bir liste öğesi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="02dba-205">(Based on the previous example, this means that each line contains three fields &#8212; the first name, last name, and email address, each separated by a comma.) The inner loop also creates a `<ul>` list and displays one list item for each field in the data line.</span></span>

    <span data-ttu-id="02dba-206">Kod, iki veri türü, bir dizi ve `char` veri türü kullanmayı gösterir.</span><span class="sxs-lookup"><span data-stu-id="02dba-206">The code illustrates how to use two data types, an array and the `char` data type.</span></span> <span data-ttu-id="02dba-207">`File.ReadAllLines` yöntemi verileri dizi olarak döndürdüğünden dizi gereklidir.</span><span class="sxs-lookup"><span data-stu-id="02dba-207">The array is required because the `File.ReadAllLines` method returns data as an array.</span></span> <span data-ttu-id="02dba-208">`char` veri türü gereklidir çünkü `Split` yöntemi her bir öğenin `char`türünde olduğu bir `array` döndürür.</span><span class="sxs-lookup"><span data-stu-id="02dba-208">The `char` data type is required because the `Split` method returns an `array` in which each element is of the type `char`.</span></span> <span data-ttu-id="02dba-209">(Diziler hakkında bilgi için bkz. [Razor sözdizimini kullanarak ASP.NET Web programlamaya giriş](https://go.microsoft.com/fwlink/?LinkId=202890#ID_CollectionsAndObjects).)</span><span class="sxs-lookup"><span data-stu-id="02dba-209">(For information about arrays, see [Introduction to ASP.NET Web Programming Using the Razor Syntax](https://go.microsoft.com/fwlink/?LinkId=202890#ID_CollectionsAndObjects).)</span></span>
3. <span data-ttu-id="02dba-210">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-210">Run the page in a browser.</span></span> <span data-ttu-id="02dba-211">Önceki örnekler için girdiğiniz veriler görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="02dba-211">The data you entered for the previous examples is displayed.</span></span> 

    ![görüntüyle](working-with-files/_static/image4.jpg)

> [!TIP] 
> 
> <span data-ttu-id="02dba-213">**Microsoft Excel virgülle ayrılmış bir dosyadan veri görüntüleme**</span><span class="sxs-lookup"><span data-stu-id="02dba-213">**Displaying Data from a Microsoft Excel Comma-Delimited File**</span></span>
> 
> <span data-ttu-id="02dba-214">Bir elektronik tabloda bulunan verileri virgülle ayrılmış dosya ( *. csv* dosyası) olarak kaydetmek Için Microsoft Excel 'i kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-214">You can use Microsoft Excel to save the data contained in a spreadsheet as a comma-delimited file (*.csv* file).</span></span> <span data-ttu-id="02dba-215">Bunu yaptığınızda, dosya Excel biçiminde değil, düz metin olarak kaydedilir.</span><span class="sxs-lookup"><span data-stu-id="02dba-215">When you do, the file is saved in plain text, not in Excel format.</span></span> <span data-ttu-id="02dba-216">Elektronik tablodaki her satır metin dosyasında bir satır sonuyla ayrılır ve her bir veri öğesi virgülle ayrılır.</span><span class="sxs-lookup"><span data-stu-id="02dba-216">Each row in the spreadsheet is separated by a line break in the text file, and each data item is separated by a comma.</span></span> <span data-ttu-id="02dba-217">Kodunuzda veri dosyasının adını değiştirerek, Excel virgülle ayrılmış bir dosyayı okumak için önceki örnekte gösterilen kodu kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-217">You can use the code shown in the previous example to read an Excel comma-delimited file just by changing the name of the data file in your code.</span></span>

<a id="Deleting_Files"></a>
## <a name="deleting-files"></a><span data-ttu-id="02dba-218">Dosyalar siliniyor</span><span class="sxs-lookup"><span data-stu-id="02dba-218">Deleting Files</span></span>

<span data-ttu-id="02dba-219">Web sitenizdeki dosyaları silmek için `File.Delete` yöntemini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-219">To delete files from your website, you can use the `File.Delete` method.</span></span> <span data-ttu-id="02dba-220">Bu yordamda, kullanıcıların dosyanın adını öğrendikleri bir *görüntü klasöründen bir görüntüyü (* *. jpg* dosyası) silmesine nasıl izin verilmektedir.</span><span class="sxs-lookup"><span data-stu-id="02dba-220">This procedure shows how to let users delete an image (*.jpg* file) from an *images* folder if they know the name of the file.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="02dba-221">**Önemli** Bir üretim web sitesinde, genellikle verilerde değişiklik yapmasına izin verilen kişileri kısıtlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-221">**Important** In a production website, you typically restrict who's allowed to make changes to the data.</span></span> <span data-ttu-id="02dba-222">Üyeliği ayarlama ve kullanıcılara sitede görevler gerçekleştirme izni verme yolları hakkında bilgi için bkz. [ASP.NET Web Pages sitesine güvenlik ve üyelik ekleme](https://go.microsoft.com/fwlink/?LinkId=202904).</span><span class="sxs-lookup"><span data-stu-id="02dba-222">For information about how to set up membership and about ways to authorize users to perform tasks on the site, see [Adding Security and Membership to an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=202904).</span></span>

1. <span data-ttu-id="02dba-223">Web sitesinde *görüntüler*adlı bir alt klasör oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-223">In the website, create a subfolder named *images*.</span></span>
2. <span data-ttu-id="02dba-224">Bir veya daha fazla *. jpg* dosyasını *görüntüler* klasörüne kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-224">Copy one or more *.jpg* files into the *images* folder.</span></span>
3. <span data-ttu-id="02dba-225">Web sitesinin kökünde, *Filedelete. cshtml*adlı yeni bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-225">In the root of the website, create a new file named *FileDelete.cshtml*.</span></span>
4. <span data-ttu-id="02dba-226">Var olan içeriği aşağıdaki ile değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-226">Replace the existing content with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample6.cshtml)]

    <span data-ttu-id="02dba-227">Bu sayfa, kullanıcıların bir resim dosyası adını girebilecekleri bir form içerir.</span><span class="sxs-lookup"><span data-stu-id="02dba-227">This page contains a form where users can enter the name of an image file.</span></span> <span data-ttu-id="02dba-228">*. Jpg* dosya adı uzantısını girmez; dosya adını bu şekilde kısıtlayarak, kullanıcıların sitenizdeki rastgele dosyaları silmesini engeller.</span><span class="sxs-lookup"><span data-stu-id="02dba-228">They don't enter the *.jpg* file-name extension; by restricting the file name like this, you help prevents users from deleting arbitrary files on your site.</span></span>

    <span data-ttu-id="02dba-229">Kod, kullanıcının girdiği dosya adını okur ve sonra bir bütün yolu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="02dba-229">The code reads the file name that the user has entered and then constructs a complete path.</span></span> <span data-ttu-id="02dba-230">Bu yolu oluşturmak için, kod geçerli Web sitesi yolunu (`Server.MapPath` yöntemi tarafından döndürülen), *görüntüler* klasörünün adını, kullanıcının sağladıysa ve ". jpg" değerini sabit bir dize olarak kullanır.</span><span class="sxs-lookup"><span data-stu-id="02dba-230">To create the path, the code uses the current website path (as returned by the `Server.MapPath` method), the *images* folder name, the name that the user has provided, and ".jpg" as a literal string.</span></span>

    <span data-ttu-id="02dba-231">Dosyayı silmek için kod `File.Delete` yöntemini çağırarak, yeni oluşturduğunuz tam yolu geçirerek kodu çağırır.</span><span class="sxs-lookup"><span data-stu-id="02dba-231">To delete the file, the code calls the `File.Delete` method, passing it the full path that you just constructed.</span></span> <span data-ttu-id="02dba-232">Biçimlendirmenin sonunda, kod dosyanın silindiğini belirten bir onay iletisi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="02dba-232">At the end of the markup, code displays a confirmation message that the file was deleted.</span></span>
5. <span data-ttu-id="02dba-233">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-233">Run the page in a browser.</span></span> 

    ![görüntüyle](working-with-files/_static/image5.jpg)
6. <span data-ttu-id="02dba-235">Silinecek dosyanın adını girin ve ardından **Gönder**' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-235">Enter the name of the file to delete and then click **Submit**.</span></span> <span data-ttu-id="02dba-236">Dosya silinmişse, dosyanın adı sayfanın altında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="02dba-236">If the file was deleted, the name of the file is displayed at the bottom of the page.</span></span>

<a id="Letting_Users_Upload_a_File"></a>
## <a name="letting-users-upload-a-file"></a><span data-ttu-id="02dba-237">Kullanıcıların bir dosyayı karşıya yüklemesine izin verme</span><span class="sxs-lookup"><span data-stu-id="02dba-237">Letting Users Upload a File</span></span>

<span data-ttu-id="02dba-238">`FileUpload` yardımcı, kullanıcıların Web sitenize dosya yüklemesine olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="02dba-238">The `FileUpload` helper lets users upload files to your website.</span></span> <span data-ttu-id="02dba-239">Aşağıdaki yordamda, kullanıcıların tek bir dosyayı karşıya yüklemesine izin vermek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="02dba-239">The procedure below shows you how to let users upload a single file.</span></span>

1. <span data-ttu-id="02dba-240">Daha önce eklemediğiniz [bir ASP.NET Web sayfaları sitesine yardımcılar yükleme](https://go.microsoft.com/fwlink/?LinkId=252372)bölümünde açıklandığı gibi, ASP.NET Web yardımcıları kitaplığını Web sitenize ekleyin.</span><span class="sxs-lookup"><span data-stu-id="02dba-240">Add the ASP.NET Web Helpers Library to your website as described in [Installing Helpers in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=252372), if you didn't add it previously.</span></span>
2. <span data-ttu-id="02dba-241">*App\_Data* klasöründe yeni bir klasör oluşturun ve bu dosyayı *UploadedFiles*olarak adlandırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-241">In the *App\_Data* folder, create a new a folder and name it *UploadedFiles*.</span></span>
3. <span data-ttu-id="02dba-242">Kökte, *FileUpload. cshtml*adlı yeni bir dosya oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-242">In the root, create a new file named *FileUpload.cshtml*.</span></span>
4. <span data-ttu-id="02dba-243">Sayfadaki mevcut içeriği aşağıdaki gibi değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-243">Replace the existing content in the page with the following:</span></span> 

    [!code-cshtml[Main](working-with-files/samples/sample7.cshtml)]

    <span data-ttu-id="02dba-244">Sayfanın gövde kısmı, büyük olasılıkla bildiğiniz karşıya yükleme kutusu ve düğmelerini oluşturmak için `FileUpload` yardımcısını kullanır:</span><span class="sxs-lookup"><span data-stu-id="02dba-244">The body portion of the page uses the `FileUpload` helper to create the upload box and buttons that you're probably familiar with:</span></span>

    ![görüntüyle](working-with-files/_static/image6.jpg)

    <span data-ttu-id="02dba-246">`FileUpload` Yardımcısı için ayarladığınız özellikler, dosyanın karşıya yüklenmesini ve Gönder düğmesinin **karşıya yüklemeyi**okumasını istediğinizi belirtir.</span><span class="sxs-lookup"><span data-stu-id="02dba-246">The properties that you set for the `FileUpload` helper specify that you want a single box for the file to upload and that you want the submit button to read **Upload**.</span></span> <span data-ttu-id="02dba-247">(Makalede daha sonra daha fazla kutu ekleyeceksiniz.)</span><span class="sxs-lookup"><span data-stu-id="02dba-247">(You'll add more boxes later in the article.)</span></span>

    <span data-ttu-id="02dba-248">Kullanıcı **karşıya yükle**' ye tıkladığında, sayfanın üst kısmındaki kod dosyayı alır ve kaydeder.</span><span class="sxs-lookup"><span data-stu-id="02dba-248">When the user clicks **Upload**, the code at the top of the page gets the file and saves it.</span></span> <span data-ttu-id="02dba-249">Normalde form alanlarından değerleri almak için kullandığınız `Request` nesnesi ayrıca karşıya yüklenmiş dosyayı (veya dosyaları) içeren bir `Files` dizisine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="02dba-249">The `Request` object that you normally use to get values from form fields also has a `Files` array that contains the file (or files) that have been uploaded.</span></span> <span data-ttu-id="02dba-250">Örneğin, ilk karşıya yüklenen dosyayı almak için, dosyadaki belirli konumlardan &#8212; ayrı ayrı dosyalar alabilirsiniz, `Request.Files[0]`alırsınız, ikinci dosyayı almak için, `Request.Files[1]`ve daha fazlasını yapın.</span><span class="sxs-lookup"><span data-stu-id="02dba-250">You can get individual files out of specific positions in the array &#8212; for example, to get the first uploaded file, you get `Request.Files[0]`, to get the second file, you get `Request.Files[1]`, and so on.</span></span> <span data-ttu-id="02dba-251">(Programlamada, Sayın genellikle sıfırdan başlayacağını unutmayın.)</span><span class="sxs-lookup"><span data-stu-id="02dba-251">(Remember that in programming, counting usually starts at zero.)</span></span>

    <span data-ttu-id="02dba-252">Karşıya yüklenen bir dosyayı getirirken, bunu işleyebilmeniz için bir değişkene (burada `uploadedFile`) yerleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-252">When you fetch an uploaded file, you put it in a variable (here, `uploadedFile`) so that you can manipulate it.</span></span> <span data-ttu-id="02dba-253">Karşıya yüklenen dosyanın adını öğrenmek için, `FileName` özelliğini almanız yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="02dba-253">To determine the name of the uploaded file, you just get its `FileName` property.</span></span> <span data-ttu-id="02dba-254">Ancak, Kullanıcı bir dosyayı karşıya yüklediğinde, `FileName` tüm yolu içeren kullanıcının özgün adını içerir.</span><span class="sxs-lookup"><span data-stu-id="02dba-254">However, when the user uploads a file, `FileName` contains the user's original name, which includes the entire path.</span></span> <span data-ttu-id="02dba-255">Şöyle görünebilir:</span><span class="sxs-lookup"><span data-stu-id="02dba-255">It might look like this:</span></span>

    <span data-ttu-id="02dba-256">*C:\users\ortakörnek.txt*</span><span class="sxs-lookup"><span data-stu-id="02dba-256">*C:\Users\Public\Sample.txt*</span></span>

    <span data-ttu-id="02dba-257">Tüm bu yol bilgilerini istemezsiniz, ancak bu, sunucu için değil kullanıcı bilgisayarındaki yoldur.</span><span class="sxs-lookup"><span data-stu-id="02dba-257">You don't want all that path information, though, because that's the path on the user's computer, not for your server.</span></span> <span data-ttu-id="02dba-258">Yalnızca gerçek dosya adını (*Sample. txt*) istiyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="02dba-258">You just want the actual file name (*Sample.txt*).</span></span> <span data-ttu-id="02dba-259">`Path.GetFileName` yöntemini kullanarak yalnızca bir yoldan dosya açabilirsiniz, örneğin:</span><span class="sxs-lookup"><span data-stu-id="02dba-259">You can strip out just the file from a path by using the `Path.GetFileName` method, like this:</span></span>

    [!code-csharp[Main](working-with-files/samples/sample8.cs)]

    <span data-ttu-id="02dba-260">`Path` nesnesi, yolları eklemek, yolları birleştirmek, vb. gibi çeşitli yöntemlere sahip bir yardımcı programdır.</span><span class="sxs-lookup"><span data-stu-id="02dba-260">The `Path` object is a utility that has a number of methods like this that you can use to strip paths, combine paths, and so on.</span></span>

    <span data-ttu-id="02dba-261">Karşıya yüklenen dosyanın adını aldıktan sonra, karşıya yüklenen dosyayı Web sitenizde depolamak istediğiniz yere yeni bir yol oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-261">Once you've gotten the name of the uploaded file, you can build a new path for where you want to store the uploaded file in your website.</span></span> <span data-ttu-id="02dba-262">Bu durumda, yeni bir yol oluşturmak için `Server.MapPath`, klasör adlarını (*App\_Data/UploadedFiles*) ve yeni bir dosya adı birleştirmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-262">In this case, you combine `Server.MapPath`, the folder names (*App\_Data/UploadedFiles*), and the newly stripped file name to create a new path.</span></span> <span data-ttu-id="02dba-263">Sonra dosyayı kaydetmek için karşıya yüklenen dosyanın `SaveAs` yöntemini çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-263">You can then call the uploaded file's `SaveAs` method to actually save the file.</span></span>
5. <span data-ttu-id="02dba-264">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-264">Run the page in a browser.</span></span> 

    ![görüntüyle](working-with-files/_static/image7.jpg)
6. <span data-ttu-id="02dba-266">**Araştır** ' a tıklayın ve ardından karşıya yüklenecek dosyayı seçin.</span><span class="sxs-lookup"><span data-stu-id="02dba-266">Click **Browse** and then select a file to upload.</span></span> 

    ![görüntüyle](working-with-files/_static/image8.jpg)

    <span data-ttu-id="02dba-268">**Tarayıcı** düğmesinin yanındaki metin kutusu yolu ve dosya konumunu içerir.</span><span class="sxs-lookup"><span data-stu-id="02dba-268">The text box next to the **Browse** button will contain the path and file location.</span></span>

    ![görüntüyle](working-with-files/_static/image9.jpg)
7. <span data-ttu-id="02dba-270">**Karşıya Yükle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-270">Click **Upload**.</span></span>
8. <span data-ttu-id="02dba-271">Web sitesinde proje klasörüne sağ tıklayın ve ardından **Yenile**' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-271">In the website, right-click the project folder and then click **Refresh**.</span></span>
9. <span data-ttu-id="02dba-272">*UploadedFiles* klasörünü açın.</span><span class="sxs-lookup"><span data-stu-id="02dba-272">Open the *UploadedFiles* folder.</span></span> <span data-ttu-id="02dba-273">Karşıya yüklediğiniz dosya klasöründe.</span><span class="sxs-lookup"><span data-stu-id="02dba-273">The file that you uploaded is in the folder.</span></span> 

    ![görüntüyle](working-with-files/_static/image10.jpg)

<a id="Letting_Users_Upload_Multiple_Files"></a>
## <a name="letting-users-upload-multiple-files"></a><span data-ttu-id="02dba-275">Kullanıcıların birden çok dosyayı karşıya yüklemesine izin verme</span><span class="sxs-lookup"><span data-stu-id="02dba-275">Letting Users Upload Multiple Files</span></span>

<span data-ttu-id="02dba-276">Önceki örnekte, kullanıcıların bir dosyayı karşıya yüklemesine izin vereceksiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-276">In the previous example, you let users upload one file.</span></span> <span data-ttu-id="02dba-277">Ancak, aynı anda birden fazla dosyayı karşıya yüklemek için `FileUpload` yardımcısını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-277">But you can use the `FileUpload` helper to upload more than one file at a time.</span></span> <span data-ttu-id="02dba-278">Bu, bir kerede bir dosyayı karşıya yüklemek sıkıcı olan fotoğrafları karşıya yükleme gibi senaryolar için kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="02dba-278">This is handy for scenarios like uploading photos, where uploading one file at a time is tedious.</span></span> <span data-ttu-id="02dba-279">( [ASP.NET Web Pages sitesindeki görüntülerle çalışma](https://go.microsoft.com/fwlink/?LinkId=202897)bölümünde fotoğraf yükleme hakkında bilgi edinebilirsiniz.) Bu örnekte, kullanıcıların aynı anda iki kez karşıya yüklemesine izin vermek gösterilmektedir, ancak aynı tekniği kullanarak daha fazla karşıya yükleme yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-279">(You can read about uploading photos in [Working with Images in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=202897).) This example shows how to let users upload two at a time, although you can use the same technique to upload more than that.</span></span>

1. <span data-ttu-id="02dba-280">Henüz yapmadıysanız, [bir ASP.NET Web sayfaları sitesine yardımcılar yükleme](https://go.microsoft.com/fwlink/?LinkId=252372)bölümünde açıklandığı gibi, ASP.NET Web yardımcıları kitaplığı 'nı Web sitenize ekleyin.</span><span class="sxs-lookup"><span data-stu-id="02dba-280">Add the ASP.NET Web Helpers Library to your website as described in [Installing Helpers in an ASP.NET Web Pages Site](https://go.microsoft.com/fwlink/?LinkId=252372), if you haven't already.</span></span>
2. <span data-ttu-id="02dba-281">*Fileuploadmultiple. cshtml*adlı yeni bir sayfa oluşturun.</span><span class="sxs-lookup"><span data-stu-id="02dba-281">Create a new page named *FileUploadMultiple.cshtml*.</span></span>
3. <span data-ttu-id="02dba-282">Sayfadaki mevcut içeriği aşağıdaki gibi değiştirin:</span><span class="sxs-lookup"><span data-stu-id="02dba-282">Replace the existing content in the page with the following:</span></span>  

    [!code-cshtml[Main](working-with-files/samples/sample9.cshtml)]

    <span data-ttu-id="02dba-283">Bu örnekte, sayfanın gövdesindeki `FileUpload` Yardımcısı, kullanıcıların varsayılan olarak iki dosyayı karşıya yüklemesine izin verecek şekilde yapılandırılmıştır.</span><span class="sxs-lookup"><span data-stu-id="02dba-283">In this example, the `FileUpload` helper in the body of the page is configured to let users upload two files by default.</span></span> <span data-ttu-id="02dba-284">`allowMoreFilesToBeAdded` `true`olarak ayarlandığı için, yardımcı kullanıcının daha fazla karşıya yükleme kutusu eklemesini sağlayan bir bağlantı oluşturur:</span><span class="sxs-lookup"><span data-stu-id="02dba-284">Because `allowMoreFilesToBeAdded` is set to `true`, the helper renders a link that lets user add more upload boxes:</span></span>

    ![görüntüyle](working-with-files/_static/image11.jpg)

    <span data-ttu-id="02dba-286">Kullanıcının karşıya yükleyen dosyaları işlemek için, kod önceki örnekte &#8212; kullandığınız temel tekniği kullanır `Request.Files` bir dosyayı alır ve sonra kaydeder.</span><span class="sxs-lookup"><span data-stu-id="02dba-286">To process the files that the user uploads, the code uses the same basic technique that you used in the previous example &#8212; get a file from `Request.Files` and then save it.</span></span> <span data-ttu-id="02dba-287">(Doğru dosya adını ve yolunu almak için yapmanız gereken çeşitli şeyler dahil.) Bu sefer, kullanıcının birden çok dosyayı karşıya yükleme olabileceği ve pek çok bilginiz olmadığı konusunda yeniliği.</span><span class="sxs-lookup"><span data-stu-id="02dba-287">(Including the various things you need to do to get the right file name and path.) The innovation this time is that the user might be uploading multiple files and you don't know many.</span></span> <span data-ttu-id="02dba-288">Bunu öğrenmek için `Request.Files.Count`alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-288">To find out, you can get `Request.Files.Count`.</span></span>

    <span data-ttu-id="02dba-289">Bu sayıyla birlikte `Request.Files`aracılığıyla döngü yapabilir, her dosyayı sırayla getirebilir ve kaydedebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="02dba-289">With this number in hand, you can loop through `Request.Files`, fetch each file in turn, and save it.</span></span> <span data-ttu-id="02dba-290">Bir koleksiyonda bilinen sayıda zaman döngüsü yapmak istediğinizde, şöyle bir `for` döngüsünü kullanabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="02dba-290">When you want to loop a known number of times through a collection, you can use a `for` loop, like this:</span></span>

    [!code-csharp[Main](working-with-files/samples/sample10.cs)]

    <span data-ttu-id="02dba-291">`i` değişkeni, yalnızca sizin ayarladığınız üst sınıra kadar, sıfırdan gidecek geçici bir sayaçtır.</span><span class="sxs-lookup"><span data-stu-id="02dba-291">The variable `i` is just a temporary counter that will go from zero to whatever upper limit you set.</span></span> <span data-ttu-id="02dba-292">Bu durumda, üst sınır dosya sayısıdır.</span><span class="sxs-lookup"><span data-stu-id="02dba-292">In this case, the upper limit is the number of files.</span></span> <span data-ttu-id="02dba-293">Ancak sayaç sıfırda başladığı için, ASP.NET 'deki sayma senaryolarında genellikle üst sınır dosya sayısından bir küçüktür.</span><span class="sxs-lookup"><span data-stu-id="02dba-293">But because the counter starts at zero, as is typical for counting scenarios in ASP.NET, the upper limit is actually one less than the file count.</span></span> <span data-ttu-id="02dba-294">(Üç dosya karşıya yüklenirse, sayı sıfırdan 2 ' dir.)</span><span class="sxs-lookup"><span data-stu-id="02dba-294">(If three files are uploaded, the count is zero to 2.)</span></span>

    <span data-ttu-id="02dba-295">`uploadedCount` değişkeni başarıyla karşıya yüklenen ve kaydedilen tüm dosyaları toplar.</span><span class="sxs-lookup"><span data-stu-id="02dba-295">The `uploadedCount` variable totals all the files that are successfully uploaded and saved.</span></span> <span data-ttu-id="02dba-296">Beklenen bir dosyanın yüklenememe olasılığı nedeniyle bu kod hesapları.</span><span class="sxs-lookup"><span data-stu-id="02dba-296">This code accounts for the possibility that an expected file may not be able to be uploaded.</span></span>
4. <span data-ttu-id="02dba-297">Sayfayı bir tarayıcıda çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="02dba-297">Run the page in a browser.</span></span> <span data-ttu-id="02dba-298">Tarayıcı, sayfayı ve iki yükleme kutusunu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="02dba-298">The browser displays the page and its two upload boxes.</span></span>
5. <span data-ttu-id="02dba-299">Karşıya yüklemek için iki dosya seçin.</span><span class="sxs-lookup"><span data-stu-id="02dba-299">Select two files to upload.</span></span>
6. <span data-ttu-id="02dba-300">**Başka bir dosya Ekle**' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-300">Click **Add another file**.</span></span> <span data-ttu-id="02dba-301">Sayfada yeni bir karşıya yükleme kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="02dba-301">The page displays a new upload box.</span></span> 

    ![görüntüyle](working-with-files/_static/image12.jpg)
7. <span data-ttu-id="02dba-303">**Karşıya Yükle**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-303">Click **Upload**.</span></span>
8. <span data-ttu-id="02dba-304">Web sitesinde proje klasörüne sağ tıklayın ve ardından **Yenile**' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="02dba-304">In the website, right-click the project folder and then click **Refresh**.</span></span>
9. <span data-ttu-id="02dba-305">Karşıya yüklenen dosyaları başarıyla karşıya görmek için *UploadedFiles* klasörünü açın.</span><span class="sxs-lookup"><span data-stu-id="02dba-305">Open the *UploadedFiles* folder to see the successfully uploaded files.</span></span>

<a id="Additional_Resources"></a>
## <a name="additional-resources"></a><span data-ttu-id="02dba-306">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="02dba-306">Additional Resources</span></span>

[<span data-ttu-id="02dba-307">ASP.NET Web Pages sitesindeki görüntülerle çalışma</span><span class="sxs-lookup"><span data-stu-id="02dba-307">Working with Images in an ASP.NET Web Pages Site</span></span>](https://go.microsoft.com/fwlink/?LinkId=202897)

[<span data-ttu-id="02dba-308">CSV dosyasına dışarı aktarma</span><span class="sxs-lookup"><span data-stu-id="02dba-308">Exporting to a CSV File</span></span>](https://msdn.microsoft.com/library/ms155919.aspx)
