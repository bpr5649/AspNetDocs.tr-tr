---
uid: web-forms/overview/deployment/advanced-enterprise-web-deployment/troubleshooting-the-packaging-process
title: Paketleme Işleminde sorun giderme | Microsoft Docs
author: jrjlee
description: Bu konu başlığı altında, a... adlı EnablePackageProcessLoggingAndAssert özelliğini kullanarak paketleme işlemiyle ilgili ayrıntılı bilgileri nasıl toplayabileceğinizi açıklar.
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 794bd819-00fc-47e2-876d-fc5d15e0de1c
msc.legacyurl: /web-forms/overview/deployment/advanced-enterprise-web-deployment/troubleshooting-the-packaging-process
msc.type: authoredcontent
ms.openlocfilehash: 8ad649dfff085a8774cc13c11d8a3e3d48277d66
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78628214"
---
# <a name="troubleshooting-the-packaging-process"></a><span data-ttu-id="fb137-103">Paketleme İşleminin Sorunlarını Giderme</span><span class="sxs-lookup"><span data-stu-id="fb137-103">Troubleshooting the Packaging Process</span></span>

<span data-ttu-id="fb137-104">[Jason Lee](https://github.com/jrjlee) tarafından</span><span class="sxs-lookup"><span data-stu-id="fb137-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="fb137-105">PDF 'YI indir</span><span class="sxs-lookup"><span data-stu-id="fb137-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="fb137-106">Bu konu başlığı altında, Microsoft Build Engine (MSBuild) ' de **Enablepackageprocessloggingandassert** özelliğini kullanarak paketleme işlemi hakkında ayrıntılı bilgileri nasıl toplayabileceğinizi açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="fb137-106">This topic describes how you can collect detailed information about the packaging process by using the **EnablePackageProcessLoggingAndAssert** property in the Microsoft Build Engine (MSBuild).</span></span>
> 
> <span data-ttu-id="fb137-107">**Enablepackageprocessloggingandassert** özelliğini **true**olarak belirlediğinizde MSBuild şunları olur:</span><span class="sxs-lookup"><span data-stu-id="fb137-107">When you set the **EnablePackageProcessLoggingAndAssert** property to **true**, MSBuild will:</span></span>
> 
> - <span data-ttu-id="fb137-108">Yapı günlüklerine paketleme işlemi hakkında daha fazla bilgi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="fb137-108">Add additional information about the packaging process to the build logs.</span></span>
> - <span data-ttu-id="fb137-109">Örneğin paketleme listesinde yinelenen dosyalar bulunursa, belirli koşullarda hataları günlüğe kaydedin.</span><span class="sxs-lookup"><span data-stu-id="fb137-109">Log errors under certain conditions, for example, if duplicate files are found in the packaging list.</span></span>
> - <span data-ttu-id="fb137-110">*ProjectName*\_paket klasöründe bir günlük dizini oluşturun ve paketlediğiniz dosyalarla ilgili bilgileri kaydetmek için kullanın.</span><span class="sxs-lookup"><span data-stu-id="fb137-110">Create a Log directory in the *ProjectName*\_Package folder and use it to record information about the files you're packaging.</span></span>
> 
> <span data-ttu-id="fb137-111">Paketleme işlemi başarısız olursa veya Web Dağıtım paketleriniz beklediği dosyaları içermiyorsa, bu bilgileri kullanarak işlemlerin yanlış olduğu işlem ve Pinpoint sorunlarını giderebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-111">If the packaging process is failing, or your web deployment packages don't contain the files that you expect, you can use this information to troubleshoot the process and pinpoint where things are going wrong.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="fb137-112">**Enablepackageprocessloggingandassert** özelliği yalnızca projenizi **hata ayıklama** yapılandırmasını kullanarak oluşturursanız işe yarar.</span><span class="sxs-lookup"><span data-stu-id="fb137-112">The **EnablePackageProcessLoggingAndAssert** property only works if you build your project using the **Debug** configuration.</span></span> <span data-ttu-id="fb137-113">Özelliği diğer yapılandırmalarda yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="fb137-113">The property is ignored in other configurations.</span></span>

<span data-ttu-id="fb137-114">Bu konu, Fabrikam, Inc adlı kurgusal bir şirketin Kurumsal Dağıtım gereksinimlerini temel alarak bir öğretici serisinin bir parçasını oluşturur. Bu öğretici serisi, bir ASP.NET MVC&#x2014;3 uygulaması, Windows Communication Foundation (WCF) hizmeti ve bir veritabanı projesi dahil, gerçekçi bir karmaşıklık düzeyine sahip bir Web uygulamasını temsil etmek üzere bir örnek çözüm olan [Contact Manager çözümünü](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;kullanır.</span><span class="sxs-lookup"><span data-stu-id="fb137-114">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="fb137-115">Bu öğreticilerin temelini oluşturan dağıtım yöntemi, derleme işleminin her hedef ortam için uygulanan derleme yönergelerini içeren ve ortama özel yapı ve dağıtım ayarlarını içeren iki proje&#x2014;dosyası tarafından kontrol edilen proje [dosyasını anlama](../web-deployment-in-the-enterprise/understanding-the-project-file.md)bölümünde açıklanan bölünmüş proje dosyası yaklaşımını temel alır.</span><span class="sxs-lookup"><span data-stu-id="fb137-115">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="fb137-116">Derleme zamanında, ortama özgü proje dosyası, derleme yönergelerinin tam bir kümesini oluşturmak için ortam agtik proje dosyası ile birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="fb137-116">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="understanding-the-enablepackageprocessloggingandassert-property"></a><span data-ttu-id="fb137-117">EnablePackageProcessLoggingAndAssert özelliğini anlama</span><span class="sxs-lookup"><span data-stu-id="fb137-117">Understanding the EnablePackageProcessLoggingAndAssert Property</span></span>

<span data-ttu-id="fb137-118">Web [uygulaması projelerini derleme ve paketleme](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md) Web yayımlama işlem HATTıNıN (WPP), MSBuild 'in işlevselliğini genişleten ve Internet INFORMATION SERVICES (IIS) Web Dağıtım aracı (Web dağıtımı) ile tümleşmesini sağlayan bir MSBuild hedefleri kümesi sağlar.</span><span class="sxs-lookup"><span data-stu-id="fb137-118">[Building and Packaging Web Application Projects](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md) described how the Web Publishing Pipeline (WPP) provides a set of MSBuild targets that extend the functionality of MSBuild and enable it to integrate with the Internet Information Services (IIS) Web Deployment Tool (Web Deploy).</span></span> <span data-ttu-id="fb137-119">Bir Web uygulaması projesi paketlemeyi yaparken, WPP hedefleri çağrılıyor.</span><span class="sxs-lookup"><span data-stu-id="fb137-119">When you package a web application project, you're invoking WPP targets.</span></span>

<span data-ttu-id="fb137-120">Bu WPP hedeflerinin çoğu, **Enablepackageprocessloggingandassert** özelliği **true**olarak ayarlandığında ek bilgileri kaydeden koşullu mantığı içerir.</span><span class="sxs-lookup"><span data-stu-id="fb137-120">Lots of these WPP targets include conditional logic that logs additional information when the **EnablePackageProcessLoggingAndAssert** property is set to **true**.</span></span> <span data-ttu-id="fb137-121">Örneğin, **paket** hedefini gözden geçirdikten sonra, ek bir günlük dizini oluşturduğunu ve **Enablepackageprocessloggingandassert** değeri **true**ise bir metin dosyasına bir dosya listesi yazabileceğini görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-121">For example, if you review the **Package** target, you can see that it creates an additional log directory and writes a list of files to a text file if **EnablePackageProcessLoggingAndAssert** is equal to **true**.</span></span>

[!code-xml[Main](troubleshooting-the-packaging-process/samples/sample1.xml)]

> [!NOTE]
> <span data-ttu-id="fb137-122">WPP hedefleri,% PROGRAMFILES (x86)% \ MSBuild\Microsoft\VisualStudio\v10.0\Web klasöründeki *Microsoft. Web. Publishing. targets* dosyasında tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="fb137-122">The WPP targets are defined in the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span> <span data-ttu-id="fb137-123">Bu dosyayı açabilir ve Visual Studio 2010 veya herhangi bir XML düzenleyicisinde hedefleri gözden geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-123">You can open this file and review the targets in Visual Studio 2010 or any XML editor.</span></span> <span data-ttu-id="fb137-124">Dosyanın içeriğini değiştirmemelidir.</span><span class="sxs-lookup"><span data-stu-id="fb137-124">Take care not to modify the contents of the file.</span></span>

## <a name="enabling-the-additional-logging"></a><span data-ttu-id="fb137-125">Ek günlüğe kaydetme etkinleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="fb137-125">Enabling the Additional Logging</span></span>

<span data-ttu-id="fb137-126">Projenizin nasıl oluşturulduğuna bağlı olarak çeşitli yollarla **Enablepackageprocessloggingandassert** özelliği için bir değer sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-126">You can supply a value for the **EnablePackageProcessLoggingAndAssert** property in various ways, depending on how you build your project.</span></span>

<span data-ttu-id="fb137-127">Projenizi komut satırından oluşturursanız, **Enablepackageprocessloggingandassert** özelliği için bir komut satırı bağımsız değişkeni olarak bir değer sağlayabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fb137-127">If you build your project from the command line, you can supply a value for the **EnablePackageProcessLoggingAndAssert** property as a command-line argument:</span></span>

[!code-console[Main](troubleshooting-the-packaging-process/samples/sample2.cmd)]

<span data-ttu-id="fb137-128">Projelerinizi derlemek için özel bir proje dosyası kullanıyorsanız, **MSBuild** görevinin **Özellikler** özniteliğinde **Enablepackageprocessloggingandassert** değerini dahil edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="fb137-128">If you're using a custom project file to build your projects, you can include the **EnablePackageProcessLoggingAndAssert** value in the **Properties** attribute of the **MSBuild** task:</span></span>

[!code-xml[Main](troubleshooting-the-packaging-process/samples/sample3.xml)]

<span data-ttu-id="fb137-129">Projelerinizi derlemek için bir Team Foundation Server (TFS) derleme tanımı kullanıyorsanız, **MSBuild bağımsız değişkenleri** satırında **Enablepackageprocessloggingandassert** özelliği için bir değer sağlayabilirsiniz:![](troubleshooting-the-packaging-process/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="fb137-129">If you're using a Team Foundation Server (TFS) build definition to build your projects, you can supply a value for the **EnablePackageProcessLoggingAndAssert** property in the **MSBuild Arguments** row:![](troubleshooting-the-packaging-process/_static/image1.png)</span></span>

> [!NOTE]
> <span data-ttu-id="fb137-130">Derleme tanımlarını oluşturma ve yapılandırma hakkında daha fazla bilgi için bkz. [dağıtımı destekleyen bir yapı tanımı oluşturma](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="fb137-130">For more information on creating and configuring build definitions, see [Creating a Build Definition That Supports Deployment](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).</span></span>

<span data-ttu-id="fb137-131">Alternatif olarak, paketi her yapıya eklemek istiyorsanız, Web uygulaması projeniz için proje dosyasını değiştirerek **Enablepackageprocessloggingandassert** özelliğini **true**olarak ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-131">Alternatively, if you want to include the package in every build, you can modify the project file for your web application project to set the **EnablePackageProcessLoggingAndAssert** property to **true**.</span></span> <span data-ttu-id="fb137-132">Özelliği. csproj veya. vbproj dosyanızdaki ilk **PropertyGroup** öğesine eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="fb137-132">You should add the property to the first **PropertyGroup** element within your .csproj or .vbproj file.</span></span>

[!code-xml[Main](troubleshooting-the-packaging-process/samples/sample4.xml)]

## <a name="reviewing-the-log-files"></a><span data-ttu-id="fb137-133">Günlük dosyalarını gözden geçirme</span><span class="sxs-lookup"><span data-stu-id="fb137-133">Reviewing the Log Files</span></span>

<span data-ttu-id="fb137-134">**Enablepackageprocessloggingandassert** **değeri true**olarak ayarlanmış bir Web uygulaması projesi oluşturup paketlemeyi yaptığınızda MSBuild, *ProjectName*\_paket klasöründe log adlı ek bir klasör oluşturur.</span><span class="sxs-lookup"><span data-stu-id="fb137-134">When you build and package a web application project with **EnablePackageProcessLoggingAndAssert** set to **true**, MSBuild creates an additional folder named Log in the *ProjectName*\_Package folder.</span></span> <span data-ttu-id="fb137-135">Günlük klasörü çeşitli dosyaları içerir:</span><span class="sxs-lookup"><span data-stu-id="fb137-135">The Log folder contains various files:</span></span>

![](troubleshooting-the-packaging-process/_static/image2.png)

<span data-ttu-id="fb137-136">Gördüğünüz dosyaların listesi, projenizdeki işlemlere ve yapı sürecinizdeki şeylere göre değişir.</span><span class="sxs-lookup"><span data-stu-id="fb137-136">The list of files that you see will vary according to the things in your project and your build process.</span></span> <span data-ttu-id="fb137-137">Ancak, bu dosyalar genellikle, işlemin çeşitli aşamalarında, WPP 'nin paketleme için topladığı dosyaların listesini kaydetmek için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="fb137-137">However, these files are typically used to record the list of files that the WPP is collecting for packaging, at various stages of the process:</span></span>

- <span data-ttu-id="fb137-138">*PreExcludePipelineCollectFilesPhaseFileList. txt* dosyası, dışlama için belirtilen herhangi bir dosya kaldırılmadan önce MSBuild 'in paketlenmesi için topladığı dosyaları listeler.</span><span class="sxs-lookup"><span data-stu-id="fb137-138">The *PreExcludePipelineCollectFilesPhaseFileList.txt* file lists the files that MSBuild collects for packaging before any files that are specified for exclusion are removed.</span></span>
- <span data-ttu-id="fb137-139">*Afterexcludefilesfileslist. txt* dosyası, dışlama için belirtilen tüm dosyalar kaldırıldıktan sonra değiştirilmiş dosya listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="fb137-139">The *AfterExcludeFilesFilesList.txt* file contains the modified file list after any files that are specified for exclusion are removed.</span></span>

    > [!NOTE]
    > <span data-ttu-id="fb137-140">Paketleme işleminden dosya ve klasörlerin dışlanması hakkında daha fazla bilgi için, bkz. [dosyaları ve klasörleri dağıtımdan dışlama](excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="fb137-140">For more information on excluding files and folders from the packaging process, see [Excluding Files and Folders from Deployment](excluding-files-and-folders-from-deployment.md).</span></span>
- <span data-ttu-id="fb137-141">*Aftertransformwebconfig. txt* dosyası, herhangi bir *Web. config* dönüştürmesinden sonra paketleme için toplanan dosyaları listeler.</span><span class="sxs-lookup"><span data-stu-id="fb137-141">The *AfterTransformWebConfig.txt* file lists the files collected for packaging after any *Web.config* transforms have been performed.</span></span> <span data-ttu-id="fb137-142">Bu listede, *Web. Debug. config* ve *Web. Release. config*gibi yapılandırmaya özgü *Web. config* dönüştürme dosyaları paketleme için dosya listesinden çıkarılır.</span><span class="sxs-lookup"><span data-stu-id="fb137-142">In this list, any configuration-specific *Web.config* transform files, like *Web.Debug.config* and *Web.Release.config*, are excluded from the list of files for packaging.</span></span> <span data-ttu-id="fb137-143">Tek bir dönüştürülmüş *Web. config* kendi yerine eklenir.</span><span class="sxs-lookup"><span data-stu-id="fb137-143">A single transformed *Web.config* is included in their place.</span></span>
- <span data-ttu-id="fb137-144">*Postautoparameterizationwebconfigconnectionstrings. txt* dosyası, *Web. config* dosyasındaki bağlantı dizeleri parametreli olduktan sonra dosyaların listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="fb137-144">The *PostAutoParameterizationWebConfigConnectionStrings.txt* file contains the list of files after the connection strings in the *Web.config* file have been parameterized.</span></span> <span data-ttu-id="fb137-145">Bu, paketi dağıtırken bağlantı dizelerinizi hedef ortamınız için doğru ayarlarla değiştirmenize olanak tanıyan işlemdir.</span><span class="sxs-lookup"><span data-stu-id="fb137-145">This is the process that lets you replace your connection strings with the right settings for your target environment when you deploy the package.</span></span>
- <span data-ttu-id="fb137-146">*Prepackage. txt* dosyası, pakete eklenecek dosyaların son oluşturma öncesi derleme listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="fb137-146">The *Prepackage.txt* file contains the finalized pre-build list of files to be included in the package.</span></span>

> [!NOTE]
> <span data-ttu-id="fb137-147">Ek günlük dosyalarının adları genellikle WPP hedeflerine karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="fb137-147">The names of the additional log files typically correspond to WPP targets.</span></span> <span data-ttu-id="fb137-148">% PROGRAMFILES (x86)% \ MSBuild\Microsoft\VisualStudio\v10.0\Web klasöründeki *Microsoft. Web. Publishing. targets* dosyasını inceleyerek bu hedefleri gözden geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="fb137-148">You can review these targets by examining the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>

<span data-ttu-id="fb137-149">Web paketinizin içerikleri beklediğiniz gibi değilse, bu dosyaları gözden geçirmek, işlemin ne zaman hatalı olduğuna ilişkin yararlı bir yol olabilir.</span><span class="sxs-lookup"><span data-stu-id="fb137-149">If the contents of your web package aren't what you expected, reviewing these files can be a useful way to identify at what point in the process things went wrong.</span></span>

## <a name="conclusion"></a><span data-ttu-id="fb137-150">Sonuç</span><span class="sxs-lookup"><span data-stu-id="fb137-150">Conclusion</span></span>

<span data-ttu-id="fb137-151">Bu konuda, paketleme işleminde sorun gidermek için MSBuild 'te **Enablepackageprocessloggingandassert** özelliğini nasıl kullanabileceğiniz açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="fb137-151">This topic described how you can use the **EnablePackageProcessLoggingAndAssert** property in MSBuild to troubleshoot the packaging process.</span></span> <span data-ttu-id="fb137-152">Yapı işlemine özellik değerini sağlayabilmeniz için farklı yollar açıklanmış ve özelliği **true**olarak ayarladığınızda kaydedilen ek bilgileri de açıklandı.</span><span class="sxs-lookup"><span data-stu-id="fb137-152">It explained the different ways in which you can supply the property value to the build process, and it described the additional information that is recorded when you set the property to **true**.</span></span>

## <a name="further-reading"></a><span data-ttu-id="fb137-153">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="fb137-153">Further Reading</span></span>

<span data-ttu-id="fb137-154">Dağıtım işlemini denetlemek için özel MSBuild proje dosyalarını kullanma hakkında daha fazla bilgi için bkz. [Proje dosyasını anlama](../web-deployment-in-the-enterprise/understanding-the-project-file.md) ve [derleme sürecini anlama](../web-deployment-in-the-enterprise/understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="fb137-154">For more information on using custom MSBuild project files to control the deployment process, see [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md) and [Understanding the Build Process](../web-deployment-in-the-enterprise/understanding-the-build-process.md).</span></span> <span data-ttu-id="fb137-155">WPP ve paketleme sürecini yönetme hakkında daha fazla bilgi için bkz. [Web uygulaması projelerini oluşturma ve paketleme](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="fb137-155">For more information on the WPP and how it manages the packaging process, see [Building and Packaging Web Application Projects](../web-deployment-in-the-enterprise/building-and-packaging-web-application-projects.md).</span></span> <span data-ttu-id="fb137-156">Belirli dosya ve klasörlerin Web Dağıtım paketlerinden nasıl dışlandığı hakkında yönergeler için, bkz. [dosyaları ve klasörleri dağıtımdan dışlama](excluding-files-and-folders-from-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="fb137-156">For guidance on how to exclude specific files and folders from web deployment packages, see [Excluding Files and Folders from Deployment](excluding-files-and-folders-from-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="fb137-157">Öncekini</span><span class="sxs-lookup"><span data-stu-id="fb137-157">Previous</span></span>](running-windows-powershell-scripts-from-msbuild-project-files.md)
