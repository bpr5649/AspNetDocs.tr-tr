---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
title: Derleme Işlemini anlama | Microsoft Docs
author: jrjlee
description: Bu konu, kurumsal ölçekte bir derleme ve dağıtım sürecine yönelik bir anlatım sağlar. Bu konuda açıklanan yaklaşım özel Microsoft Build engin kullanır...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 5b982451-547b-4a2f-a5dc-79bc64d84d40
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
msc.type: authoredcontent
ms.openlocfilehash: 802d93f7ca987d018967275bae68b8c56d883a25
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78641143"
---
# <a name="understanding-the-build-process"></a><span data-ttu-id="08c15-104">Derleme İşlemini Anlama</span><span class="sxs-lookup"><span data-stu-id="08c15-104">Understanding the Build Process</span></span>

<span data-ttu-id="08c15-105">[Jason Lee](https://github.com/jrjlee) tarafından</span><span class="sxs-lookup"><span data-stu-id="08c15-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="08c15-106">PDF 'YI indir</span><span class="sxs-lookup"><span data-stu-id="08c15-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="08c15-107">Bu konu, kurumsal ölçekte bir derleme ve dağıtım sürecine yönelik bir anlatım sağlar.</span><span class="sxs-lookup"><span data-stu-id="08c15-107">This topic provides a walkthrough of an enterprise-scale build and deployment process.</span></span> <span data-ttu-id="08c15-108">Bu konuda açıklanan yaklaşım, işlemin her yönüyle ayrıntılı denetim sağlamak için özel Microsoft Build Engine (MSBuild) proje dosyalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-108">The approach described in this topic uses custom Microsoft Build Engine (MSBuild) project files to provide fine-grained control over every aspect of the process.</span></span> <span data-ttu-id="08c15-109">Proje dosyaları içinde, özel MSBuild hedefleri, Internet Information Services (IIS) Web Dağıtım Aracı (MSDeploy. exe) ve veritabanı dağıtımı yardımcı programı VSDBCMD. exe gibi dağıtım yardımcı programlarını çalıştırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="08c15-109">Within the project files, custom MSBuild targets are used to run deployment utilities like the Internet Information Services (IIS) Web Deployment Tool (MSDeploy.exe) and the database deployment utility VSDBCMD.exe.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="08c15-110">Bir MSBuild proje dosyasının anahtar bileşenleri açıklanarak ve birden çok hedef ortama dağıtımı desteklemek için bölünmüş proje dosyaları kavramı tanıtılan [Proje dosyasını anlamak](understanding-the-project-file.md)için önceki konu.</span><span class="sxs-lookup"><span data-stu-id="08c15-110">The previous topic, [Understanding the Project File](understanding-the-project-file.md), described the key components of an MSBuild project file and introduced the concept of split project files to support deployment to multiple target environments.</span></span> <span data-ttu-id="08c15-111">Bu kavramları zaten bilmiyorsanız, bu konu başlığı altında çalışmadan önce [Proje dosyasını anlamak için](understanding-the-project-file.md) gözden geçirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="08c15-111">If you're not already familiar with these concepts, you should review [Understanding the Project File](understanding-the-project-file.md) before you work through this topic.</span></span>

<span data-ttu-id="08c15-112">Bu konu, Fabrikam, Inc adlı kurgusal bir şirketin Kurumsal Dağıtım gereksinimlerini temel alarak bir öğretici serisinin bir parçasını oluşturur. Bu öğretici serisi, bir ASP.NET MVC&#x2014;3 uygulaması, Windows Communication Foundation (WCF) hizmeti ve bir veritabanı projesi dahil, gerçekçi bir karmaşıklık düzeyine sahip bir Web uygulamasını temsil etmek üzere bir örnek çözüm olan [Contact Manager çözümünü](the-contact-manager-solution.md)&#x2014;kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-112">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="08c15-113">Bu öğreticilerin temelini oluşturan dağıtım yöntemi, derleme işleminin her hedef ortam için uygulanan derleme yönergelerini içeren ve ortama özel yapı ve dağıtım ayarlarını içeren iki proje&#x2014;dosyası tarafından kontrol edilen proje [dosyasını anlama](understanding-the-project-file.md)bölümünde açıklanan bölünmüş proje dosyası yaklaşımını temel alır.</span><span class="sxs-lookup"><span data-stu-id="08c15-113">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="08c15-114">Derleme zamanında, ortama özgü proje dosyası, derleme yönergelerinin tam bir kümesini oluşturmak için ortam agtik proje dosyası ile birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="08c15-114">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="build-and-deployment-overview"></a><span data-ttu-id="08c15-115">Derleme ve Dağıtım genel bakış</span><span class="sxs-lookup"><span data-stu-id="08c15-115">Build and Deployment Overview</span></span>

<span data-ttu-id="08c15-116">[Ilgili kişi Yöneticisi çözümünde](the-contact-manager-solution.md), derleme ve dağıtım sürecini üç dosya denetler:</span><span class="sxs-lookup"><span data-stu-id="08c15-116">In the [Contact Manager solution](the-contact-manager-solution.md), three files control the build and deployment process:</span></span>

- <span data-ttu-id="08c15-117">*Evrensel proje dosyası* (*Publish. proj*).</span><span class="sxs-lookup"><span data-stu-id="08c15-117">A *universal project file* (*Publish.proj*).</span></span> <span data-ttu-id="08c15-118">Bu, hedef ortamlar arasında değişmemelidir derleme ve dağıtım yönergelerini içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-118">This contains build and deployment instructions that do not change between destination environments.</span></span>
- <span data-ttu-id="08c15-119">*Ortama özgü bir proje dosyası* (*env-dev. proj*).</span><span class="sxs-lookup"><span data-stu-id="08c15-119">An *environment-specific project file* (*Env-Dev.proj*).</span></span> <span data-ttu-id="08c15-120">Bu, belirli bir hedef ortama özgü derleme ve dağıtım ayarlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-120">This contains build and deployment settings that are specific to a particular destination environment.</span></span> <span data-ttu-id="08c15-121">Örneğin, bir geliştirici veya test ortamı için ayarlar sağlamak üzere *env-dev. proj* dosyasını kullanabilir ve bir hazırlama ortamının ayarlarını sağlamak için *env-Stage. proj* adlı alternatif bir dosya oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-121">For example, you could use the *Env-Dev.proj* file to provide settings for a developer or test environment and create an alternative file named *Env-Stage.proj* to provide settings for a staging environment.</span></span>
- <span data-ttu-id="08c15-122">Bir *komut dosyası* (*Publish-dev. cmd*).</span><span class="sxs-lookup"><span data-stu-id="08c15-122">A *command file* (*Publish-Dev.cmd*).</span></span> <span data-ttu-id="08c15-123">Bu, hangi proje dosyalarını yürütmek istediğinizi belirten bir MSBuild. exe komutu içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-123">This contains an MSBuild.exe command that specifies which project files you want to execute.</span></span> <span data-ttu-id="08c15-124">Her bir dosyanın, ortama özgü farklı bir proje dosyası belirten bir MSBuild. exe komutu içerdiği her hedef ortam için bir komut dosyası oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-124">You can create a command file for every destination environment, where each file contains an MSBuild.exe command that specifies a different environment-specific project file.</span></span> <span data-ttu-id="08c15-125">Bu, geliştiricinin yalnızca uygun komut dosyasını çalıştırarak farklı ortamlara dağıtmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="08c15-125">This lets the developer deploy to different environments simply by running the appropriate command file.</span></span>

<span data-ttu-id="08c15-126">Örnek çözümde, bu üç dosyayı Yayımla çözüm klasöründe bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-126">In the sample solution, you can find these three files in the Publish solution folder.</span></span>

![](understanding-the-build-process/_static/image1.png)

<span data-ttu-id="08c15-127">Bu dosyalara daha ayrıntılı bir şekilde bakmadan önce, bu yaklaşımı kullandığınızda genel derleme sürecinin nasıl çalıştığına göz atalım.</span><span class="sxs-lookup"><span data-stu-id="08c15-127">Before you look at these files in more detail, let's take a look at how the overall build process works when you use this approach.</span></span> <span data-ttu-id="08c15-128">Yüksek düzeyde, derleme ve dağıtım işlemi şöyle görünür:</span><span class="sxs-lookup"><span data-stu-id="08c15-128">At a high level, the build and deployment process looks like this:</span></span>

![](understanding-the-build-process/_static/image2.png)

<span data-ttu-id="08c15-129">Meydana gelen ilk şey, evrensel derleme ve dağıtım yönergelerinden&#x2014;oluşan iki proje dosyası ve ortama özgü ayarların&#x2014;bulunduğu bir tek proje dosyasında birleştirilmesidir.</span><span class="sxs-lookup"><span data-stu-id="08c15-129">The first thing that happens is that the two project files&#x2014;one containing universal build and deployment instructions, and one containing environment-specific settings&#x2014;are merged into a single project file.</span></span> <span data-ttu-id="08c15-130">MSBuild sonra proje dosyasındaki yönergeler aracılığıyla işe yarar.</span><span class="sxs-lookup"><span data-stu-id="08c15-130">MSBuild then works through the instructions in the project file.</span></span> <span data-ttu-id="08c15-131">Her proje için proje dosyasını kullanarak çözümdeki projelerin her birini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-131">It builds each of the projects in the solution, using the project file for each project.</span></span> <span data-ttu-id="08c15-132">Daha sonra, Web içeriğinizi ve veritabanlarınızı hedef ortama dağıtmak için Web Dağıtımı (MSDeploy. exe) ve VSDBCMD yardımcı programı gibi diğer araçlara çağrı yapılır.</span><span class="sxs-lookup"><span data-stu-id="08c15-132">It then calls out to other tools, like Web Deploy (MSDeploy.exe) and the VSDBCMD utility to deploy your web content and databases to the target environment.</span></span>

<span data-ttu-id="08c15-133">Başlangıçtan sonuna kadar, derleme ve dağıtım işlemi şu görevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="08c15-133">From start to finish, the build and deployment process performs these tasks:</span></span>

1. <span data-ttu-id="08c15-134">Yeni bir derleme hazırlığı sırasında çıkış dizininin içeriğini siler.</span><span class="sxs-lookup"><span data-stu-id="08c15-134">It deletes the contents of the output directory, in preparation for a fresh build.</span></span>
2. <span data-ttu-id="08c15-135">Çözümdeki her bir projeyi oluşturur:</span><span class="sxs-lookup"><span data-stu-id="08c15-135">It builds each project in the solution:</span></span>

    1. <span data-ttu-id="08c15-136">Bu durumda Web&#x2014;projeleri için, BIR ASP.NET MVC web uygulaması ve bir WCF Web hizmeti&#x2014;yapı işlemi her proje için bir Web dağıtım paketi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-136">For web projects&#x2014;in this case, an ASP.NET MVC web application and a WCF web service&#x2014;the build process creates a web deployment package for each project.</span></span>
    2. <span data-ttu-id="08c15-137">Veritabanı projeleri için, yapı işlemi her proje için bir dağıtım bildirimi (. DeployManifest dosyası) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-137">For database projects, the build process creates a deployment manifest (.deploymanifest file) for each project.</span></span>
3. <span data-ttu-id="08c15-138">Bu, projedeki her bir veritabanı projesini dağıtmak için VSDBCMD. exe yardımcı programını kullanır, proje dosyaları&#x2014;bir hedef bağlantı dizesi ve bir veritabanı adı&#x2014;. DeployManifest dosyası ile birlikte kullanılır.</span><span class="sxs-lookup"><span data-stu-id="08c15-138">It uses the VSDBCMD.exe utility to deploy each database project in the solution, using various properties from the project files&#x2014;a target connection string and a database name&#x2014;together with the .deploymanifest file.</span></span>
4. <span data-ttu-id="08c15-139">Dağıtım işlemini denetlemek için proje dosyalarından çeşitli özellikleri kullanarak her bir Web projesini çözüme dağıtmak üzere MSDeploy. exe yardımcı programını kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-139">It uses the MSDeploy.exe utility to deploy each web project in the solution, using various properties from the project files to control the deployment process.</span></span>

<span data-ttu-id="08c15-140">Bu işlemi daha ayrıntılı izlemek için örnek çözümü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-140">You can use the sample solution to trace this process in more detail.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-141">Kendi sunucu ortamlarınız için ortama özgü proje dosyalarını özelleştirmeye ilişkin yönergeler için bkz. [hedef ortam Için dağıtım özelliklerini yapılandırma](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="08c15-141">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="invoking-the-build-and-deployment-process"></a><span data-ttu-id="08c15-142">Derleme ve Dağıtım Işlemi çağrılıyor</span><span class="sxs-lookup"><span data-stu-id="08c15-142">Invoking the Build and Deployment Process</span></span>

<span data-ttu-id="08c15-143">Geliştirici sınama ortamına Contact Manager çözümünü dağıtmak için, Geliştirici *Publish-dev. cmd* komut dosyasını çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-143">To deploy the Contact Manager solution to a developer test environment, the developer runs the *Publish-Dev.cmd* command file.</span></span> <span data-ttu-id="08c15-144">Bu, yürütülecek proje dosyası olarak *Publish. proj* ve bir parametre değeri olarak *env-dev. proj* belirterek MSBuild. exe ' yi çağırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-144">This invokes MSBuild.exe, specifying *Publish.proj* as the project file to execute and *Env-Dev.proj* as a parameter value.</span></span>

[!code-console[Main](understanding-the-build-process/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="08c15-145">**/Fl** anahtarı ( **/filegünlükçü**için Short), derleme çıkışını geçerli dizinde *MSBuild. log* adlı bir dosyaya kaydeder.</span><span class="sxs-lookup"><span data-stu-id="08c15-145">The **/fl** switch (short for **/fileLogger**) logs the build output to a file named *msbuild.log* in the current directory.</span></span> <span data-ttu-id="08c15-146">Daha fazla bilgi için bkz. [MSBuild komut satırı başvurusu](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="08c15-146">For more information, see the [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>

<span data-ttu-id="08c15-147">Bu noktada MSBuild çalışmaya başlar, *Publish. proj* dosyasını yükler ve içindeki yönergeleri işlemeye başlar.</span><span class="sxs-lookup"><span data-stu-id="08c15-147">At this point, MSBuild starts running, loads the *Publish.proj* file, and starts processing the instructions within it.</span></span> <span data-ttu-id="08c15-148">İlk yönerge MSBuild 'e **Targetenvpropsfile** parametresinin belirttiği proje dosyasını içeri aktarmaya bildirir.</span><span class="sxs-lookup"><span data-stu-id="08c15-148">The first instruction tells MSBuild to import the project file that the **TargetEnvPropsFile** parameter specifies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample2.xml)]

<span data-ttu-id="08c15-149">**Targetenvpropsfile** parametresi, *env-dev. proj* dosyasını belirtir, bu nedenle MSBuild, *env-dev. proj* dosyasının içeriğini *Publish. proj* dosyasına birleştirir.</span><span class="sxs-lookup"><span data-stu-id="08c15-149">The **TargetEnvPropsFile** parameter specifies the *Env-Dev.proj* file, so MSBuild merges the contents of the *Env-Dev.proj* file into the *Publish.proj* file.</span></span>

<span data-ttu-id="08c15-150">MSBuild 'in birleştirilmiş proje dosyasında karşılaştığı sonraki öğeler Özellik gruplarıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-150">The next elements that MSBuild encounters in the merged project file are property groups.</span></span> <span data-ttu-id="08c15-151">Özellikler dosyada göründükleri sırada işlenir.</span><span class="sxs-lookup"><span data-stu-id="08c15-151">Properties are processed in the order in which they appear in the file.</span></span> <span data-ttu-id="08c15-152">MSBuild, her bir özellik için, belirtilen koşulların karşılanmasını sağlayarak bir anahtar-değer çifti oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-152">MSBuild creates a key-value pair for each property, providing that any specified conditions are met.</span></span> <span data-ttu-id="08c15-153">Dosyasında daha sonra tanımlanan özellikler, dosyasında daha önce tanımlanan aynı ada sahip tüm özelliklerin üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="08c15-153">Properties defined later in the file will overwrite any properties with the same name defined earlier in the file.</span></span> <span data-ttu-id="08c15-154">Örneğin, **Outputroot** özelliklerini göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="08c15-154">For example, consider the **OutputRoot** properties.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample3.xml)]

<span data-ttu-id="08c15-155">MSBuild ilk **Outputroot** öğesini işlediğinde benzer şekilde adlandırılmış bir parametre sağlanmadıysa, **outputroot** özelliğinin değerini olarak ayarlar **. \Publish\Out**. İkinci **outputroot** öğesiyle karşılaştığında, koşul **true**olarak değerlendirilirse, **Outputroot** özelliğinin değeri **OutDir** parametresinin değeri ile geçersiz kılınır.</span><span class="sxs-lookup"><span data-stu-id="08c15-155">When MSBuild processes the first **OutputRoot** element, providing a similarly named parameter has not been provided, it sets the value of the **OutputRoot** property to **..\Publish\Out**. When it encounters the second **OutputRoot** element, if the condition evaluates to **true**, it will overwrite the value of the **OutputRoot** property with the value of the **OutDir** parameter.</span></span>

<span data-ttu-id="08c15-156">MSBuild 'in karşılaştığı sonraki öğe, **ProjectsToBuild**adlı bir öğe içeren tek bir öğe grubudur.</span><span class="sxs-lookup"><span data-stu-id="08c15-156">The next element that MSBuild encounters is a single item group, containing an item named **ProjectsToBuild**.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample4.xml)]

<span data-ttu-id="08c15-157">MSBuild, bu yönergeyi **ProjectsToBuild**adlı bir öğe listesi oluşturarak işler.</span><span class="sxs-lookup"><span data-stu-id="08c15-157">MSBuild processes this instruction by building an item list named **ProjectsToBuild**.</span></span> <span data-ttu-id="08c15-158">Bu durumda, öğe listesi çözüm dosyasının yolunu ve dosya adını&#x2014;tek bir değer içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-158">In this case, the item list contains a single value&#x2014;the path and filename of the solution file.</span></span>

<span data-ttu-id="08c15-159">Bu noktada, kalan öğeler hedeflerdir.</span><span class="sxs-lookup"><span data-stu-id="08c15-159">At this point, the remaining elements are targets.</span></span> <span data-ttu-id="08c15-160">Hedefler, özelliklerden ve öğelerden&#x2014;farklı şekilde işlenir, ancak kullanıcı tarafından açıkça belirtilmedikçe veya proje dosyasındaki başka bir yapı tarafından çağrılmadıkça hedefler işlenmez.</span><span class="sxs-lookup"><span data-stu-id="08c15-160">Targets are processed differently from properties and items&#x2014;essentially, targets are not processed unless they are either explicitly specified by the user or invoked by another construct within the project file.</span></span> <span data-ttu-id="08c15-161">Açılış **projesi** etiketinin bir **DefaultTargets** özniteliği içerdiğini hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="08c15-161">Recall that the opening **Project** tag includes a **DefaultTargets** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample5.xml)]

<span data-ttu-id="08c15-162">Bu, MSBuild. exe çağrıldığında hedefler belirtilmemişse, **Fullpublish** hedefini çağırmak için MSBuild 'e söyler.</span><span class="sxs-lookup"><span data-stu-id="08c15-162">This instructs MSBuild to invoke the **FullPublish** target, if targets are not specified when MSBuild.exe is invoked.</span></span> <span data-ttu-id="08c15-163">**Fullpublish** hedefi herhangi bir görev içermiyor; Bunun yerine, yalnızca bağımlılıkların bir listesini belirtir.</span><span class="sxs-lookup"><span data-stu-id="08c15-163">The **FullPublish** target doesn't contain any tasks; instead it simply specifies a list of dependencies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample6.xml)]

<span data-ttu-id="08c15-164">Bu bağımlılık, **Fullpublish** hedefini yürütmek için MSBuild 'e, bu hedeflerin listesini belirtilen sırada çağırması gerektiğini bildirir:</span><span class="sxs-lookup"><span data-stu-id="08c15-164">This dependency tells MSBuild that in order to execute the **FullPublish** target, it needs to invoke this list of targets in the order provided:</span></span>

1. <span data-ttu-id="08c15-165">**Temizleme** hedefini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-165">It must invoke the **Clean** target.</span></span>
2. <span data-ttu-id="08c15-166">**Buildprojects** hedefini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-166">It must invoke the **BuildProjects** target.</span></span>
3. <span data-ttu-id="08c15-167">Bu, **Gatherpackagesforpublishing** hedefini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-167">It must invoke the **GatherPackagesForPublishing** target.</span></span>
4. <span data-ttu-id="08c15-168">**Publishdbpackages** hedefini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-168">It must invoke the **PublishDbPackages** target.</span></span>
5. <span data-ttu-id="08c15-169">**Publishwebpackages** hedefini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="08c15-169">It must invoke the **PublishWebPackages** target.</span></span>

### <a name="the-clean-target"></a><span data-ttu-id="08c15-170">Temizleme hedefi</span><span class="sxs-lookup"><span data-stu-id="08c15-170">The Clean Target</span></span>

<span data-ttu-id="08c15-171">**Temizleme** hedefi, yeni bir derleme için hazırlık olarak çıkış dizinini ve tüm içeriğini temelde siler.</span><span class="sxs-lookup"><span data-stu-id="08c15-171">The **Clean** target basically deletes the output directory and all its contents, as preparation for a fresh build.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample7.xml)]

<span data-ttu-id="08c15-172">Hedefin bir **ItemGroup** öğesi içerdiğine dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="08c15-172">Notice that the target includes an **ItemGroup** element.</span></span> <span data-ttu-id="08c15-173">Bir **hedef** öğe içindeki özellikleri veya öğeleri tanımlarken, *dinamik* Özellikler ve öğeler oluşturuyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="08c15-173">When you define properties or items within a **Target** element, you're creating *dynamic* properties and items.</span></span> <span data-ttu-id="08c15-174">Diğer bir deyişle, hedef yürütülene kadar Özellikler veya öğeler işlenmez.</span><span class="sxs-lookup"><span data-stu-id="08c15-174">In other words, the properties or items aren't processed until the target is executed.</span></span> <span data-ttu-id="08c15-175">Çıkış dizini mevcut olmayabilir veya derleme işlemi başlamadan önce herhangi bir dosya içeremez, bu nedenle **\_FilesToDelete** listesini statik öğe olarak derleyemiyorum; yürütme devam edene kadar beklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="08c15-175">The output directory might not exist or contain any files until the build process begins, so you can't build the **\_FilesToDelete** list as a static item; you have to wait until execution is underway.</span></span> <span data-ttu-id="08c15-176">Bu nedenle, listeyi hedef içinde dinamik bir öğe olarak oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="08c15-176">As such, you build the list as a dynamic item within the target.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-177">Bu durumda, **Temizleme** hedefi ilk yürütülecek olan olduğundan, dinamik bir öğe grubu kullanmak için gerçek bir gereksinim yoktur.</span><span class="sxs-lookup"><span data-stu-id="08c15-177">In this case, because the **Clean** target is the first to be executed, there's no real need to use a dynamic item group.</span></span> <span data-ttu-id="08c15-178">Ancak, belirli bir noktada hedefleri farklı bir sırada yürütmek isteyebileceğiniz için, bu tür bir senaryoda dinamik özellikleri ve öğeleri kullanmak iyi bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="08c15-178">However, it's good practice to use dynamic properties and items in this type of scenario, as you might want to execute targets in a different order at some point.</span></span>  
> <span data-ttu-id="08c15-179">Ayrıca, asla kullanılmayacak öğeleri bildirmemeyi de hedeflemelidir.</span><span class="sxs-lookup"><span data-stu-id="08c15-179">You should also aim to avoid declaring items that will never be used.</span></span> <span data-ttu-id="08c15-180">Yalnızca belirli bir hedef tarafından kullanılacak öğeleriniz varsa, yapı sürecinde gereksiz ek yükü kaldırmak için bunları hedefin içine yerleştirmeyi göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="08c15-180">If you have items that will only be used by a specific target, consider placing them inside the target to remove any unnecessary overhead on the build process.</span></span>

<span data-ttu-id="08c15-181">Dinamik öğeler, **Temizleme** hedefi oldukça basittir ve yerleşik **ileti**, **silme**ve **RemoveDir** görevlerinin kullanımını sağlar:</span><span class="sxs-lookup"><span data-stu-id="08c15-181">Dynamic items aside, the **Clean** target is fairly straightforward and makes use of the built-in **Message**, **Delete**, and **RemoveDir** tasks to:</span></span>

1. <span data-ttu-id="08c15-182">Günlükçü 'ye bir ileti gönderin.</span><span class="sxs-lookup"><span data-stu-id="08c15-182">Send a message to the logger.</span></span>
2. <span data-ttu-id="08c15-183">Silinecek dosyaların bir listesini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="08c15-183">Build a list of files to delete.</span></span>
3. <span data-ttu-id="08c15-184">Dosyaları silin.</span><span class="sxs-lookup"><span data-stu-id="08c15-184">Delete the files.</span></span>
4. <span data-ttu-id="08c15-185">Çıkış dizinini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="08c15-185">Remove the output directory.</span></span>

### <a name="the-buildprojects-target"></a><span data-ttu-id="08c15-186">BuildProjects hedefi</span><span class="sxs-lookup"><span data-stu-id="08c15-186">The BuildProjects Target</span></span>

<span data-ttu-id="08c15-187">**Buildprojects** hedefi, örnek Çözümdeki tüm projeleri temel olarak oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-187">The **BuildProjects** target basically builds all the projects in the sample solution.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample8.xml)]

<span data-ttu-id="08c15-188">Bu hedef, görevlerin ve hedeflerin referans özelliklerini ve öğelerini göstermek için [, önceki](understanding-the-project-file.md)konudaki bazı konularda açıklanmıştı.</span><span class="sxs-lookup"><span data-stu-id="08c15-188">This target was described in some detail in the previous topic, [Understanding the Project File](understanding-the-project-file.md), to illustrate how tasks and targets reference properties and items.</span></span> <span data-ttu-id="08c15-189">Bu noktada, temel olarak **MSBuild** göreviyle ilgileniyorsunuz.</span><span class="sxs-lookup"><span data-stu-id="08c15-189">At this point, you're mainly interested in the **MSBuild** task.</span></span> <span data-ttu-id="08c15-190">Bu görevi, birden çok proje oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-190">You can use this task to build multiple projects.</span></span> <span data-ttu-id="08c15-191">Görev, MSBuild. exe ' nin yeni bir örneğini oluşturmaz; her projeyi derlemek için geçerli çalışan örneği kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-191">The task does not create a new instance of MSBuild.exe; it uses the current running instance to build each project.</span></span> <span data-ttu-id="08c15-192">Bu örnekte ilgilendiğiniz önemli noktaları, dağıtım özellikleridir:</span><span class="sxs-lookup"><span data-stu-id="08c15-192">The key points of interest in this example are the deployment properties:</span></span>

- <span data-ttu-id="08c15-193">**Deployonbuild** özelliği MSBuild 'e, her projenin derlemesi tamamlandığında proje ayarlarında herhangi bir dağıtım yönergesi çalıştırmasını söyler.</span><span class="sxs-lookup"><span data-stu-id="08c15-193">The **DeployOnBuild** property instructs MSBuild to run any deployment instructions in the project settings when the build of each project is complete.</span></span>
- <span data-ttu-id="08c15-194">**Deploytarget** özelliği, proje derlendikten sonra çağırmak istediğiniz hedefi tanımlar.</span><span class="sxs-lookup"><span data-stu-id="08c15-194">The **DeployTarget** property identifies the target that you want to invoke after the project is built.</span></span> <span data-ttu-id="08c15-195">Bu durumda, **paket** hedefi, proje çıkışını dağıtılabilir bir Web paketinde oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-195">In this case, the **Package** target builds the project output into a deployable web package.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-196">**Paket** hedefi, MSBuild ve Web dağıtımı arasında tümleştirme sağlayan Web yayımlama ardışık DÜZENINI (WPP) çağırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-196">The **Package** target invokes the Web Publishing Pipeline (WPP), which provides integration between MSBuild and Web Deploy.</span></span> <span data-ttu-id="08c15-197">WPP 'nin sağladığı yerleşik hedeflere göz atmak isterseniz,% PROGRAMFILES (x86)% \ MSBuild\Microsoft\VisualStudio\v10.0\Web klasöründeki *Microsoft. Web. Publishing. targets* dosyasını gözden geçirin.</span><span class="sxs-lookup"><span data-stu-id="08c15-197">If you want to take a look at the built-in targets that the WPP provides, review the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>

### <a name="the-gatherpackagesforpublishing-target"></a><span data-ttu-id="08c15-198">GatherPackagesForPublishing hedefi</span><span class="sxs-lookup"><span data-stu-id="08c15-198">The GatherPackagesForPublishing Target</span></span>

<span data-ttu-id="08c15-199">**Gatherpackagesforpublishing** hedefini inceliyorsanız, aslında hiçbir görevi içermediğini fark edeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-199">If you study the **GatherPackagesForPublishing** target, you'll notice that it doesn't actually contain any tasks.</span></span> <span data-ttu-id="08c15-200">Bunun yerine, üç dinamik öğeyi tanımlayan tek bir öğe grubu içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-200">Instead, it contains a single item group that defines three dynamic items.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample9.xml)]

<span data-ttu-id="08c15-201">Bu öğeler, **Buildprojects** hedefi yürütüldüğünde oluşturulan dağıtım paketlerine başvurur.</span><span class="sxs-lookup"><span data-stu-id="08c15-201">These items refer to the deployment packages that were created when the **BuildProjects** target was executed.</span></span> <span data-ttu-id="08c15-202">Bu öğeleri proje dosyasında statik olarak tanımlamadığınız için, **Buildprojects** hedefi yürütülene kadar öğelerin başvurduğu dosyalar yok.</span><span class="sxs-lookup"><span data-stu-id="08c15-202">You couldn't define these items statically in the project file, because the files to which the items refer don't exist until the **BuildProjects** target is executed.</span></span> <span data-ttu-id="08c15-203">Bunun yerine,, **Buildprojects** hedefi yürütülene kadar çağrılmayan bir hedef içinde öğelerin dinamik olarak tanımlanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="08c15-203">Instead, the items must be defined dynamically within a target that is not invoked until after the **BuildProjects** target is executed.</span></span>

<span data-ttu-id="08c15-204">Öğeler bu hedef&#x2014;içinde kullanılmıyor bu hedef, öğeleri ve her öğe değeri ile ilişkili meta verileri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-204">The items are not used within this target&#x2014;this target simply builds the items and the metadata associated with each item value.</span></span> <span data-ttu-id="08c15-205">Bu öğeler işlendikten sonra, **Publishpackages** öğesi iki değer Içerir, *ContactManager. Mvc. deploy. cmd* dosyasının yolu ve *ContactManager. Service. deploy. cmd* dosyasının yolu.</span><span class="sxs-lookup"><span data-stu-id="08c15-205">Once these elements are processed, the **PublishPackages** item will contain two values, the path to the *ContactManager.Mvc.deploy.cmd* file and the path to the *ContactManager.Service.deploy.cmd* file.</span></span> <span data-ttu-id="08c15-206">Web Dağıtımı, bu dosyaları her proje için Web paketinin bir parçası olarak oluşturur ve paketleri dağıtmak için hedef sunucuda çağırmanız gereken dosyalardır.</span><span class="sxs-lookup"><span data-stu-id="08c15-206">Web Deploy creates these files as part of the web package for each project, and these are the files that you must invoke on the destination server in order to deploy the packages.</span></span> <span data-ttu-id="08c15-207">Bu dosyalardan birini açarsanız, temel olarak derleme özgü çeşitli parametre değerleriyle bir MSDeploy. exe komutu görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="08c15-207">If you open up one of these files, you'll basically see an MSDeploy.exe command with various build-specific parameter values.</span></span>

<span data-ttu-id="08c15-208">**Dbpublishpackages** öğesi, *ContactManager. Database. DeployManifest* dosyasının yolunu tek bir değere sahip olacaktır.</span><span class="sxs-lookup"><span data-stu-id="08c15-208">The **DbPublishPackages** item will contain a single value, the path to the *ContactManager.Database.deploymanifest* file.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-209">Bir. DeployManifest dosyası, bir veritabanı projesi oluşturduğunuzda oluşturulur ve MSBuild proje dosyası ile aynı şemayı kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-209">A .deploymanifest file is generated when you build a database project, and it uses the same schema as an MSBuild project file.</span></span> <span data-ttu-id="08c15-210">Veritabanı şemasının (. dbschema) konumu ve dağıtım öncesi ve dağıtım sonrası betiklerin ayrıntıları dahil olmak üzere bir veritabanını dağıtmak için gereken tüm bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="08c15-210">It contains all the information required to deploy a database, including the location of the database schema (.dbschema) and details of any pre-deployment and post-deployment scripts.</span></span> <span data-ttu-id="08c15-211">Daha fazla bilgi için bkz. [veritabanı derleme ve dağıtım genel bakış](https://msdn.microsoft.com/library/aa833165.aspx).</span><span class="sxs-lookup"><span data-stu-id="08c15-211">For more information, see [An Overview of Database Build and Deployment](https://msdn.microsoft.com/library/aa833165.aspx).</span></span>

<span data-ttu-id="08c15-212">Dağıtım paketleri ve veritabanı dağıtım bildirimlerinin, [Web uygulaması projelerini oluşturma ve paketleme](building-and-packaging-web-application-projects.md) ve [veritabanı projelerini dağıtma](deploying-database-projects.md)hakkında daha fazla bilgi edineceksiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-212">You'll learn more about how deployment packages and database deployment manifests are created and used in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Deploying Database Projects](deploying-database-projects.md).</span></span>

### <a name="the-publishdbpackages-target"></a><span data-ttu-id="08c15-213">PublishDbPackages hedefi</span><span class="sxs-lookup"><span data-stu-id="08c15-213">The PublishDbPackages Target</span></span>

<span data-ttu-id="08c15-214">Kısaca, **Publishdbpackages** hedefi, **ContactManager** veritabanını bir hedef ortama dağıtmak için VSDBCMD yardımcı programını çağırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-214">Briefly speaking, the **PublishDbPackages** target invokes the VSDBCMD utility to deploy the **ContactManager** database to a target environment.</span></span> <span data-ttu-id="08c15-215">Veritabanı dağıtımını yapılandırmak çok sayıda kararlar ve nutlar içerir ve bu, [veritabanı projelerini dağıtma](deploying-database-projects.md) ve [birden çok ortam Için veritabanı dağıtımlarını özelleştirme](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md)konusunda daha fazla bilgi edineceksiniz.</span><span class="sxs-lookup"><span data-stu-id="08c15-215">Configuring database deployment involves lots of decisions and nuances, and you'll learn more about this in [Deploying Database Projects](deploying-database-projects.md) and [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="08c15-216">Bu konu başlığında, bu hedefin gerçekten nasıl çalıştığı hakkında odaklanacağız.</span><span class="sxs-lookup"><span data-stu-id="08c15-216">In this topic, we'll focus on how this target actually functions.</span></span>

<span data-ttu-id="08c15-217">İlk olarak, açılış etiketinin bir **çıktılar** özniteliği içerdiğine dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="08c15-217">First, notice that the opening tag includes an **Outputs** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample10.xml)]

<span data-ttu-id="08c15-218">Bu, *hedef toplu işleme*örneğidir.</span><span class="sxs-lookup"><span data-stu-id="08c15-218">This is an example of *target batching*.</span></span> <span data-ttu-id="08c15-219">MSBuild proje dosyalarında, toplu işleme koleksiyonlar üzerinde yineleme için bir tekniktir.</span><span class="sxs-lookup"><span data-stu-id="08c15-219">In MSBuild project files, batching is a technique for iterating over collections.</span></span> <span data-ttu-id="08c15-220">**"% (Dbpublishpackages. Identity)"** **Çıkış** özniteliğinin değeri, **Dbpublishpackages** öğe listesinin **kimlik** meta verileri özelliğine başvurur.</span><span class="sxs-lookup"><span data-stu-id="08c15-220">The value of the **Outputs** attribute, **"%(DbPublishPackages.Identity)"**, refers to the **Identity** metadata property of the **DbPublishPackages** item list.</span></span> <span data-ttu-id="08c15-221">Bu gösterim, \**çıktılar =% \* \* \* (ItemList. ItemMetaDataName)* , şöyle çevrilir:</span><span class="sxs-lookup"><span data-stu-id="08c15-221">This notation, \**Outputs=%\*\*\*(ItemList.ItemMetadataName)*, is translated as:</span></span>

- <span data-ttu-id="08c15-222">**Dbpublishpackages** içindeki öğeleri aynı **kimlik** meta verisi değerini içeren öğelerin toplu işlemlerine ayırın.</span><span class="sxs-lookup"><span data-stu-id="08c15-222">Split the items in **DbPublishPackages** into batches of items that contain the same **Identity** metadata value.</span></span>
- <span data-ttu-id="08c15-223">Hedefi toplu iş başına bir kez yürütün.</span><span class="sxs-lookup"><span data-stu-id="08c15-223">Execute the target once per batch.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-224">**Kimlik** , oluşturma sırasında her öğeye atanan [yerleşik meta veri değerlerinden](https://msdn.microsoft.com/library/ms164313.aspx) biridir.</span><span class="sxs-lookup"><span data-stu-id="08c15-224">**Identity** is one of the [built-in metadata values](https://msdn.microsoft.com/library/ms164313.aspx) that is assigned to every item on creation.</span></span> <span data-ttu-id="08c15-225">Diğer sözcükteki **item** öğesi&#x2014;içindeki **Include** özniteliğinin değerini, öğenin yolunu ve dosya adını belirtir.</span><span class="sxs-lookup"><span data-stu-id="08c15-225">It refers to the value of the **Include** attribute in the **Item** element&#x2014;in other words, the path and filename of the item.</span></span>

<span data-ttu-id="08c15-226">Bu durumda, aynı yol ve dosya adına sahip birden fazla öğe olmaması gerektiğinden, aslında tek bir toplu iş boyutlarıyla çalışıyoruz.</span><span class="sxs-lookup"><span data-stu-id="08c15-226">In this case, because there should never be more than one item with the same path and filename, we're essentially working with batch sizes of one.</span></span> <span data-ttu-id="08c15-227">Hedef her veritabanı paketi için bir kez yürütülür.</span><span class="sxs-lookup"><span data-stu-id="08c15-227">The target is executed once for every database package.</span></span>

<span data-ttu-id="08c15-228">**\_cmd** özelliğinde benzer bir gösterimi görebilirsiniz. Bu, uygun anahtarlarla bir VSDBCMD komutu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="08c15-228">You can see a similar notation in the **\_Cmd** property, which builds a VSDBCMD command with the appropriate switches.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample11.xml)]

<span data-ttu-id="08c15-229">Bu durumda, **% (Dbpublishpackages. DatabaseConnectionString)** , **% (Dbpublishpackages. TargetDatabase)** ve **% (Dbpublishpackages. FullPath)** hepsi **dbpublishpackages** öğe koleksiyonunun meta veri değerlerine başvurur.</span><span class="sxs-lookup"><span data-stu-id="08c15-229">In this case, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, and **%(DbPublishPackages.FullPath)** all refer to metadata values of the **DbPublishPackages** item collection.</span></span> <span data-ttu-id="08c15-230">**\_cmd** özelliği, komutunu çağıran **Exec** görevi tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="08c15-230">The **\_Cmd** property is used by the **Exec** task, which invokes the command.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample12.xml)]

<span data-ttu-id="08c15-231">Bu NOTATION 'un bir sonucu olarak, **Exec** görevi **databaseconnectionstring**, **TargetDatabase**ve **FullPath** meta veri değerlerinin benzersiz birleşimlerine göre toplu işler oluşturur ve her toplu işlem için görev bir kez yürütülür.</span><span class="sxs-lookup"><span data-stu-id="08c15-231">As a result of this notation, the **Exec** task will create batches based on unique combinations of the **DatabaseConnectionString**, **TargetDatabase**, and **FullPath** metadata values, and the task will execute once for each batch.</span></span> <span data-ttu-id="08c15-232">Bu, *görev toplu işleme*örneğidir.</span><span class="sxs-lookup"><span data-stu-id="08c15-232">This is an example of *task batching*.</span></span> <span data-ttu-id="08c15-233">Ancak, hedef düzeyi toplu işlem öğe koleksiyonumuzu zaten tek öğeli toplu işlerle ayırdığından, **Exec** görevi, hedefin her yinelemesi için bir kez ve yalnızca bir kez çalışır.</span><span class="sxs-lookup"><span data-stu-id="08c15-233">However, because the target-level batching has already divided our item collection into single-item batches, the **Exec** task will run once and only once for each iteration of the target.</span></span> <span data-ttu-id="08c15-234">Diğer bir deyişle, bu görev çözümdeki her veritabanı paketi için VSDBCMD yardımcı programını bir kez çağırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-234">In other words, this task invokes the VSDBCMD utility once for each database package in the solution.</span></span>

> [!NOTE]
> <span data-ttu-id="08c15-235">Hedef ve görev toplu işleme hakkında daha fazla bilgi için bkz. MSBuild [toplu](https://msdn.microsoft.com/library/ms171473.aspx)Işleme, [hedef toplu Işleme Içindeki öğe meta verileri](https://msdn.microsoft.com/library/ms228229.aspx)ve [görev toplu işlem içindeki öğe meta verileri](https://msdn.microsoft.com/library/ms171474.aspx)</span><span class="sxs-lookup"><span data-stu-id="08c15-235">For more information on target and task batching, see MSBuild [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [Item Metadata in Target Batching](https://msdn.microsoft.com/library/ms228229.aspx), and [Item Metadata in Task Batching](https://msdn.microsoft.com/library/ms171474.aspx).</span></span>

### <a name="the-publishwebpackages-target"></a><span data-ttu-id="08c15-236">PublishWebPackages hedefi</span><span class="sxs-lookup"><span data-stu-id="08c15-236">The PublishWebPackages Target</span></span>

<span data-ttu-id="08c15-237">Bu noktada, örnek çözümde her proje için bir Web dağıtım paketi üreten **Buildprojects** hedefini çağırdınız.</span><span class="sxs-lookup"><span data-stu-id="08c15-237">By this point, you've invoked the **BuildProjects** target, which generates a web deployment package for each project in the sample solution.</span></span> <span data-ttu-id="08c15-238">Her paket birlikte, paketi hedef ortama dağıtmak için gereken MSDeploy. exe komutlarını içeren bir *Deploy. cmd* dosyası ve hedef ortamın gerekli ayrıntılarını belirten bir *SetParameters. xml* dosyası.</span><span class="sxs-lookup"><span data-stu-id="08c15-238">Accompanying each package is a *deploy.cmd* file, which contains the MSDeploy.exe commands required to deploy the package to the target environment, and a *SetParameters.xml* file, which specifies the necessary details of the target environment.</span></span> <span data-ttu-id="08c15-239">Ayrıca, ilgilendiğiniz *Deploy. cmd* dosyalarını içeren bir öğe koleksiyonu oluşturan **Gatherpackagesforpublishing** hedefini de çağırdınız.</span><span class="sxs-lookup"><span data-stu-id="08c15-239">You've also invoked the **GatherPackagesForPublishing** target, which generates an item collection containing the *deploy.cmd* files you're interested in.</span></span> <span data-ttu-id="08c15-240">Temelde, **Publishwebpackages** hedefi şu işlevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="08c15-240">Essentially, the **PublishWebPackages** target performs these functions:</span></span>

- <span data-ttu-id="08c15-241">Her bir paket için *SetParameters. xml* dosyasını, **XmlPoke** görevi kullanılarak hedef ortam için doğru ayrıntıları içerecek şekilde yönetir.</span><span class="sxs-lookup"><span data-stu-id="08c15-241">It manipulates the *SetParameters.xml* file for each package to include the correct details for the target environment, using the **XmlPoke** task.</span></span>
- <span data-ttu-id="08c15-242">Uygun anahtarları kullanarak her bir paket için *Deploy. cmd* dosyasını çağırır.</span><span class="sxs-lookup"><span data-stu-id="08c15-242">It invokes the *deploy.cmd* file for each package, using the appropriate switches.</span></span>

<span data-ttu-id="08c15-243">**Publishdbpackages** hedefi gibi **publishwebpackages** hedefi, hedefin her bir Web paketi için bir kez yürütülmesini sağlamak üzere hedef toplu işlem kullanır.</span><span class="sxs-lookup"><span data-stu-id="08c15-243">Just like the **PublishDbPackages** target, the **PublishWebPackages** target uses target batching to ensure that the target is executed once for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample13.xml)]

<span data-ttu-id="08c15-244">Hedef içinde, **Exec** görevi her bir Web paketi için *Deploy. cmd* dosyasını çalıştırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="08c15-244">Within the target, the **Exec** task is used to run the *deploy.cmd* file for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample14.xml)]

<span data-ttu-id="08c15-245">Web paketlerinin dağıtımını yapılandırma hakkında daha fazla bilgi için bkz. [Web uygulaması projeleri oluşturma ve paketleme](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="08c15-245">For more information on configuring the deployment of web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="08c15-246">Sonuç</span><span class="sxs-lookup"><span data-stu-id="08c15-246">Conclusion</span></span>

<span data-ttu-id="08c15-247">Bu konu, derleme ve dağıtım işleminin, Contact Manager örnek çözümü için baştan sona kadar olan yapı ve dağıtım sürecini denetlemek için nasıl kullanılacağını gösteren bir adım adım sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="08c15-247">This topic provided a walkthrough of how split project files are used to control the build and deployment process from start to finish for the Contact Manager sample solution.</span></span> <span data-ttu-id="08c15-248">Bu yaklaşımı kullanmak, yalnızca ortama özgü bir komut dosyası çalıştırarak, karmaşık, kurumsal ölçekli dağıtımları tek ve yinelenebilir bir adımla çalıştırmanıza olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="08c15-248">Using this approach lets you run complex, enterprise-scale deployments in a single, repeatable step, simply by running an environment-specific command file.</span></span>

## <a name="further-reading"></a><span data-ttu-id="08c15-249">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="08c15-249">Further Reading</span></span>

<span data-ttu-id="08c15-250">Proje dosyalarına ve WPP 'ye yönelik daha ayrıntılı bir giriş için, bkz. [Microsoft Build Engine Içindeki MSBuild ve Team Foundation Build](http://amzn.com/0735645248) , Sayed Ibrampahashler ve William BARTHOLOMEW, ısbn: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="08c15-250">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="08c15-251">[Önceki](understanding-the-project-file.md)
> [İleri](building-and-packaging-web-application-projects.md)</span><span class="sxs-lookup"><span data-stu-id="08c15-251">[Previous](understanding-the-project-file.md)
[Next](building-and-packaging-web-application-projects.md)</span></span>
