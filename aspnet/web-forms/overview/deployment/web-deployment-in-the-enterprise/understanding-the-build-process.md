---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
title: Derleme işlemini anlama | Microsoft Docs
author: jrjlee
description: Bu konu, Kurumsal ölçekte derleme ve dağıtım işlemi bir kılavuz sağlar. Bu konuda açıklanan yaklaşımı özel Microsoft yapı Engin kullanır...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 5b982451-547b-4a2f-a5dc-79bc64d84d40
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/understanding-the-build-process
msc.type: authoredcontent
ms.openlocfilehash: 802d93f7ca987d018967275bae68b8c56d883a25
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65130928"
---
# <a name="understanding-the-build-process"></a><span data-ttu-id="cc0d4-104">Derleme İşlemini Anlama</span><span class="sxs-lookup"><span data-stu-id="cc0d4-104">Understanding the Build Process</span></span>

<span data-ttu-id="cc0d4-105">tarafından [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="cc0d4-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="cc0d4-106">PDF'yi indirin</span><span class="sxs-lookup"><span data-stu-id="cc0d4-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="cc0d4-107">Bu konu, Kurumsal ölçekte derleme ve dağıtım işlemi bir kılavuz sağlar.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-107">This topic provides a walkthrough of an enterprise-scale build and deployment process.</span></span> <span data-ttu-id="cc0d4-108">Bu konuda açıklanan yaklaşımı, her yönüyle işlem üzerinde ayrıntılı denetim sağlamak için özel Microsoft Build Engine (MSBuild) proje dosyalarını kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-108">The approach described in this topic uses custom Microsoft Build Engine (MSBuild) project files to provide fine-grained control over every aspect of the process.</span></span> <span data-ttu-id="cc0d4-109">Proje dosyaları içinde özel MSBuild hedefleri, Internet Information Services (IIS) Web Dağıtım Aracı'nın (MSDeploy.exe) gibi dağıtım yardımcı programları ve veritabanı dağıtım yardımcı programı'nı VSDBCMD.exe çalıştırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-109">Within the project files, custom MSBuild targets are used to run deployment utilities like the Internet Information Services (IIS) Web Deployment Tool (MSDeploy.exe) and the database deployment utility VSDBCMD.exe.</span></span>
> 
> > [!NOTE]
> > <span data-ttu-id="cc0d4-110">Bir önceki konu [proje dosyasını anlama](understanding-the-project-file.md)bir MSBuild proje dosyası'nin temel bileşenlerinden açıklanan ve birden çok hedef ortama dağıtımını desteklemek için proje dosyalarının bölünmüş bir kavramın tanıtımını.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-110">The previous topic, [Understanding the Project File](understanding-the-project-file.md), described the key components of an MSBuild project file and introduced the concept of split project files to support deployment to multiple target environments.</span></span> <span data-ttu-id="cc0d4-111">Zaten bu kavramlarına alışık değilseniz, gözden geçirmeniz gereken [proje dosyasını anlama](understanding-the-project-file.md) Bu konuyu çalışmadan önce.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-111">If you're not already familiar with these concepts, you should review [Understanding the Project File](understanding-the-project-file.md) before you work through this topic.</span></span>

<span data-ttu-id="cc0d4-112">Bu konuda öğreticileri, Fabrikam, Inc. adlı kurgusal bir şirkete kurumsal dağıtım gereksinimleri bir dizi parçası oluşturur. Bu öğretici serisinin kullanan örnek bir çözüm&#x2014; [Kişi Yöneticisi çözümü](the-contact-manager-solution.md)&#x2014;karmaşıklık bir ASP.NET MVC 3 uygulama, bir Windows iletişim dahil olmak üzere, gerçekçi bir düzeyi ile bir web uygulaması temsil etmek için Foundation (WCF) hizmet ve bir veritabanı projesi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-112">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="cc0d4-113">Bu öğreticileri temelini dağıtım yöntemi, açıklanan bölünmüş proje dosyası yaklaşım dayalı [proje dosyasını anlama](understanding-the-project-file.md), hangi yapı işlemi tarafından denetlenir içinde iki proje dosyaları&#x2014;içeren bir Her hedef ortam ve ortama özgü derleme ve dağıtım ayarları içeren bir geçerli yönergeleri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-113">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="cc0d4-114">Derleme sırasında ortama özgü proje dosyası derleme yönergeleri eksiksiz bir kümesini oluşturmak için ortam belirsiz proje dosyasına birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-114">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="build-and-deployment-overview"></a><span data-ttu-id="cc0d4-115">Derleme ve dağıtıma genel bakış</span><span class="sxs-lookup"><span data-stu-id="cc0d4-115">Build and Deployment Overview</span></span>

<span data-ttu-id="cc0d4-116">İçinde [Kişi Yöneticisi çözümü](the-contact-manager-solution.md), üç dosyayı denetimi derleme ve dağıtım işlemi:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-116">In the [Contact Manager solution](the-contact-manager-solution.md), three files control the build and deployment process:</span></span>

- <span data-ttu-id="cc0d4-117">A *Evrensel bir proje dosyası* (*Publish.proj*).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-117">A *universal project file* (*Publish.proj*).</span></span> <span data-ttu-id="cc0d4-118">Bu, hedef ortamlar arasında değiştirmeyin derleme ve dağıtım yönergelerini içerir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-118">This contains build and deployment instructions that do not change between destination environments.</span></span>
- <span data-ttu-id="cc0d4-119">Bir *ortama özgü proje dosyası* (*Env Dev.proj*).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-119">An *environment-specific project file* (*Env-Dev.proj*).</span></span> <span data-ttu-id="cc0d4-120">Bu, belirli hedef ortama özgü derleme ve dağıtım ayarları içerir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-120">This contains build and deployment settings that are specific to a particular destination environment.</span></span> <span data-ttu-id="cc0d4-121">Örneğin, kullanabileceğinizi *Env Dev.proj* bir geliştirici veya test ortamı için ayarları belirtin ve adlandırılmış alternatif bir dosya oluşturmak için dosya *Env Stage.proj* bir hazırlama ayarlarını belirtmek için ortam.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-121">For example, you could use the *Env-Dev.proj* file to provide settings for a developer or test environment and create an alternative file named *Env-Stage.proj* to provide settings for a staging environment.</span></span>
- <span data-ttu-id="cc0d4-122">A *komut dosyası* (*Yayımla Dev.cmd*).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-122">A *command file* (*Publish-Dev.cmd*).</span></span> <span data-ttu-id="cc0d4-123">Bu proje dosyaları belirten komutu yürütmek istediğiniz bir MSBuild.exe içerir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-123">This contains an MSBuild.exe command that specifies which project files you want to execute.</span></span> <span data-ttu-id="cc0d4-124">Burada farklı bir ortama özgü proje dosyasını belirten bir MSBuild.exe komutu her dosya içeren bir komut dosyası, her bir hedef ortam için oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-124">You can create a command file for every destination environment, where each file contains an MSBuild.exe command that specifies a different environment-specific project file.</span></span> <span data-ttu-id="cc0d4-125">Bu, uygun komut dosyası çalıştırarak farklı ortamlara dağıtmak Geliştirici olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-125">This lets the developer deploy to different environments simply by running the appropriate command file.</span></span>

<span data-ttu-id="cc0d4-126">Örnek çözümde bu üç dosyayı yayımlama çözüm klasöründe bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-126">In the sample solution, you can find these three files in the Publish solution folder.</span></span>

![](understanding-the-build-process/_static/image1.png)

<span data-ttu-id="cc0d4-127">Bu dosyalar daha ayrıntılı bakmak önce bu yaklaşımı kullandığınızda, genel derleme işleminin nasıl çalıştığı bir göz atalım.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-127">Before you look at these files in more detail, let's take a look at how the overall build process works when you use this approach.</span></span> <span data-ttu-id="cc0d4-128">Yüksek düzeyde, derleme ve dağıtım işlemini şu şekilde görünür:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-128">At a high level, the build and deployment process looks like this:</span></span>

![](understanding-the-build-process/_static/image2.png)

<span data-ttu-id="cc0d4-129">İki proje dosyaları gerçekleşen ilk şey olan&#x2014;Evrensel derleme ve dağıtım yönergelerini içeren ve ortama özgü ayarları içeren bir&#x2014;tek proje dosyasına birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-129">The first thing that happens is that the two project files&#x2014;one containing universal build and deployment instructions, and one containing environment-specific settings&#x2014;are merged into a single project file.</span></span> <span data-ttu-id="cc0d4-130">MSBuild, proje dosyasındaki yönergeleri aracılığıyla sonra çalışır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-130">MSBuild then works through the instructions in the project file.</span></span> <span data-ttu-id="cc0d4-131">Bu çözümdeki her proje için proje dosyasını kullanarak projelerin her biri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-131">It builds each of the projects in the solution, using the project file for each project.</span></span> <span data-ttu-id="cc0d4-132">Daha sonra Web dağıtımı (MSDeploy.exe) gibi başka araçlar ve veritabanları ve web içeriği hedef ortama dağıtmak için VSDBCMD yardımcı programını çağırır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-132">It then calls out to other tools, like Web Deploy (MSDeploy.exe) and the VSDBCMD utility to deploy your web content and databases to the target environment.</span></span>

<span data-ttu-id="cc0d4-133">Baştan, derleme ve dağıtım işlemi, şu görevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-133">From start to finish, the build and deployment process performs these tasks:</span></span>

1. <span data-ttu-id="cc0d4-134">Yeni bir derleme için hazırlık çıktı dizininin içeriğini siler.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-134">It deletes the contents of the output directory, in preparation for a fresh build.</span></span>
2. <span data-ttu-id="cc0d4-135">Bu çözümde her proje oluşturur:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-135">It builds each project in the solution:</span></span>

    1. <span data-ttu-id="cc0d4-136">Web projeleri için&#x2014;bu durumda, bir ASP.NET MVC web uygulaması ve bir WCF web hizmeti&#x2014;her proje için bir web dağıtım paketi oluşturma işlemi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-136">For web projects&#x2014;in this case, an ASP.NET MVC web application and a WCF web service&#x2014;the build process creates a web deployment package for each project.</span></span>
    2. <span data-ttu-id="cc0d4-137">Veritabanı projeleri için derleme işlemi her proje için bir dağıtım bildirimi (.deploymanifest dosyası) oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-137">For database projects, the build process creates a deployment manifest (.deploymanifest file) for each project.</span></span>
3. <span data-ttu-id="cc0d4-138">Her veritabanı proje çözümde proje dosyalarından çeşitli özelliklerini kullanarak dağıtmak için VSDBCMD.exe yardımcı programını kullanır&#x2014;hedef bağlantı dizesini ve veritabanı adı&#x2014;.deploymanifest dosyası ile birlikte.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-138">It uses the VSDBCMD.exe utility to deploy each database project in the solution, using various properties from the project files&#x2014;a target connection string and a database name&#x2014;together with the .deploymanifest file.</span></span>
4. <span data-ttu-id="cc0d4-139">MSDeploy.exe yardımcı programı, çözümü dağıtım işlemini denetlemek için proje dosyalarından çeşitli özelliklerini kullanarak, her web projesinde dağıtmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-139">It uses the MSDeploy.exe utility to deploy each web project in the solution, using various properties from the project files to control the deployment process.</span></span>

<span data-ttu-id="cc0d4-140">Örnek çözüm, bu işlem daha ayrıntılı izlemek için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-140">You can use the sample solution to trace this process in more detail.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-141">Kendi server ortamları için ortama özgü proje dosyalarını özelleştirme konusunda yönergeler için bkz. [dağıtım özelliklerini yapılandırmak için bir hedef ortam](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-141">For guidance on how to customize the environment-specific project files for your own server environments, see [Configure Deployment Properties for a Target Environment](../configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment.md).</span></span>

## <a name="invoking-the-build-and-deployment-process"></a><span data-ttu-id="cc0d4-142">Derleme ve dağıtım işlemi çağırma</span><span class="sxs-lookup"><span data-stu-id="cc0d4-142">Invoking the Build and Deployment Process</span></span>

<span data-ttu-id="cc0d4-143">Kişi Yöneticisi çözümü bir geliştirici test ortamına dağıtmak için geliştirici çalıştıran *Yayımla Dev.cmd* komut dosyası.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-143">To deploy the Contact Manager solution to a developer test environment, the developer runs the *Publish-Dev.cmd* command file.</span></span> <span data-ttu-id="cc0d4-144">Bu, MSBuild.exe çağırır belirtme *Publish.proj* yürütmek için proje dosyası olarak ve *Env Dev.proj* bir parametre değeri.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-144">This invokes MSBuild.exe, specifying *Publish.proj* as the project file to execute and *Env-Dev.proj* as a parameter value.</span></span>

[!code-console[Main](understanding-the-build-process/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="cc0d4-145">**/Fl** geçiş (kısaltması **/fileLogger**) adlı bir dosyaya yapı çıkış günlükleri *msbuild.log* geçerli dizin.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-145">The **/fl** switch (short for **/fileLogger**) logs the build output to a file named *msbuild.log* in the current directory.</span></span> <span data-ttu-id="cc0d4-146">Daha fazla bilgi için [MSBuild komut satırı başvurusu](https://msdn.microsoft.com/library/ms164311.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-146">For more information, see the [MSBuild Command Line Reference](https://msdn.microsoft.com/library/ms164311.aspx).</span></span>

<span data-ttu-id="cc0d4-147">Bu noktada, MSBuild çalışmaya başlar, yükler *Publish.proj* dosya ve işlem içindeki yönergeleri başlatır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-147">At this point, MSBuild starts running, loads the *Publish.proj* file, and starts processing the instructions within it.</span></span> <span data-ttu-id="cc0d4-148">İlk yönerge proje almak için MSBuild söyler, dosya **TargetEnvPropsFile** parametre belirtir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-148">The first instruction tells MSBuild to import the project file that the **TargetEnvPropsFile** parameter specifies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample2.xml)]

<span data-ttu-id="cc0d4-149">**TargetEnvPropsFile** parametresinin belirttiği *Env Dev.proj* MSBuild içeriğini birleştirir. Bu nedenle, dosya *Env Dev.proj* doyasını  *Publish.proj* dosya.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-149">The **TargetEnvPropsFile** parameter specifies the *Env-Dev.proj* file, so MSBuild merges the contents of the *Env-Dev.proj* file into the *Publish.proj* file.</span></span>

<span data-ttu-id="cc0d4-150">MSBuild proje birleştirilen dosyasında karşılaştığında sonraki öğeleri özelliği gruplarıdır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-150">The next elements that MSBuild encounters in the merged project file are property groups.</span></span> <span data-ttu-id="cc0d4-151">Özellikleri dosyasında göründükleri sırayla işlenir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-151">Properties are processed in the order in which they appear in the file.</span></span> <span data-ttu-id="cc0d4-152">MSBuild, belirtilen tüm koşulların karşılandığından sağlayan bir anahtar-değer çifti için her bir özellik oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-152">MSBuild creates a key-value pair for each property, providing that any specified conditions are met.</span></span> <span data-ttu-id="cc0d4-153">Daha sonra dosyasında tanımlanan özellikler, daha önce dosyasında tanımlanmış aynı ada sahip tüm özellikleri üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-153">Properties defined later in the file will overwrite any properties with the same name defined earlier in the file.</span></span> <span data-ttu-id="cc0d4-154">Örneğin, düşünün **OutputRoot** özellikleri.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-154">For example, consider the **OutputRoot** properties.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample3.xml)]

<span data-ttu-id="cc0d4-155">MSBuild, ilk işlediğinde **OutputRoot** öğesi, benzer ada parametresi sağlayarak olmayan sağlanmıştır, değerini ayarlar **OutputRoot** özelliğini **... \Publish\Out**. İkinci karşılaştığında **OutputRoot** için değerlendirilen koşul yoksa öğe **true**, değerini üzerine yazar **OutputRoot** özellik değeri ile **OutDir** parametresi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-155">When MSBuild processes the first **OutputRoot** element, providing a similarly named parameter has not been provided, it sets the value of the **OutputRoot** property to **..\Publish\Out**. When it encounters the second **OutputRoot** element, if the condition evaluates to **true**, it will overwrite the value of the **OutputRoot** property with the value of the **OutDir** parameter.</span></span>

<span data-ttu-id="cc0d4-156">MSBuild karşılaştığı sonraki adlı bir öğe içeren bir tek öğe grubu öğedir **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-156">The next element that MSBuild encounters is a single item group, containing an item named **ProjectsToBuild**.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample4.xml)]

<span data-ttu-id="cc0d4-157">MSBuild adlı bir öğe listesi oluşturarak bu yönerge işleme **ProjectsToBuild**.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-157">MSBuild processes this instruction by building an item list named **ProjectsToBuild**.</span></span> <span data-ttu-id="cc0d4-158">Bu durumda, öğe listesi tek bir değer içeren&#x2014;çözüm dosyasının dosya adı ve yolu.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-158">In this case, the item list contains a single value&#x2014;the path and filename of the solution file.</span></span>

<span data-ttu-id="cc0d4-159">Bu noktada, kalan öğeleri hedeflerdir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-159">At this point, the remaining elements are targets.</span></span> <span data-ttu-id="cc0d4-160">Hedefleri özellikleri ve öğeleri farklı şekilde işlendiğini&#x2014;bunlar açıkça kullanıcı tarafından belirtilen ya da başka bir yapı projesi dosyası içinde çağrılan sürece hedefleri esas olarak işlenmez.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-160">Targets are processed differently from properties and items&#x2014;essentially, targets are not processed unless they are either explicitly specified by the user or invoked by another construct within the project file.</span></span> <span data-ttu-id="cc0d4-161">Sözcüğünün açılış **proje** etiket içeren bir **DefaultTargets** özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-161">Recall that the opening **Project** tag includes a **DefaultTargets** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample5.xml)]

<span data-ttu-id="cc0d4-162">Bu MSBuild'e bildirir **FullPublish** hedefleri değilse hedef belirtilen MSBuild.exe zaman çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-162">This instructs MSBuild to invoke the **FullPublish** target, if targets are not specified when MSBuild.exe is invoked.</span></span> <span data-ttu-id="cc0d4-163">**FullPublish** hedef herhangi bir görev içermiyor; bunun yerine yalnızca bağımlılıkların bir listesini belirtir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-163">The **FullPublish** target doesn't contain any tasks; instead it simply specifies a list of dependencies.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample6.xml)]

<span data-ttu-id="cc0d4-164">Bu bağımlılık, bu içinde sırayla yürütmek için MSBuild söyler **FullPublish** hedef, ihtiyaç duyduğu bu sırada sağlanan hedeflerin listesi çağırmak:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-164">This dependency tells MSBuild that in order to execute the **FullPublish** target, it needs to invoke this list of targets in the order provided:</span></span>

1. <span data-ttu-id="cc0d4-165">Çağırmanız gerekir **temiz** hedef.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-165">It must invoke the **Clean** target.</span></span>
2. <span data-ttu-id="cc0d4-166">Çağırmanız gerekir **BuildProjects** hedef.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-166">It must invoke the **BuildProjects** target.</span></span>
3. <span data-ttu-id="cc0d4-167">Çağırmanız gerekir **GatherPackagesForPublishing** hedef.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-167">It must invoke the **GatherPackagesForPublishing** target.</span></span>
4. <span data-ttu-id="cc0d4-168">Çağırmanız gerekir **PublishDbPackages** hedef.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-168">It must invoke the **PublishDbPackages** target.</span></span>
5. <span data-ttu-id="cc0d4-169">Çağırmanız gerekir **PublishWebPackages** hedef.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-169">It must invoke the **PublishWebPackages** target.</span></span>

### <a name="the-clean-target"></a><span data-ttu-id="cc0d4-170">Temizleme hedefi</span><span class="sxs-lookup"><span data-stu-id="cc0d4-170">The Clean Target</span></span>

<span data-ttu-id="cc0d4-171">**Temiz** hedef temelde siler çıktı dizini ve tüm içerikleri, yeni bir derleme için hazırlık olarak.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-171">The **Clean** target basically deletes the output directory and all its contents, as preparation for a fresh build.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample7.xml)]

<span data-ttu-id="cc0d4-172">Hedef içeren bildirimi bir **ItemGroup** öğesi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-172">Notice that the target includes an **ItemGroup** element.</span></span> <span data-ttu-id="cc0d4-173">Özellikleri veya öğeleri tanımladığınızda bir **hedef** oluşturduğunuz öğesi *dinamik* özellikleri ve öğeleri.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-173">When you define properties or items within a **Target** element, you're creating *dynamic* properties and items.</span></span> <span data-ttu-id="cc0d4-174">Hedef yürütülene kadar başka bir deyişle, özellikler veya öğeler işlenen değil.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-174">In other words, the properties or items aren't processed until the target is executed.</span></span> <span data-ttu-id="cc0d4-175">Çıkış dizinine yok veya derleme işlemi başlayana kadar derleme başlatılamıyor şekilde tüm dosyaları içeren  **\_FilesToDelete** listesinde statik bir öğe olarak; yürütme yapıldığı kadar beklemem gerekir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-175">The output directory might not exist or contain any files until the build process begins, so you can't build the **\_FilesToDelete** list as a static item; you have to wait until execution is underway.</span></span> <span data-ttu-id="cc0d4-176">Bu nedenle, hedef içinde dinamik bir öğe olarak listesi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-176">As such, you build the list as a dynamic item within the target.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-177">Bu durumda, çünkü **temiz** hedef yürütülecek ilk, dinamik öğe grubunu kullanmak üzere gerçek gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-177">In this case, because the **Clean** target is the first to be executed, there's no real need to use a dynamic item group.</span></span> <span data-ttu-id="cc0d4-178">Belirli bir noktada farklı bir düzende hedefleri yürütmenizi isteyebilirsiniz ancak bu senaryo, bu tür içinde dinamik özellikleri ve öğeleri kullanmak iyi bir uygulama aynıdır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-178">However, it's good practice to use dynamic properties and items in this type of scenario, as you might want to execute targets in a different order at some point.</span></span>  
> <span data-ttu-id="cc0d4-179">Hiçbir zaman kullanılmayacaktır öğeleri bildirme önlemek için hedeflemeyi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-179">You should also aim to avoid declaring items that will never be used.</span></span> <span data-ttu-id="cc0d4-180">Yalnızca belirli bir hedef tarafından kullanılacak öğeleriniz varsa, bunları hedef derleme işlemi gereksiz tüm iş yükünü kaldırmak için yerleştirmeyi göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-180">If you have items that will only be used by a specific target, consider placing them inside the target to remove any unnecessary overhead on the build process.</span></span>

<span data-ttu-id="cc0d4-181">Dinamik öğeleri CPU'nun, **temiz** hedef oldukça açıktır ve kullanır yerleşik **ileti**, **Sil**, ve **RemoveDir**görevler:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-181">Dynamic items aside, the **Clean** target is fairly straightforward and makes use of the built-in **Message**, **Delete**, and **RemoveDir** tasks to:</span></span>

1. <span data-ttu-id="cc0d4-182">Günlükçü için bir ileti gönderin.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-182">Send a message to the logger.</span></span>
2. <span data-ttu-id="cc0d4-183">Silmek için dosyaların listesini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-183">Build a list of files to delete.</span></span>
3. <span data-ttu-id="cc0d4-184">Dosyaları silin.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-184">Delete the files.</span></span>
4. <span data-ttu-id="cc0d4-185">Çıkış dizini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-185">Remove the output directory.</span></span>

### <a name="the-buildprojects-target"></a><span data-ttu-id="cc0d4-186">BuildProjects hedef</span><span class="sxs-lookup"><span data-stu-id="cc0d4-186">The BuildProjects Target</span></span>

<span data-ttu-id="cc0d4-187">**BuildProjects** hedef örnek Çözümdeki tüm projeleri temel oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-187">The **BuildProjects** target basically builds all the projects in the sample solution.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample8.xml)]

<span data-ttu-id="cc0d4-188">Bu hedef önceki konusundaki bazı ayrıntılı anlatılan [proje dosyasını anlama](understanding-the-project-file.md), özellikleri ve öğeleri görevleri ve hedefleri nasıl başvuru göstermek için.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-188">This target was described in some detail in the previous topic, [Understanding the Project File](understanding-the-project-file.md), to illustrate how tasks and targets reference properties and items.</span></span> <span data-ttu-id="cc0d4-189">Bu noktada, çoğunlukla ilgi **MSBuild** görev.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-189">At this point, you're mainly interested in the **MSBuild** task.</span></span> <span data-ttu-id="cc0d4-190">Bu görevi, birden çok proje oluşturmak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-190">You can use this task to build multiple projects.</span></span> <span data-ttu-id="cc0d4-191">Görev, MSBuild.exe yeni bir örneğini oluşturmaz; Her bir proje oluşturmak için geçerli çalışan örneği kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-191">The task does not create a new instance of MSBuild.exe; it uses the current running instance to build each project.</span></span> <span data-ttu-id="cc0d4-192">Bu örnekte ilgi önemli noktaları, dağıtım özellikleri şunlardır:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-192">The key points of interest in this example are the deployment properties:</span></span>

- <span data-ttu-id="cc0d4-193">**DeployOnBuild** her projenin tamamlandığında proje ayarlarında herhangi bir dağıtım yönergeleri çalıştırılacak MSBuild özelliği bildirir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-193">The **DeployOnBuild** property instructs MSBuild to run any deployment instructions in the project settings when the build of each project is complete.</span></span>
- <span data-ttu-id="cc0d4-194">**DeployTarget** proje derlendikten sonra çağrılacak istediğiniz hedef özelliği tanımlar.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-194">The **DeployTarget** property identifies the target that you want to invoke after the project is built.</span></span> <span data-ttu-id="cc0d4-195">Bu durumda, **paket** hedef bir web dağıtılabilir paketine proje çıktısı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-195">In this case, the **Package** target builds the project output into a deployable web package.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-196">**Paket** hedef Web yayımlama işlem hattı (MSBuild ve Web dağıtımı arasında tümleştirmeyi sağlayan Usewpp_copywebapplication), çağırır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-196">The **Package** target invokes the Web Publishing Pipeline (WPP), which provides integration between MSBuild and Web Deploy.</span></span> <span data-ttu-id="cc0d4-197">WPP sağlar, yerleşik hedefleri gözden geçirme göz atın istiyorsanız *Microsoft.Web.Publishing.targets* % PROGRAMFILES (x 86) %\MSBuild\Microsoft\VisualStudio\v10.0\Web klasöründeki dosya.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-197">If you want to take a look at the built-in targets that the WPP provides, review the *Microsoft.Web.Publishing.targets* file in the %PROGRAMFILES(x86)%\MSBuild\Microsoft\VisualStudio\v10.0\Web folder.</span></span>

### <a name="the-gatherpackagesforpublishing-target"></a><span data-ttu-id="cc0d4-198">GatherPackagesForPublishing hedef</span><span class="sxs-lookup"><span data-stu-id="cc0d4-198">The GatherPackagesForPublishing Target</span></span>

<span data-ttu-id="cc0d4-199">Üzerinde çalışmanız durumunda **GatherPackagesForPublishing** hedef seçeneğinde, gerçekte herhangi bir görev içermiyor.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-199">If you study the **GatherPackagesForPublishing** target, you'll notice that it doesn't actually contain any tasks.</span></span> <span data-ttu-id="cc0d4-200">Bunun yerine, üç dinamik öğeleri tanımlayan bir tek öğe grubu içerir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-200">Instead, it contains a single item group that defines three dynamic items.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample9.xml)]

<span data-ttu-id="cc0d4-201">Bu öğeler olduğunda oluşturulan dağıtım paketlerine başvuran **BuildProjects** hedef yürütüldü.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-201">These items refer to the deployment packages that were created when the **BuildProjects** target was executed.</span></span> <span data-ttu-id="cc0d4-202">Öğeleri başvurduğu dosyaları kadar mevcut olduğundan bu öğeleri statik olarak proje dosyasında tanımladığınız uygulanamadı **BuildProjects** hedef yürütülür.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-202">You couldn't define these items statically in the project file, because the files to which the items refer don't exist until the **BuildProjects** target is executed.</span></span> <span data-ttu-id="cc0d4-203">Bunun yerine, öğeleri dinamik olarak kadar çağrılmaz hedef içinde tanımlanmalıdır sonra **BuildProjects** hedef yürütülür.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-203">Instead, the items must be defined dynamically within a target that is not invoked until after the **BuildProjects** target is executed.</span></span>

<span data-ttu-id="cc0d4-204">Öğeleri bu hedef içinde kullanılmaz&#x2014;bu hedef yalnızca öğeleri ve her öğe değer ile ilişkili meta verileri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-204">The items are not used within this target&#x2014;this target simply builds the items and the metadata associated with each item value.</span></span> <span data-ttu-id="cc0d4-205">Bu öğeleri işleme sonra **PublishPackages** öğe yolu şu iki değerden içerecek *ContactManager.Mvc.deploy.cmd* dosya ve yol  *ContactManager.Service.deploy.cmd* dosya.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-205">Once these elements are processed, the **PublishPackages** item will contain two values, the path to the *ContactManager.Mvc.deploy.cmd* file and the path to the *ContactManager.Service.deploy.cmd* file.</span></span> <span data-ttu-id="cc0d4-206">Web dağıtımı web paketi her proje için bir parçası olarak bu dosyaları oluşturur ve bunlar çağırmanız gerekir dosyaları paketleri dağıtmak için hedef sunucuda.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-206">Web Deploy creates these files as part of the web package for each project, and these are the files that you must invoke on the destination server in order to deploy the packages.</span></span> <span data-ttu-id="cc0d4-207">Bu dosyalardan biri açarsanız çeşitli yapı özgü parametre değerlerini içeren bir MSDeploy.exe komutu temelde görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-207">If you open up one of these files, you'll basically see an MSDeploy.exe command with various build-specific parameter values.</span></span>

<span data-ttu-id="cc0d4-208">**DbPublishPackages** öğesini yolu tek bir değer içermesi *ContactManager.Database.deploymanifest* dosya.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-208">The **DbPublishPackages** item will contain a single value, the path to the *ContactManager.Database.deploymanifest* file.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-209">Veritabanı projesi oluşturun ve bir MSBuild proje dosyası aynı şemayı kullanan .deploymanifest dosyası oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-209">A .deploymanifest file is generated when you build a database project, and it uses the same schema as an MSBuild project file.</span></span> <span data-ttu-id="cc0d4-210">Veritabanı şeması (.dbschema) konumunu ve dağıtım öncesi ve dağıtım sonrası komut dosyalarını ayrıntılarını da dahil olmak üzere, bir veritabanı dağıtmak için gereken tüm bilgiler içerir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-210">It contains all the information required to deploy a database, including the location of the database schema (.dbschema) and details of any pre-deployment and post-deployment scripts.</span></span> <span data-ttu-id="cc0d4-211">Daha fazla bilgi için [bir genel bakış, bir veritabanı oluşturun ve dağıtım](https://msdn.microsoft.com/library/aa833165.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-211">For more information, see [An Overview of Database Build and Deployment](https://msdn.microsoft.com/library/aa833165.aspx).</span></span>

<span data-ttu-id="cc0d4-212">Nasıl dağıtım paketleri ve dağıtım bildirimlerini veritabanı oluşturulur ve kullanılan hakkında daha fazla bilgi edineceksiniz [oluşturma ve paketleme Web Uygulama projeleri](building-and-packaging-web-application-projects.md) ve [veritabanı projeleri dağıtma](deploying-database-projects.md).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-212">You'll learn more about how deployment packages and database deployment manifests are created and used in [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md) and [Deploying Database Projects](deploying-database-projects.md).</span></span>

### <a name="the-publishdbpackages-target"></a><span data-ttu-id="cc0d4-213">PublishDbPackages hedef</span><span class="sxs-lookup"><span data-stu-id="cc0d4-213">The PublishDbPackages Target</span></span>

<span data-ttu-id="cc0d4-214">Kısaca açıklamak gerekirse, **PublishDbPackages** hedef başlatır dağıtılacağı VSDBCMD yardımcı programı **ContactManager** bir hedef ortam için veritabanı.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-214">Briefly speaking, the **PublishDbPackages** target invokes the VSDBCMD utility to deploy the **ContactManager** database to a target environment.</span></span> <span data-ttu-id="cc0d4-215">Veritabanı dağıtımı yapılandırılmasını kararlarını ve farklılıklarına çok sayıda ve bu konuda daha fazla bilgi edineceksiniz [veritabanı projeleri dağıtma](deploying-database-projects.md) ve [birdençokortamiçinveritabanıdağıtımlarınıözelleştirme](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-215">Configuring database deployment involves lots of decisions and nuances, and you'll learn more about this in [Deploying Database Projects](deploying-database-projects.md) and [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="cc0d4-216">Bu konu başlığında nasıl bu hedef gerçekten işlev üzerinde odaklanacağız.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-216">In this topic, we'll focus on how this target actually functions.</span></span>

<span data-ttu-id="cc0d4-217">İlk olarak, açılış etiketinde içerdiğini fark bir **çıkışları** özniteliği.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-217">First, notice that the opening tag includes an **Outputs** attribute.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample10.xml)]

<span data-ttu-id="cc0d4-218">Bu bir örnektir *toplu hedef işlemede*.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-218">This is an example of *target batching*.</span></span> <span data-ttu-id="cc0d4-219">MSBuild proje dosyalarında toplu işleme koleksiyon yineleme bir tekniktir.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-219">In MSBuild project files, batching is a technique for iterating over collections.</span></span> <span data-ttu-id="cc0d4-220">Değerini **çıkışları** özniteliği **"% (DbPublishPackages.Identity)"**, başvurduğu **kimlik** meta veri özelliğini **DbPublishPackages**  öğe listesi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-220">The value of the **Outputs** attribute, **"%(DbPublishPackages.Identity)"**, refers to the **Identity** metadata property of the **DbPublishPackages** item list.</span></span> <span data-ttu-id="cc0d4-221">Bu gösterim \**Outputs=%\*\*\*(ItemList.ItemMetadataName)*, olarak çevrilir:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-221">This notation, \**Outputs=%\*\*\*(ItemList.ItemMetadataName)*, is translated as:</span></span>

- <span data-ttu-id="cc0d4-222">Öğeleri Böl **DbPublishPackages** aynı içeren öğeleri gruplayın **kimlik** meta veri değeri.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-222">Split the items in **DbPublishPackages** into batches of items that contain the same **Identity** metadata value.</span></span>
- <span data-ttu-id="cc0d4-223">Hedef toplu iş başına bir kez çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-223">Execute the target once per batch.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-224">**Kimlik** biri [yerleşik meta veri değerlerini](https://msdn.microsoft.com/library/ms164313.aspx) oluşturma sırasında her bir öğesine atanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-224">**Identity** is one of the [built-in metadata values](https://msdn.microsoft.com/library/ms164313.aspx) that is assigned to every item on creation.</span></span> <span data-ttu-id="cc0d4-225">Değerine başvuran **INCLUDE** özniteliğini **öğesi** öğesi&#x2014;başka bir deyişle, yol ve dosya adı öğesi.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-225">It refers to the value of the **Include** attribute in the **Item** element&#x2014;in other words, the path and filename of the item.</span></span>

<span data-ttu-id="cc0d4-226">Birden fazla öğe aynı yol ve dosya adı ile hiçbir zaman olmalıdır çünkü bu durumda, aslında bir batch boyutlarıyla çalışıyoruz.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-226">In this case, because there should never be more than one item with the same path and filename, we're essentially working with batch sizes of one.</span></span> <span data-ttu-id="cc0d4-227">Hedef, her veritabanı paketi için bir kez yürütülür.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-227">The target is executed once for every database package.</span></span>

<span data-ttu-id="cc0d4-228">Benzer bir gösterim gördüğünüz  **\_Cmd** özelliğini uygun anahtarlarını VSDBCMD komutuyla oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-228">You can see a similar notation in the **\_Cmd** property, which builds a VSDBCMD command with the appropriate switches.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample11.xml)]

<span data-ttu-id="cc0d4-229">Bu durumda, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, ve **%(DbPublishPackages.FullPath)** tüm başvurur meta veri değerlerini **DbPublishPackages** öğe koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-229">In this case, **%(DbPublishPackages.DatabaseConnectionString)**, **%(DbPublishPackages.TargetDatabase)**, and **%(DbPublishPackages.FullPath)** all refer to metadata values of the **DbPublishPackages** item collection.</span></span> <span data-ttu-id="cc0d4-230"> *\*\_Cmd** özelliği tarafından kullanılan *\*Exec** komutu çağıran bir görev.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-230">The **\_Cmd** property is used by the **Exec** task, which invokes the command.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample12.xml)]

<span data-ttu-id="cc0d4-231">Bu gösterim sonucunda **Exec** görev benzersiz kombinasyonlarına dayalı Toplu oluşturma **DatabaseConnectionString**, **TargetDatabase**ve **FullPath** meta veri değerlerini ve görev yürütülecek bir kez için her toplu işin.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-231">As a result of this notation, the **Exec** task will create batches based on unique combinations of the **DatabaseConnectionString**, **TargetDatabase**, and **FullPath** metadata values, and the task will execute once for each batch.</span></span> <span data-ttu-id="cc0d4-232">Bu bir örnektir *toplu görev işlemede*.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-232">This is an example of *task batching*.</span></span> <span data-ttu-id="cc0d4-233">Ancak, hedef düzeyi toplu işleme zaten tek öğeli, bizim öğesi koleksiyonuna ayrılmış **Exec** Görev hedef her yineleme için yalnızca bir kez çalışır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-233">However, because the target-level batching has already divided our item collection into single-item batches, the **Exec** task will run once and only once for each iteration of the target.</span></span> <span data-ttu-id="cc0d4-234">Diğer bir deyişle, bu görev için çözüm içindeki her bir veritabanı paket için bir kez VSDBCMD yardımcı çağırır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-234">In other words, this task invokes the VSDBCMD utility once for each database package in the solution.</span></span>

> [!NOTE]
> <span data-ttu-id="cc0d4-235">MSBuild hedef ve görev toplu işleme hakkında daha fazla bilgi için bkz. [toplu işleme](https://msdn.microsoft.com/library/ms171473.aspx), [toplu hedef işlemede öğe meta verileri](https://msdn.microsoft.com/library/ms228229.aspx), ve [toplu görev işlemede öğe meta verileri](https://msdn.microsoft.com/library/ms171474.aspx).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-235">For more information on target and task batching, see MSBuild [Batching](https://msdn.microsoft.com/library/ms171473.aspx), [Item Metadata in Target Batching](https://msdn.microsoft.com/library/ms228229.aspx), and [Item Metadata in Task Batching](https://msdn.microsoft.com/library/ms171474.aspx).</span></span>

### <a name="the-publishwebpackages-target"></a><span data-ttu-id="cc0d4-236">PublishWebPackages hedef</span><span class="sxs-lookup"><span data-stu-id="cc0d4-236">The PublishWebPackages Target</span></span>

<span data-ttu-id="cc0d4-237">Bu noktaya kadar çağrılan **BuildProjects** hedefi, örnek çözümde her proje için bir web dağıtım paketi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-237">By this point, you've invoked the **BuildProjects** target, which generates a web deployment package for each project in the sample solution.</span></span> <span data-ttu-id="cc0d4-238">Her paket eşlik eden olduğu bir *deploy.cmd* paketin hedef ortama dağıtmak için gereken MSDeploy.exe komutlarını içeren dosyasının ve *SetParameters.xml* dosyasını belirtir hedef ortamı gerekli ayrıntıları.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-238">Accompanying each package is a *deploy.cmd* file, which contains the MSDeploy.exe commands required to deploy the package to the target environment, and a *SetParameters.xml* file, which specifies the necessary details of the target environment.</span></span> <span data-ttu-id="cc0d4-239">Ayrıca çağrılır **GatherPackagesForPublishing** içeren bir öğe koleksiyonu oluşturan bir hedef *deploy.cmd* , ilgilendiğiniz dosyaları.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-239">You've also invoked the **GatherPackagesForPublishing** target, which generates an item collection containing the *deploy.cmd* files you're interested in.</span></span> <span data-ttu-id="cc0d4-240">Aslında, **PublishWebPackages** hedef şu işlevleri gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="cc0d4-240">Essentially, the **PublishWebPackages** target performs these functions:</span></span>

- <span data-ttu-id="cc0d4-241">İlişkilendirilmesidir *SetParameters.xml* , hedef ortam için doğru ayrıntıları dahil etmek her bir paket dosyası kullanarak **XmlPoke** görev.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-241">It manipulates the *SetParameters.xml* file for each package to include the correct details for the target environment, using the **XmlPoke** task.</span></span>
- <span data-ttu-id="cc0d4-242">Çağırdığı *deploy.cmd* uygun anahtarlar kullanılarak her bir paket dosyası.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-242">It invokes the *deploy.cmd* file for each package, using the appropriate switches.</span></span>

<span data-ttu-id="cc0d4-243">Olduğu gibi **PublishDbPackages** hedef **PublishWebPackages** hedef toplu hedef işlemede hedef her web paketi için bir kez yürütüldüğünden emin olmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-243">Just like the **PublishDbPackages** target, the **PublishWebPackages** target uses target batching to ensure that the target is executed once for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample13.xml)]

<span data-ttu-id="cc0d4-244">Hedef içinde **Exec** görevi çalıştırmak için kullanılan *deploy.cmd* her web paketi dosyası.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-244">Within the target, the **Exec** task is used to run the *deploy.cmd* file for each web package.</span></span>

[!code-xml[Main](understanding-the-build-process/samples/sample14.xml)]

<span data-ttu-id="cc0d4-245">Web paketleri dağıtımını yapılandırma hakkında daha fazla bilgi için bkz. [oluşturma ve paketleme Web Uygulama projeleri](building-and-packaging-web-application-projects.md).</span><span class="sxs-lookup"><span data-stu-id="cc0d4-245">For more information on configuring the deployment of web packages, see [Building and Packaging Web Application Projects](building-and-packaging-web-application-projects.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="cc0d4-246">Sonuç</span><span class="sxs-lookup"><span data-stu-id="cc0d4-246">Conclusion</span></span>

<span data-ttu-id="cc0d4-247">Bu konuda, proje dosyaları için örnek Kişi Yöneticisi çözümü baştan sona derleme ve dağıtım işlemini denetlemek için nasıl kullanıldığı bir kılavuz sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-247">This topic provided a walkthrough of how split project files are used to control the build and deployment process from start to finish for the Contact Manager sample solution.</span></span> <span data-ttu-id="cc0d4-248">Çalıştırmadan karmaşık, tek, tekrarlanabilir bir adım kurumsal ölçekli dağıtımlarda, bu yaklaşımı kullanarak bir ortama özgü komut dosyası çalıştırarak olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-248">Using this approach lets you run complex, enterprise-scale deployments in a single, repeatable step, simply by running an environment-specific command file.</span></span>

## <a name="further-reading"></a><span data-ttu-id="cc0d4-249">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="cc0d4-249">Further Reading</span></span>

<span data-ttu-id="cc0d4-250">Proje dosyalarını ve WPP daha ayrıntılı bir giriş için bkz [içinde Microsoft Build Engine: MSBuild ve Team Foundation Yapısı kullanarak](http://amzn.com/0735645248) Sayed Ibrahim Hashimi ve William Bartholomew, ISBN: 978-0-7356-4524-0.</span><span class="sxs-lookup"><span data-stu-id="cc0d4-250">For a more in-depth introduction to project files and the WPP, see [Inside the Microsoft Build Engine: Using MSBuild and Team Foundation Build](http://amzn.com/0735645248) by Sayed Ibrahim Hashimi and William Bartholomew, ISBN: 978-0-7356-4524-0.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="cc0d4-251">[Önceki](understanding-the-project-file.md)
> [İleri](building-and-packaging-web-application-projects.md)</span><span class="sxs-lookup"><span data-stu-id="cc0d4-251">[Previous](understanding-the-project-file.md)
[Next](building-and-packaging-web-application-projects.md)</span></span>
