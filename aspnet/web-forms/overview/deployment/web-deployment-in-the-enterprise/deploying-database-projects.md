---
uid: web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-database-projects
title: Veritabanı projeleri dağıtma | Microsoft Docs
author: jrjlee
description: 'Not: Kurumsal dağıtım senaryolarında çok sayıda, dağıtılmış bir veritabanı için artımlı güncelleştirmeleri yayımlamak için gerçekleştirebilmeleri gerekmektedir. Alternatif yeniden oluşturmaktır...'
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 832f226a-1aa3-4093-8c29-ce4196793259
msc.legacyurl: /web-forms/overview/deployment/web-deployment-in-the-enterprise/deploying-database-projects
msc.type: authoredcontent
ms.openlocfilehash: f5b7cecdd1a8dbd9be1bd781cec31c53c9096546
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59383232"
---
# <a name="deploying-database-projects"></a><span data-ttu-id="dd5da-104">Veritabanı Projeleri Dağıtma</span><span class="sxs-lookup"><span data-stu-id="dd5da-104">Deploying Database Projects</span></span>

<span data-ttu-id="dd5da-105">tarafından [Jason Lee](https://github.com/jrjlee)</span><span class="sxs-lookup"><span data-stu-id="dd5da-105">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="dd5da-106">PDF'yi indirin</span><span class="sxs-lookup"><span data-stu-id="dd5da-106">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> [!NOTE]
> <span data-ttu-id="dd5da-107">Kurumsal dağıtım senaryolarında çok sayıda, dağıtılmış bir veritabanı için artımlı güncelleştirmeleri yayımlamak için gerçekleştirebilmeleri gerekmektedir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-107">In lots of enterprise deployment scenarios, you need the ability to publish incremental updates to a deployed database.</span></span> <span data-ttu-id="dd5da-108">Alternatif, tüm veriler var olan veritabanını kaybetmeniz anlamına gelir her dağıtım veritabanını yeniden oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-108">The alternative is to recreate the database on every deployment, which means you lose any data in the existing database.</span></span> <span data-ttu-id="dd5da-109">Visual Studio 2010 ile çalışırken, VSDBCMD artımlı veritabanı yayımlama için önerilen yaklaşım kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-109">When you work with Visual Studio 2010, using VSDBCMD is the recommended approach to incremental database publishing.</span></span> <span data-ttu-id="dd5da-110">Ancak, Visual Studio ve Web yayımlama işlem hattı (WPP)'ın sonraki sürümü artımlı yayımlama doğrudan destekleyen araçlar içerir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-110">However, the next version of Visual Studio and the Web Publishing Pipeline (WPP) will include tooling that supports incremental publishing directly.</span></span>


<span data-ttu-id="dd5da-111">Visual Studio 2010'da örnek Kişi Yöneticisi çözümü açarsanız, veritabanı projesini dört dosyaları içeren bir özellikler klasör içerdiğini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-111">If you open the Contact Manager sample solution in Visual Studio 2010, you'll see that the database project includes a Properties folder that contains four files.</span></span>

![](deploying-database-projects/_static/image1.png)

<span data-ttu-id="dd5da-112">Proje dosyası ile birlikte (*ContactManager.Database.dbproj* bu durumda), bu dosyalar derleme ve dağıtım sürecini çeşitli yönlerini denetleme:</span><span class="sxs-lookup"><span data-stu-id="dd5da-112">Together with the project file (*ContactManager.Database.dbproj* in this case), these files control various aspects of the build and deployment process:</span></span>

- <span data-ttu-id="dd5da-113">*Database.sqlcmdvars* dosyası proje dağıtırken kullandığınız tüm SQLCMD değişkenler için değerler sağlar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-113">The *Database.sqlcmdvars* file provides values for any SQLCMD variables you use when you deploy the project.</span></span> <span data-ttu-id="dd5da-114">Her çözüm yapılandırması (örneğin, hata ayıklama ve yayın) farklı .sqlcmdvars dosyası belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-114">Each solution configuration (for example, debug and release) can specify a different .sqlcmdvars file.</span></span>
- <span data-ttu-id="dd5da-115">*Database.sqldeployment* dosyası projenize ya da hedef sunucunun harmanlama tanımlanan harmanlama kullanıp kullanmayacağınızı gibi dağıtımına özgü ayarlar sağlar mı hedef veritabanı yeniden oluşturmak her zaman veya yalnızca güncel duruma getirmek ve benzeri için var olan veritabanını Değiştir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-115">The *Database.sqldeployment* file provides deployment-specific settings, like whether to use the collation defined in your project or the collation of the destination server, whether to recreate the destination database every time or simply amend the existing database to bring it up to date, and so on.</span></span> <span data-ttu-id="dd5da-116">Her çözüm yapılandırması farklı .sqldeployment dosyası belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-116">Each solution configuration can specify a different .sqldeployment file.</span></span>
- <span data-ttu-id="dd5da-117">*Database.sqlpermissions* hedef veritabanına eklemek istediğiniz tüm izinleri tanımlamak için kullanabileceğiniz bir XML belgesi bir dosyadır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-117">The *Database.sqlpermissions* file is an XML document that you can use to define any permissions you want to add to the target database.</span></span> <span data-ttu-id="dd5da-118">Tüm çözüm yapılandırmaları aynı .sqlpermissions dosyayı paylaşın.</span><span class="sxs-lookup"><span data-stu-id="dd5da-118">All solution configurations share the same .sqlpermissions file.</span></span>
- <span data-ttu-id="dd5da-119">*Database.sqlsettings* dosyası veritabanı harmanlama, Karşılaştırma işleçleri davranışını ve benzeri gibi oluştururken kullanmak için veritabanı düzeyinde özelliklerini belirtir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-119">The *Database.sqlsettings* file specifies the database-level properties to use when creating the database, like the collation to use, the behavior of comparison operators, and so on.</span></span> <span data-ttu-id="dd5da-120">Tüm çözüm yapılandırmaları aynı .sqlsettings dosyayı paylaşın.</span><span class="sxs-lookup"><span data-stu-id="dd5da-120">All solution configurations share the same .sqlsettings file.</span></span>

<span data-ttu-id="dd5da-121">Bu, bu dosyalar Visual Studio içinde açın ve ile içeriği hakkında bilgilenmeli vakit ayırdığınız değer olur.</span><span class="sxs-lookup"><span data-stu-id="dd5da-121">It's worth taking a moment to open these files in Visual Studio and familiarize yourself with the contents.</span></span>

<span data-ttu-id="dd5da-122">Veritabanı projesi derlerken, derleme işlemi iki dosya oluşturulur:</span><span class="sxs-lookup"><span data-stu-id="dd5da-122">When you build a database project, the build process creates two files:</span></span>

- <span data-ttu-id="dd5da-123">A *veritabanı şemasını* (.dbschema dosyası).</span><span class="sxs-lookup"><span data-stu-id="dd5da-123">A *database schema* (.dbschema file).</span></span> <span data-ttu-id="dd5da-124">Bu XML biçiminde oluşturmak istediğiniz veritabanının şeması açıklar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-124">This describes the schema of the database you want to create in XML format.</span></span>
- <span data-ttu-id="dd5da-125">A *dağıtım bildirimi* (.deploymanifest dosyası).</span><span class="sxs-lookup"><span data-stu-id="dd5da-125">A *deployment manifest* (.deploymanifest file).</span></span> <span data-ttu-id="dd5da-126">Bu, oluşturmak ve veritabanınızı dağıtmak için gereken tüm bilgileri içerir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-126">This contains all the information required to create and deploy your database.</span></span> <span data-ttu-id="dd5da-127">Bu, dağıtım yönergeleri (.sqldeployment dosyası) ve tüm dağıtım öncesi veya dağıtım sonrası SQL komut dosyaları gibi diğer kaynakları birlikte .dbschema dosyasına başvuruyor.</span><span class="sxs-lookup"><span data-stu-id="dd5da-127">It references the .dbschema file along with other resources, like the deployment instructions (the .sqldeployment file) and any pre-deployment or post-deployment SQL scripts.</span></span>

<span data-ttu-id="dd5da-128">Bu, bu kaynakları arasındaki ilişkiyi gösterir:</span><span class="sxs-lookup"><span data-stu-id="dd5da-128">This shows the relationship between these resources:</span></span>

![](deploying-database-projects/_static/image2.png)

<span data-ttu-id="dd5da-129">Gördüğünüz gibi .sqlsettings dosyasını ve .sqlpermissions dosyasını oluşturma sürecinde girişlerdir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-129">As you can see, the .sqlsettings file and the .sqlpermissions file are inputs to the build process.</span></span> <span data-ttu-id="dd5da-130">Veritabanı Proje dosyası ile birlikte, bu dosyalar, veritabanı şema dosyası oluşturmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-130">Along with the database project file, these files are used to create the database schema file.</span></span> <span data-ttu-id="dd5da-131">.Sqldeployment dosyasını ve .sqlcmdvars dosyasını değiştirmeden sürecinde geçirin.</span><span class="sxs-lookup"><span data-stu-id="dd5da-131">The .sqldeployment file and the .sqlcmdvars file pass through the build process unchanged.</span></span> <span data-ttu-id="dd5da-132">Dağıtım bildirimi veritabanı şeması, .sqldeployment dosya, .sqlcmdvars dosyayı ve tüm dağıtım öncesi veya dağıtım sonrası betiklerinin konumu gösterir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-132">The deployment manifest indicates the location of the database schema, the .sqldeployment file, the .sqlcmdvars file, and any pre-deployment or post-deployment SQL scripts.</span></span>

## <a name="why-use-vsdbcmd-to-deploy-a-database-project"></a><span data-ttu-id="dd5da-133">Veritabanı projesi dağıtmak için neden VSDBCMD kullanmalıyım?</span><span class="sxs-lookup"><span data-stu-id="dd5da-133">Why Use VSDBCMD to Deploy a Database Project?</span></span>

<span data-ttu-id="dd5da-134">Veritabanı projeleri dağıtma için çeşitli farklı yaklaşım vardır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-134">There are various different approaches to deploying database projects.</span></span> <span data-ttu-id="dd5da-135">Ancak, bunları tüm uzak sunuculara kurumsal bir ortamda bir veritabanı projesi dağıtmak için uygun değildir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-135">However, not all of them are suitable for deploying a database project to remote servers in an enterprise environment.</span></span> <span data-ttu-id="dd5da-136">Bir veritabanı projesi dağıtımından istediğinizi düşünün.</span><span class="sxs-lookup"><span data-stu-id="dd5da-136">Consider what you want from a database project deployment.</span></span> <span data-ttu-id="dd5da-137">Kurumsal dağıtım senaryolarında büyük olasılıkla:</span><span class="sxs-lookup"><span data-stu-id="dd5da-137">In enterprise deployment scenarios, you're likely to want:</span></span>

- <span data-ttu-id="dd5da-138">Uzak bir konumdan veritabanı projesini dağıtma yeteneği.</span><span class="sxs-lookup"><span data-stu-id="dd5da-138">The ability to deploy the database project from a remote location.</span></span>
- <span data-ttu-id="dd5da-139">Mevcut bir veritabanına artımlı güncelleştirmeler yapma yeteneği.</span><span class="sxs-lookup"><span data-stu-id="dd5da-139">The ability to make incremental updates to an existing database.</span></span>
- <span data-ttu-id="dd5da-140">Dağıtım öncesi betiklerin veya dağıtım sonrası betikleri dahil etme yeteneği.</span><span class="sxs-lookup"><span data-stu-id="dd5da-140">The ability to include pre-deployment scripts or post-deployment scripts.</span></span>
- <span data-ttu-id="dd5da-141">Birden çok hedef ortama dağıtım uyarlama olanağı.</span><span class="sxs-lookup"><span data-stu-id="dd5da-141">The ability to tailor the deployment to multiple destination environments.</span></span>
- <span data-ttu-id="dd5da-142">Veritabanı projesi büyük, parçası olarak dağıtma yeteneği genellikle komut dosyası, tek adımlı Çözüm dağıtımı.</span><span class="sxs-lookup"><span data-stu-id="dd5da-142">The ability to deploy the database project as part of a larger, typically scripted, single-step solution deployment.</span></span>

<span data-ttu-id="dd5da-143">Veritabanı projesi dağıtmak için kullanabileceğiniz üç ana yaklaşım vardır:</span><span class="sxs-lookup"><span data-stu-id="dd5da-143">There are three main approaches you can use to deploy a database project:</span></span>

- <span data-ttu-id="dd5da-144">Visual Studio 2010 veritabanı proje türü ile dağıtım işlevlerini kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-144">You can use the deployment functionality with the database project type in Visual Studio 2010.</span></span> <span data-ttu-id="dd5da-145">Dağıtım işlemi dağıtım bildirimi oluşturmak ve Visual Studio 2010 veritabanı projesi dağıtma, derleme yapılandırmasını belirli bir SQL tabanlı bir dağıtım dosyası oluşturmak için kullanır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-145">When you build and deploy a database project in Visual Studio 2010, the deployment process uses the deployment manifest to generate a SQL-based deployment file specific to the build configuration.</span></span> <span data-ttu-id="dd5da-146">Zaten mevcut değil veya henüz yoksa veritabanı için gerekli değişiklikleri yapın. Bu veritabanı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="dd5da-146">This will create the database if it doesn't already exist or make any necessary changes to the database if it does already exist.</span></span> <span data-ttu-id="dd5da-147">Bu dosya hedef üzerinde çalıştırılacak SQLCMD.exe kullanabilirsiniz veya oluşturup dosyayı çalıştırmak için Visual Studio ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-147">You can use SQLCMD.exe to run this file on your destination server, or you can set Visual Studio to create and run the file.</span></span> <span data-ttu-id="dd5da-148">Bu yaklaşımın bir dezavantajı, dağıtım ayarlarını denetime yalnızca sınırlı sahip olur.</span><span class="sxs-lookup"><span data-stu-id="dd5da-148">The disadvantage of this approach is that you have only limited control over the deployment settings.</span></span> <span data-ttu-id="dd5da-149">Genellikle de ortama özgü değişken değerlerini sağlamak için SQL dağıtım dosyasını değiştirmeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-149">You may often also need to modify the SQL deployment file to provide environment-specific variable values.</span></span> <span data-ttu-id="dd5da-150">Yüklü Visual Studio 2010 ile yalnızca bir bilgisayardan bu yaklaşımı kullanabilirsiniz ve geliştirici bilmeniz ve tüm hedef ortamlar için bağlantı dizelerini ve kimlik bilgilerini sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-150">You can only use this approach from a computer with Visual Studio 2010 installed, and the developer would need to know and provide connection strings and credentials for all destination environments.</span></span>
- <span data-ttu-id="dd5da-151">Internet Information Services (IIS) Web Dağıtım Aracı (Web dağıtımı) için kullanabileceğiniz [bir veritabanı, web uygulama projesinin bir parçası dağıtma](https://msdn.microsoft.com/library/dd465343.aspx).</span><span class="sxs-lookup"><span data-stu-id="dd5da-151">You can use the Internet Information Services (IIS) Web Deployment Tool (Web Deploy) to [deploy a database as part of a web application project](https://msdn.microsoft.com/library/dd465343.aspx).</span></span> <span data-ttu-id="dd5da-152">Ancak, bu yaklaşım, bir veritabanı projesi dağıtmak yerine yalnızca bir hedef sunucuda var olan bir yerel veritabanı çoğaltma istiyorsanız çok daha karmaşık olur.</span><span class="sxs-lookup"><span data-stu-id="dd5da-152">However, this approach is a lot more complex if you want to deploy a database project rather than simply replicate an existing local database on a destination server.</span></span> <span data-ttu-id="dd5da-153">Veritabanı projesi oluşturur ve SQL dağıtım betiği çalıştırmak için ancak bunu yapmak için Web dağıtımı yapılandırabilirsiniz, web uygulaması projenize için özel bir WPP hedeflerini dosya oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-153">You can configure Web Deploy to run the SQL deployment script that the database project generates, but in order to do this, you need to create a custom WPP targets file for your web application project.</span></span> <span data-ttu-id="dd5da-154">Bu dağıtım işlemine karmaşıklığı önemli miktarda ekler.</span><span class="sxs-lookup"><span data-stu-id="dd5da-154">This adds a substantial amount of complexity to the deployment process.</span></span> <span data-ttu-id="dd5da-155">Ayrıca, Web dağıtımı doğrudan mevcut veritabanlarının artımlı güncelleştirmeleri desteklemez.</span><span class="sxs-lookup"><span data-stu-id="dd5da-155">In addition, Web Deploy does not directly support incremental updates to existing databases.</span></span> <span data-ttu-id="dd5da-156">Bu yaklaşımı hakkında daha fazla bilgi için bkz. [paket veritabanı projesi için Web yayımlama ardışık genişletme dağıtılan SQL dosyası](https://go.microsoft.com/?linkid=9805121).</span><span class="sxs-lookup"><span data-stu-id="dd5da-156">For more information on this approach, see [Extending the Web Publishing Pipeline to package database project deployed SQL file](https://go.microsoft.com/?linkid=9805121).</span></span>
- <span data-ttu-id="dd5da-157">Veritabanı, veritabanı şemasını veya dağıtım bildirimi kullanarak dağıtmak için VSDBCMD yardımcı programını kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-157">You can use the VSDBCMD utility to deploy the database, using either the database schema or the deployment manifest.</span></span> <span data-ttu-id="dd5da-158">Daha büyük ve komut dosyalı dağıtım işleminin bir parçası veritabanları yayımlamanıza olanak sağlayan bir MSBuild hedefi'den VSDBCMD.exe çağırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-158">You can call VSDBCMD.exe from an MSBuild target, which lets you publish databases as part of a larger, scripted deployment process.</span></span> <span data-ttu-id="dd5da-159">Değişkenleri .sqlcmdvars dosya ve çok sayıda farklı ortamlar için dağıtım, birden çok oluşturma yapılandırmasında oluşturmadan özelleştirmenizi sağlar bir komuttan VSDBCMD diğer veritabanı özellikleri geçersiz kılabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-159">You can override the variables in your .sqlcmdvars file and lots of other database properties from a VSDBCMD command, which allows you to customize your deployment for different environments without creating multiple build configurations.</span></span> <span data-ttu-id="dd5da-160">VSDBCMD yalnızca bir hedef veritabanı, veritabanı şeması ile hizalamak için gerekli değişiklikleri yapar yani ayrıştırması işlevselliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-160">VSDBCMD provides differentiation functionality, which means it will make only the necessary changes to align a destination database with your database schema.</span></span> <span data-ttu-id="dd5da-161">VSDBCMD ayrıca çok çeşitli dağıtım işlemi üzerinde ayrıntılı denetim verdiğiniz komut satırı seçenekleri sunar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-161">VSDBCMD also offers a wide range of command-line options, which give you fine-grained control over the deployment process.</span></span>

<span data-ttu-id="dd5da-162">Bu genel bakış'tan, MSBuild ile VSDBCMD kullanarak bir tipik kurumsal dağıtım senaryosu için en uygun yaklaşımı olduğunu görebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dd5da-162">From this overview, you can see that using VSDBCMD with MSBuild is the approach best suited to a typical enterprise deployment scenario:</span></span>

|  | <span data-ttu-id="dd5da-163">Visual Studio 2010</span><span class="sxs-lookup"><span data-stu-id="dd5da-163">Visual Studio 2010</span></span> | <span data-ttu-id="dd5da-164">Web Deploy 2.0</span><span class="sxs-lookup"><span data-stu-id="dd5da-164">Web Deploy 2.0</span></span> | <span data-ttu-id="dd5da-165">VSDBCMD.exe</span><span class="sxs-lookup"><span data-stu-id="dd5da-165">VSDBCMD.exe</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="dd5da-166">Uzaktan dağıtım destekler?</span><span class="sxs-lookup"><span data-stu-id="dd5da-166">Supports remote deployment?</span></span> | <span data-ttu-id="dd5da-167">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-167">Yes</span></span> | <span data-ttu-id="dd5da-168">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-168">Yes</span></span> | <span data-ttu-id="dd5da-169">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-169">Yes</span></span> |
| <span data-ttu-id="dd5da-170">Artımlı güncelleştirmeler destekler?</span><span class="sxs-lookup"><span data-stu-id="dd5da-170">Supports incremental updates?</span></span> | <span data-ttu-id="dd5da-171">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-171">Yes</span></span> | <span data-ttu-id="dd5da-172">Hayır</span><span class="sxs-lookup"><span data-stu-id="dd5da-172">No</span></span> | <span data-ttu-id="dd5da-173">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-173">Yes</span></span> |
| <span data-ttu-id="dd5da-174">Öncesi/sonrası-deployment betikleri destekler?</span><span class="sxs-lookup"><span data-stu-id="dd5da-174">Supports pre/post-deployment scripts?</span></span> | <span data-ttu-id="dd5da-175">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-175">Yes</span></span> | <span data-ttu-id="dd5da-176">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-176">Yes</span></span> | <span data-ttu-id="dd5da-177">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-177">Yes</span></span> |
| <span data-ttu-id="dd5da-178">Çok ortamlı dağıtımını destekler?</span><span class="sxs-lookup"><span data-stu-id="dd5da-178">Supports multi-environment deployment?</span></span> | <span data-ttu-id="dd5da-179">Sınırlı</span><span class="sxs-lookup"><span data-stu-id="dd5da-179">Limited</span></span> | <span data-ttu-id="dd5da-180">Sınırlı</span><span class="sxs-lookup"><span data-stu-id="dd5da-180">Limited</span></span> | <span data-ttu-id="dd5da-181">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-181">Yes</span></span> |
| <span data-ttu-id="dd5da-182">Komut dosyası dağıtım destekler?</span><span class="sxs-lookup"><span data-stu-id="dd5da-182">Supports scripted deployment?</span></span> | <span data-ttu-id="dd5da-183">Sınırlı</span><span class="sxs-lookup"><span data-stu-id="dd5da-183">Limited</span></span> | <span data-ttu-id="dd5da-184">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-184">Yes</span></span> | <span data-ttu-id="dd5da-185">Evet</span><span class="sxs-lookup"><span data-stu-id="dd5da-185">Yes</span></span> |

<span data-ttu-id="dd5da-186">Bu konunun geri kalanı VSDBCMD dağıtmak veritabanı projeleri için MSBuild ile kullanımını açıklar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-186">The remainder of this topic describes the use of VSDBCMD with MSBuild to deploy database projects.</span></span>

## <a name="understanding-the-deployment-process"></a><span data-ttu-id="dd5da-187">Dağıtım işlemini anlama</span><span class="sxs-lookup"><span data-stu-id="dd5da-187">Understanding the Deployment Process</span></span>

<span data-ttu-id="dd5da-188">VSDBCMD yardımcı programı bir veritabanı veya veritabanı şeması (.dbschema dosyası), hem de dağıtım bildirimini (.deploymanifest dosyası) kullanarak dağıtmanıza olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-188">The VSDBCMD utility lets you deploy a database using either the database schema (the .dbschema file) or the deployment manifest (the .deploymanifest file).</span></span> <span data-ttu-id="dd5da-189">Uygulamada, dağıtım bildirimini çeşitli dağıtım özellikleri için varsayılan değerler sağlayın ve çalıştırmak istediğiniz tüm dağıtım öncesi veya dağıtım sonrası SQL betikleri belirlemenize olanak tanır şekilde dağıtım bildirimini neredeyse her zaman kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="dd5da-189">In practice, you'll almost always use the deployment manifest, as the deployment manifest lets you provide default values for various deployment properties and identify any pre-deployment or post-deployment SQL scripts you want to run.</span></span> <span data-ttu-id="dd5da-190">Örneğin, bu VSDBCMD komut dağıtmak için kullanılan **ContactManager** veritabanına bir test ortamında bir veritabanı sunucusu:</span><span class="sxs-lookup"><span data-stu-id="dd5da-190">For example, this VSDBCMD command is used to deploy the **ContactManager** database to a database server in a test environment:</span></span>


[!code-console[Main](deploying-database-projects/samples/sample1.cmd)]


<span data-ttu-id="dd5da-191">Bu durumda:</span><span class="sxs-lookup"><span data-stu-id="dd5da-191">In this case:</span></span>

- <span data-ttu-id="dd5da-192">**/A** (veya **/eylem**) anahtar VSDBCMD yapmak istediğinizi belirtir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-192">The **/a** (or **/Action**) switch specifies what you want VSDBCMD to do.</span></span> <span data-ttu-id="dd5da-193">Bu ayar **alma** veya **Dağıt**.</span><span class="sxs-lookup"><span data-stu-id="dd5da-193">You can set this to **Import** or **Deploy**.</span></span> <span data-ttu-id="dd5da-194">**Alma** seçeneği, var olan bir veritabanından .dbschema dosyası oluşturmak için kullanılır ve **Dağıt** seçeneği, bir hedef veritabanına .dbschema dosya dağıtmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-194">The **Import** option is used to generate a .dbschema file from an existing database, and the **Deploy** option is used to deploy a .dbschema file to a target database.</span></span>
- <span data-ttu-id="dd5da-195">**/MANIFEST** (veya **/ManifestFile**) anahtar dağıtmak istediğiniz .deploymanifest dosya tanımlar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-195">The **/manifest** (or **/ManifestFile**) switch identifies the .deploymanifest file you want to deploy.</span></span> <span data-ttu-id="dd5da-196">.Dbschema dosyası kullanmayı istediyseniz, kullanacağınız **/model** (veya **/ModelFile**) geçin.</span><span class="sxs-lookup"><span data-stu-id="dd5da-196">If you wanted to use the .dbschema file instead, you'd use the **/model** (or **/ModelFile**) switch.</span></span>
- <span data-ttu-id="dd5da-197">**/Cs** (veya **/ConnectionString**) anahtar hedef veritabanı sunucusu için bağlantı dizesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-197">The **/cs** (or **/ConnectionString**) switch provides the connection string for the target database server.</span></span> <span data-ttu-id="dd5da-198">Bu veritabanının adı içermeyen Not&#x2014;VSDBCMD gerekiyor; veritabanı sunucusuna bağlanmak tek bir veritabanına bağlanma gerekmez.</span><span class="sxs-lookup"><span data-stu-id="dd5da-198">Note that this doesn't include the name of the database&#x2014;VSDBCMD needs to connect to the server to create the database; it doesn't need to connect to an individual database.</span></span> <span data-ttu-id="dd5da-199">Bir bağlantı dizesi .deploymanifest dosyanızı içeriyorsa, bu anahtarı atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-199">If your .deploymanifest file includes a connection string, you can omit this switch.</span></span> <span data-ttu-id="dd5da-200">Anahtarı yine de kullanırsanız, anahtar değeri .deploymanifest değerini geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-200">If you use the switch anyway, the switch value will override the .deploymanifest value.</span></span>
- <span data-ttu-id="dd5da-201"><strong>/P:TargetDatabase</strong> oluşturma hedef veritabanında atamak istediğiniz ad özelliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="dd5da-201">The <strong>/p:TargetDatabase</strong> property provides the name you want to assign to the target database on creation.</span></span> <span data-ttu-id="dd5da-202">Bu değeri geçersiz kılar <strong>TargetDatabase</strong> .deploymanifest dosyasındaki özellik.</span><span class="sxs-lookup"><span data-stu-id="dd5da-202">This overrides the value of the <strong>TargetDatabase</strong> property in the .deploymanifest file.</span></span> <span data-ttu-id="dd5da-203">Kullanabileceğiniz <strong>/p:</strong> <em>[özellik adı]</em>sözdizimi çok çeşitli dağıtım özellikleri ayarlamak ve herhangi bir SQLCMD değişkeni geçersiz kılmak için bildirilen .sqlcmdvars dosyanızda.</span><span class="sxs-lookup"><span data-stu-id="dd5da-203">You can use the <strong>/p:</strong> <em>[property name]</em>syntax to set a wide variety of deployment properties and to override any SQLCMD variables declared in your .sqlcmdvars file.</span></span>
- <span data-ttu-id="dd5da-204">**/Dd+** (veya **/DeployToDatabase+**) anahtar bir dağıtımını oluşturun ve hedef ortama dağıtmak istediğinizi belirtir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-204">The **/dd+** (or **/DeployToDatabase+**) switch indicates that you want to create a deployment and deploy it to the target environment.</span></span> <span data-ttu-id="dd5da-205">Belirtirseniz **/dd-**, veya anahtarını atlarsanız, VSDBCMD dağıtım betiği oluşturur, ancak hedef ortama dağıtmaz.</span><span class="sxs-lookup"><span data-stu-id="dd5da-205">If you specify **/dd-**, or omit the switch, VSDBCMD will generate a deployment script but will not deploy it to the target environment.</span></span> <span data-ttu-id="dd5da-206">Bu anahtar, genellikle karışıklık kaynaktır ve sonraki bölümde daha ayrıntılı açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-206">This switch is often the source of confusion and is explained in more detail in the next section.</span></span>
- <span data-ttu-id="dd5da-207">**/SCRIPT** (veya **/DeploymentScriptFile**) anahtar dağıtım betiği oluşturmak istediğiniz belirtir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-207">The **/script** (or **/DeploymentScriptFile**) switch specifies where you want to generate the deployment script.</span></span> <span data-ttu-id="dd5da-208">Bu değer, dağıtım işlemi etkilemez.</span><span class="sxs-lookup"><span data-stu-id="dd5da-208">This value does not affect the deployment process.</span></span>

<span data-ttu-id="dd5da-209">VSDBCMD hakkında daha fazla bilgi için bkz. [VSDBCMD için komut satırı başvurusu. EXE (dağıtım ve şema içeri aktarma)](https://msdn.microsoft.com/library/dd193283.aspx) ve [nasıl yapılır: Bir veritabanı, bir komut istemi'nden VSDBCMD kullanarak dağıtım için hazırlayın. EXE](https://msdn.microsoft.com/library/dd193258.aspx).</span><span class="sxs-lookup"><span data-stu-id="dd5da-209">For more information on VSDBCMD, see [Command-Line Reference for VSDBCMD.EXE (Deployment and Schema Import)](https://msdn.microsoft.com/library/dd193283.aspx) and [How to: Prepare a Database for Deployment From a Command Prompt by Using VSDBCMD.EXE](https://msdn.microsoft.com/library/dd193258.aspx).</span></span>

<span data-ttu-id="dd5da-210">VSDBCMD bir MSBuild proje dosyasından nasıl kullanabileceğinize bir örnek için bkz [derleme işlemini anlama](understanding-the-build-process.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-210">For an example of how you can use VSDBCMD from an MSBuild project file, see [Understanding the Build Process](understanding-the-build-process.md).</span></span> <span data-ttu-id="dd5da-211">Birden çok ortam için veritabanı dağıtım ayarlarını yapılandırma örnekleri için bkz: [birden çok ortam için veritabanı dağıtımlarını özelleştirme](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-211">For examples of how to configure database deployment settings for multiple environments, see [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span>

## <a name="understanding-the-deploytodatabase-switch"></a><span data-ttu-id="dd5da-212">DeployToDatabase anahtar anlama</span><span class="sxs-lookup"><span data-stu-id="dd5da-212">Understanding the DeployToDatabase Switch</span></span>

<span data-ttu-id="dd5da-213">Davranışını **/dd** veya **/DeployToDatabase** anahtar olup VSDBCMD bir .dbschema veya .deploymanifest dosyası ile kullanmakta olduğunuz üzerinde bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-213">The behavior of the **/dd** or **/DeployToDatabase** switch depends on whether you're using VSDBCMD with a .dbschema file or a .deploymanifest file.</span></span> <span data-ttu-id="dd5da-214">Davranış .dbschema dosyası kullanıyorsanız, oldukça basittir:</span><span class="sxs-lookup"><span data-stu-id="dd5da-214">If you're using a .dbschema file, the behavior is fairly straightforward:</span></span>

- <span data-ttu-id="dd5da-215">Belirtirseniz **/dd+** veya **/dd**, VSDBCMD bir dağıtım betiği oluşturun ve veritabanı dağıtma.</span><span class="sxs-lookup"><span data-stu-id="dd5da-215">If you specify **/dd+** or **/dd**, VSDBCMD will generate a deployment script and deploy the database.</span></span>
- <span data-ttu-id="dd5da-216">Belirtirseniz **/dd-** veya anahtarını atlarsanız, VSDBCMD yalnızca bir dağıtım komut dosyası üretir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-216">If you specify **/dd-** or omit the switch, VSDBCMD will generate a deployment script only.</span></span>

<span data-ttu-id="dd5da-217">.Deploymanifest dosyası kullanıyorsanız, çok daha karmaşık bir davranıştır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-217">If you're using a .deploymanifest file, the behavior is a lot more complicated.</span></span> <span data-ttu-id="dd5da-218">Bir özellik adı .deploymanifest dosyayı içeren olmasıdır **DeployToDatabase** ayrıca belirleyen veritabanı dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-218">This is because the .deploymanifest file contains a property name **DeployToDatabase** that also determines whether the database is deployed.</span></span>


[!code-xml[Main](deploying-database-projects/samples/sample2.xml)]


<span data-ttu-id="dd5da-219">Bu özelliğin değeri, veritabanı projesini özelliklerine göre ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-219">The value of this property is set according to the properties of the database project.</span></span> <span data-ttu-id="dd5da-220">Ayarlarsanız **eylem dağıtma** için **dağıtım betiği (.sql) oluşturma**, değer olacaktır **False**.</span><span class="sxs-lookup"><span data-stu-id="dd5da-220">If you set the **Deploy action** to **Create a deployment script (.sql)**, the value will be **False**.</span></span> <span data-ttu-id="dd5da-221">Ayarlarsanız **eylem dağıtma** için **dağıtım betiği (.sql) oluşturma ve dağıtma veritabanına**, değer olacaktır **True**.</span><span class="sxs-lookup"><span data-stu-id="dd5da-221">If you set the **Deploy action** to **Create a deployment script (.sql) and deploy to the database**, the value will be **True**.</span></span>

> [!NOTE]
> <span data-ttu-id="dd5da-222">Bu ayarlar, belirli bir yapı yapılandırması ve platformu ile ilişkilidir.</span><span class="sxs-lookup"><span data-stu-id="dd5da-222">These settings are associated with a specific build configuration and platform.</span></span> <span data-ttu-id="dd5da-223">Örneğin ayarlarını yapılandırırsanız, **hata ayıklama** yapılandırma ve ardından kullanarak yayımlama **yayın** yapılandırması ayarlarınızı kullanılmayacak.</span><span class="sxs-lookup"><span data-stu-id="dd5da-223">For example, if you configure settings for the **Debug** configuration and then publish using the **Release** configuration, your settings will not be used.</span></span>


![](deploying-database-projects/_static/image3.png)

> [!NOTE]
> <span data-ttu-id="dd5da-224">Bu senaryoda, **eylem dağıtma** her zaman ayarlanmalıdır **dağıtım betiği (.sql) oluşturma**, veritabanınızı dağıtmak için Visual Studio 2010 istemediğinden.</span><span class="sxs-lookup"><span data-stu-id="dd5da-224">In this scenario, the **Deploy action** should always be set to **Create a deployment script (.sql)**, because you don't want Visual Studio 2010 to deploy your database.</span></span> <span data-ttu-id="dd5da-225">Diğer bir deyişle, **DeployToDatabase** özelliği her zaman olmalıdır **False**.</span><span class="sxs-lookup"><span data-stu-id="dd5da-225">In other words, the **DeployToDatabase** property should always be **False**.</span></span>


<span data-ttu-id="dd5da-226">Olduğunda bir **DeployToDatabase** özelliği belirtildi, **/dd** özelliği değer ise anahtar özelliğinin yalnızca geçersiz **false**:</span><span class="sxs-lookup"><span data-stu-id="dd5da-226">When a **DeployToDatabase** property is specified, the **/dd** switch will only override the property if the property value is **false**:</span></span>

- <span data-ttu-id="dd5da-227">Varsa **DeployToDatabase** özelliği **False**, ve belirttiğiniz **/dd+** veya **/dd**, VSDBCMD kılar  **DeployToDatabase** özelliği ve veritabanı dağıtma.</span><span class="sxs-lookup"><span data-stu-id="dd5da-227">If the **DeployToDatabase** property is **False**, and you specify **/dd+** or **/dd**, VSDBCMD will override the **DeployToDatabase** property and deploy the database.</span></span>
- <span data-ttu-id="dd5da-228">Varsa **DeployToDatabase** özelliği **False**, ve belirttiğiniz **/dd-** veya anahtarını atlarsanız, VSDBCMD olmayan veritabanı dağıtma.</span><span class="sxs-lookup"><span data-stu-id="dd5da-228">If the **DeployToDatabase** property is **False**, and you specify **/dd-** or omit the switch, VSDBCMD will not deploy the database.</span></span>
- <span data-ttu-id="dd5da-229">Varsa **DeployToDatabase** özelliği **True**, VSDBCMD anahtar yoksay ve veritabanı dağıtma.</span><span class="sxs-lookup"><span data-stu-id="dd5da-229">If the **DeployToDatabase** property is **True**, VSDBCMD will ignore the switch and deploy the database.</span></span>
- <span data-ttu-id="dd5da-230">Dağıtım betiğini de veritabanı dağıtımı yapıyorsanız bağımsız olarak her durumda oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="dd5da-230">A deployment script is generated in each case, regardless of whether you're deploying the database as well.</span></span>

## <a name="conclusion"></a><span data-ttu-id="dd5da-231">Sonuç</span><span class="sxs-lookup"><span data-stu-id="dd5da-231">Conclusion</span></span>

<span data-ttu-id="dd5da-232">Bu konuda, Visual Studio 2010 veritabanı projeleri için derleme ve dağıtım sürecine genel bakış sağlanır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-232">This topic provided an overview of the build and deployment process for database projects in Visual Studio 2010.</span></span> <span data-ttu-id="dd5da-233">VSDBCMD.exe MSBuild ile Kurumsal ölçekte veritabanı dağıtımı desteklemek üzere nasıl kullanabileceğinizi de açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="dd5da-233">It also described how you can use VSDBCMD.exe with MSBuild to support enterprise-scale database deployment.</span></span>

<span data-ttu-id="dd5da-234">Bunun uygulamada nasıl çalıştığı hakkında daha fazla bilgi için bkz: [birden çok ortam için veritabanı dağıtımlarını özelleştirme](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-234">For more information on how this works in practice, see [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span>

## <a name="further-reading"></a><span data-ttu-id="dd5da-235">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="dd5da-235">Further Reading</span></span>

<span data-ttu-id="dd5da-236">Her ortam için ayrı bir dağıtım yapılandırma dosyası oluşturarak veritabanı dağıtımlarını özelleştirme hakkında daha fazla bilgi için bkz: [birden çok ortam için veritabanı dağıtımlarını özelleştirme](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-236">For information on how to customize database deployments by creating a separate deployment configuration file for each environment, see [Customizing Database Deployments for Multiple Environments](../advanced-enterprise-web-deployment/customizing-database-deployments-for-multiple-environments.md).</span></span> <span data-ttu-id="dd5da-237">Veritabanı rol üyelikleri, bir dağıtım sonrası betiği çalıştırarak yapılandırma hakkında yönergeler için bkz. [Test ortamlarına veritabanı rol üyelikleri dağıtma](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-237">For guidance on how to configure database role memberships by running a post-deployment script, see [Deploying Database Role Memberships to Test Environments](../advanced-enterprise-web-deployment/deploying-database-role-memberships-to-test-environments.md).</span></span> <span data-ttu-id="dd5da-238">Üyeliğin benzersiz sorunlarından bazıları yönetme hakkında rehberlik için veritabanları dayatır, bkz: [Kurumsal ortamlara üyelik veritabanları dağıtma](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span><span class="sxs-lookup"><span data-stu-id="dd5da-238">For guidance on managing some of the unique challenges that membership databases impose, see [Deploying Membership Databases to Enterprise Environments](../advanced-enterprise-web-deployment/deploying-membership-databases-to-enterprise-environments.md).</span></span>

<span data-ttu-id="dd5da-239">Bu MSDN'de daha geniş bir rehberlik ve Visual Studio veritabanı projelerini hakkında arka plan bilgileri ve veritabanı dağıtım işlemi sağlar:</span><span class="sxs-lookup"><span data-stu-id="dd5da-239">These topics on MSDN provide broader guidance and background information on Visual Studio database projects and the database deployment process:</span></span>

- [<span data-ttu-id="dd5da-240">Visual Studio 2010 SQL Server veritabanı projeleri</span><span class="sxs-lookup"><span data-stu-id="dd5da-240">Visual Studio 2010 SQL Server Database Projects</span></span>](https://msdn.microsoft.com/library/ff678491.aspx)
- [<span data-ttu-id="dd5da-241">Veritabanı değişikliği yönetme</span><span class="sxs-lookup"><span data-stu-id="dd5da-241">Managing Database Change</span></span>](https://msdn.microsoft.com/library/aa833404.aspx)
- [<span data-ttu-id="dd5da-242">Nasıl yapılır: Bir veritabanı, bir komut istemi'nden VSDBCMD kullanarak dağıtım için hazırlayın. EXE</span><span class="sxs-lookup"><span data-stu-id="dd5da-242">How to: Prepare a Database for Deployment From a Command Prompt by Using VSDBCMD.EXE</span></span>](https://msdn.microsoft.com/library/dd193258.aspx)
- [<span data-ttu-id="dd5da-243">Veritabanı derleme ve dağıtım genel bakış</span><span class="sxs-lookup"><span data-stu-id="dd5da-243">An Overview of Database Build and Deployment</span></span>](https://msdn.microsoft.com/library/aa833165.aspx)

> [!div class="step-by-step"]
> <span data-ttu-id="dd5da-244">[Önceki](deploying-web-packages.md)
> [İleri](creating-and-running-a-deployment-command-file.md)</span><span class="sxs-lookup"><span data-stu-id="dd5da-244">[Previous](deploying-web-packages.md)
[Next](creating-and-running-a-deployment-command-file.md)</span></span>
