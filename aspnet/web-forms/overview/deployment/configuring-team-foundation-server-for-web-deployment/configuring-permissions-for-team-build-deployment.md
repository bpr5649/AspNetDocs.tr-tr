---
uid: web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
title: Takım derleme dağıtımı için Izinleri yapılandırma | Microsoft Docs
author: jrjlee
description: Bu konuda, derleme sunucunuzun otomatik b 'nin bir parçası olarak Web sunucularına ve veritabanı sunucularına içerik dağıtmasını sağlamak için izinlerin nasıl yapılandırılacağı açıklanmaktadır...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: 2488a91e-b0a8-465a-b874-3233f724b56b
msc.legacyurl: /web-forms/overview/deployment/configuring-team-foundation-server-for-web-deployment/configuring-permissions-for-team-build-deployment
msc.type: authoredcontent
ms.openlocfilehash: 5699f72af6b8d7f18d1a2c631dfdedd63c66e1e6
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78638427"
---
# <a name="configuring-permissions-for-team-build-deployment"></a><span data-ttu-id="dc973-103">Takım Derleme Dağıtımı İzinlerini Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="dc973-103">Configuring Permissions for Team Build Deployment</span></span>

<span data-ttu-id="dc973-104">[Jason Lee](https://github.com/jrjlee) tarafından</span><span class="sxs-lookup"><span data-stu-id="dc973-104">by [Jason Lee](https://github.com/jrjlee)</span></span>

[<span data-ttu-id="dc973-105">PDF 'YI indir</span><span class="sxs-lookup"><span data-stu-id="dc973-105">Download PDF</span></span>](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> <span data-ttu-id="dc973-106">Bu konuda, yapı sunucunuzun otomatik derleme sürecinin bir parçası olarak Web sunucularına ve veritabanı sunucularına içerik dağıtmasına olanak tanımak için izinlerin nasıl yapılandırılacağı açıklanmaktadır.</span><span class="sxs-lookup"><span data-stu-id="dc973-106">This topic describes how to configure permissions to enable your build server to deploy content to web servers and database servers as part of an automated build process.</span></span>

<span data-ttu-id="dc973-107">Bu konu, Fabrikam, Inc adlı kurgusal bir şirketin Kurumsal Dağıtım gereksinimlerini temel alarak bir öğretici serisinin bir parçasını oluşturur. Bu öğretici serisi, bir ASP.NET MVC&#x2014;3 uygulaması, Windows Communication Foundation (WCF) hizmeti ve bir veritabanı projesi dahil, gerçekçi bir karmaşıklık düzeyine sahip bir Web uygulamasını temsil etmek üzere bir örnek çözüm olan [Contact Manager çözümünü](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;kullanır.</span><span class="sxs-lookup"><span data-stu-id="dc973-107">This topic forms part of a series of tutorials based around the enterprise deployment requirements of a fictional company named Fabrikam, Inc. This tutorial series uses a sample solution&#x2014;the [Contact Manager solution](../web-deployment-in-the-enterprise/the-contact-manager-solution.md)&#x2014;to represent a web application with a realistic level of complexity, including an ASP.NET MVC 3 application, a Windows Communication Foundation (WCF) service, and a database project.</span></span>

<span data-ttu-id="dc973-108">Bu öğreticilerin temelini oluşturan dağıtım yöntemi, derleme işleminin her hedef ortam için uygulanan derleme yönergelerini içeren ve ortama özel yapı ve dağıtım ayarlarını içeren iki proje&#x2014;dosyası tarafından kontrol edilen proje [dosyasını anlama](../web-deployment-in-the-enterprise/understanding-the-project-file.md)bölümünde açıklanan bölünmüş proje dosyası yaklaşımını temel alır.</span><span class="sxs-lookup"><span data-stu-id="dc973-108">The deployment method at the heart of these tutorials is based on the split project file approach described in [Understanding the Project File](../web-deployment-in-the-enterprise/understanding-the-project-file.md), in which the build process is controlled by two project files&#x2014;one containing build instructions that apply to every destination environment, and one containing environment-specific build and deployment settings.</span></span> <span data-ttu-id="dc973-109">Derleme zamanında, ortama özgü proje dosyası, derleme yönergelerinin tam bir kümesini oluşturmak için ortam agtik proje dosyası ile birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="dc973-109">At build time, the environment-specific project file is merged into the environment-agnostic project file to form a complete set of build instructions.</span></span>

## <a name="task-overview"></a><span data-ttu-id="dc973-110">Göreve genel bakış</span><span class="sxs-lookup"><span data-stu-id="dc973-110">Task Overview</span></span>

<span data-ttu-id="dc973-111">Team Foundation Server (TFS) 2010 derleme hizmetini yüklediğinizde, hizmetin çalıştırmasını istediğiniz kimliği belirtirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-111">When you install the Team Foundation Server (TFS) 2010 build service, you specify the identity with which you want the service to run.</span></span> <span data-ttu-id="dc973-112">Bu, varsayılan olarak ağ hizmeti hesabıdır.</span><span class="sxs-lookup"><span data-stu-id="dc973-112">By default, this is the Network Service account.</span></span> <span data-ttu-id="dc973-113">Alternatif olarak, yapı hizmetini bir etki alanı hesabı kullanarak çalışacak şekilde yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-113">Alternatively, you can configure the build service to run using a domain account.</span></span>

<span data-ttu-id="dc973-114">Windows kimlik doğrulaması gerektiren ve takım derlemesi kullanarak otomatikleştirmeyi planladığınız dağıtım görevleri, yapı hizmeti kimliği kullanılarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="dc973-114">Any deployment tasks that require Windows authentication, and that you plan to automate using Team Build, will run using the build service identity.</span></span> <span data-ttu-id="dc973-115">Bu nedenle, web sunucularınızda ve veritabanı sunucularınızda yapı hizmeti kimliğine gerekli izinleri vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-115">As such, you'll need to grant the build service identity any required permissions on your web servers and your database servers.</span></span>

> [!NOTE]
> <span data-ttu-id="dc973-116">Ağ hizmeti hesabı, diğer bilgisayarların kimliğini doğrulamak için makine hesabını kullanır.</span><span class="sxs-lookup"><span data-stu-id="dc973-116">The Network Service account uses the machine account to authenticate to other computers.</span></span> <span data-ttu-id="dc973-117">Makine hesapları \* [etki alanı adı]\[makine adı] \* **$** &#x2014;, örneğin, **FABRIKAM\TFSBUILD $** .</span><span class="sxs-lookup"><span data-stu-id="dc973-117">Machine accounts take the form \*[domain name]\[machine name]\***$**&#x2014;for example, **FABRIKAM\TFSBUILD$**.</span></span> <span data-ttu-id="dc973-118">Bu nedenle, yapı hizmetiniz ağ hizmeti kimliğini kullanarak çalıştırılıyorsa, yapı sunucunuz için makine hesap kimliği için gerekli tüm izinleri vermelisiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-118">As such, if your build service runs using the Network Service identity, you should grant any required permissions to the machine account identity for your build server.</span></span>

## <a name="configuring-web-server-permissions"></a><span data-ttu-id="dc973-119">Web sunucusu Izinlerini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="dc973-119">Configuring Web Server Permissions</span></span>

<span data-ttu-id="dc973-120">[Web dağıtımına doğru yaklaşımı seçme](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md)konusunda açıklandığı gibi, bir uzak Web sunucusuna Web paketleri dağıtmak istiyorsanız kullanabileceğiniz iki ana yaklaşım vardır:</span><span class="sxs-lookup"><span data-stu-id="dc973-120">As described in [Choosing the Right Approach to Web Deployment](../configuring-server-environments-for-web-deployment/choosing-the-right-approach-to-web-deployment.md), there are two main approaches you can use if you want to deploy web packages to a remote web server:</span></span>

- <span data-ttu-id="dc973-121">Hedef sunucuda *Web Deployment Agent hizmetini* (uzak aracı olarak da bilinir) hedefleyerek uygulamayı uzak bir konumdan dağıtın.</span><span class="sxs-lookup"><span data-stu-id="dc973-121">Deploy the application from a remote location by targeting the *Web Deployment Agent Service* (also known as the remote agent) on the destination server.</span></span>
- <span data-ttu-id="dc973-122">Hedef sunucuda *Internet Information Services* (*IIS) Web dağıtımı işleyicisini* hedefleyerek uzak bir konumdan uygulamayı dağıtın.</span><span class="sxs-lookup"><span data-stu-id="dc973-122">Deploy the application from a remote location by targeting the *Internet Information Services* (*IIS) Web Deploy Handler* on the destination server.</span></span>

<span data-ttu-id="dc973-123">Bu durumda uzak aracının iki anahtar sınırlaması vardır:</span><span class="sxs-lookup"><span data-stu-id="dc973-123">The remote agent has two key limitations in this case:</span></span>

- <span data-ttu-id="dc973-124">Uzak aracı yalnızca NTLM kimlik doğrulamasını destekler.</span><span class="sxs-lookup"><span data-stu-id="dc973-124">The remote agent supports only NTLM authentication.</span></span> <span data-ttu-id="dc973-125">Diğer bir deyişle, dağıtımın derleme hizmeti kimliğini&#x2014;kullanması gerekir, başka bir hesabın kimliğine bürünemiyoruz.</span><span class="sxs-lookup"><span data-stu-id="dc973-125">In other words, the deployment must use the build service identity&#x2014;you can't impersonate another account.</span></span>
- <span data-ttu-id="dc973-126">Uzak aracıyı kullanmak için, dağıtımı gerçekleştiren hesabın hedef sunucuda bir yönetici olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-126">To use the remote agent, the account that performs the deployment must be an administrator on the target server.</span></span>

<span data-ttu-id="dc973-127">Birlikte, bu iki sınırlama, uzak aracının otomatikleştirilmiş bir ekip derleme dağıtımı için istenmeyen bir şekilde yaklaşımını yapar.</span><span class="sxs-lookup"><span data-stu-id="dc973-127">Together, these two limitations make the remote agent approach undesirable for an automated Team Build deployment.</span></span> <span data-ttu-id="dc973-128">Bu yaklaşımı kullanmak için, yapı hizmeti hesabını herhangi bir hedef Web sunucusunda yönetici yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-128">To use this approach, you'd need to make the build service account an administrator on any target web servers.</span></span>

<span data-ttu-id="dc973-129">Buna karşılık Web Dağıtımı Işleyicisi yaklaşımı çeşitli avantajlar sunar:</span><span class="sxs-lookup"><span data-stu-id="dc973-129">In contrast, the Web Deploy Handler approach offers various advantages:</span></span>

- <span data-ttu-id="dc973-130">Web Dağıtımı Işleyici, HTTPS üzerinden temel kimlik doğrulamasını destekler ve bu sayede alternatif bir hesabın kimlik bilgilerini IIS Web Dağıtım aracına (Web Dağıtımı) geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-130">The Web Deploy Handler supports basic authentication over HTTPS, which allows you to pass the credentials of an alternative account to the IIS Web Deployment Tool (Web Deploy).</span></span>
- <span data-ttu-id="dc973-131">Yönetici olmayan kullanıcıların Web Dağıtımı Işleyicisini kullanarak belirli IIS Web sitelerine içerik dağıtmasını sağlamak için hedef Web sunucularını yapılandırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-131">You can configure target web servers to allow non-administrator users to deploy content to specific IIS websites using the Web Deploy Handler.</span></span>

<span data-ttu-id="dc973-132">Sonuç olarak, takım derlemeden Web paketi dağıtımını otomatikleştirdiğiniz zaman Web Dağıtımı Işleyicisini hedeflemek açıkça tercih edilir.</span><span class="sxs-lookup"><span data-stu-id="dc973-132">As a result, it's clearly preferable to target the Web Deploy Handler when you automate web package deployment from Team Build.</span></span> <span data-ttu-id="dc973-133">Önerilen işlem budur:</span><span class="sxs-lookup"><span data-stu-id="dc973-133">This is the recommended process:</span></span>

1. <span data-ttu-id="dc973-134">Dağıtım için kullanmak üzere düşük ayrıcalıklı bir etki alanı hesabı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="dc973-134">Create a low-privileged domain account to use for the deployment.</span></span>
2. <span data-ttu-id="dc973-135">Web Dağıtımı Işleyicisini yapılandırın ve hesaba, [bir Web sunucusunu Web dağıtımı yayımlama Için yapılandırma (Web dağıtımı işleyicisi)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md)bölümünde açıklandığı gibi belırlı bir IIS Web sitesine içerik dağıtmak için gerekli izinleri verin.</span><span class="sxs-lookup"><span data-stu-id="dc973-135">Configure the Web Deploy Handler and grant the account the required permissions to deploy content to a specific IIS website, as described in [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span>
3. <span data-ttu-id="dc973-136">Web Dağıtımı çağırın ve temel kimlik doğrulamasını kullanarak ve dağıtımı gerçekleştirmek için oluşturduğunuz etki alanı hesabının kimlik bilgilerini sağlayarak Web Dağıtımı Işleyicisini hedefleyin.</span><span class="sxs-lookup"><span data-stu-id="dc973-136">Invoke Web Deploy and target the Web Deploy Handler, using basic authentication and supplying the credentials of the domain account you created, to perform the deployment.</span></span>

<span data-ttu-id="dc973-137">[Ilgili kişi Yöneticisi](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) örnek çözümünde, ortama özgü proje dosyasında kimlik doğrulama türünü (temel veya NTLM), Web dağıtımı kimlik bilgilerini ve uç nokta adresini (uzak aracı veya Web dağıtımı işleyicisi) belirtirsiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-137">In the [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) sample solution, you specify the authentication type (basic or NTLM), the Web Deploy credentials, and the endpoint address (remote agent or Web Deploy Handler) in the environment-specific project file.</span></span> <span data-ttu-id="dc973-138">Bu değerler, proje dosyası yürütüldüğünde bir Web Dağıtımı komutunu formüle eklemek ve çalıştırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="dc973-138">These values are used to formulate and run a Web Deploy command when the project file is executed.</span></span> <span data-ttu-id="dc973-139">Daha fazla bilgi için bkz. [Web paketleri dağıtma](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span><span class="sxs-lookup"><span data-stu-id="dc973-139">For more information, see [Deploying Web Packages](../web-deployment-in-the-enterprise/deploying-web-packages.md).</span></span>

<span data-ttu-id="dc973-140">İzinleri yapılandırma dahil Web Dağıtımı Işleyicisini yapılandırma hakkında daha fazla bilgi için bkz. [bir Web sunucusunu Web dağıtımı yayımlaması Için yapılandırma (Web dağıtımı işleyicisi)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span><span class="sxs-lookup"><span data-stu-id="dc973-140">For more information on configuring the Web Deploy Handler, including how to configure permissions, see [Configuring a Web Server for Web Deploy Publishing (Web Deploy Handler)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-web-deploy-handler.md).</span></span> <span data-ttu-id="dc973-141">Uzak Aracıyı yapılandırma hakkında daha fazla bilgi için bkz. [bir Web sunucusunu Web dağıtımı yayımlama Için yapılandırma (uzak Aracı)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span><span class="sxs-lookup"><span data-stu-id="dc973-141">For more information on configuring the remote agent, see [Configuring a Web Server for Web Deploy Publishing (Remote Agent)](../configuring-server-environments-for-web-deployment/configuring-a-web-server-for-web-deploy-publishing-remote-agent.md).</span></span>

## <a name="configuring-database-server-permissions"></a><span data-ttu-id="dc973-142">Veritabanı sunucusu Izinlerini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="dc973-142">Configuring Database Server Permissions</span></span>

<span data-ttu-id="dc973-143">SQL Server bir veritabanı dağıtmak için şunları yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="dc973-143">To deploy a database to SQL Server, you must:</span></span>

- <span data-ttu-id="dc973-144">SQL Server örneğinde dağıtım hesabı için bir oturum açma oluşturun.</span><span class="sxs-lookup"><span data-stu-id="dc973-144">Create a login for the deploying account on the SQL Server instance.</span></span>
- <span data-ttu-id="dc973-145">SQL Server örneğinde oturum açma **dbcreator** izinlerini verin.</span><span class="sxs-lookup"><span data-stu-id="dc973-145">Grant the login **DBCreator** permissions on the SQL Server instance.</span></span>
- <span data-ttu-id="dc973-146">İlk dağıtımdan sonra, hedef veritabanındaki **db\_Owner** rolüne oturum açmayı ekleyin.</span><span class="sxs-lookup"><span data-stu-id="dc973-146">After the initial deployment, add the login to the **db\_owner** role on the target database.</span></span> <span data-ttu-id="dc973-147">Bu, sonraki dağıtımlarda, yeni bir veritabanı oluşturmak yerine var olan bir veritabanını değiştirmekte olduğunuz için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="dc973-147">This is required because on subsequent deployments, you're modifying an existing database rather than creating a new database.</span></span>

<span data-ttu-id="dc973-148">NTLM kimlik doğrulaması ya da SQL Server kimlik doğrulaması kullanarak bir SQL Server örneğine kimlik doğrulaması yapabilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="dc973-148">You can authenticate to a SQL Server instance using either NTLM authentication or SQL Server authentication:</span></span>

- <span data-ttu-id="dc973-149">NTLM kimlik doğrulaması kullanıyorsanız yukarıda açıklanan izinleri derleme hizmeti hesabına vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-149">If you use NTLM authentication, you need to grant the permissions described above to the build service account.</span></span>
- <span data-ttu-id="dc973-150">SQL Server kimlik doğrulaması kullanıyorsanız yukarıda açıklanan izinleri SQL Server hesabına vermeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-150">If you use SQL Server authentication, you need to grant the permissions described above to the SQL Server account.</span></span> <span data-ttu-id="dc973-151">Ayrıca, veritabanını dağıtmak için kullandığınız bağlantı dizesinde Kullanıcı adı ve parola SQL Server dahil etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="dc973-151">You also need to include the SQL Server user name and password in the connection string you use to deploy the database.</span></span>

<span data-ttu-id="dc973-152">Veritabanı dağıtımı için izinleri yapılandırma hakkında adım adım ayrıntılar için bkz. [Web dağıtımı yayımlama Için veritabanı sunucusunu yapılandırma](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span><span class="sxs-lookup"><span data-stu-id="dc973-152">For step-by-step details on how to configure permissions for database deployment, see [Configuring a Database Server for Web Deploy Publishing](../configuring-server-environments-for-web-deployment/configuring-a-database-server-for-web-deploy-publishing.md).</span></span>

## <a name="conclusion"></a><span data-ttu-id="dc973-153">Sonuç</span><span class="sxs-lookup"><span data-stu-id="dc973-153">Conclusion</span></span>

<span data-ttu-id="dc973-154">Bu noktada, takım derlemeden Web uygulaması ve veritabanı dağıtımlarını otomatikleştirdiğiniz zaman kimlik doğrulama seçenekleriyle birlikte, gerekli izinleri anlamalısınız.</span><span class="sxs-lookup"><span data-stu-id="dc973-154">At this point, you should understand the permissions required, together with the authentication options open to you, when you automate web application and database deployments from Team Build.</span></span> <span data-ttu-id="dc973-155">Ayrıca, IIS Web sunucularında ve SQL Server veritabanı sunucularında gerekli izinleri de uygulayabilmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="dc973-155">You should also be able to implement the necessary permissions on IIS web servers and SQL Server database servers.</span></span>

## <a name="further-reading"></a><span data-ttu-id="dc973-156">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="dc973-156">Further Reading</span></span>

<span data-ttu-id="dc973-157">Windows Server ortamlarını uzaktan dağıtımı destekleyecek şekilde yapılandırma hakkında daha fazla bilgi için bkz. [Web dağıtımı Için sunucu ortamlarını yapılandırma](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span><span class="sxs-lookup"><span data-stu-id="dc973-157">For more information on configuring Windows server environments to support remote deployment, see [Configuring Server Environments for Web Deployment](../configuring-server-environments-for-web-deployment/configuring-server-environments-for-web-deployment.md).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="dc973-158">Öncekini</span><span class="sxs-lookup"><span data-stu-id="dc973-158">Previous</span></span>](deploying-a-specific-build.md)
