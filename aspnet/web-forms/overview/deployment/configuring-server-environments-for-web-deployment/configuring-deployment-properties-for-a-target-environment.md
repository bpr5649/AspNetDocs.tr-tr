---
uid: web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
title: Hedef ortam için dağıtım özelliklerini yapılandırma | Microsoft Docs
author: jrjlee
description: Bu konuda, örnek Contact Manager çözümünü belirli bir hedef ortama dağıtmak için ortama özgü özelliklerin nasıl yapılandırılacağı açıklanmaktadır...
ms.author: riande
ms.date: 05/04/2012
ms.assetid: b5b86e03-b8ed-46e6-90fa-e1da88ef34e9
msc.legacyurl: /web-forms/overview/deployment/configuring-server-environments-for-web-deployment/configuring-deployment-properties-for-a-target-environment
msc.type: authoredcontent
ms.openlocfilehash: 9742be7d718384c1b108d5f2c0c43e8e8d4fe8a9
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78636446"
---
# <a name="configuring-deployment-properties-for-a-target-environment"></a>Hedef Ortam için Dağıtım Özelliklerini Yapılandırma

[Jason Lee](https://github.com/jrjlee) tarafından

[PDF 'YI indir](https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/00/63/56/8130.DeployingWebAppsInEnterpriseScenarios.pdf)

> Bu konuda, örnek Contact Manager çözümünü belirli bir hedef ortama dağıtmak için ortama özgü özelliklerin nasıl yapılandırılacağı açıklanmaktadır.

Bu konu, Fabrikam, Inc adlı kurgusal bir şirketin Kurumsal Dağıtım gereksinimlerini temel alarak bir öğretici serisinin bir parçasını oluşturur. Bu öğretici serisi, bir ASP.NET MVC&#x2014;3 uygulaması, WINDOWS COMMUNICATION FOUNDATION&#x2014;(WCF) hizmeti ve bir veritabanı projesi dahil, gerçekçi bir karmaşıklık düzeyine sahip bir Web uygulamasını temsil etmek üzere bir örnek çözüm olan [Contact Manager](../web-deployment-in-the-enterprise/the-contact-manager-solution.md) çözümünü kullanır.

Bu öğreticilerin temelini oluşturan dağıtım yöntemi, derleme işleminin her hedef ortam için uygulanan derleme yönergelerini içeren iki [](../web-deployment-in-the-enterprise/understanding-the-build-process.md)proje&#x2014;dosyası tarafından denetlendiği ve ortama özgü derleme ve dağıtım ayarlarını Içeren, derleme işlemini anlama bölümünde açıklanan bölünmüş proje dosyası yaklaşımını temel alır. Derleme zamanında, ortama özgü proje dosyası, derleme yönergelerinin tam bir kümesini oluşturmak için ortam agtik proje dosyası ile birleştirilir.

## <a name="process-overview"></a>İşleme genel bakış

Contact Manager çözümünü derlemek ve dağıtmak için kullanacağınız proje dosyası iki fiziksel dosyaya ayrılır:

- Bunlardan biri evrensel derleme ayarları ve yönergeleri ( *Publish. proj* dosyası) içerir.
- Ortama özgü derleme ayarlarını içeren bir tane (*env-dev. proj*, *env-Stage. proj*, vb.).

Derleme zamanında, yapı yönergelerinin tam bir kümesini oluşturmak için, uygun ortama özgü proje dosyası evrensel *Publish. proj* dosyasında birleştirilir. Ortama özgü proje dosyalarını kendi dağıtım senaryonuzu tanımlayan ayarlarla oluşturup özelleştirerek, belirli hedef ortamlara dağıtım yapılandırabilirsiniz.

Bu değerlerin çoğu, hedef ortamınızın özel olarak nasıl yapılandırıldığına&#x2014;, hedef Web sunucunuzun Web Deployment Agent hizmetini (uzak Aracı) veya Web dağıtımı işleyicisini kullanacak şekilde yapılandırılıp yapılandırılmadığını belirler. Bu yaklaşımlar hakkında daha fazla bilgi ve kendi ortamınız için doğru yaklaşımı Seçme Kılavuzu için, bkz. [Web dağıtımına doğru yaklaşımı seçme](choosing-the-right-approach-to-web-deployment.md).

[Contact Manager senaryosu](../deploying-web-applications-in-enterprise-scenarios/enterprise-web-deployment-scenario-overview.md) , ortama özel iki proje dosyası gerektirir:

- Geliştirici sınama ortamına (*env-dev. proj*) dağıtım. Geliştirici sınama ortamı, [Senaryo: Web dağıtımı için bir test ortamı yapılandırma](scenario-configuring-a-test-environment-for-web-deployment.md)bölümünde açıklandığı gibi uzak Aracı kullanılarak uzak dağıtımları kabul edecek şekilde yapılandırılmıştır. Bu dosyanın, bağlantı dizeleri ve hizmet uç noktaları gibi konuma özgü ayarları ve uzak Aracı uç noktası adresini sağlaması gerekir.
- Hazırlama ortamına (*env-Stage. proj*) dağıtım. Hazırlama ortamı, [Senaryo: Web dağıtımı Için hazırlama ortamı yapılandırma](scenario-configuring-a-staging-environment-for-web-deployment.md)bölümünde açıklandığı gibi Web dağıtımı işleyicisini kullanarak uzak dağıtımları kabul edecek şekilde yapılandırılmıştır. Bu dosyanın, bağlantı dizeleri ve hizmet uç noktaları gibi konuma özgü ayarları ve Web Dağıtımı Işleyicisi bitiş noktası adresini sağlaması gerekir.

Ortama özgü proje dosyasında yapılandırdığınız ayarların&#x2014;bunun yerine Web paketinin içeriğini etkilemediğini unutmayın, paketin nasıl dağıtıldığını ve paket ayıklandığında parametre değerlerinin sağlandığını kontrol ederler. Web paketini, [Senaryo: Web dağıtımı için bir üretim ortamı yapılandırma](scenario-configuring-a-production-environment-for-web-deployment.md) ve [Web paketlerini el ile yükleme](../web-deployment-in-the-enterprise/manually-installing-web-packages.md), bu sayede, paketi oluştururken ortama özgü proje dosyasında hangi ayarları kullandığınıza bakılmaksızın, üretim ortamına el ile aktarıyorsunuz. Internet Information Services (IIS) Yöneticisi, paketi içeri aktardığınızda bağlantı dizeleri ve hizmet uç noktaları gibi parametreli her türlü değeri ister.

Contact Manager çözümünü kendi hedef ortamınıza dağıtmak için, bu dosyayı özelleştirebilir ya da bir şablon olarak kullanabilir ve kendi dosyanızı oluşturabilirsiniz.

**Iletişim Yöneticisi çözümü için ortama özgü dağıtım ayarlarını yapılandırmak için**

1. Visual Studio 2010 ' de ContactManager-WCF çözümünü açın.
2. **Çözüm Gezgini** penceresinde, **Yayımla** klasörünü genişletin, **Envconfig** klasörünü genişletin ve ardından **env-dev. proj**öğesine çift tıklayın.

    ![](configuring-deployment-properties-for-a-target-environment/_static/image1.png)
3. *Env-dev. proj* dosyasındaki özellik değerlerini kendi test ortamınız için doğru değerlerle değiştirin.

    > [!NOTE]
    > Bu yordamı izleyen tablo, bu özelliklerden her biri hakkında daha fazla bilgi sağlar.
4. Çalışmanızı kaydedin ve ardından *env-dev. proj* dosyasını kapatın.

## <a name="choosing-the-right-deployment-properties"></a>Doğru dağıtım özelliklerini seçme

Bu tabloda, örnek ortama özgü, *env-dev. proj*proje dosyasındaki her bir özelliğin amacı açıklanmakta ve sağlamanız gereken değerler hakkında bazı yönergeler sunulmaktadır.

|                                                        Özellik Adı                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        Ayrıntılar                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|              <strong>Msdeploycomputername</strong> Hedef Web sunucusunun veya hizmet uç noktasının adı.               |                                                                                                                                                                                                                                              Hedef Web sunucusunda uzak Aracı hizmetine dağıtım yapıyorsanız, hedef bilgisayar adını (örneğin, <strong>TESTWEB1</strong> veya <strong>TESTWEB1.fabrikam.net</strong>) belirtebilir veya uzak Aracı uç noktasını belirtebilirsiniz (örneğin, `http://TESTWEB1/MSDEPLOYAGENTSERVICE`). Dağıtım her durumda aynı şekilde çalışmaktadır. Hedef Web sunucusunda Web Dağıtımı Işleyicisine dağıtım yapıyorsanız, hizmet uç noktasını belirtmeniz ve IIS Web sitesinin adını sorgu dizesi parametresi olarak eklemeniz gerekir (örneğin, `https://STAGEWEB1:8172/MSDeploy.axd?site=DemoSite`).                                                                                                                                                                                                                                              |
|         <strong>Msdeployauth</strong> Web Dağıtımı uzak bilgisayarda kimlik doğrulamak için kullanması gereken yöntem.          |                                                                                                                                                                                                                          Bu, <strong>NTLM</strong> veya <strong>temel</strong>olarak ayarlanmalıdır. Genellikle, Web Dağıtımı Işleyicisine dağıtıyorsanız, uzak Aracı hizmetine ve <strong>temel</strong> bir dağıtım yapıyorsanız <strong>NTLM</strong> 'yi kullanırsınız. Temel kimlik doğrulaması kullanıyorsanız, dağıtımı gerçekleştirmek için IIS Web Dağıtım aracı 'nın (Web Dağıtımı) taklit etmesi gereken kullanıcı adını ve parolayı da belirtmeniz gerekir. Bu örnekte, bu değerler <strong>Msdeployusername</strong> ve <strong>msdeploypassword</strong> özellikleri aracılığıyla sağlanır. NTLM kimlik doğrulaması kullanırsanız, bu özellikleri atlayabilir veya boş bırakabilirsiniz.                                                                                                                                                                                                                          |
| <strong>Msdeployusername</strong> Temel kimlik doğrulaması kullanıyorsanız, Web Dağıtımı uzak bilgisayarda bu hesabı kullanacaktır.  |                                                                                                                                                                                                                                                                                                                                                                                                                       Bu,\*Kullanıcı adı * biçiminde <em>etki alanı</em> almalıdır (örneğin, <strong>FABRIKAM\matt</strong>). Bu değer yalnızca temel kimlik doğrulaması belirtirseniz kullanılır. NTLM kimlik doğrulaması kullanırsanız, özelliği atlanabilir. Bir değer sağlanırsa, yok sayılır.                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <strong>Msdeploypassword</strong> Temel kimlik doğrulaması kullanıyorsanız, Web Dağıtımı bu parolayı uzak bilgisayarda kullanacaktır. |                                                                                                                                                                                                                                                                                                                                                                                                                    Bu, <strong>Msdeployusername</strong> özelliğinde belirttiğiniz kullanıcı hesabının parolasıdır. Bu değer yalnızca temel kimlik doğrulaması belirtirseniz kullanılır. NTLM kimlik doğrulaması kullanırsanız, özelliği atlanabilir. Bir değer sağlanırsa, yok sayılır.                                                                                                                                                                                                                                                                                                                                                                                                                    |
|     <strong>Contactmanageriispath</strong> Contact Manager MVC uygulamasını dağıtmak istediğiniz IIS yolu.     |                                                                                                                                                                                                                                                                                                                                                                        Bu, [<em>IIS Web sitesi adı</em>]/[<em>Web</em><em>uygulaması adı</em>] biçiminde IIS Yöneticisi 'nde göründüğü şekilde yol olmalıdır. Uygulamanızı dağıtmadan önce IIS Web sitesinin mevcut olması gerektiğini unutmayın. Örneğin, DemoSite adlı bir IIS Web sitesi oluşturduysanız, MVC uygulamasının IIS yolunu DemoSite/ContactManager olarak belirtebilirsiniz.                                                                                                                                                                                                                                                                                                                                                                        |
|   <strong>Contactmanagerserviceiispath</strong> Contact Manager WCF hizmetini dağıtmak istediğiniz IIS yolu.    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                          Örneğin, DemoSite adlı bir IIS Web sitesi oluşturduysanız, WCF hizmeti için bir IIS yolu <strong>demosite/ContactManagerService</strong>olarak belirtebilirsiniz.                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|                  <strong>Contactmanagertargeturl</strong> WCF hizmetine erişilebileceği URL.                   |                                                                                                                                                     Bu, [<em>IIS Web sitesi kök URL 'si</em>]/[<em>hizmet uygulaması adı</em>]/[<em>hizmet uç noktası</em>] biçimini alır. Örneğin, 85 numaralı bağlantı noktasında bir IIS Web sitesi oluşturduysanız URL `http://localhost:85/ContactManagerService/ContactService.svc`olur. MVC uygulamasının ve WCF hizmetinin aynı sunucuya dağıtıldığını unutmayın. Sonuç olarak, bu URL 'ye yalnızca yüklü olduğu makineden erişilir. Bu nedenle, URL 'de makine adı veya ana bilgisayar üstbilgisi yerine localhost veya IP adresinin kullanılması daha iyidir. Makine adını veya bir konak üstbilgisini kullanırsanız, IIS 'deki [geri döngü denetimi](https://go.microsoft.com/?linkid=9805131) güvenlik özelliği, URL 'yi engelleyebilir ve bir <strong>http 401,1-yetkisiz</strong> hatası döndürebilir.                                                                                                                                                     |
|                  <strong>Cmdatabaseconnectionstring</strong> Veritabanı sunucusu için bağlantı dizesi.                  | Bağlantı dizesi, VSDBCMD 'nin veritabanı sunucusuyla iletişim kurmak için kullanacağı kimlik bilgilerini ve veritabanını ve Web sunucusu uygulama havuzunun veritabanı sunucusuyla iletişim kurmak için kullanacağı kimlik bilgilerini ve veritabanıyla etkileşime geçmesini belirler. Aslında burada iki seçeneğiniz vardır. Tümleşik <strong>güvenlik = true</strong>belirtebilirsiniz, bu durumda tümleşik Windows kimlik doğrulaması kullanılır: <strong>VERI kaynağı = TESTDB1; Integrated Security = true</strong> bu durumda, veritabanı VSDBCMD yürütülebilir dosyasını çalıştıran kullanıcının kimlik bilgileri kullanılarak oluşturulur ve uygulama, Web sunucusu makine hesabının kimliğini kullanarak veritabanına erişir. Alternatif olarak, SQL Server hesabın kullanıcı adını ve parolasını belirtebilirsiniz. Bu durumda, SQL Server kimlik bilgileri hem VSDBCMD tarafından hem de veritabanını oluşturmak için kullanılır: <strong>veri kaynağı = TESTDB1; Kullanıcı kimliği = asık Kullanıcı; Parola = PA $ $w 0rd</strong> bu konudaki izlenecek yollar tümleşik Windows kimlik doğrulamasını kullanacağınızı varsayar. |
|        <strong>Cmtargetdatabase</strong> Veritabanı sunucusunda oluşturacağınız veritabanına vermek istediğiniz ad.        |                                                                                                                                                                                                                                                                                                                                                                                                                                                     Burada sağladığınız değer, VSDBCMD komutuna bir parametre olarak eklenir. Ayrıca, Web sunucusundaki uygulama havuzunun veritabanıyla etkileşime geçmek için kullanabileceği tam bir bağlantı dizesi oluşturmak için de kullanılır.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |

Bu örnekler, belirli dağıtım senaryolarında bu özellikleri nasıl yapılandırabileceğini gösterir.

### <a name="example-1x2014deployment-to-the-remote-agent-service"></a>Uzak Aracı&#x2014;hizmetine örnek 1 dağıtımı

Bu örnekte:

- TESTWEB1 üzerinde Uzak aracı hizmetine dağıtılıyor olursunuz.
- NTLM kimlik doğrulaması kullanmak Web Dağıtımı. Web Dağıtımı, Microsoft Build Engine (MSBuild) çağırmak için kullandığınız kimlik bilgileri kullanılarak çalıştırılır.
- **ContactManager** veritabanını TESTDB1 'e dağıtmak için tümleşik kimlik doğrulaması kullanıyorsunuz. Veritabanı, MSBuild 'i çağırmak için kullandığınız kimlik bilgileri kullanılarak dağıtılır.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample1.xml)]

### <a name="example-2x2014deployment-to-the-web-deploy-handler-endpoint"></a>Web Dağıtımı Handler&#x2014;uç noktasına örnek 2 dağıtımı

Bu örnekte:

- STAGEWEB1 üzerinde Web Dağıtımı Handler hizmeti uç noktasına dağıtılıyor olursunuz.
- Temel kimlik doğrulaması kullanmak için Web Dağıtımı olduğunuzu öğreneceksiniz.
- Web Dağıtımı uzak bilgisayarda FABRIKAM\stagingdeployer hesabının kimliğine bürünebilmelidir.
- **ContactManager** veritabanını STAGEDB1 'e dağıtmak için SQL Server kimlik doğrulaması kullanıyorsunuz.

[!code-xml[Main](configuring-deployment-properties-for-a-target-environment/samples/sample2.xml)]

## <a name="conclusion"></a>Sonuç

Bu noktada, proje dosyalarınız, Contact Manager çözümünü derlemek ve bir veya daha fazla hedef ortama dağıtmak üzere tam olarak yapılandırılmıştır.

Bu proje dosyalarını, tek adımlı, yinelenebilir bir dağıtım sürecinin bir parçası olarak kullanmak için, MSBuild 'i kullanarak *Publish. proj* dosyasını yürütmeniz ve ortama özgü proje dosyasının konumunu parametre olarak geçirmeniz gerekir. Bunu çeşitli yollarla yapabilirsiniz:

- MSBuild 'e genel bakış ve özel proje dosyalarına giriş için bkz. [Proje dosyasını anlama](../web-deployment-in-the-enterprise/understanding-the-project-file.md).
- Özel proje dosyalarınızı yürüten MSBuild komutunu nasıl formülleyen hakkında daha fazla bilgi için bkz. [Web paketleri dağıtma](../web-deployment-in-the-enterprise/deploying-web-packages.md).
- MSBuild komutlarınızı tek adımlı, yinelenebilir dağıtımlar için bir komut dosyasına ekleme hakkında daha fazla bilgi için bkz. [dağıtım komut dosyası oluşturma ve çalıştırma](../web-deployment-in-the-enterprise/creating-and-running-a-deployment-command-file.md).
- Özel proje dosyalarınızı takım derlemesinden yürütme hakkında daha fazla bilgi için bkz. [dağıtımı destekleyen bir yapı tanımı oluşturma](../configuring-team-foundation-server-for-web-deployment/creating-a-build-definition-that-supports-deployment.md).

> [!div class="step-by-step"]
> [Öncekini](creating-a-server-farm-with-the-web-farm-framework.md)
