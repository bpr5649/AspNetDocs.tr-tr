---
uid: web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
title: URL yönlendirme | Microsoft Docs
author: Erikre
description: Bu öğretici serisi, ASP.NET 4,5 ve Microsoft Visual Studio Express 2013 ' i kullanarak bir ASP.NET Web Forms uygulaması oluşturma hakkında temel bilgileri öğretir...
ms.author: riande
ms.date: 09/08/2014
ms.assetid: 4f4bf092-c400-471f-a876-78fda0417890
msc.legacyurl: /web-forms/overview/getting-started/getting-started-with-aspnet-45-web-forms/url-routing
msc.type: authoredcontent
ms.openlocfilehash: 66b727b69ca4f9a3d35b67f492f9a554146e09ef
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74590717"
---
# <a name="url-routing"></a><span data-ttu-id="cb17a-103">URL Yönlendirme</span><span class="sxs-lookup"><span data-stu-id="cb17a-103">URL Routing</span></span>

<span data-ttu-id="cb17a-104">by [Erik Reitan](https://github.com/Erikre)</span><span class="sxs-lookup"><span data-stu-id="cb17a-104">by [Erik Reitan](https://github.com/Erikre)</span></span>

<span data-ttu-id="cb17a-105">[Wingtip Toys örnek projesini indirin (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) veya [indirme E-kitabı (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span><span class="sxs-lookup"><span data-stu-id="cb17a-105">[Download Wingtip Toys Sample Project (C#)](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) or [Download E-book (PDF)](https://download.microsoft.com/download/0/F/B/0FBFAA46-2BFD-478F-8E56-7BF3C672DF9D/Getting%20Started%20with%20ASP.NET%204.5%20Web%20Forms%20and%20Visual%20Studio%202013.pdf)</span></span>

> <span data-ttu-id="cb17a-106">Bu öğretici serisi, ASP.NET 4,5 ve Web için Microsoft Visual Studio Express 2013 kullanarak bir ASP.NET Web Forms uygulaması oluşturma hakkında temel bilgileri öğretir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-106">This tutorial series will teach you the basics of building an ASP.NET Web Forms application using ASP.NET 4.5 and Microsoft Visual Studio Express 2013 for Web.</span></span> <span data-ttu-id="cb17a-107">[Kaynak koduna sahip C# ](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) Visual Studio 2013 bir proje, bu öğretici serisine eşlik etmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-107">A Visual Studio 2013 [project with C# source code](https://go.microsoft.com/fwlink/?LinkID=389434&clcid=0x409) is available to accompany this tutorial series.</span></span>

<span data-ttu-id="cb17a-108">Bu öğreticide, Wingtip Toys örnek uygulamasını URL yönlendirmeyi destekleyecek şekilde değiştirirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-108">In this tutorial, you will modify the Wingtip Toys sample application to support URL routing.</span></span> <span data-ttu-id="cb17a-109">Yönlendirme, Web uygulamanızın kolay, anımsanması kolay ve arama motorları tarafından daha iyi desteklenecek URL 'Leri kullanmasına olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="cb17a-109">Routing enables your web application to use URLs that are friendly, easier to remember, and better supported by search engines.</span></span> <span data-ttu-id="cb17a-110">Bu öğreticide, önceki öğreticide "üyelik ve yönetim" oluşturulur ve Wingtip Toys öğretici serisinin bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-110">This tutorial builds on the previous tutorial "Membership and Administration" and is part of the Wingtip Toys tutorial series.</span></span>

## <a name="what-youll-learn"></a><span data-ttu-id="cb17a-111">Şunları öğreneceksiniz:</span><span class="sxs-lookup"><span data-stu-id="cb17a-111">What you'll learn:</span></span>

- <span data-ttu-id="cb17a-112">Bir ASP.NET Web Forms uygulamasının yollarını kaydetme.</span><span class="sxs-lookup"><span data-stu-id="cb17a-112">How to register routes for an ASP.NET Web Forms application.</span></span>
- <span data-ttu-id="cb17a-113">Bir Web sayfasına rotalar ekleme.</span><span class="sxs-lookup"><span data-stu-id="cb17a-113">How to add routes to a web page.</span></span>
- <span data-ttu-id="cb17a-114">Yolları desteklemek için bir veritabanından veri seçme.</span><span class="sxs-lookup"><span data-stu-id="cb17a-114">How to select data from a database to support routes.</span></span>

## <a name="aspnet-routing-overview"></a><span data-ttu-id="cb17a-115">ASP.NET yönlendirmeye genel bakış</span><span class="sxs-lookup"><span data-stu-id="cb17a-115">ASP.NET Routing Overview</span></span>

<span data-ttu-id="cb17a-116">URL yönlendirme, bir uygulamayı fiziksel dosyalarla eşlenmez istek URL 'Lerini kabul edecek şekilde yapılandırmanıza olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-116">URL routing allows you to configure an application to accept request URLs that do not map to physical files.</span></span> <span data-ttu-id="cb17a-117">İstek URL 'si, bir kullanıcının Web sitenizde bir sayfa bulmak için tarayıcılarına girdiği URL 'dir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-117">A request URL is simply the URL a user enters into their browser to find a page on your web site.</span></span> <span data-ttu-id="cb17a-118">Kullanıcılara anlam açısından anlamlı olan ve arama motoru iyileştirmesi (SEO) konusunda yardımcı olabilecek URL 'Leri tanımlamak için yönlendirmeyi kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="cb17a-118">You use routing to define URLs that are semantically meaningful to users and that can help with search-engine optimization (SEO).</span></span>

<span data-ttu-id="cb17a-119">Varsayılan olarak, Web Forms şablonu [ASP.net kolay URL 'leri](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)içerir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-119">By default, the Web Forms template includes [ASP.NET Friendly URLs](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/).</span></span> <span data-ttu-id="cb17a-120">Temel yönlendirme işinin büyük bölümü, *kolay URL 'ler*kullanılarak uygulanır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-120">Much of the basic routing work will be implemented by using *Friendly URLs*.</span></span> <span data-ttu-id="cb17a-121">Bununla birlikte, bu öğreticide özelleştirilmiş yönlendirme özellikleri ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-121">However, in this tutorial you will add customized routing capabilities.</span></span>

<span data-ttu-id="cb17a-122">URL yönlendirmeyi özelleştirmeden önce, Wingtip Toys örnek uygulaması aşağıdaki URL 'YI kullanarak bir ürüne bağlanabilir:</span><span class="sxs-lookup"><span data-stu-id="cb17a-122">Before customizing URL routing, the Wingtip Toys sample application can link to a product using the following URL:</span></span>

`https://localhost:44300/ProductDetails.aspx?productID=2`

<span data-ttu-id="cb17a-123">URL yönlendirmeyi özelleştirerek, Wingtip Toys örnek uygulaması, okunması kolay bir URL kullanarak aynı ürüne bağlanır:</span><span class="sxs-lookup"><span data-stu-id="cb17a-123">By customizing URL routing, the Wingtip Toys sample application will link to the same product using an easier to read URL:</span></span>

`https://localhost:44300/Product/Convertible%20Car`

### <a name="routes"></a><span data-ttu-id="cb17a-124">Yolların</span><span class="sxs-lookup"><span data-stu-id="cb17a-124">Routes</span></span>

<span data-ttu-id="cb17a-125">Yol, bir işleyiciye eşlenmiş bir URL örüncidir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-125">A route is a URL pattern that is mapped to a handler.</span></span> <span data-ttu-id="cb17a-126">İşleyici, bir Web Forms uygulamasındaki. aspx dosyası gibi bir fiziksel dosya olabilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-126">The handler can be a physical file, such as an .aspx file in a Web Forms application.</span></span> <span data-ttu-id="cb17a-127">Bir işleyici, isteği işleyen bir sınıf de olabilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-127">A handler can also be a class that processes the request.</span></span> <span data-ttu-id="cb17a-128">Bir yol tanımlamak için, URL şeklini, işleyiciyi ve isteğe bağlı olarak yol için bir ad belirterek yol sınıfının bir örneğini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cb17a-128">To define a route, you create an instance of the Route class by specifying the URL pattern, the handler, and optionally a name for the route.</span></span>

<span data-ttu-id="cb17a-129">`Route` nesnesini `RouteTable` sınıfının statik `Routes` özelliğine ekleyerek yolu uygulamaya eklersiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-129">You add the route to the application by adding the `Route` object to the static `Routes` property of the `RouteTable` class.</span></span> <span data-ttu-id="cb17a-130">Rotalar özelliği, uygulama için tüm yolları depolayan bir `RouteCollection` nesnesidir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-130">The Routes property is a `RouteCollection` object that stores all the routes for the application.</span></span>

### <a name="url-patterns"></a><span data-ttu-id="cb17a-131">URL desenleri</span><span class="sxs-lookup"><span data-stu-id="cb17a-131">URL Patterns</span></span>

<span data-ttu-id="cb17a-132">URL stili, değişmez değerler ve değişken yer tutucuları (URL parametreleri olarak adlandırılır) içerebilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-132">A URL pattern can contain literal values and variable placeholders (referred to as URL parameters).</span></span> <span data-ttu-id="cb17a-133">Sabit değerler ve yer tutucular, eğik çizgi (`/`) karakteriyle ayrılmış URL kesimlerinde bulunur.</span><span class="sxs-lookup"><span data-stu-id="cb17a-133">The literals and placeholders are located in segments of the URL which are delimited by the slash (`/`) character.</span></span>

<span data-ttu-id="cb17a-134">Web uygulamanıza yönelik bir istek yapıldığında, URL kesimleri ve yer tutucuları olarak ayrıştırılır ve değişken değerleri istek işleyicisine sağlanır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-134">When a request to your web application is made, the URL is parsed into segments and placeholders, and the variable values are provided to the request handler.</span></span> <span data-ttu-id="cb17a-135">Bu işlem, bir sorgu dizesindeki verilerin ayrıştırılıp istek işleyicisine geçirildiği yönteme benzerdir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-135">This process is similar to the way the data in a query string is parsed and passed to the request handler.</span></span> <span data-ttu-id="cb17a-136">Her iki durumda da, değişken bilgileri URL 'ye dahil edilir ve anahtar-değer çiftleri biçiminde işleyiciye geçirilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-136">In both cases, variable information is included in the URL and passed to the handler in the form of key-value pairs.</span></span> <span data-ttu-id="cb17a-137">Sorgu dizeleri için hem anahtarlar hem de değerler URL 'de bulunur.</span><span class="sxs-lookup"><span data-stu-id="cb17a-137">For query strings, both the keys and the values are in the URL.</span></span> <span data-ttu-id="cb17a-138">Yollar için anahtarlar, URL düzeninde tanımlanan yer tutucu adlarıdır ve yalnızca değerler URL 'de bulunur.</span><span class="sxs-lookup"><span data-stu-id="cb17a-138">For routes, the keys are the placeholder names defined in the URL pattern, and only the values are in the URL.</span></span>

<span data-ttu-id="cb17a-139">Bir URL düzeninde, yer tutucuları, küme ayraçları (`{` ve `}`) içine alarak tanımlarsınız.</span><span class="sxs-lookup"><span data-stu-id="cb17a-139">In a URL pattern, you define placeholders by enclosing them in braces ( `{` and `}` ).</span></span> <span data-ttu-id="cb17a-140">Bir kesimde birden fazla yer tutucu tanımlayabilirsiniz, ancak yer tutucuların bir sabit değer ile ayrılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-140">You can define more than one placeholder in a segment, but the placeholders must be separated by a literal value.</span></span> <span data-ttu-id="cb17a-141">Örneğin, `{language}-{country}/{action}` geçerli bir yol modelidir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-141">For example, `{language}-{country}/{action}` is a valid route pattern.</span></span> <span data-ttu-id="cb17a-142">Ancak, yer tutucular arasında değişmez değer veya sınırlayıcı olmadığından `{language}{country}/{action}` geçerli bir model değildir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-142">However, `{language}{country}/{action}` is not a valid pattern, because there is no literal value or delimiter between the placeholders.</span></span> <span data-ttu-id="cb17a-143">Bu nedenle, yönlendirme, ülke yer tutucusu için değerden dil yer tutucusu değerinin nerede ayrılabileceği belirlenemiyor.</span><span class="sxs-lookup"><span data-stu-id="cb17a-143">Therefore, routing cannot determine where to separate the value for the language placeholder from the value for the country placeholder.</span></span>

### <a name="mapping-and-registering-routes"></a><span data-ttu-id="cb17a-144">Eşleme ve kayıt yolları</span><span class="sxs-lookup"><span data-stu-id="cb17a-144">Mapping and Registering Routes</span></span>

<span data-ttu-id="cb17a-145">Wingtip Toys örnek uygulamasının sayfalarına yönlendirmeler dahil etmeden önce, uygulama başladığında yolları kaydetmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-145">Before you can include routes to pages of the Wingtip Toys sample application, you must register the routes when the application starts.</span></span> <span data-ttu-id="cb17a-146">Yolları kaydetmek için `Application_Start` olay işleyicisini değiştirirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-146">To register the routes, you will modify the `Application_Start` event handler.</span></span>

1. <span data-ttu-id="cb17a-147">Visual Studio 'nun **Çözüm Gezgini**, *Global.asax.cs* dosyasını bulun ve açın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-147">In **Solution Explorer**of Visual Studio, find and open the *Global.asax.cs* file.</span></span>
2. <span data-ttu-id="cb17a-148">Sarıya vurgulanan kodu *Global.asax.cs* dosyasına aşağıdaki şekilde ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb17a-148">Add the code highlighted in yellow to the *Global.asax.cs* file as follows:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample1.cs?highlight=30-31,34-46)]

<span data-ttu-id="cb17a-149">Wingtip Toys örnek uygulaması başladığında `Application_Start` olay işleyicisini çağırır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-149">When the Wingtip Toys sample application starts, it calls the `Application_Start` event handler.</span></span> <span data-ttu-id="cb17a-150">Bu olay işleyicisinin sonunda `RegisterCustomRoutes` yöntemi çağrılır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-150">At the end of this event handler, the `RegisterCustomRoutes` method is called.</span></span> <span data-ttu-id="cb17a-151">`RegisterCustomRoutes` yöntemi, `RouteCollection` nesnesinin `MapPageRoute` yöntemini çağırarak her bir yolu ekler.</span><span class="sxs-lookup"><span data-stu-id="cb17a-151">The `RegisterCustomRoutes` method adds each route by calling the `MapPageRoute` method of the `RouteCollection` object.</span></span> <span data-ttu-id="cb17a-152">Yollar rota adı, yol URL 'SI ve fiziksel URL kullanılarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-152">Routes are defined using a route name, a route URL and a physical URL.</span></span>

<span data-ttu-id="cb17a-153">İlk parametre ("`ProductsByCategoryRoute`") yol adıdır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-153">The first parameter ("`ProductsByCategoryRoute`") is the route name.</span></span> <span data-ttu-id="cb17a-154">Gerektiğinde rotayı çağırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-154">It is used to call the route when it is needed.</span></span> <span data-ttu-id="cb17a-155">İkinci parametre ("`Category/{categoryName}`"), koda göre dinamik olabilecek kolay değiştirme URL 'sini tanımlar.</span><span class="sxs-lookup"><span data-stu-id="cb17a-155">The second parameter ("`Category/{categoryName}`") defines the friendly replacement URL that can be dynamic based on code.</span></span> <span data-ttu-id="cb17a-156">Verileri temel alarak oluşturulan bağlantılarla bir veri denetimi doldururken bu yolu kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="cb17a-156">You use this route when you are populating a data control with links that are generated based on data.</span></span> <span data-ttu-id="cb17a-157">Yol aşağıdaki şekilde gösterilmiştir:</span><span class="sxs-lookup"><span data-stu-id="cb17a-157">A route is shown as follows:</span></span>

[!code-csharp[Main](url-routing/samples/sample2.cs)]

<span data-ttu-id="cb17a-158">Yolun ikinci parametresi, küme ayraçları (`{ }`) tarafından belirtilen dinamik bir değer içerir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-158">The second parameter of the route includes a dynamic value specified by braces (`{ }`).</span></span> <span data-ttu-id="cb17a-159">Bu durumda `categoryName`, doğru yönlendirme yolunu belirlemede kullanılacak bir değişkendir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-159">In this case, the `categoryName` is a variable that will be used to determine the proper routing path.</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="cb17a-160">**Optional**</span><span class="sxs-lookup"><span data-stu-id="cb17a-160">**Optional**</span></span>
> 
> <span data-ttu-id="cb17a-161">`RegisterCustomRoutes` yöntemini ayrı bir sınıfa taşıyarak kodunuzun yönetimini daha kolay bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-161">You might find it easier to manage your code by moving the `RegisterCustomRoutes` method to a separate class.</span></span> <span data-ttu-id="cb17a-162">*Logic* klasöründe, ayrı bir `RouteActions` sınıfı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="cb17a-162">In the *Logic* folder, create a separate `RouteActions` class.</span></span> <span data-ttu-id="cb17a-163">Yukarıdaki `RegisterCustomRoutes` yöntemini *Global.asax.cs* dosyasından yeni `RoutesActions` sınıfına taşıyın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-163">Move the above `RegisterCustomRoutes` method from the *Global.asax.cs* file into the new `RoutesActions` class.</span></span> <span data-ttu-id="cb17a-164">*Global.asax.cs* dosyasından `RegisterCustomRoutes` yönteminin nasıl çağrılacağını gösteren bir örnek olarak `RoleActions` sınıfını ve `createAdmin` yöntemini kullanın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-164">Use the `RoleActions` class and the `createAdmin` method as an example of how to call the `RegisterCustomRoutes` method from the *Global.asax.cs* file.</span></span>

<span data-ttu-id="cb17a-165">Ayrıca, `Application_Start` olay işleyicisinin başındaki `RouteConfig` nesnesini kullanarak `RegisterRoutes` yöntemi çağrısını fark etmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-165">You may also have noticed the `RegisterRoutes` method call using the `RouteConfig` object at the beginning of the `Application_Start` event handler.</span></span> <span data-ttu-id="cb17a-166">Bu çağrı varsayılan yönlendirmeyi uygulamak için yapılır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-166">This call is made to implement default routing.</span></span> <span data-ttu-id="cb17a-167">Uygulamayı Visual Studio 'nun Web Forms şablonu kullanarak oluşturduğunuzda varsayılan kod olarak eklenmiştir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-167">It was included as default code when you created the application using Visual Studio's Web Forms template.</span></span>

## <a name="retrieving-and-using-route-data"></a><span data-ttu-id="cb17a-168">Rota verilerini alma ve kullanma</span><span class="sxs-lookup"><span data-stu-id="cb17a-168">Retrieving and Using Route Data</span></span>

<span data-ttu-id="cb17a-169">Yukarıda belirtildiği gibi, rotalar tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-169">As mentioned above, routes can be defined.</span></span> <span data-ttu-id="cb17a-170">*Global.asax.cs* dosyasındaki `Application_Start` olay işleyicisine eklediğiniz kod, tanımlanabilir yolları yükler.</span><span class="sxs-lookup"><span data-stu-id="cb17a-170">The code that you added to the `Application_Start` event handler in the *Global.asax.cs* file loads the definable routes.</span></span>

### <a name="setting-routes"></a><span data-ttu-id="cb17a-171">Yolları ayarlama</span><span class="sxs-lookup"><span data-stu-id="cb17a-171">Setting Routes</span></span>

<span data-ttu-id="cb17a-172">Yollar ek kod eklemenizi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-172">Routes require you to add additional code.</span></span> <span data-ttu-id="cb17a-173">Bu öğreticide, bir veri denetimindeki verileri kullanarak yollar oluştururken kullanılan `RouteValueDictionary` nesnesini almak için model bağlamayı kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="cb17a-173">In this tutorial, you will use model binding to retrieve a `RouteValueDictionary` object that is used when generating the routes using data from a data control.</span></span> <span data-ttu-id="cb17a-174">`RouteValueDictionary` nesnesi, belirli bir ürün kategorisine ait ürün adlarının bir listesini içerir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-174">The `RouteValueDictionary` object will contain a list of product names that belong to a specific category of products.</span></span> <span data-ttu-id="cb17a-175">Her ürün için veri ve rota temelinde bir bağlantı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="cb17a-175">A link is created for each product based on the data and route.</span></span>

#### <a name="enable-routes-for-categories-and-products"></a><span data-ttu-id="cb17a-176">Kategoriler ve ürünler için yolları etkinleştirme</span><span class="sxs-lookup"><span data-stu-id="cb17a-176">Enable Routes for Categories and Products</span></span>

<span data-ttu-id="cb17a-177">Ardından, her bir ürün kategorisi bağlantısına dahil edilecek doğru yolu belirleyebilmek için `ProductsByCategoryRoute` kullanmak üzere uygulamayı güncelleştireceksiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-177">Next, you'll update the application to use the `ProductsByCategoryRoute` to determine the correct route to include for each product category link.</span></span> <span data-ttu-id="cb17a-178">Ayrıca, *ProductList. aspx* sayfasını her ürün için yönlendirilmiş bir bağlantı içerecek şekilde güncelleştireceksiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-178">You'll also update the *ProductList.aspx* page to include a routed link for each product.</span></span> <span data-ttu-id="cb17a-179">Bağlantılar değişiklikten önceki gibi görüntülenir, ancak bağlantılar artık URL yönlendirme kullanır.</span><span class="sxs-lookup"><span data-stu-id="cb17a-179">The links will be displayed as they were before the change, however the links will now use URL routing.</span></span>

1. <span data-ttu-id="cb17a-180">**Çözüm Gezgini**, zaten açık değilse, *site. Master* sayfasını açın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-180">In **Solution Explorer**, open the *Site.Master* page if it is not already open.</span></span>
2. <span data-ttu-id="cb17a-181">"`categoryList`" adlı **ListView** denetimini, sarı renkle vurgulanan değişikliklerle güncelleştirin, bu nedenle biçimlendirme aşağıdaki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb17a-181">Update the **ListView** control named "`categoryList`" with the changes highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample3.aspx?highlight=7-9)]
3. <span data-ttu-id="cb17a-182">**Çözüm Gezgini**, *ProductList. aspx* sayfasını açın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-182">In **Solution Explorer**, open the *ProductList.aspx* page.</span></span>
4. <span data-ttu-id="cb17a-183">*ProductList. aspx* sayfasının `ItemTemplate` öğesini sarı olarak vurgulanan güncelleştirmeler ile güncelleştirin, bu nedenle biçimlendirme aşağıdaki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="cb17a-183">Update the `ItemTemplate` element of the *ProductList.aspx* page with the updates highlighted in yellow, so the markup appears as follows:</span></span>   

    [!code-aspx[Main](url-routing/samples/sample4.aspx?highlight=6-9,14-16)]
5. <span data-ttu-id="cb17a-184">*ProductList.aspx.cs* 'in arka plan kodunu açın ve sarı renkle vurgulanmış şekilde aşağıdaki ad alanını ekleyin:</span><span class="sxs-lookup"><span data-stu-id="cb17a-184">Open the code-behind of *ProductList.aspx.cs* and add the following namespace as highlighted in yellow:</span></span>  

    [!code-csharp[Main](url-routing/samples/sample5.cs?highlight=9)]
6. <span data-ttu-id="cb17a-185">Arka plan kodunun `GetProducts` yöntemini (*ProductList.aspx.cs*) aşağıdaki kodla değiştirin:</span><span class="sxs-lookup"><span data-stu-id="cb17a-185">Replace the `GetProducts` method of the code-behind (*ProductList.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample6.cs)]

#### <a name="add-code-for-product-details"></a><span data-ttu-id="cb17a-186">Ürün ayrıntıları için kod Ekle</span><span class="sxs-lookup"><span data-stu-id="cb17a-186">Add Code for Product Details</span></span>

<span data-ttu-id="cb17a-187">Şimdi, rota verilerini kullanmak için *ProductDetails. aspx* sayfası için arka plan kodu (*ProductDetails.aspx.cs*) güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="cb17a-187">Now, update the code-behind (*ProductDetails.aspx.cs*) for the *ProductDetails.aspx* page to use route data.</span></span> <span data-ttu-id="cb17a-188">Yeni `GetProduct` yönteminin, kullanıcının daha eski, yönlendirilemeyen, yönlendirilmemiş URL 'YI kullanan bir bağlantı işareti olduğu durum için bir sorgu dizesi değeri de kabul ettiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-188">Notice that the new `GetProduct` method also accepts a query string value for the case where the user has a link bookmarked that uses the older non-friendly, non-routed URL.</span></span>

1. <span data-ttu-id="cb17a-189">Arka plan kodunun `GetProduct` yöntemini (*ProductDetails.aspx.cs*) aşağıdaki kodla değiştirin:</span><span class="sxs-lookup"><span data-stu-id="cb17a-189">Replace the `GetProduct` method of the code-behind (*ProductDetails.aspx.cs*) with the following code:</span></span>   

    [!code-csharp[Main](url-routing/samples/sample7.cs)]

## <a name="running-the-application"></a><span data-ttu-id="cb17a-190">Uygulamayı Çalıştırma</span><span class="sxs-lookup"><span data-stu-id="cb17a-190">Running the Application</span></span>

<span data-ttu-id="cb17a-191">Güncelleştirilmiş yolları görmek için uygulamayı şimdi çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-191">You can run the application now to see the updated routes.</span></span>

1. <span data-ttu-id="cb17a-192">Wingtip Toys örnek uygulamasını çalıştırmak için **F5** tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-192">Press **F5** to run the Wingtip Toys sample application.</span></span>  
 <span data-ttu-id="cb17a-193">Tarayıcı açılır ve *default. aspx* sayfasını gösterir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-193">The browser opens and shows the *Default.aspx* page.</span></span>
2. <span data-ttu-id="cb17a-194">Sayfanın üst kısmındaki **Ürünler** bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-194">Click the **Products** link at the top of the page.</span></span>  
 <span data-ttu-id="cb17a-195">Tüm ürünler *ProductList. aspx* sayfasında görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-195">All products are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="cb17a-196">Tarayıcı için aşağıdaki URL (bağlantı noktası numaranızı kullanarak) görüntülenir:</span><span class="sxs-lookup"><span data-stu-id="cb17a-196">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/ProductList`
3. <span data-ttu-id="cb17a-197">Sonra, sayfanın üst kısmındaki **araba** kategorisi bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-197">Next, click the **Cars** category link near the top of the page.</span></span>  
 <span data-ttu-id="cb17a-198">*ProductList. aspx* sayfasında yalnızca otomobiller görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="cb17a-198">Only cars are displayed on the *ProductList.aspx* page.</span></span> <span data-ttu-id="cb17a-199">Tarayıcı için aşağıdaki URL (bağlantı noktası numaranızı kullanarak) görüntülenir:</span><span class="sxs-lookup"><span data-stu-id="cb17a-199">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Category/Cars`
4. <span data-ttu-id="cb17a-200">Ürün ayrıntılarını göstermek için sayfada listelenen ilk arabasının adını ("**dönüştürülebilir otomobil**") içeren bağlantıya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="cb17a-200">Click the link containing the name of the first car listed on the page ("**Convertible Car**") to display the product details.</span></span>  
 <span data-ttu-id="cb17a-201">Tarayıcı için aşağıdaki URL (bağlantı noktası numaranızı kullanarak) görüntülenir:</span><span class="sxs-lookup"><span data-stu-id="cb17a-201">The following URL (using your port number) is displayed for the browser:</span></span>  
    `https://localhost:44300/Product/Convertible%20Car`
5. <span data-ttu-id="cb17a-202">Ardından, aşağıdaki yönlendirilmeyen URL 'YI (bağlantı noktası numaranızı kullanarak) tarayıcıya girin:</span><span class="sxs-lookup"><span data-stu-id="cb17a-202">Next, enter the following non-routed URL (using your port number) into the browser:</span></span>  
    `https://localhost:44300/ProductDetails.aspx?productID=2`  
 <span data-ttu-id="cb17a-203">Kod yine de bir sorgu dizesi içeren bir URL 'YI tanırken, kullanıcının bir bağlantısı yer işareti olduğu durumdur.</span><span class="sxs-lookup"><span data-stu-id="cb17a-203">The code still recognizes a URL that includes a query string, for the case where a user has a link bookmarked.</span></span>

## <a name="summary"></a><span data-ttu-id="cb17a-204">Özet</span><span class="sxs-lookup"><span data-stu-id="cb17a-204">Summary</span></span>

<span data-ttu-id="cb17a-205">Bu öğreticide Kategoriler ve ürünler için yollar eklediniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-205">In this tutorial, you have added routes for categories and products.</span></span> <span data-ttu-id="cb17a-206">Yolların model bağlama kullanan veri denetimleriyle nasıl tümleştirileceğini öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="cb17a-206">You have learned how routes can be integrated with data controls that use model binding.</span></span> <span data-ttu-id="cb17a-207">Sonraki öğreticide genel hata işleme uygulayacaksınız.</span><span class="sxs-lookup"><span data-stu-id="cb17a-207">In the next tutorial, you will implement global error handling.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="cb17a-208">Ek Kaynaklar</span><span class="sxs-lookup"><span data-stu-id="cb17a-208">Additional Resources</span></span>

[<span data-ttu-id="cb17a-209">ASP.NET kolay URL 'Ler</span><span class="sxs-lookup"><span data-stu-id="cb17a-209">ASP.NET Friendly URLs</span></span>](http://www.nuget.org/packages/Microsoft.AspNet.FriendlyUrls/)  
[<span data-ttu-id="cb17a-210">Üyelik, OAuth ve SQL veritabanı ile güvenli bir ASP.NET Web Forms uygulamasını dağıtın Azure App Service</span><span class="sxs-lookup"><span data-stu-id="cb17a-210">Deploy a Secure ASP.NET Web Forms App with Membership, OAuth, and SQL Database to Azure App Service</span></span>](https://azure.microsoft.com/documentation/articles/web-sites-dotnet-deploy-aspnet-webforms-app-membership-oauth-sql-database/)  
[<span data-ttu-id="cb17a-211">Microsoft Azure Ücretsiz deneme</span><span class="sxs-lookup"><span data-stu-id="cb17a-211">Microsoft Azure - Free Trial</span></span>](https://azure.microsoft.com/pricing/free-trial/)

> [!div class="step-by-step"]
> <span data-ttu-id="cb17a-212">[Önceki](membership-and-administration.md)
> [İleri](aspnet-error-handling.md)</span><span class="sxs-lookup"><span data-stu-id="cb17a-212">[Previous](membership-and-administration.md)
[Next](aspnet-error-handling.md)</span></span>
