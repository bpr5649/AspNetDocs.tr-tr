---
uid: web-forms/overview/data-access/working-with-binary-files/displaying-binary-data-in-the-data-web-controls-cs
title: Veri Web denetimlerinde Ikili verileri görüntüleme (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, bir görüntü dosyası görüntüsü ve ' Indirme ' bağlantısının f 'si dahil olmak üzere bir Web sayfasında ikili verileri sunma seçeneklerine baktık...
ms.author: riande
ms.date: 03/27/2007
ms.assetid: 5cbeb9f8-5f92-4ba8-87ae-0b4d460ae6d4
msc.legacyurl: /web-forms/overview/data-access/working-with-binary-files/displaying-binary-data-in-the-data-web-controls-cs
msc.type: authoredcontent
ms.openlocfilehash: f38de7adcd77b3dc2622759646168cf533b8308f
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78588391"
---
# <a name="displaying-binary-data-in-the-data-web-controls-c"></a><span data-ttu-id="c9f4b-103">Veri Web Denetimlerinde İkili Verileri Görüntüleme (C#)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-103">Displaying Binary Data in the Data Web Controls (C#)</span></span>

<span data-ttu-id="c9f4b-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="c9f4b-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c9f4b-105">[Örnek uygulamayı indirin](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_55_CS.exe) veya [PDF 'yi indirin](displaying-binary-data-in-the-data-web-controls-cs/_static/datatutorial55cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_55_CS.exe) or [Download PDF](displaying-binary-data-in-the-data-web-controls-cs/_static/datatutorial55cs1.pdf)</span></span>

> <span data-ttu-id="c9f4b-106">Bu öğreticide, bir görüntü dosyası görüntüsü ve bir PDF dosyası için ' Indirme ' bağlantısının sağlanması dahil olmak üzere, bir Web sayfasında ikili verileri sunma seçeneklerine göz atacağız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-106">In this tutorial we look at the options to present binary data on a Web page, including the display of an image file and the provision of a 'Download' link for a PDF file.</span></span>

## <a name="introduction"></a><span data-ttu-id="c9f4b-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="c9f4b-107">Introduction</span></span>

<span data-ttu-id="c9f4b-108">Önceki öğreticide, ikili verileri bir uygulama temel alınan veri modeliyle ilişkilendirmek için iki tekniği araştırıyoruz ve dosyaları bir tarayıcıdan Web sunucusu s dosya sistemine yüklemek için FileUpload denetimini kullandık.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-108">In the preceding tutorial we explored the two techniques for associating binary data with an application s underlying data model and used the FileUpload control to upload files from a browser to the web server s file system.</span></span> <span data-ttu-id="c9f4b-109">Karşıya yüklenen ikili verileri veri modeliyle ilişkilendirmeyi henüz biliyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-109">We ve yet to see how to associate the uploaded binary data with the data model.</span></span> <span data-ttu-id="c9f4b-110">Diğer bir deyişle, bir dosya karşıya yüklenip dosya sistemine kaydedildikten sonra dosyanın bir yolu uygun veritabanı kaydında depolanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-110">That is, after a file has been uploaded and saved to the file system, a path to the file must be stored in the appropriate database record.</span></span> <span data-ttu-id="c9f4b-111">Veriler doğrudan veritabanında depolanırsa karşıya yüklenen ikili verilerin dosya sistemine kaydedilmemelidir, ancak veritabanına eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-111">If the data is being stored directly in the database, then the uploaded binary data need not be saved to the file system, but must be injected into the database.</span></span>

<span data-ttu-id="c9f4b-112">Verileri veri modeliyle ilişkilendirmeden önce, ilk olarak son kullanıcıya ikili verileri nasıl sağlayabilse göz atalım.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-112">Before we look at associating the data with the data model, though, let s first look at how to provide the binary data to the end user.</span></span> <span data-ttu-id="c9f4b-113">Metin verilerinin sunulması yeterince basittir, ancak ikili veriler nasıl sunulacak?</span><span class="sxs-lookup"><span data-stu-id="c9f4b-113">Presenting text data is simple enough, but how should binary data be presented?</span></span> <span data-ttu-id="c9f4b-114">Bu, ikili veri türüne bağlı olarak değişir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-114">It depends, of course, on the type of binary data.</span></span> <span data-ttu-id="c9f4b-115">Görüntüler için büyük olasılıkla görüntüyü göstermek istiyoruz. PDF 'Ler, Microsoft Word belgeleri, ZIP dosyaları ve diğer ikili veri türleri için bir Indirme bağlantısı sağlanması büyük olasılıkla daha uygundur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-115">For images, we likely want to display the image; for PDFs, Microsoft Word documents, ZIP files, and other types of binary data, providing a Download link is probably more appropriate.</span></span>

<span data-ttu-id="c9f4b-116">Bu öğreticide, GridView ve DetailsView gibi veri Web denetimlerini kullanarak, ilişkili metin verileriyle birlikte ikili verileri nasıl sunduğumuz ele alınacaktır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-116">In this tutorial we will look at how to present the binary data alongside its associated text data using data Web controls like the GridView and DetailsView.</span></span> <span data-ttu-id="c9f4b-117">Bir sonraki öğreticide karşıya yüklenen bir dosyayı veritabanıyla ilişkilendirirken dikkat çekeceğiz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-117">In the next tutorial we'll turn our attention to associating an uploaded file with the database.</span></span>

## <a name="step-1-providingbrochurepathvalues"></a><span data-ttu-id="c9f4b-118">1\. Adım:`BrochurePath`değerleri sağlama</span><span class="sxs-lookup"><span data-stu-id="c9f4b-118">Step 1: Providing`BrochurePath`Values</span></span>

<span data-ttu-id="c9f4b-119">`Categories` tablosundaki `Picture` sütununda, çeşitli kategori görüntülerinin ikili verileri zaten var.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-119">The `Picture` column in the `Categories` table already contains binary data for the various category images.</span></span> <span data-ttu-id="c9f4b-120">Özellikle, her kayıt için `Picture` sütunu, bir gralı, düşük kaliteli, 16 renkli bir bit eşlem resminin ikili içeriğini barındırır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-120">Specifically, the `Picture` column for each record holds the binary contents of a grainy, low-quality, 16-color bitmap image.</span></span> <span data-ttu-id="c9f4b-121">Her kategori görüntüsü 172 piksel genişliğinde ve 120 piksel yüksekliğinde ve kabaca 11 KB kullanır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-121">Each category image is 172 pixels wide and 120 pixels tall and consumes roughly 11 KB.</span></span> <span data-ttu-id="c9f4b-122">Ne kadar çok, `Picture` sütunundaki ikili içerik, görüntüyü görüntülemeden önce atılması gereken 78 baytlık bir [OLE](http://en.wikipedia.org/wiki/Object_Linking_and_Embedding) üst bilgisi içerir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-122">What s more, the binary content in the `Picture` column includes a 78-byte [OLE](http://en.wikipedia.org/wiki/Object_Linking_and_Embedding) header that must be stripped before displaying the image.</span></span> <span data-ttu-id="c9f4b-123">Bu üstbilgi bilgileri, Northwind veritabanının Microsoft Access 'teki köklerine sahip olduğu için mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-123">This header information is present because the Northwind database has its roots in Microsoft Access.</span></span> <span data-ttu-id="c9f4b-124">Access 'te ikili veriler, bu üst bilgide bulunan OLE nesnesi veri türü kullanılarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-124">In Access, binary data is stored using the OLE Object data type, which tacks on this header.</span></span> <span data-ttu-id="c9f4b-125">Şimdilik, resmi görüntülemek için bu düşük kaliteli görüntülerden üstbilgileri nasıl çıkaracağız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-125">For now, we'll see how to strip the headers from these low-quality images in order to display the picture.</span></span> <span data-ttu-id="c9f4b-126">Gelecekteki bir öğreticide, bir kategori `Picture` sütununu güncelleştirmek için bir arabirim oluşturacağız ve OLE üst bilgilerini gereksiz OLE üstbilgileri olmadan eşdeğer JPG görüntüleriyle değiştirecek şekilde değiştirin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-126">In a future tutorial we'll build an interface for updating a category s `Picture` column and replace these bitmap images that use OLE headers with equivalent JPG images without the unnecessary OLE headers.</span></span>

<span data-ttu-id="c9f4b-127">Önceki öğreticide, FileUpload denetimini nasıl kullanacağınızı gördük.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-127">In the preceding tutorial we saw how to use the FileUpload control.</span></span> <span data-ttu-id="c9f4b-128">Bu nedenle, Web sunucusu s dosya sistemine devam edebilir ve broşür dosyaları ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-128">Therefore, you can go ahead and add brochure files to the web server s file system.</span></span> <span data-ttu-id="c9f4b-129">Ancak bunu yapmak, `Categories` tablosundaki `BrochurePath` sütununu güncelleştirmez.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-129">Doing so, however, does not update the `BrochurePath` column in the `Categories` table.</span></span> <span data-ttu-id="c9f4b-130">Sonraki öğreticide bunun nasıl yapılacağını inceleyeceğiz, ancak şimdilik bu sütun için el ile değer sağlamamız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-130">In the next tutorial we'll see how to accomplish this, but for now we need to manually provide values for this column.</span></span>

<span data-ttu-id="c9f4b-131">Bu öğreticide indirme sırasında, her bir kategori için bir tane olmak üzere `~/Brochures` klasörde yedi PDF Broşürü dosyası bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-131">In this tutorial s download you'll find seven PDF brochure files in the `~/Brochures` folder, one for each of the categories except Seafood.</span></span> <span data-ttu-id="c9f4b-132">Tüm kayıtlarda ilişkili ikili veriler olmadığı durumlarda senaryoların nasıl işleneceğini göstermek için bir deniz yiyecek broşürü ekleme işlemini tamamen atladım.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-132">I purposefully omitted adding a Seafood brochure to illustrate how to handle scenarios where not all records have associated binary data.</span></span> <span data-ttu-id="c9f4b-133">`Categories` tablosunu bu değerlerle güncelleştirmek için Sunucu Gezgini `Categories` düğümüne sağ tıklayın ve tablo verilerini göster ' i seçin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-133">To update the `Categories` table with these values, right-click on the `Categories` node from Server Explorer and choose Show Table Data.</span></span> <span data-ttu-id="c9f4b-134">Ardından, Şekil 1 ' de gösterildiği gibi, bir broşürün bulunduğu her kategori için broşür dosyalarının sanal yollarını girin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-134">Then, enter the virtual paths to the brochure files for each category that has a brochure, as Figure 1 shows.</span></span> <span data-ttu-id="c9f4b-135">Deniz yiyecek kategorisi için bir broşür olmadığından, `BrochurePath` sütun değerlerini `NULL`olarak bırakın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-135">Since there is no brochure for the Seafood category, leave its `BrochurePath` column s value as `NULL`.</span></span>

<span data-ttu-id="c9f4b-136">[![Kategoriler tablosu s BrochurePath sütunu için değerleri el Ile girin](displaying-binary-data-in-the-data-web-controls-cs/_static/image1.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-136">[![Manually Enter the Values for the Categories Table s BrochurePath Column](displaying-binary-data-in-the-data-web-controls-cs/_static/image1.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image1.png)</span></span>

<span data-ttu-id="c9f4b-137">**Şekil 1**: `Categories` Table s `BrochurePath` sütununun değerlerini el ile girin ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-137">**Figure 1**: Manually Enter the Values for the `Categories` Table s `BrochurePath` Column ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image2.png))</span></span>

## <a name="step-2-providing-a-download-link-for-the-brochures-in-a-gridview"></a><span data-ttu-id="c9f4b-138">2\. Adım: GridView 'da broşürler için bir Indirme bağlantısı sağlama</span><span class="sxs-lookup"><span data-stu-id="c9f4b-138">Step 2: Providing a Download Link for the Brochures in a GridView</span></span>

<span data-ttu-id="c9f4b-139">`Categories` tablosu için belirtilen `BrochurePath` değerleriyle birlikte, her bir kategoriyi listeleyen bir GridView oluşturmaya, kategori broşürlerinin indirileceği bir bağlantı ile yeniden hazırlandık.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-139">With the `BrochurePath` values provided for the `Categories` table, we re ready to create a GridView that lists each category along with a link to download the category s brochure.</span></span> <span data-ttu-id="c9f4b-140">4\. adımda bu GridView öğesini ayrıca kategori s görüntüsünü görüntüleyecek şekilde genişleteceğiz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-140">In Step 4 we'll extend this GridView to also display the category s image.</span></span>

<span data-ttu-id="c9f4b-141">Araç kutusundan bir GridView sürükleyip `BinaryData` klasöründeki `DisplayOrDownloadData.aspx` sayfasının tasarımcısına sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-141">Start by dragging a GridView from the Toolbox onto the Designer of the `DisplayOrDownloadData.aspx` page in the `BinaryData` folder.</span></span> <span data-ttu-id="c9f4b-142">GridView s `ID`, GridView s akıllı etiketi ile `Categories` ve yeni bir veri kaynağına bağlamayı seçin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-142">Set the GridView s `ID` to `Categories` and through the GridView s smart tag, choose to bind it to a new data source.</span></span> <span data-ttu-id="c9f4b-143">Özellikle, `CategoriesBLL` nesne s `GetCategories()` metodunu kullanarak verileri alan `CategoriesDataSource` adlı bir ObjectDataSource 'a bağlayın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-143">Specifically, bind it to an ObjectDataSource named `CategoriesDataSource` that retrieves data using the `CategoriesBLL` object s `GetCategories()` method.</span></span>

<span data-ttu-id="c9f4b-144">[![CategoriesDataSource adlı yeni bir ObjectDataSource oluşturma](displaying-binary-data-in-the-data-web-controls-cs/_static/image2.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-144">[![Create a New ObjectDataSource Named CategoriesDataSource](displaying-binary-data-in-the-data-web-controls-cs/_static/image2.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image3.png)</span></span>

<span data-ttu-id="c9f4b-145">**Şekil 2**: `CategoriesDataSource` adlı yeni bir ObjectDataSource oluşturun ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-145">**Figure 2**: Create a New ObjectDataSource Named `CategoriesDataSource` ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image4.png))</span></span>

<span data-ttu-id="c9f4b-146">[![, ObjectDataSource 'un CategoriesBLL sınıfını kullanacak şekilde yapılandırılması](displaying-binary-data-in-the-data-web-controls-cs/_static/image3.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-146">[![Configure the ObjectDataSource to Use the CategoriesBLL Class](displaying-binary-data-in-the-data-web-controls-cs/_static/image3.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image5.png)</span></span>

<span data-ttu-id="c9f4b-147">**Şekil 3**: ObjectDataSource 'ı `CategoriesBLL` sınıfını kullanacak şekilde yapılandırma ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-147">**Figure 3**: Configure the ObjectDataSource to Use the `CategoriesBLL` Class ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image6.png))</span></span>

<span data-ttu-id="c9f4b-148">[GetCategories () yöntemini kullanarak kategorilerin listesini almak ![](displaying-binary-data-in-the-data-web-controls-cs/_static/image4.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-148">[![Retrieve the List of Categories Using the GetCategories() Method](displaying-binary-data-in-the-data-web-controls-cs/_static/image4.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image7.png)</span></span>

<span data-ttu-id="c9f4b-149">**Şekil 4**: `GetCategories()` yöntemi kullanarak kategorilerin listesini alma ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-149">**Figure 4**: Retrieve the List of Categories Using the `GetCategories()` Method ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image8.png))</span></span>

<span data-ttu-id="c9f4b-150">Veri kaynağı Yapılandırma Sihirbazı 'nı tamamladıktan sonra, Visual Studio `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`ve `BrochurePath` `DataColumn` için `Categories` GridView 'a otomatik olarak bir BoundField ekler.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-150">After completing the Configure Data Source wizard, Visual Studio will automatically add a BoundField to the `Categories` GridView for the `CategoryID`, `CategoryName`, `Description`, `NumberOfProducts`, and `BrochurePath` `DataColumn` s.</span></span> <span data-ttu-id="c9f4b-151">`GetCategories()` yöntem s sorgusu bu bilgileri almadığından `NumberOfProducts` BoundField öğesini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-151">Go ahead and remove the `NumberOfProducts` BoundField since the `GetCategories()` method s query does not retrieve this information.</span></span> <span data-ttu-id="c9f4b-152">Ayrıca, `CategoryID` BoundField öğesini kaldırın ve `CategoryName` ve `BrochurePath` BoundFields `HeaderText` özellikleri sırasıyla kategori ve broşür olarak yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-152">Also remove the `CategoryID` BoundField and rename the `CategoryName` and `BrochurePath` BoundFields `HeaderText` properties to Category and Brochure, respectively.</span></span> <span data-ttu-id="c9f4b-153">Bu değişiklikleri yaptıktan sonra, GridView ve ObjectDataSource 'lar için bildirim temelli işaretlerinizin aşağıdaki gibi görünmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-153">After making these changes, your GridView and ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample1.aspx)]

<span data-ttu-id="c9f4b-154">Bu sayfayı bir tarayıcı üzerinden görüntüleyin (bkz. Şekil 5).</span><span class="sxs-lookup"><span data-stu-id="c9f4b-154">View this page through a browser (see Figure 5).</span></span> <span data-ttu-id="c9f4b-155">Sekiz kategorinin her biri listelenir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-155">Each of the eight categories is listed.</span></span> <span data-ttu-id="c9f4b-156">`BrochurePath` değerleri olan yedi kategori, ilgili BoundField içinde `BrochurePath` değer olarak gösterilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-156">The seven categories with `BrochurePath` values have the `BrochurePath` value displayed in the respective BoundField.</span></span> <span data-ttu-id="c9f4b-157">`BrochurePath`için `NULL` bir değere sahip olan deniz yiyecek, boş bir hücre görüntüler.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-157">Seafood, which has a `NULL` value for its `BrochurePath`, displays an empty cell.</span></span>

<span data-ttu-id="c9f4b-158">[![her kategorinin adı, açıklaması ve BrochurePath değeri listelenir](displaying-binary-data-in-the-data-web-controls-cs/_static/image5.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-158">[![Each Category s Name, Description, and BrochurePath Value is Listed](displaying-binary-data-in-the-data-web-controls-cs/_static/image5.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image9.png)</span></span>

<span data-ttu-id="c9f4b-159">**Şekil 5**: her kategori adı, açıklama ve `BrochurePath` değeri listelenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-159">**Figure 5**: Each Category s Name, Description, and `BrochurePath` Value is Listed ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image10.png))</span></span>

<span data-ttu-id="c9f4b-160">`BrochurePath` sütununun metnini görüntülemek yerine, broşür için bir bağlantı oluşturmak istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-160">Rather than displaying the text of the `BrochurePath` column, we want to create a link to the brochure.</span></span> <span data-ttu-id="c9f4b-161">Bunu gerçekleştirmek için, `BrochurePath` BoundField öğesini kaldırın ve bir HyperLinkField ile değiştirin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-161">To accomplish this, remove the `BrochurePath` BoundField and replace it with a HyperLinkField.</span></span> <span data-ttu-id="c9f4b-162">Yeni HyperLinkField `HeaderText` özelliğini broşür, `Text` özelliğini View broşürü ve `DataNavigateUrlFields` özelliğini `BrochurePath`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-162">Set the new HyperLinkField s `HeaderText` property to Brochure, its `Text` property to View Brochure, and its `DataNavigateUrlFields` property to `BrochurePath`.</span></span>

![BrochurePath için bir Hyperlinkalanı ekleme](displaying-binary-data-in-the-data-web-controls-cs/_static/image6.gif)

<span data-ttu-id="c9f4b-164">**Şekil 6**: `BrochurePath` Için bir hyperlinkalanı ekleme</span><span class="sxs-lookup"><span data-stu-id="c9f4b-164">**Figure 6**: Add a HyperLinkField for `BrochurePath`</span></span>

<span data-ttu-id="c9f4b-165">Bu, Şekil 7 ' nin gösterdiği şekilde GridView 'a bir bağlantı sütunu ekler.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-165">This will add a column of links to the GridView, as Figure 7 shows.</span></span> <span data-ttu-id="c9f4b-166">Bir görünüm broşürü bağlantısına tıklamak, PDF 'YI doğrudan tarayıcıda görüntüler veya bir PDF okuyucunun yüklü olup olmadığına ve tarayıcı ayarlarına bağlı olarak kullanıcıdan dosyayı indirmesini ister.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-166">Clicking a View Brochure link will either display the PDF directly in the browser or prompt the user to download the file, depending on whether a PDF reader is installed and the browser s settings.</span></span>

<span data-ttu-id="c9f4b-167">[![bir kategori broşürü, görünüm broşürü bağlantısına tıklanarak görüntülenebilir](displaying-binary-data-in-the-data-web-controls-cs/_static/image7.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-167">[![A Category s Brochure Can Be Viewed by Clicking the View Brochure Link](displaying-binary-data-in-the-data-web-controls-cs/_static/image7.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image11.png)</span></span>

<span data-ttu-id="c9f4b-168">**Şekil 7**: bir kategori broşürü görünüm broşürü bağlantısına tıklanarak görüntülenebilir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-168">**Figure 7**: A Category s Brochure Can Be Viewed by Clicking the View Brochure Link ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image12.png))</span></span>

<span data-ttu-id="c9f4b-169">[![Broşür PDF 'nin görüntülendiği kategori](displaying-binary-data-in-the-data-web-controls-cs/_static/image8.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-169">[![The Category s Brochure PDF is Displayed](displaying-binary-data-in-the-data-web-controls-cs/_static/image8.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image13.png)</span></span>

<span data-ttu-id="c9f4b-170">**Şekil 8**: KATEGORI broşürü PDF görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-170">**Figure 8**: The Category s Brochure PDF is Displayed ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image14.png))</span></span>

## <a name="hiding-the-view-brochure-text-for-categories-without-a-brochure"></a><span data-ttu-id="c9f4b-171">Broşür olmadan kategoriler için görünüm broşürü metnini gizleme</span><span class="sxs-lookup"><span data-stu-id="c9f4b-171">Hiding the View Brochure Text for Categories Without a Brochure</span></span>

<span data-ttu-id="c9f4b-172">Şekil 7 ' de gösterildiği gibi, `BrochurePath` Hyperlinkalanı, `BrochurePath`için`NULL` olmayan bir değer olup olmamasına bakılmaksızın, tüm kayıtlar için `Text` özellik değerini (görünüm broşürü) görüntüler.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-172">As Figure 7 shows, the `BrochurePath` HyperLinkField displays its `Text` property value ( View Brochure ) for all records, regardless of whether there s a non-`NULL` value for `BrochurePath`.</span></span> <span data-ttu-id="c9f4b-173">Kuşkusuz, `BrochurePath` `NULL`ise, bağlantı yalnızca metin olarak görüntülenir. Bu durumda, deniz yiyecek kategorisinde olduğu gibi (bkz. Şekil 7 ' ye geri başvurabilirsiniz).</span><span class="sxs-lookup"><span data-stu-id="c9f4b-173">Of course, if `BrochurePath` is `NULL`, then the link is displayed as text only, as is the case with the Seafood category (refer back to Figure 7).</span></span> <span data-ttu-id="c9f4b-174">Metin görünümü broşürü gösterilmesi yerine, bu kategorilerin `BrochurePath` bir değer olmadan olması iyi olabilir. bu şekilde, hiçbir geçiş kullanılamaz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-174">Rather than displaying the text View Brochure, it might be nice to have those categories without a `BrochurePath` value display some alternate text, like No Brochure Available.</span></span>

<span data-ttu-id="c9f4b-175">Bu davranışı sağlamak için, içeriği `BrochurePath` değerine göre uygun çıktıyı gösteren bir sayfa yöntemine yapılan bir çağrı yoluyla oluşturulan bir TemplateField kullandık.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-175">In order to provide this behavior, we need to use a TemplateField whose content is generated via a call to a page method that emits the appropriate output based on the `BrochurePath` value.</span></span> <span data-ttu-id="c9f4b-176">İlk olarak bu biçimlendirme tekniğinin ardından [GridView denetim öğreticisindeki TemplateFields kullanarak](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) geri araştırıyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-176">We first explored this formatting technique back in the [Using TemplateFields in the GridView Control](../custom-formatting/using-templatefields-in-the-gridview-control-cs.md) tutorial.</span></span>

<span data-ttu-id="c9f4b-177">`BrochurePath` Hyperlinkalanını seçip sütunları Düzenle iletişim kutusunda bu alanı bir TemplateField 'a Dönüştür bağlantısına tıklayarak Hyperlinkalanını bir TemplateField 'a açın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-177">Turn the HyperLinkField into a TemplateField by selecting the `BrochurePath` HyperLinkField and then clicking on the Convert this field into a TemplateField link in the Edit Columns dialog box.</span></span>

![HyperLinkField 'ı TemplateField 'a Dönüştür](displaying-binary-data-in-the-data-web-controls-cs/_static/image9.gif)

<span data-ttu-id="c9f4b-179">**Şekil 9**: Hyperlinkalanını TemplateField 'a Dönüştür</span><span class="sxs-lookup"><span data-stu-id="c9f4b-179">**Figure 9**: Convert the HyperLinkField into a TemplateField</span></span>

<span data-ttu-id="c9f4b-180">Bu, `NavigateUrl` özelliği `BrochurePath` değerine bağlanan köprü Web denetimi içeren `ItemTemplate` bir TemplateField oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-180">This will create a TemplateField with an `ItemTemplate` that contains a HyperLink Web control whose `NavigateUrl` property is bound to the `BrochurePath` value.</span></span> <span data-ttu-id="c9f4b-181">Bu biçimlendirmeyi, `BrochurePath`değerini geçirerek Yöntem `GenerateBrochureLink`çağrısıyla değiştirin:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-181">Replace this markup with a call to the method `GenerateBrochureLink`, passing in the value of `BrochurePath`:</span></span>

[!code-aspx[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample2.aspx)]

<span data-ttu-id="c9f4b-182">Daha sonra, bir `string` döndüren ve giriş parametresi olarak bir `object` kabul eden `GenerateBrochureLink` ASP.NET Page for Code-Behind sınıfında bir `protected` yöntemi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-182">Next, create a `protected` method in the ASP.NET page s code-behind class named `GenerateBrochureLink` that returns a `string` and accepts an `object` as an input parameter.</span></span>

[!code-csharp[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample3.cs)]

<span data-ttu-id="c9f4b-183">Bu yöntem, geçirilen `object` değerinin bir veritabanı `NULL` olup olmadığını belirler ve varsa kategorinin bir broşür olmadığını belirten bir ileti döndürür.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-183">This method determines if the passed-in `object` value is a database `NULL` and, if so, returns a message indicating that the category lacks a brochure.</span></span> <span data-ttu-id="c9f4b-184">Aksi takdirde, `BrochurePath` bir değer varsa, bu, bir köprüde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-184">Otherwise, if there is a `BrochurePath` value, it s displayed in a hyperlink.</span></span> <span data-ttu-id="c9f4b-185">`BrochurePath` değerin [`ResolveUrl(url)` yöntemine](https://msdn.microsoft.com/library/system.web.ui.control.resolveurl.aspx)geçtiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-185">Note that if the `BrochurePath` value is present it s passed into the [`ResolveUrl(url)` method](https://msdn.microsoft.com/library/system.web.ui.control.resolveurl.aspx).</span></span> <span data-ttu-id="c9f4b-186">Bu yöntem, `~` karakterini uygun sanal yol ile değiştirerek, geçilen *URL 'yi*çözer.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-186">This method resolves the passed-in *url*, replacing the `~` character with the appropriate virtual path.</span></span> <span data-ttu-id="c9f4b-187">Örneğin, uygulamanın kökü `/Tutorial55`, `ResolveUrl("~/Brochures/Meats.pdf")` `/Tutorial55/Brochures/Meat.pdf`döndürür.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-187">For example, if the application is rooted at `/Tutorial55`, `ResolveUrl("~/Brochures/Meats.pdf")` will return `/Tutorial55/Brochures/Meat.pdf`.</span></span>

<span data-ttu-id="c9f4b-188">Şekil 10 ' da bu değişiklikler uygulandıktan sonra sayfa gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-188">Figure 10 shows the page after these changes have been applied.</span></span> <span data-ttu-id="c9f4b-189">Deniz yiyecek kategorisi s `BrochurePath` alanının artık, kullanılabilir bir broşür olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-189">Note that the Seafood category s `BrochurePath` field now displays the text No Brochure Available .</span></span>

<span data-ttu-id="c9f4b-190">[bir broşür olmadan bu kategoriler için kullanılabilir bir broşür ![metin görüntülenir](displaying-binary-data-in-the-data-web-controls-cs/_static/image10.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-190">[![The Text No Brochure Available is Displayed for Those Categories Without a Brochure](displaying-binary-data-in-the-data-web-controls-cs/_static/image10.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image15.png)</span></span>

<span data-ttu-id="c9f4b-191">**Şekil 10**: bir broşür olmadan bu kategoriler için kullanılabilecek bir broşür görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-191">**Figure 10**: The Text No Brochure Available is Displayed for Those Categories Without a Brochure ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image16.png))</span></span>

## <a name="step-3-adding-a-web-page-to-display-a-category-s-picture"></a><span data-ttu-id="c9f4b-192">3\. Adım: Kategori s resmini göstermek için Web sayfası ekleme</span><span class="sxs-lookup"><span data-stu-id="c9f4b-192">Step 3: Adding a Web Page to Display a Category s Picture</span></span>

<span data-ttu-id="c9f4b-193">Bir Kullanıcı bir ASP.NET sayfasını ziyaret ettiğinde, ASP.NET sayfa s HTML 'sini alırlar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-193">When a user visits an ASP.NET page, they receive the ASP.NET page s HTML.</span></span> <span data-ttu-id="c9f4b-194">Alınan HTML yalnızca metindir ve herhangi bir ikili veri içermez.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-194">The received HTML is just text and does not contain any binary data.</span></span> <span data-ttu-id="c9f4b-195">Görüntüler, ses dosyaları, Macromedia Flash uygulamaları, katıştırılmış Windows Media Player videoları gibi ek ikili veriler, Web sunucusunda ayrı kaynaklar olarak mevcuttur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-195">Any additional binary data, such as images, sound files, Macromedia Flash applications, embedded Windows Media Player videos, and so forth, exist as separate resources on the web server.</span></span> <span data-ttu-id="c9f4b-196">HTML, bu dosyalara başvurular içerir, ancak dosyaların gerçek içeriğini içermez.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-196">The HTML contains references to these files, but does not include the actual contents of the files.</span></span>

<span data-ttu-id="c9f4b-197">Örneğin, HTML 'de `<img>` öğesi, görüntü dosyasına şöyle işaret eden `src` özniteliğiyle bir resme başvurmak için kullanılır:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-197">For example, in HTML the `<img>` element is used to reference a picture, with the `src` attribute pointing to the image file like so:</span></span>

[!code-html[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample4.html)]

<span data-ttu-id="c9f4b-198">Bir tarayıcı bu HTML aldığında, Web sunucusuna, daha sonra tarayıcıda görüntülenen ikili içeriğini almak için başka bir istek sağlar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-198">When a browser receives this HTML, it makes another request to the web server to retrieve the binary contents of the image file, which it then displays in the browser.</span></span> <span data-ttu-id="c9f4b-199">Aynı kavram tüm ikili veriler için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-199">The same concept applies to any binary data.</span></span> <span data-ttu-id="c9f4b-200">2\. adımda, sayfa s HTML işaretlemesi kapsamında, broşür tarayıcıya gönderilmedi.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-200">In Step 2, the brochure was not sent down to the browser as part of the page s HTML markup.</span></span> <span data-ttu-id="c9f4b-201">Bunun yerine, işlenen HTML, tıklandığında, tarayıcıda PDF belgesini doğrudan istemesine neden olan köprüleri sağladı.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-201">Rather, the rendered HTML provided hyperlinks that, when clicked, caused the browser to request the PDF document directly.</span></span>

<span data-ttu-id="c9f4b-202">Kullanıcıların veritabanında bulunan ikili verileri indirmesini veya indirmesine izin vermek için, verileri döndüren ayrı bir Web sayfası oluşturmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-202">To display or allow users to download binary data that resides within the database, we need to create a separate web page that returns the data.</span></span> <span data-ttu-id="c9f4b-203">Uygulamamız için, kategori s resmine doğrudan veritabanında depolanan yalnızca bir ikili veri alanı bulunur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-203">For our application, there s only one binary data field stored directly in the database the category s picture.</span></span> <span data-ttu-id="c9f4b-204">Bu nedenle, çağrıldığında belirli bir kategorinin görüntü verilerini döndüren bir sayfa gerekir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-204">Therefore, we need a page that, when called, returns the image data for a particular category.</span></span>

<span data-ttu-id="c9f4b-205">`DisplayCategoryPicture.aspx`adlı `BinaryData` klasöre yeni bir ASP.NET sayfası ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-205">Add a new ASP.NET page to the `BinaryData` folder named `DisplayCategoryPicture.aspx`.</span></span> <span data-ttu-id="c9f4b-206">Bunu yaparken, ana sayfa seç onay kutusunu işaretlenmemiş olarak bırakın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-206">When doing so, leave the Select master page checkbox unchecked.</span></span> <span data-ttu-id="c9f4b-207">Bu sayfa, QueryString içinde bir `CategoryID` değeri bekler ve bu kategori s `Picture` sütununun ikili verilerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-207">This page expects a `CategoryID` value in the querystring and returns the binary data of that category s `Picture` column.</span></span> <span data-ttu-id="c9f4b-208">Bu sayfa ikili veriler döndürdüğünden başka hiçbir şey olmadığından, HTML bölümünde herhangi bir biçimlendirme gerekmez.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-208">Since this page returns binary data and nothing else, it does not need any markup in the HTML section.</span></span> <span data-ttu-id="c9f4b-209">Bu nedenle sol alt köşedeki kaynak sekmesine tıklayın ve `<%@ Page %>` yönergesi hariç tüm sayfa işaretlemesini kaldırın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-209">Therefore, click on the Source tab in the lower left corner and remove all of the page s markup except for the `<%@ Page %>` directive.</span></span> <span data-ttu-id="c9f4b-210">Diğer bir deyişle, `DisplayCategoryPicture.aspx` s bildirime dayalı biçimlendirme tek bir satırdan oluşmalıdır:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-210">That is, `DisplayCategoryPicture.aspx` s declarative markup should consist of a single line:</span></span>

[!code-aspx[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample5.aspx)]

<span data-ttu-id="c9f4b-211">`<%@ Page %>` yönergesinde `MasterPageFile` özniteliği görürseniz, kaldırın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-211">If you see the `MasterPageFile` attribute in the `<%@ Page %>` directive, remove it.</span></span>

<span data-ttu-id="c9f4b-212">Sayfa s arka plan kod sınıfında, `Page_Load` olay işleyicisine aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-212">In the page s code-behind class, add the following code to the `Page_Load` event handler:</span></span>

[!code-csharp[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample6.cs)]

<span data-ttu-id="c9f4b-213">Bu kod, `CategoryID` QueryString değerini `categoryID`adlı bir değişkende okuyarak başlar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-213">This code starts by reading in the `CategoryID` querystring value into a variable named `categoryID`.</span></span> <span data-ttu-id="c9f4b-214">Ardından, resim verileri `CategoriesBLL` sınıf s `GetCategoryWithBinaryDataByCategoryID(categoryID)` yöntemine yapılan bir çağrı aracılığıyla alınır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-214">Next, the picture data is retrieved via a call to the `CategoriesBLL` class s `GetCategoryWithBinaryDataByCategoryID(categoryID)` method.</span></span> <span data-ttu-id="c9f4b-215">Bu veriler `Response.BinaryWrite(data)` yöntemi kullanılarak istemciye döndürülür, ancak bu çağrılmadan önce, `Picture` sütun değeri s OLE üstbilgisinin kaldırılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-215">This data is returned to the client by using the `Response.BinaryWrite(data)` method, but before this is called, the `Picture` column value s OLE header must be removed.</span></span> <span data-ttu-id="c9f4b-216">Bu, `Picture` sütunundaki miktardan daha az 78 karakter tutacak `strippedImageData` adlı bir `byte` dizisi oluşturularak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-216">This is accomplished by creating a `byte` array named `strippedImageData` that will hold precisely 78 characters less than what is in the `Picture` column.</span></span> <span data-ttu-id="c9f4b-217">[`Array.Copy` yöntemi](https://msdn.microsoft.com/library/z50k9bft.aspx) , verileri 78 konumundan başlayarak `strippedImageData`kadar `category.Picture` kopyalamak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-217">The [`Array.Copy` method](https://msdn.microsoft.com/library/z50k9bft.aspx) is used to copy the data from `category.Picture` starting at position 78 over to `strippedImageData`.</span></span>

<span data-ttu-id="c9f4b-218">`Response.ContentType` özelliği, tarayıcının nasıl işleneceğini bilmesi için döndürülmekte olan içeriğin [MIME türünü](http://en.wikipedia.org/wiki/MIME) belirtir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-218">The `Response.ContentType` property specifies the [MIME type](http://en.wikipedia.org/wiki/MIME) of the content being returned so that the browser knows how to render it.</span></span> <span data-ttu-id="c9f4b-219">`Categories` tablosu `Picture` sütunu bir bit eşlem görüntüsü olduğundan, bit eşlem MIME türü burada kullanılır (görüntü/bmp).</span><span class="sxs-lookup"><span data-stu-id="c9f4b-219">Since the `Categories` table s `Picture` column is a bitmap image, the bitmap MIME type is used here (image/bmp).</span></span> <span data-ttu-id="c9f4b-220">MIME türünü atlarsanız, çoğu tarayıcı görüntüyü doğru şekilde görüntüler çünkü bu, türü görüntü dosyası ikili verilerinin içeriğine göre çıkarslar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-220">If you omit the MIME type, most browsers will still display the image correctly because they can infer the type based on the contents of the image file s binary data.</span></span> <span data-ttu-id="c9f4b-221">Bununla birlikte, mümkün olduğunda MIME türünü dahil etmek için bu.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-221">However, it s prudent to include the MIME type when possible.</span></span> <span data-ttu-id="c9f4b-222">[MIME medya türlerinin](http://www.iana.org/assignments/media-types/)tamamını listelemek Için [Internet atanmış numaralar yetkilisi s Web sitesine](http://www.iana.org/) bakın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-222">See the [Internet Assigned Numbers Authority s website](http://www.iana.org/) for a complete listing of [MIME media types](http://www.iana.org/assignments/media-types/).</span></span>

<span data-ttu-id="c9f4b-223">Bu sayfa oluşturulduktan sonra, `DisplayCategoryPicture.aspx?CategoryID=categoryID`ziyaret ederek belirli bir kategorinin resmi görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-223">With this page created, a particular category s picture can be viewed by visiting `DisplayCategoryPicture.aspx?CategoryID=categoryID`.</span></span> <span data-ttu-id="c9f4b-224">Şekil 11 ' `DisplayCategoryPicture.aspx?CategoryID=1`den görüntülenebilen Içgörüler kategorisi s resmini gösterir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-224">Figure 11 shows the Beverages category s picture, which can be viewed from `DisplayCategoryPicture.aspx?CategoryID=1`.</span></span>

<span data-ttu-id="c9f4b-225">[![Içecek kategorisi resmi görüntülenir](displaying-binary-data-in-the-data-web-controls-cs/_static/image11.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-225">[![The Beverages Category s Picture is Displayed](displaying-binary-data-in-the-data-web-controls-cs/_static/image11.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image17.png)</span></span>

<span data-ttu-id="c9f4b-226">**Şekil 11**: meşrus kategorisi resmi görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-226">**Figure 11**: The Beverages Category s Picture is Displayed ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image18.png))</span></span>

<span data-ttu-id="c9f4b-227">`DisplayCategoryPicture.aspx?CategoryID=categoryID`ziyaret edildiğinde, ' System. DBNull ' türündeki nesneyi ' System. Byte [] ' türüne, bu soruna neden olabilecek iki şey olduğunu okuyan bir özel durum alırsınız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-227">If, when visiting `DisplayCategoryPicture.aspx?CategoryID=categoryID`, you get an exception that reads Unable to cast object of type 'System.DBNull' to type 'System.Byte[]', there are two things that may be causing this.</span></span> <span data-ttu-id="c9f4b-228">İlk olarak, `Categories` tablo `Picture` sütunu `NULL` değerlere izin verir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-228">First, the `Categories` table s `Picture` column does allow `NULL` values.</span></span> <span data-ttu-id="c9f4b-229">Ancak `DisplayCategoryPicture.aspx` sayfası,`NULL` olmayan bir değer olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-229">The `DisplayCategoryPicture.aspx` page, however, assumes there is a non-`NULL` value present.</span></span> <span data-ttu-id="c9f4b-230">`CategoriesDataTable` `Picture` özelliğine bir `NULL` değeri varsa doğrudan erişilemez.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-230">The `Picture` property of the `CategoriesDataTable` cannot be directly accessed if it has a `NULL` value.</span></span> <span data-ttu-id="c9f4b-231">`Picture` sütunu için `NULL` değerlere izin vermek istiyorsanız, aşağıdaki koşulu dahil etmek isteyebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-231">If you do want to allow `NULL` values for the `Picture` column, you d want to include the following condition:</span></span>

[!code-csharp[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample7.cs)]

<span data-ttu-id="c9f4b-232">Yukarıdaki kod, bir resim olmadan bu kategoriler için görüntülenmesini istediğiniz `Images` klasöründe `NoPictureAvailable.gif` adlı bir görüntü dosyası olduğunu varsayar.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-232">The above code assumes that there s some image file named `NoPictureAvailable.gif` in the `Images` folder that you want to display for those categories without a picture.</span></span>

<span data-ttu-id="c9f4b-233">Bu özel durum Ayrıca, ad-hoc SQL deyimlerini kullanıyorsanız ve TableAdapter s ana sorgusu için Sihirbazı yeniden çalıştırırsanız meydana gelebilen `CategoriesTableAdapter` s `GetCategoryWithBinaryDataByCategoryID` yöntemi s `SELECT` deyimi ana sorgu s sütun listesine geri döndürülemezse da bu durum oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-233">This exception could also be caused if the `CategoriesTableAdapter` s `GetCategoryWithBinaryDataByCategoryID` method s `SELECT` statement has reverted back to the main query s column list, which can happen if you are using ad-hoc SQL statements and you ve re-run the wizard for the TableAdapter s main query.</span></span> <span data-ttu-id="c9f4b-234">`GetCategoryWithBinaryDataByCategoryID` yöntemi `SELECT` deyimin `Picture` sütununu hala içerdiğinden emin olun.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-234">Check to ensure that `GetCategoryWithBinaryDataByCategoryID` method s `SELECT` statement still includes the `Picture` column.</span></span>

> [!NOTE]
> <span data-ttu-id="c9f4b-235">`DisplayCategoryPicture.aspx` her ziyaret edildiğinde veritabanına erişilir ve belirtilen kategori s resim verileri döndürülür.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-235">Every time the `DisplayCategoryPicture.aspx` is visited, the database is accessed and the specified category s picture data is returned.</span></span> <span data-ttu-id="c9f4b-236">Kullanıcının en son görüntülemesinden sonra kategori s resmi değiştirilmediyse, bu, boşa harcanacak bir çalışmadır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-236">If the category s picture hasn't changed since the user has last viewed it, though, this is wasted effort.</span></span> <span data-ttu-id="c9f4b-237">Neyse ki, HTTP *koşullu*olarak izin verir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-237">Fortunately, HTTP allows for *conditional GETs*.</span></span> <span data-ttu-id="c9f4b-238">Koşullu GET ile HTTP isteğini yapan istemci, istemcinin bu kaynağı Web sunucusundan en son aldığı tarihi ve saati sağlayan bir [`If-Modified-Since` http üstbilgisi](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html) üzerinden gönderir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-238">With a conditional GET, the client making the HTTP request sends along an [`If-Modified-Since` HTTP header](http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html) that provides the date and time the client last retrieved this resource from the web server.</span></span> <span data-ttu-id="c9f4b-239">İçerik bu tarihten bu yana değiştirilmediyse, Web sunucusu [değiştirilmemiş bir durum kodu (304)](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) ile yanıt verebilir ve istenen kaynak içeriğini geri göndermeye devam edebilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-239">If the content has not changed since this specified date, the web server may respond with a [Not Modified status code (304)](http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html) and forgo sending back the requested resource s content.</span></span> <span data-ttu-id="c9f4b-240">Kısacası, bu teknik, istemcinin son erişiminizden bu yana değiştirilmediyse, Web sunucusunun bir kaynağın içeriğini geri göndermesini sizi maliyetinden kurtarır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-240">In short, this technique relieves the web server from having to send back content for a resource if it has not been modified since the client last accessed it.</span></span>

<span data-ttu-id="c9f4b-241">Ancak, bu davranışı uygulamak için, `Picture` sütununun en son ne zaman güncelleştirildiği ve `If-Modified-Since` üst bilgisini denetlemek için kodun yanı sıra `Categories` tabloya bir `PictureLastModified` sütunu eklemenizi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-241">To implement this behavior, however, requires that you add a `PictureLastModified` column to the `Categories` table to capture when the `Picture` column was last updated as well as code to check for the `If-Modified-Since` header.</span></span> <span data-ttu-id="c9f4b-242">`If-Modified-Since` üstbilgisi ve koşullu GET iş akışı hakkında daha fazla bilgi için bkz. [RSS bilgisayar korsanları Için http koşullu Get](http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers) ve [ASP.NET sayfasında http istekleri gerçekleştirmeye yönelik daha ayrıntılı bir bakış](http://aspnet.4guysfromrolla.com/articles/122204-1.aspx).</span><span class="sxs-lookup"><span data-stu-id="c9f4b-242">For more information on the `If-Modified-Since` header and the conditional GET workflow, see [HTTP Conditional GET for RSS Hackers](http://fishbowl.pastiche.org/2002/10/21/http_conditional_get_for_rss_hackers) and [A Deeper Look at Performing HTTP Requests in an ASP.NET Page](http://aspnet.4guysfromrolla.com/articles/122204-1.aspx).</span></span>

## <a name="step-4-displaying-the-category-pictures-in-a-gridview"></a><span data-ttu-id="c9f4b-243">4\. Adım: Kategori resimlerini GridView 'da görüntüleme</span><span class="sxs-lookup"><span data-stu-id="c9f4b-243">Step 4: Displaying the Category Pictures in a GridView</span></span>

<span data-ttu-id="c9f4b-244">Artık belirli bir kategori resmini görüntüleyen bir Web sayfası olduğuna göre, bunu [Görüntü Web denetimi](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/standard/image.aspx) veya `DisplayCategoryPicture.aspx?CategoryID=categoryID`işaret eden bir HTML `<img>` öğesi kullanarak görüntüleriz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-244">Now that we have a web page to display a particular category s picture, we can display it using the [Image Web control](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/standard/image.aspx) or an HTML `<img>` element pointing to `DisplayCategoryPicture.aspx?CategoryID=categoryID`.</span></span> <span data-ttu-id="c9f4b-245">URL 'SI veritabanı verilerine göre belirlenen görüntüler GridView veya DetailsView içinde ImageField kullanılarak görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-245">Images whose URL is determined by database data can be displayed in the GridView or DetailsView using the ImageField.</span></span> <span data-ttu-id="c9f4b-246">ImageField, HyperLinkField s `DataNavigateUrlFields` ve `DataNavigateUrlFormatString` özellikleri gibi çalışan `DataImageUrlField` ve `DataImageUrlFormatString` özellikleri içerir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-246">The ImageField contains `DataImageUrlField` and `DataImageUrlFormatString` properties that work like the HyperLinkField s `DataNavigateUrlFields` and `DataNavigateUrlFormatString` properties.</span></span>

<span data-ttu-id="c9f4b-247">Her bir kategorinin resmini göstermek için bir ImageField ekleyerek `DisplayOrDownloadData.aspx` `Categories` GridView 'ı daha fazla inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-247">Let s augment the `Categories` GridView in `DisplayOrDownloadData.aspx` by adding an ImageField to show each category s picture.</span></span> <span data-ttu-id="c9f4b-248">Imagealanını eklemek ve `DataImageUrlField` ve `DataImageUrlFormatString` özelliklerini sırasıyla `CategoryID` ve `DisplayCategoryPicture.aspx?CategoryID={0}`olarak ayarlamanız yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-248">Simply add the ImageField and set its `DataImageUrlField` and `DataImageUrlFormatString` properties to `CategoryID` and `DisplayCategoryPicture.aspx?CategoryID={0}`, respectively.</span></span> <span data-ttu-id="c9f4b-249">Bu, {0} GridView Row s `CategoryID` değeri ile değiştirildiği `DisplayCategoryPicture.aspx?CategoryID={0}``src` özniteliği başvurduğu `<img>` bir öğeyi oluşturan bir GridView sütunu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-249">This will create a GridView column that renders an `<img>` element whose `src` attribute references `DisplayCategoryPicture.aspx?CategoryID={0}`, where {0} is replaced with the GridView row s `CategoryID` value.</span></span>

![GridView 'a ImageField ekleyin](displaying-binary-data-in-the-data-web-controls-cs/_static/image12.gif)

<span data-ttu-id="c9f4b-251">**Şekil 12**: GridView 'A ImageField ekleyin</span><span class="sxs-lookup"><span data-stu-id="c9f4b-251">**Figure 12**: Add an ImageField to the GridView</span></span>

<span data-ttu-id="c9f4b-252">ImageField eklendikten sonra, GridView s bildirime dayalı sözdiziminizin aşağıdaki gibi görünmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="c9f4b-252">After adding the ImageField, your GridView s declarative syntax should look like soothe following:</span></span>

[!code-aspx[Main](displaying-binary-data-in-the-data-web-controls-cs/samples/sample8.aspx)]

<span data-ttu-id="c9f4b-253">Bu sayfayı bir tarayıcı aracılığıyla görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-253">Take a moment to view this page through a browser.</span></span> <span data-ttu-id="c9f4b-254">Her kaydın kategori için nasıl bir resim içerdiğini göz önünde görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-254">Note how each record now includes a picture for the category.</span></span>

<span data-ttu-id="c9f4b-255">[Her satır için kategori s Picture ![görüntülenir](displaying-binary-data-in-the-data-web-controls-cs/_static/image13.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-255">[![The Category s Picture is Displayed for Each Row](displaying-binary-data-in-the-data-web-controls-cs/_static/image13.gif)](displaying-binary-data-in-the-data-web-controls-cs/_static/image19.png)</span></span>

<span data-ttu-id="c9f4b-256">**Şekil 13**: Kategori s resmi her satır için görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](displaying-binary-data-in-the-data-web-controls-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="c9f4b-256">**Figure 13**: The Category s Picture is Displayed for Each Row ([Click to view full-size image](displaying-binary-data-in-the-data-web-controls-cs/_static/image20.png))</span></span>

## <a name="summary"></a><span data-ttu-id="c9f4b-257">Özet</span><span class="sxs-lookup"><span data-stu-id="c9f4b-257">Summary</span></span>

<span data-ttu-id="c9f4b-258">Bu öğreticide ikili verileri nasıl sunduğumuz incelendi.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-258">In this tutorial we examined how to present binary data.</span></span> <span data-ttu-id="c9f4b-259">Verilerin nasıl sunulduğu, verilerin türüne bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-259">How the data is presented depends on the type of data.</span></span> <span data-ttu-id="c9f4b-260">PDF Broşürü dosyaları için kullanıcıya bir görünüm broşürü bağlantısı sunuluyor, tıklandığı zaman kullanıcıyı doğrudan PDF dosyasına sağlıyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-260">For the PDF brochure files, we offered the user a View Brochure link that, when clicked, took the user directly to the PDF file.</span></span> <span data-ttu-id="c9f4b-261">Kategori s resmi için, ilk olarak veritabanından ikili verileri almak ve döndürmek için bir sayfa oluşturduk ve sonra bu sayfayı bir GridView içinde her bir kategorinin resmini görüntüleyecek şekilde kullandınız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-261">For the category s picture, we first created a page to retrieve and return the binary data from the database and then used that page to display each category s picture in a GridView.</span></span>

<span data-ttu-id="c9f4b-262">İkili verilerin nasıl görüntüleneceğini incelediğimiz için, ikili verilerle veritabanına yönelik ekleme, güncelleştirme ve silme işlemlerinin nasıl gerçekleştirileceğini inceliyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-262">Now that we ve looked at how to display binary data, we re ready to examine how to perform insert, updates, and deletes against the database with the binary data.</span></span> <span data-ttu-id="c9f4b-263">Sonraki öğreticide karşıya yüklenen bir dosyayı karşılık gelen veritabanı kaydıyla ilişkilendirme bölümüne bakacağız.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-263">In the next tutorial we'll look at how to associate an uploaded file with its corresponding database record.</span></span> <span data-ttu-id="c9f4b-264">Bu öğreticide, var olan ikili verilerin nasıl güncelleştireceğiz ve ilişkili kayıt kaldırıldığında ikili verilerin nasıl silineceği de görüyoruz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-264">In the tutorial after that, we'll see how to update existing binary data as well as how to delete the binary data when its associated record is removed.</span></span>

<span data-ttu-id="c9f4b-265">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="c9f4b-265">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="c9f4b-266">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="c9f4b-266">About the Author</span></span>

<span data-ttu-id="c9f4b-267">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-267">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c9f4b-268">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-268">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c9f4b-269">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-269">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c9f4b-270">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-270">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="c9f4b-271">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-271">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c9f4b-272">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="c9f4b-272">Special Thanks To</span></span>

<span data-ttu-id="c9f4b-273">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-273">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c9f4b-274">Bu öğreticide lider gözden geçirenler, bir Murphy ve Davve Gardner.</span><span class="sxs-lookup"><span data-stu-id="c9f4b-274">Lead reviewers for this tutorial were Teresa Murphy and Dave Gardner.</span></span> <span data-ttu-id="c9f4b-275">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="c9f4b-275">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c9f4b-276">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-276">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c9f4b-277">[Önceki](uploading-files-cs.md)
> [İleri](including-a-file-upload-option-when-adding-a-new-record-cs.md)</span><span class="sxs-lookup"><span data-stu-id="c9f4b-277">[Previous](uploading-files-cs.md)
[Next](including-a-file-upload-option-when-adding-a-new-record-cs.md)</span></span>
