---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
title: DataList veya Repeater denetiminde (C#) verileri sıralama | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, verileri DataList veya Repeater oluşturmak nasıl yanı sıra destek DataList ve Repeater'ı sıralama ekleme inceleyeceğiz...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: f52c302a-1b7c-46fe-8a13-8412c95cbf6d
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
msc.type: authoredcontent
ms.openlocfilehash: e3512758dbfdf43d788eca643fe48ca918c142fe
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65128064"
---
# <a name="sorting-data-in-a-datalist-or-repeater-control-c"></a><span data-ttu-id="ceebf-103">DataList veya Repeater Denetiminde Verileri Sıralama (C#)</span><span class="sxs-lookup"><span data-stu-id="ceebf-103">Sorting Data in a DataList or Repeater Control (C#)</span></span>

<span data-ttu-id="ceebf-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="ceebf-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ceebf-105">[Örnek uygulamayı indirin](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) veya [PDF olarak indirin](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="ceebf-105">[Download Sample App](http://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) or [Download PDF](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span></span>

> <span data-ttu-id="ceebf-106">DataList veya Repeater verisini disk belleğine alınan ve sıralanmış oluşturmak nasıl yanı sıra destek DataList ve Repeater'ı sıralama ekleme, bu öğreticide inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-106">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>

## <a name="introduction"></a><span data-ttu-id="ceebf-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="ceebf-107">Introduction</span></span>

<span data-ttu-id="ceebf-108">İçinde [önceki öğreticide](paging-report-data-in-a-datalist-or-repeater-control-cs.md) biz bir DataList için sayfalama desteği ekleme incelenir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-108">In the [previous tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to add paging support to a DataList.</span></span> <span data-ttu-id="ceebf-109">Yeni bir yöntemde oluşturduğumuz `ProductsBLL` sınıfı (`GetProductsAsPagedDataSource`) döndürülen bir `PagedDataSource` nesne.</span><span class="sxs-lookup"><span data-stu-id="ceebf-109">We created a new method in the `ProductsBLL` class (`GetProductsAsPagedDataSource`) that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="ceebf-110">DataList veya Repeater ne zaman bir DataList veya Repeater bağlı, istenen sayfa veri yalnızca görüntüleyebilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-110">When bound to a DataList or Repeater, the DataList or Repeater would display just the requested page of data.</span></span> <span data-ttu-id="ceebf-111">Bu teknik, ne dahili olarak tarafından FormView GridView ve DetailsView denetimlerini yerleşik varsayılan sayfalama işlevleri sağlamak için kullanılan benzer.</span><span class="sxs-lookup"><span data-stu-id="ceebf-111">This technique is similar to what is used internally by the GridView, DetailsView, and FormView controls to provide their built-in default paging functionality.</span></span>

<span data-ttu-id="ceebf-112">Disk belleği destek vermenin yanı sıra GridView sıralama desteği kullanıma hazır de içerir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-112">In addition to offering paging support, the GridView also includes out of the box sorting support.</span></span> <span data-ttu-id="ceebf-113">DataList veya Repeater ne yerleşik sıralama işlevselliği sağlar. Ancak, sıralama özellikleri ile kod biraz eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-113">Neither the DataList nor Repeater provides built-in sorting functionality; however, sorting features can be added with a bit of code.</span></span> <span data-ttu-id="ceebf-114">DataList veya Repeater verisini disk belleğine alınan ve sıralanmış oluşturmak nasıl yanı sıra destek DataList ve Repeater'ı sıralama ekleme, bu öğreticide inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-114">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>

## <a name="a-review-of-sorting"></a><span data-ttu-id="ceebf-115">Sıralama bir gözden geçirme</span><span class="sxs-lookup"><span data-stu-id="ceebf-115">A Review of Sorting</span></span>

<span data-ttu-id="ceebf-116">İçinde gördüğümüz gibi [sayfalama ve sıralama rapor verileri](../paging-and-sorting/paging-and-sorting-report-data-cs.md) öğreticide GridView denetiminde sıralama desteği kullanıma hazır sağlar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-116">As we saw in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-cs.md) tutorial, the GridView control provides out of the box sorting support.</span></span> <span data-ttu-id="ceebf-117">Her GridView alanının bir ilişkili olabilir `SortExpression`, verileri sıralamak üzere veri alanını gösterir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-117">Each GridView field can have an associated `SortExpression`, which indicates the data field by which to sort the data.</span></span> <span data-ttu-id="ceebf-118">Zaman GridView s `AllowSorting` özelliği `true`, sahip her GridView alan bir `SortExpression` özellik değerine sahip bir LinkButton işlenen üstbilgisi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-118">When the GridView s `AllowSorting` property is set to `true`, each GridView field that has a `SortExpression` property value has its header rendered as a LinkButton.</span></span> <span data-ttu-id="ceebf-119">Bir kullanıcı belirli bir GridView alan s başlığa tıkladığında, bir geri gönderme gerçekleşir ve veriler s tıklandı alanı göre sıralanır `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-119">When a user clicks a particular GridView field s header, a postback occurs and the data is sorted according to the clicked field s `SortExpression`.</span></span>

<span data-ttu-id="ceebf-120">GridView denetiminde sahip bir `SortExpression` depolayan özelliği de `SortExpression` GridView alanın veri değerlerine göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-120">The GridView control has a `SortExpression` property as well, which stores the `SortExpression` of the GridView field the data is sorted by.</span></span> <span data-ttu-id="ceebf-121">Ayrıca, bir `SortDirection` özelliği, veriler artan veya azalan (iki kez art arda, sıralama düzeni belirli bir GridView s alanı üstbilgi bağlantı açılıp bir kullanıcı tıklama değilse), yeniden sırılanacığını olup olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-121">Additionally, a `SortDirection` property indicates whether the data is to be sorted in ascending or descending order (if a user clicks a particular GridView field s header link twice in succession, the sort order is toggled).</span></span>

<span data-ttu-id="ceebf-122">GridView kendi veri kaynak denetimine bağlı olduğunda kapalı uygulamalı kendi `SortExpression` ve `SortDirection` özellikleri veri kaynağı denetimi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-122">When the GridView is bound to its data source control, it hands off its `SortExpression` and `SortDirection` properties to the data source control.</span></span> <span data-ttu-id="ceebf-123">Veri kaynağı denetimini verileri alır ve ardından sağlanan göre sıralar `SortExpression` ve `SortDirection` özellikleri.</span><span class="sxs-lookup"><span data-stu-id="ceebf-123">The data source control retrieves the data and then sorts it according to the supplied `SortExpression` and `SortDirection` properties.</span></span> <span data-ttu-id="ceebf-124">Verileri sıralama sonra veri kaynağı denetimini GridView'a döndürür.</span><span class="sxs-lookup"><span data-stu-id="ceebf-124">After sorting the data, the data source control returns it to the GridView.</span></span>

<span data-ttu-id="ceebf-125">Bu işlev DataList veya Repeater denetimleri ile çoğaltmak için biz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-125">To replicate this functionality with the DataList or Repeater controls, we must:</span></span>

- <span data-ttu-id="ceebf-126">Bir sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="ceebf-126">Create a sorting interface</span></span>
- <span data-ttu-id="ceebf-127">Sıralamanın yapılacağı veri alan ve artan veya azalan düzende sıralamak etkinleştirilip etkinleştirilmeyeceğini unutmayın</span><span class="sxs-lookup"><span data-stu-id="ceebf-127">Remember the data field to sort by and whether to sort in ascending or descending order</span></span>
- <span data-ttu-id="ceebf-128">Verileri belirli veri alana göre sıralamak için ObjectDataSource isteyin</span><span class="sxs-lookup"><span data-stu-id="ceebf-128">Instruct the ObjectDataSource to sort the data by a particular data field</span></span>

<span data-ttu-id="ceebf-129">Biz bu üç adım 3 ve 4 görevleri üstesinden.</span><span class="sxs-lookup"><span data-stu-id="ceebf-129">We'll tackle these three tasks in steps 3 and 4.</span></span> <span data-ttu-id="ceebf-130">Hem sayfalama ve sıralama DataList veya Repeater desteği ekleme, inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-130">Following that, we'll examine how to include both paging and sorting support in a DataList or Repeater.</span></span>

## <a name="step-2-displaying-the-products-in-a-repeater"></a><span data-ttu-id="ceebf-131">2. Adım: Repeater'da ürünleri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="ceebf-131">Step 2: Displaying the Products in a Repeater</span></span>

<span data-ttu-id="ceebf-132">Repeater denetimiyle ürünleri listeleyerek Başlat s sıralama ile ilgili işlevleri uygulama hakkında endişe önce sağlar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-132">Before we worry about implementing any of the sorting-related functionality, let s start by listing the products in a Repeater control.</span></span> <span data-ttu-id="ceebf-133">Başlangıç açarak `Sorting.aspx` sayfasını `PagingSortingDataListRepeater` klasör.</span><span class="sxs-lookup"><span data-stu-id="ceebf-133">Start by opening the `Sorting.aspx` page in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="ceebf-134">Repeater denetimiyle web ayar sayfasında, eklemek, `ID` özelliğini `SortableProducts`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-134">Add a Repeater control to the web page, setting its `ID` property to `SortableProducts`.</span></span> <span data-ttu-id="ceebf-135">Adlı yeni bir ObjectDataSource Repeater s akıllı etiketten oluşturma `ProductsDataSource` ve bu verileri almak için yapılandırma `ProductsBLL` s sınıfı `GetProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-135">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts()` method.</span></span> <span data-ttu-id="ceebf-136">(Hiçbiri) INSERT, UPDATE ve DELETE sekmeleri aşağı açılan listelerden seçeneğini seçin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-136">Select the (None) option from the drop-down lists in the INSERT, UPDATE, and DELETE tabs.</span></span>

<span data-ttu-id="ceebf-137">[![Bir ObjectDataSource oluşturun ve bunu GetProductsAsPagedDataSource() yöntemi kullanmak üzere yapılandırın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-137">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource() Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span></span>

<span data-ttu-id="ceebf-138">**Şekil 1**: Bir ObjectDataSource oluşturmak ve kullanmak için yapılandırma `GetProductsAsPagedDataSource()` yöntemi ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-138">**Figure 1**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource()` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span></span>

<span data-ttu-id="ceebf-139">[![Aşağı açılan listeler, ekleme, güncelleştirme ayarlayın ve sekme (hiçbiri) silme](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-139">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span></span>

<span data-ttu-id="ceebf-140">**Şekil 2**: Aşağı açılan listeler ayarlayın, ekleme, güncelleştirme ve silme (hiçbiri) için sekmeler ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-140">**Figure 2**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span></span>

<span data-ttu-id="ceebf-141">Farklı DataList'i ile Visual Studio otomatik olarak oluşturmaz bir `ItemTemplate` bir veri kaynağına bağlama sonra Repeater denetiminde için.</span><span class="sxs-lookup"><span data-stu-id="ceebf-141">Unlike with the DataList, Visual Studio does not automatically create an `ItemTemplate` for the Repeater control after binding it to a data source.</span></span> <span data-ttu-id="ceebf-142">Biz bu Ayrıca, eklemelisiniz `ItemTemplate` s DataList içinde bulunan Şablonları Düzenle seçeneğini Repeater denetim s akıllı etiket eksik olarak bildirimli olarak.</span><span class="sxs-lookup"><span data-stu-id="ceebf-142">Furthermore, we must add this `ItemTemplate` declaratively, as the Repeater control s smart tag lacks the Edit Templates option found in the DataList s.</span></span> <span data-ttu-id="ceebf-143">Let s kullanın aynı `ItemTemplate` önceki öğreticide, görüntülenen s ürün adı, tedarikçi ve kategorisi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-143">Let s use the same `ItemTemplate` from the previous tutorial, which displayed the product s name, supplier, and category.</span></span>

<span data-ttu-id="ceebf-144">Ekledikten sonra `ItemTemplate`, yineleyici ve ObjectDataSource s bildirim temelli biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-144">After adding the `ItemTemplate`, the Repeater and ObjectDataSource s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample1.aspx)]

<span data-ttu-id="ceebf-145">Şekil 3, bir tarayıcıdan görüntülendiğinde bu sayfada görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-145">Figure 3 shows this page when viewed through a browser.</span></span>

<span data-ttu-id="ceebf-146">[![Her bir ürün adı, üretici ve kategoriye s görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-146">[![Each Product s Name, Supplier, and Category is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span></span>

<span data-ttu-id="ceebf-147">**Şekil 3**: Her ürün adı s, tedarikçi ve kategori görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-147">**Figure 3**: Each Product s Name, Supplier, and Category is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span></span>

## <a name="step-3-instructing-the-objectdatasource-to-sort-the-data"></a><span data-ttu-id="ceebf-148">3. Adım: Verileri sıralamak için ObjectDataSource söyleyen</span><span class="sxs-lookup"><span data-stu-id="ceebf-148">Step 3: Instructing the ObjectDataSource to Sort the Data</span></span>

<span data-ttu-id="ceebf-149">Yineleyicideki görüntülenen verileri sıralamak için biz veri sıralanmalıdır sıralama ifadesi ObjectDataSource bildirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-149">To sort the data displayed in the Repeater, we need to inform the ObjectDataSource of the sort expression by which the data should be sorted.</span></span> <span data-ttu-id="ceebf-150">ObjectDataSource verilerini almadan önce ilk harekete kendi [ `Selecting` olay](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx), bize bir sıralama ifadesi belirtmek bir fırsat sağlar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-150">Before the ObjectDataSource retrieves its data, it first fires its [`Selecting` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx), which provides an opportunity for us to specify a sort expression.</span></span> <span data-ttu-id="ceebf-151">`Selecting` Olay işleyicisinin türü bir nesne geçirilen [ `ObjectDataSourceSelectingEventArgs` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx), adlı bir özellik olan [ `Arguments` ](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) türü [ `DataSourceSelectArguments` ](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx).</span><span class="sxs-lookup"><span data-stu-id="ceebf-151">The `Selecting` event handler is passed an object of type [`ObjectDataSourceSelectingEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx), which has a property named [`Arguments`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) of type [`DataSourceSelectArguments`](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx).</span></span> <span data-ttu-id="ceebf-152">`DataSourceSelectArguments` Sınıfı verilerle ilgili istekleri için veri kaynak denetimi veri bir tüketiciden geçirmek için tasarlanmıştır ve içeren bir [ `SortExpression` özelliği](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx).</span><span class="sxs-lookup"><span data-stu-id="ceebf-152">The `DataSourceSelectArguments` class is designed to pass data-related requests from a consumer of data to the data source control, and includes a [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx).</span></span>

<span data-ttu-id="ceebf-153">Sıralama bilgileri ObjectDataSource için ASP.NET sayfasından geçirmek için bir olay işleyicisi oluşturma `Selecting` olay ve aşağıdaki kodu kullanın:</span><span class="sxs-lookup"><span data-stu-id="ceebf-153">To pass sorting information from the ASP.NET page to the ObjectDataSource, create an event handler for the `Selecting` event and use the following code:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample2.cs)]

<span data-ttu-id="ceebf-154">*SortExpression* verileri (örneğin, ProductName) göre sıralamak için veri alanı adını değer atanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-154">The *sortExpression* value should be assigned the name of the data field to sort the data by (such as ProductName ).</span></span> <span data-ttu-id="ceebf-155">Sıralama yönü ile ilgili bir özellik yok, verileri azalan düzende sıralamak isterseniz, bu nedenle DESC dize eklemek için *sortExpression* değeri (örneğin, ProductName DESC).</span><span class="sxs-lookup"><span data-stu-id="ceebf-155">There is no sort direction-related property, so if you want to sort the data in descending order, append the string DESC to the *sortExpression* value (such as ProductName DESC ).</span></span>

<span data-ttu-id="ceebf-156">Devam etmek ve denemek için bazı farklı sabit kodlanmış değerler *sortExpression* ve sonuçları bir tarayıcıda test edin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-156">Go ahead and try some different hard-coded values for *sortExpression* and test the results in a browser.</span></span> <span data-ttu-id="ceebf-157">ProductName DESC olarak kullanırken, Şekil 4'te gösterildiği gibi *sortExpression*, ürün adında ters alfabetik düzende sıralanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-157">As Figure 4 shows, when using ProductName DESC as the *sortExpression*, the products are sorted by their name in reverse alphabetical order.</span></span>

<span data-ttu-id="ceebf-158">[![Ürün adında ters alfabetik olarak sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-158">[![The Products are Sorted by their Name in Reverse Alphabetical Order](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span></span>

<span data-ttu-id="ceebf-159">**Şekil 4**: Ürün adında ters alfabetik düzende sıralanır ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-159">**Figure 4**: The Products are Sorted by their Name in Reverse Alphabetical Order ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span></span>

## <a name="step-4-creating-the-sorting-interface-and-remembering-the-sort-expression-and-direction"></a><span data-ttu-id="ceebf-160">4. Adım: Sıralama arabirimi oluşturmak ve yönünü ve sıralama ifadesi hatırlama</span><span class="sxs-lookup"><span data-stu-id="ceebf-160">Step 4: Creating the Sorting Interface and Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="ceebf-161">GridView desteği sıralama kapatma her sıralanabilir alan s üst bilgi metni bir LinkButton dönüştürür, verileri tıklandığında, buna göre sıralar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-161">Turning on sorting support in the GridView converts each sortable field s header text into a LinkButton that, when clicked, sorts the data accordingly.</span></span> <span data-ttu-id="ceebf-162">Sıralama bir arabirim için burada verilerini düzgünce sütunlarında düzenlendiğini GridView mantıklıdır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-162">Such a sorting interface makes sense for the GridView, where its data is neatly laid out in columns.</span></span> <span data-ttu-id="ceebf-163">DataList ve Repeater denetimleri, ancak farklı bir sıralama arabirimi gereklidir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-163">For the DataList and Repeater controls, however, a different sorting interface is needed.</span></span> <span data-ttu-id="ceebf-164">Veri sıralanabilir alanları sağlayan bir açılır listede (aksine, bir kılavuz veri), veri listesi için ortak bir sıralama arabirimi var.</span><span class="sxs-lookup"><span data-stu-id="ceebf-164">A common sorting interface for a list of data (as opposed to a grid of data), is a drop-down list that provides the fields by which the data can be sorted.</span></span> <span data-ttu-id="ceebf-165">Bu öğretici için böyle bir arabirim uygulamak s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-165">Let s implement such an interface for this tutorial.</span></span>

<span data-ttu-id="ceebf-166">Yukarıdaki DropDownList Web denetim ekleme `SortableProducts` Yineleyici ve kümesi kendi `ID` özelliğini `SortBy`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-166">Add a DropDownList Web control above the `SortableProducts` Repeater and set its `ID` property to `SortBy`.</span></span> <span data-ttu-id="ceebf-167">Özellikler penceresinden, üç noktaya tıklayın `Items` özelliği ListItem Koleksiyonu Düzenleyicisi yukarı taşıyın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-167">From the Properties window, click the ellipses in the `Items` property to bring up the ListItem Collection Editor.</span></span> <span data-ttu-id="ceebf-168">Ekleme `ListItem` verileri göre sıralamak için s `ProductName`, `CategoryName`, ve `SupplierName` alanları.</span><span class="sxs-lookup"><span data-stu-id="ceebf-168">Add `ListItem` s to sort the data by the `ProductName`, `CategoryName`, and `SupplierName` fields.</span></span> <span data-ttu-id="ceebf-169">Ayrıca bir `ListItem` ürünleri adında ters alfabetik düzende sıralamak.</span><span class="sxs-lookup"><span data-stu-id="ceebf-169">Also add a `ListItem` to sort the products by their name in reverse alphabetical order.</span></span>

<span data-ttu-id="ceebf-170">`ListItem` `Text` Özellikleri (örneğin, adı), herhangi bir değere ayarlanabilir ancak `Value` özellikleri ayarlanmış olması gerekir (örneğin, ProductName) veri alanının adı.</span><span class="sxs-lookup"><span data-stu-id="ceebf-170">The `ListItem` `Text` properties can be set to any value (such as Name ), but the `Value` properties must be set to the name of the data field (such as ProductName ).</span></span> <span data-ttu-id="ceebf-171">Sonuçlar, azalan düzende sıralamak için dize DESC ProductName DESC gibi veri alanı adını ekleyin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-171">To sort the results in descending order, append the string DESC to the data field name, like ProductName DESC .</span></span>

![Sıralanabilir veri alanların her biri için bir ListItem Ekle](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image13.png)

<span data-ttu-id="ceebf-173">**Şekil 5**: Ekleme bir `ListItem` sıralanabilir veri alanların her biri için</span><span class="sxs-lookup"><span data-stu-id="ceebf-173">**Figure 5**: Add a `ListItem` for Each of the Sortable Data Fields</span></span>

<span data-ttu-id="ceebf-174">Son olarak, bir düğme Web denetimi DropDownList sağında ekleyin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-174">Finally, add a Button Web control to the right of the DropDownList.</span></span> <span data-ttu-id="ceebf-175">Ayarlama, `ID` için `RefreshRepeater` ve kendi `Text` yenileme özelliği.</span><span class="sxs-lookup"><span data-stu-id="ceebf-175">Set its `ID` to `RefreshRepeater` and its `Text` property to Refresh .</span></span>

<span data-ttu-id="ceebf-176">Oluşturduktan sonra `ListItem` s ve Yenile düğmesini ekleme DropDownList ve düğme s Tanımlayıcı Sözdizimi görünmelidir aşağıdakine benzer:</span><span class="sxs-lookup"><span data-stu-id="ceebf-176">After creating the `ListItem` s and adding the Refresh button, the DropDownList and Button s declarative syntax should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample3.aspx)]

<span data-ttu-id="ceebf-177">Tam sıralama DropDownList ile sonraki ObjectDataSource s güncelleştirmek ihtiyacımız `Selecting` BT'nin seçili kullanması için olay işleyicisi `SortBy``ListItem` s `Value` özelliği bir sabit kodlanmış bir sıralama ifadesi değil.</span><span class="sxs-lookup"><span data-stu-id="ceebf-177">With the sorting DropDownList complete, we next need to update the ObjectDataSource s `Selecting` event handler so that it uses the selected `SortBy``ListItem` s `Value` property as opposed to a hard-coded sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample4.cs)]

<span data-ttu-id="ceebf-178">Sayfa ilk ziyaret edildiğinde bu noktada ürünleri tarafından başlangıçta sıralanacağını `ProductName` haliyle veri alanı s `SortBy` `ListItem` varsayılan olarak seçili (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="ceebf-178">At this point when first visiting the page the products will initially be sorted by the `ProductName` data field, as it s the `SortBy` `ListItem` selected by default (see Figure 6).</span></span> <span data-ttu-id="ceebf-179">Bir farklı seçenek kategorisi gibi sıralama ve yenileme tıklayarak seçerek bir geri göndermeye neden olur ve Şekil 7 gösterildiği gibi veri kategori adına göre yeniden sıralayın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-179">Selecting a different sorting option such as Category and clicking Refresh will cause a postback and re-sort the data by the category name, as Figure 7 shows.</span></span>

<span data-ttu-id="ceebf-180">[![Başlangıçta kendi adına göre sıralanmış olan ürünler](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-180">[![The Products are Initially Sorted by their Name](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span></span>

<span data-ttu-id="ceebf-181">**Şekil 6**: Başlangıçta kendi adına göre sıralanmış olan ürünler ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-181">**Figure 6**: The Products are Initially Sorted by their Name ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span></span>

<span data-ttu-id="ceebf-182">[![Kategoriye göre artık sıralanmış olan ürünler](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-182">[![The Products are Now Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span></span>

<span data-ttu-id="ceebf-183">**Şekil 7**: Artık sıralanmış kategoriye göre ürünler olan ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-183">**Figure 7**: The Products are Now Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span></span>

> [!NOTE]
> <span data-ttu-id="ceebf-184">Yenile düğmesine tıklanması, yineleyici s görünüm durumu devre dışı bırakıldı çünkü otomatik olarak böylece kendi veri kaynağına her geri gönderme üzerinde yeniden bağlamak bir yineleyici neden yeniden sıralanmış veriler neden olur.</span><span class="sxs-lookup"><span data-stu-id="ceebf-184">Clicking the Refresh button causes the data to automatically be re-sorted because the Repeater s view state has been disabled, thereby causing the Repeater to rebind to its data source on every postback.</span></span> <span data-ttu-id="ceebf-185">Önceden açılan sıralama değiştirme etkin, yineleyici s görünüm durumu bırakılırsa listesi sıralama düzeni herhangi bir etkisi olmaz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-185">If you ve left the Repeater s view state enabled, changing the sorting drop-down list won't have any affect on the sort order.</span></span> <span data-ttu-id="ceebf-186">Bu sorunu gidermek için yenile düğmesine s için bir olay işleyicisi oluşturma `Click` olay ve yeniden bağlamasını Yineleyicinin kendi veri kaynağına (s Repeater çağırarak `DataBind()` yöntemi).</span><span class="sxs-lookup"><span data-stu-id="ceebf-186">To remedy this, create an event handler for the Refresh Button s `Click` event and rebind the Repeater to its data source (by calling the Repeater s `DataBind()` method).</span></span>

## <a name="remembering-the-sort-expression-and-direction"></a><span data-ttu-id="ceebf-187">Yönünü ve sıralama ifadesi hatırlama</span><span class="sxs-lookup"><span data-stu-id="ceebf-187">Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="ceebf-188">Sıralanabilir DataList veya Repeater burada olmayan sıralama ilgili Geri göndermeler oluşabilir, sayfada oluştururken, sıralama ifadesi ve yönü Geri göndermeler arasında anımsanacağını s zorunluluktur.</span><span class="sxs-lookup"><span data-stu-id="ceebf-188">When creating a sortable DataList or Repeater on a page where non-sort related postbacks may occur, it s imperative that the sort expression and direction be remembered across postbacks.</span></span> <span data-ttu-id="ceebf-189">Örneğin, Yineleyicinin bir Sil düğmesini her ürünle birlikte dahil etmek için bu öğreticideki güncelleştirdik olduğunu düşünün.</span><span class="sxs-lookup"><span data-stu-id="ceebf-189">For example, imagine that we updated the Repeater in this tutorial to include a Delete button with each product.</span></span> <span data-ttu-id="ceebf-190">Kullanıcı Sil düğmesine tıkladığında d seçili ürün silin ve ardından Repeater verileri yeniden bağlamanız için bazı kodlar çalıştırıyoruz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-190">When the user clicks the Delete button we d run some code to delete the selected product and then rebind the data to the Repeater.</span></span> <span data-ttu-id="ceebf-191">Sıralama ayrıntıları geri gönderme arasında kalıcı yapılmaz, ekranda görüntülenen verileri özgün sıralama düzeni olarak döner.</span><span class="sxs-lookup"><span data-stu-id="ceebf-191">If the sort details are not persisted across postback, the data displayed on screen will revert to the original sort order.</span></span>

<span data-ttu-id="ceebf-192">Bu öğreticide, DropDownList örtük olarak sıralama ifadesi ve yönü, Görünüm durumunda bizim için kaydeder.</span><span class="sxs-lookup"><span data-stu-id="ceebf-192">For this tutorial, the DropDownList implicitly saves the sort expression and direction in its view state for us.</span></span> <span data-ttu-id="ceebf-193">Farklı bir sıralama arabirim bir sağlanan çeşitli sıralama seçeneklerini örneğin LinkButtons birlikte kullanıyorsanız, d halletmeniz sıralama düzenini Geri göndermeler arasında hatırlamak ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="ceebf-193">If we were using a different sorting interface one with, say, LinkButtons that provided the various sorting options we d need to take care to remember the sort order across postbacks.</span></span> <span data-ttu-id="ceebf-194">Bu sorgu dizesi veya diğer durum Kalıcılık yöntemi aracılığıyla sıralama parametresini dahil ederek sıralama parametreleri sayfası s görünüm durumuna depolayarak sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-194">This could be accomplished by storing the sorting parameters in the page s view state, by including the sort parameter in the querystring, or through some other state persistence technique.</span></span>

<span data-ttu-id="ceebf-195">Bu öğreticide ileride örnekleri sıralama Ayrıntıları sayfası s görünüm durumu kalıcı hale getirmek nasıl keşfedin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-195">Future examples in this tutorial explore how to persist the sorting details in the page s view state.</span></span>

## <a name="step-5-adding-sorting-support-to-a-datalist-that-uses-default-paging"></a><span data-ttu-id="ceebf-196">5. Adım: Varsayılan disk belleği kullanan bir DataList destek sıralama ekleme</span><span class="sxs-lookup"><span data-stu-id="ceebf-196">Step 5: Adding Sorting Support to a DataList that Uses Default Paging</span></span>

<span data-ttu-id="ceebf-197">İçinde [önceki öğretici](paging-report-data-in-a-datalist-or-repeater-control-cs.md) size nasıl bir DataList'i ile varsayılan sayfalama uygulama incelenir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-197">In the [preceding tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to implement default paging with a DataList.</span></span> <span data-ttu-id="ceebf-198">S Sayfalanmış verileri sıralama özelliği eklemek için bu önceki örneği genişletmek olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-198">Let s extend this previous example to include the ability to sort the paged data.</span></span> <span data-ttu-id="ceebf-199">Başlangıç açarak `SortingWithDefaultPaging.aspx` ve `Paging.aspx` içinde sayfa `PagingSortingDataListRepeater` klasör.</span><span class="sxs-lookup"><span data-stu-id="ceebf-199">Start by opening the `SortingWithDefaultPaging.aspx` and `Paging.aspx` pages in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="ceebf-200">Gelen `Paging.aspx` sayfasında, sayfa s bildirim temelli biçimlendirme görüntülemek için kaynak düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-200">From the `Paging.aspx` page, click on the Source button to view the page s declarative markup.</span></span> <span data-ttu-id="ceebf-201">Seçili metni kopyalayın (bkz. Şekil 8) ve bildirim temelli biçimlerini yapıştırın `SortingWithDefaultPaging.aspx` arasında `<asp:Content>` etiketler.</span><span class="sxs-lookup"><span data-stu-id="ceebf-201">Copy the selected text (see Figure 8) and paste it into the declarative markup of `SortingWithDefaultPaging.aspx` between the `<asp:Content>` tags.</span></span>

<span data-ttu-id="ceebf-202">[![Bildirim temelli işaretlemede çoğaltmak &lt;asp: Content&gt; Paging.aspx SortingWithDefaultPaging.aspx için etiketler](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-202">[![Replicate the Declarative Markup in the &lt;asp:Content&gt; Tags from Paging.aspx to SortingWithDefaultPaging.aspx](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span></span>

<span data-ttu-id="ceebf-203">**Şekil 8**: Bildirim temelli işaretlemede çoğaltmak `<asp:Content>` gelen etiketleri `Paging.aspx` için `SortingWithDefaultPaging.aspx` ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-203">**Figure 8**: Replicate the Declarative Markup in the `<asp:Content>` Tags from `Paging.aspx` to `SortingWithDefaultPaging.aspx` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span></span>

<span data-ttu-id="ceebf-204">Bildirim temelli biçimlendirme kopyaladıktan sonra özellikleri ve yöntemleri kopyalayın `Paging.aspx` sayfasında s arka plan kod sınıfı için arka plan kod sınıfa `SortingWithDefaultPaging.aspx`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-204">After copying the declarative markup, copy the methods and properties in the `Paging.aspx` page s code-behind class to the code-behind class for `SortingWithDefaultPaging.aspx`.</span></span> <span data-ttu-id="ceebf-205">Ardından, görüntülemek için bir dakikanızı ayırarak `SortingWithDefaultPaging.aspx` sayfasını bir tarayıcıda.</span><span class="sxs-lookup"><span data-stu-id="ceebf-205">Next, take a moment to view the `SortingWithDefaultPaging.aspx` page in a browser.</span></span> <span data-ttu-id="ceebf-206">Aynı işlevselliğe ve görünüm olarak göstermelidir `Paging.aspx`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-206">It should exhibit the same functionality and appearance as `Paging.aspx`.</span></span>

## <a name="enhancing-productsbll-to-include-a-default-paging-and-sorting-method"></a><span data-ttu-id="ceebf-207">Sayfalama ve sıralama yöntemi varsayılan içerecek şekilde ProductsBLL geliştirme</span><span class="sxs-lookup"><span data-stu-id="ceebf-207">Enhancing ProductsBLL to Include a Default Paging and Sorting Method</span></span>

<span data-ttu-id="ceebf-208">Önceki öğreticide oluşturduğumuz bir `GetProductsAsPagedDataSource(pageIndex, pageSize)` yönteminde `ProductsBLL` sınıfı döndüren bir `PagedDataSource` nesne.</span><span class="sxs-lookup"><span data-stu-id="ceebf-208">In the previous tutorial we created a `GetProductsAsPagedDataSource(pageIndex, pageSize)` method in the `ProductsBLL` class that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="ceebf-209">Bu `PagedDataSource` nesne ile doldurulmuş *tüm* ürünlerinin (BLL s aracılığıyla `GetProducts()` yöntemi), ancak zaman yalnızca belirtilen karşılık gelen kayıtları için DataList bağlı *PageIndex* ve *pageSize* giriş parametrelerini görüntülendi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-209">This `PagedDataSource` object was populated with *all* of the products (via the BLL s `GetProducts()` method), but when bound to the DataList only those records corresponding to the specified *pageIndex* and *pageSize* input parameters were displayed.</span></span>

<span data-ttu-id="ceebf-210">Bu öğreticide daha önce sıralama desteği ObjectDataSource s sıralama ifadesi belirterek ekledik `Selecting` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-210">Earlier in this tutorial we added sorting support by specifying the sort expression from the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="ceebf-211">Bu işlemin çalıştığı da ObjectDataSource, gibi sıralanabilir bir nesne döndürüldüğünde `ProductsDataTable` tarafından döndürülen `GetProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-211">This works well when the ObjectDataSource is returned an object that can be sorted, like the `ProductsDataTable` returned by the `GetProducts()` method.</span></span> <span data-ttu-id="ceebf-212">Ancak, `PagedDataSource` tarafından döndürülen nesne `GetProductsAsPagedDataSource` yöntemi kendi iç veri kaynağı sıralamayı desteklemiyor.</span><span class="sxs-lookup"><span data-stu-id="ceebf-212">However, the `PagedDataSource` object returned by the `GetProductsAsPagedDataSource` method does not support sorting of its inner data source.</span></span> <span data-ttu-id="ceebf-213">Bunun yerine, döndürülen sonuçları sıralamak ihtiyacımız `GetProducts()` yöntemi *önce* biz bunu koymak `PagedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-213">Instead, we need to sort the results returned from the `GetProducts()` method *before* we put it in the `PagedDataSource`.</span></span>

<span data-ttu-id="ceebf-214">Bunu gerçekleştirmek için yeni bir yöntemde oluşturma `ProductsBLL` sınıfı `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-214">To accomplish this, create a new method in the `ProductsBLL` class, `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)`.</span></span> <span data-ttu-id="ceebf-215">Sıralanacak `ProductsDataTable` tarafından döndürülen `GetProducts()` yöntemini belirtin `Sort` varsayılan özelliği `DataTableView`:</span><span class="sxs-lookup"><span data-stu-id="ceebf-215">To sort the `ProductsDataTable` returned by the `GetProducts()` method, specify the `Sort` property of its default `DataTableView`:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample5.cs)]

<span data-ttu-id="ceebf-216">`GetProductsSortedAsPagedDataSource` Yöntemi yalnızca biraz farklıdır gelen `GetProductsAsPagedDataSource` önceki öğreticide oluşturulan yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-216">The `GetProductsSortedAsPagedDataSource` method differs only slightly from the `GetProductsAsPagedDataSource` method created in the previous tutorial.</span></span> <span data-ttu-id="ceebf-217">Özellikle, `GetProductsSortedAsPagedDataSource` ek giriş parametresi kabul eden `sortExpression` ve bu değeri atar `Sort` özelliği `ProductDataTable` s `DefaultView`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-217">In particular, `GetProductsSortedAsPagedDataSource` accepts an additional input parameter `sortExpression` and assigns this value to the `Sort` property of the `ProductDataTable` s `DefaultView`.</span></span> <span data-ttu-id="ceebf-218">Kodu daha sonra birkaç satırlık `PagedDataSource` s veri kaynağı nesnesinin atandığı `ProductDataTable` s `DefaultView`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-218">A few lines of code later, the `PagedDataSource` object s DataSource is assigned the `ProductDataTable` s `DefaultView`.</span></span>

## <a name="calling-the-getproductssortedaspageddatasource-method-and-specifying-the-value-for-the-sortexpression-input-parameter"></a><span data-ttu-id="ceebf-219">GetProductsSortedAsPagedDataSource yöntemini çağırarak ve SortExpression giriş parametresinin değerini belirtme</span><span class="sxs-lookup"><span data-stu-id="ceebf-219">Calling the GetProductsSortedAsPagedDataSource Method and Specifying the Value for the SortExpression Input Parameter</span></span>

<span data-ttu-id="ceebf-220">İle `GetProductsSortedAsPagedDataSource` tam yöntemi, sonraki adım ise bu parametre için değer sağlamanız için.</span><span class="sxs-lookup"><span data-stu-id="ceebf-220">With the `GetProductsSortedAsPagedDataSource` method complete, the next step is to provide the value for this parameter.</span></span> <span data-ttu-id="ceebf-221">ObjectDataSource içinde `SortingWithDefaultPaging.aspx` çağırmak için şu anda yapılandırılmış `GetProductsAsPagedDataSource` yöntemi ve iki giriş parametresi, iki aracılığıyla geçişlerinde `QueryStringParameters`, içinde belirtilir `SelectParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="ceebf-221">The ObjectDataSource in `SortingWithDefaultPaging.aspx` is currently configured to call the `GetProductsAsPagedDataSource` method and passes in the two input parameters through its two `QueryStringParameters`, which are specified in the `SelectParameters` collection.</span></span> <span data-ttu-id="ceebf-222">Bu iki `QueryStringParameters` belirtmek için kaynak `GetProductsAsPagedDataSource` metodu s *PageIndex* ve *pageSize* parametreleri gelen sorgu dizesi alanlar `pageIndex` ve `pageSize`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-222">These two `QueryStringParameters` indicate that the source for the `GetProductsAsPagedDataSource` method s *pageIndex* and *pageSize* parameters come from the querystring fields `pageIndex` and `pageSize`.</span></span>

<span data-ttu-id="ceebf-223">ObjectDataSource s güncelleştirme `SelectMethod` olan yeni çağırır özelliğini `GetProductsSortedAsPagedDataSource` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-223">Update the ObjectDataSource s `SelectMethod` property so that it invokes the new `GetProductsSortedAsPagedDataSource` method.</span></span> <span data-ttu-id="ceebf-224">Ardından, yeni bir ekleme `QueryStringParameter` böylece *sortExpression* giriş parametresi sorgu dizesi alanından erişilen `sortExpression`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-224">Then, add a new `QueryStringParameter` so that the *sortExpression* input parameter is accessed from the querystring field `sortExpression`.</span></span> <span data-ttu-id="ceebf-225">Ayarlama `QueryStringParameter` s `DefaultValue` ProductName.</span><span class="sxs-lookup"><span data-stu-id="ceebf-225">Set the `QueryStringParameter` s `DefaultValue` to ProductName .</span></span>

<span data-ttu-id="ceebf-226">Bu değişikliklerden sonra ObjectDataSource s bildirim temelli biçimlendirme gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-226">After these changes, the ObjectDataSource s declarative markup should look like:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample6.aspx)]

<span data-ttu-id="ceebf-227">Bu noktada, `SortingWithDefaultPaging.aspx` sayfa, sonuçlarını sıralama alfabetik olarak ürün adına göre (bkz. Şekil 9).</span><span class="sxs-lookup"><span data-stu-id="ceebf-227">At this point, the `SortingWithDefaultPaging.aspx` page will sort its results alphabetically by the product name (see Figure 9).</span></span> <span data-ttu-id="ceebf-228">Varsayılan olarak, bir ProductName değeri olarak geçirilen nedeni `GetProductsSortedAsPagedDataSource` metodu s *sortExpression* parametresi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-228">This is because, by default, a value of ProductName is passed in as the `GetProductsSortedAsPagedDataSource` method s *sortExpression* parameter.</span></span>

<span data-ttu-id="ceebf-229">[![Varsayılan olarak, sonuçlar ProductName göre sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-229">[![By Default, the Results are Sorted by ProductName](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span></span>

<span data-ttu-id="ceebf-230">**Şekil 9**: Varsayılan olarak, sonuçların göre sıralanır `ProductName` ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-230">**Figure 9**: By Default, the Results are Sorted by `ProductName` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span></span>

<span data-ttu-id="ceebf-231">El ile eklerseniz bir `sortExpression` gibi sorgu dizesi alanı `SortingWithDefaultPaging.aspx?sortExpression=CategoryName` sonuçlar sıralanır tarafından belirtilen `sortExpression`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-231">If you manually add a `sortExpression` querystring field such as `SortingWithDefaultPaging.aspx?sortExpression=CategoryName` the results will be sorted by the specified `sortExpression`.</span></span> <span data-ttu-id="ceebf-232">Ancak, bu `sortExpression` verilerin başka bir sayfaya taşıma sırasında parametre sorgu dizesinde değil dahil.</span><span class="sxs-lookup"><span data-stu-id="ceebf-232">However, this `sortExpression` parameter is not included in the querystring when moving to a different page of data.</span></span> <span data-ttu-id="ceebf-233">Aslında, İleri'yi veya son sayfada tıklayarak izin ver düğmeleri bize geri alır `Paging.aspx`!</span><span class="sxs-lookup"><span data-stu-id="ceebf-233">In fact, clicking on the Next or Last page buttons takes us back to `Paging.aspx`!</span></span> <span data-ttu-id="ceebf-234">Ayrıca, orada s şu anda hiçbir sıralama arabirim.</span><span class="sxs-lookup"><span data-stu-id="ceebf-234">Furthermore, there s currently no sorting interface.</span></span> <span data-ttu-id="ceebf-235">Bir kullanıcı Sayfalanmış verileri sıralama düzenini değiştirebilirsiniz yalnızca doğrudan sorgu dizesini işleyerek yoludur.</span><span class="sxs-lookup"><span data-stu-id="ceebf-235">The only way a user can change the sort order of the paged data is by manipulating the querystring directly.</span></span>

## <a name="creating-the-sorting-interface"></a><span data-ttu-id="ceebf-236">Sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="ceebf-236">Creating the Sorting Interface</span></span>

<span data-ttu-id="ceebf-237">Biz öncelikle güncelleştirmeniz gerekiyor `RedirectUser` kullanıcıya gönderilecek yöntemi `SortingWithDefaultPaging.aspx` (yerine `Paging.aspx`) ve dahil edilecek `sortExpression` sorgu dizesi değeri.</span><span class="sxs-lookup"><span data-stu-id="ceebf-237">We first need to update the `RedirectUser` method to send the user to `SortingWithDefaultPaging.aspx` (instead of `Paging.aspx`) and to include the `sortExpression` value in the querystring.</span></span> <span data-ttu-id="ceebf-238">Biz de bir salt okunur sayfa adlı düzeyinde eklemeniz gerekir `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ceebf-238">We should also add a read-only, page-level named `SortExpression` property.</span></span> <span data-ttu-id="ceebf-239">Bu özellik, benzer `PageIndex` ve `PageSize` özellikleri önceki öğreticide oluşturulan değeri döndürür `sortExpression` varsa, sorgu dizesi alanı ve varsayılan değer (ProductName) Aksi takdirde.</span><span class="sxs-lookup"><span data-stu-id="ceebf-239">This property, similar to the `PageIndex` and `PageSize` properties created in the previous tutorial, returns the value of the `sortExpression` querystring field if it exists, and the default value ( ProductName ) otherwise.</span></span>

<span data-ttu-id="ceebf-240">Şu anda `RedirectUser` yöntemi yalnızca tek bir giriş parametresi görüntülemek için sayfanın dizini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="ceebf-240">Currently the `RedirectUser` method accepts only a single input parameter the index of the page to display.</span></span> <span data-ttu-id="ceebf-241">Ancak biz sorgu dizesinde belirtilen hangi s dışındaki bir sıralama ifadesi kullanarak verilerin belirli bir sayfada kullanıcı yönlendirmek istediğinizde zamanlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-241">However, there may be times when we want to redirect the user to a particular page of data using a sort expression other than what s specified in the querystring.</span></span> <span data-ttu-id="ceebf-242">Bir dakika içinde bir dizi veri belirtilen sütuna göre sıralama düğmesini Web denetimleri içeren bu sayfa için sıralama arabirimi oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="ceebf-242">In a moment we'll create the sorting interface for this page, which will include a series of Button Web controls for sorting the data by a specified column.</span></span> <span data-ttu-id="ceebf-243">Bu düğmelerden birine tıklandığında uygun sıralama ifadesi değerini geçirir kullanıcı yeniden yönlendirme istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-243">When one of those Buttons is clicked, we want to redirect the user passing in the appropriate sort expression value.</span></span> <span data-ttu-id="ceebf-244">Bu işlevselliği sağlayacak şekilde iki sürümünü oluşturma `RedirectUser` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-244">To provide this functionality, create two versions of the `RedirectUser` method.</span></span> <span data-ttu-id="ceebf-245">Birinci, ikinci sayfa dizini ve sıralama ifadesi kabul ederken görüntülenecek yalnızca sayfa dizini kabul etmelidir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-245">The first one should accept just the page index to display, while the second one accepts the page index and sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample7.cs)]

<span data-ttu-id="ceebf-246">Bu öğreticide ilk örnekte, bir sıralama arabirimi bir DropDownList kullanarak oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="ceebf-246">In the first example in this tutorial, we created a sorting interface using a DropDownList.</span></span> <span data-ttu-id="ceebf-247">Bu örnekte, let s DataList birini sıralama için yerleştirilmiş üç düğme Web denetimleri kullanın `ProductName`, diğeri için `CategoryName`, diğeri `SupplierName`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-247">For this example, let s use three Button Web controls positioned above the DataList one for sorting by `ProductName`, one for `CategoryName`, and one for `SupplierName`.</span></span> <span data-ttu-id="ceebf-248">Ayarı üç düğme Web denetimleri ekleme, `ID` ve `Text` özellikleri uygun şekilde:</span><span class="sxs-lookup"><span data-stu-id="ceebf-248">Add the three Button Web controls, setting their `ID` and `Text` properties appropriately:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample8.aspx)]

<span data-ttu-id="ceebf-249">Ardından, oluşturun bir `Click` her olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-249">Next, create a `Click` event handler for each.</span></span> <span data-ttu-id="ceebf-250">Olay işleyicileri çağırmalıdır `RedirectUser` kullanıcı uygun sıralama ifadesi kullanarak ilk sayfaya döndüren yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-250">The event handlers should call the `RedirectUser` method, returning the user to the first page using the appropriate sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample9.cs)]

<span data-ttu-id="ceebf-251">Sayfa ilk ziyaret edildiğinde, veriler ürün adına göre alfabetik olarak sıralanır (Şekil 9'a geri bakın).</span><span class="sxs-lookup"><span data-stu-id="ceebf-251">When first visiting the page, the data is sorted by the product name alphabetically (refer back to Figure 9).</span></span> <span data-ttu-id="ceebf-252">Veri ikinci sayfasına ilerleyin ve sıralama kategori düğme tarafından ardından İleri düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-252">Click the Next button to advance to the second page of data and then click the Sort by Category button.</span></span> <span data-ttu-id="ceebf-253">Bu bize veri, kategori adına göre sıralanmış ilk sayfasına döndürür (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="ceebf-253">This returns us to the first page of data, sorted by category name (see Figure 10).</span></span> <span data-ttu-id="ceebf-254">Benzer şekilde, tedarikçi düğmesi göre sıralama verileri başlayarak verilerin ilk sayfadan tedarikçi göre sıralar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-254">Likewise, clicking the Sort by Supplier button sorts the data by supplier starting from the first page of data.</span></span> <span data-ttu-id="ceebf-255">Sıralama seçeneği aracılığıyla veriler havuzda gibi hatırlanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-255">The sort choice is remembered as the data is paged through.</span></span> <span data-ttu-id="ceebf-256">Şekil 11, kategoriye göre sıralama ve ardından veri 13 sayfasına ilerledikten sonra sayfada gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-256">Figure 11 shows the page after sorting by category and then advancing to the thirteenth page of data.</span></span>

<span data-ttu-id="ceebf-257">[![Ürün kategorisine göre sıralanır.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-257">[![The Products are Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span></span>

<span data-ttu-id="ceebf-258">**Şekil 10**: Ürün kategorisine göre sıralanır ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-258">**Figure 10**: The Products are Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span></span>

<span data-ttu-id="ceebf-259">[![Hatırlanan, disk belleği aracılığıyla veri sıralama ifadesi olan](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-259">[![The Sort Expression is Remembered When Paging Through the Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span></span>

<span data-ttu-id="ceebf-260">**Şekil 11**: Sıralama ifadesi anımsanacak, disk belleği ile verilerdir ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-260">**Figure 11**: The Sort Expression is Remembered When Paging Through the Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span></span>

## <a name="step-6-custom-paging-through-records-in-a-repeater"></a><span data-ttu-id="ceebf-261">6. Adım: Repeater'da kayıtları arasında özel disk belleği</span><span class="sxs-lookup"><span data-stu-id="ceebf-261">Step 6: Custom Paging Through Records in a Repeater</span></span>

<span data-ttu-id="ceebf-262">DataList örnek 5 sayfa verimsiz varsayılan sayfalama tekniği kullanarak, veriler aracılığıyla adımda incelenir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-262">The DataList example examined in step 5 pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="ceebf-263">Yeterince büyük miktarda veriyi disk belleği, özel disk belleği kullanılması zorunludur.</span><span class="sxs-lookup"><span data-stu-id="ceebf-263">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="ceebf-264">Geri [verimli bir şekilde sayfalama aracılığıyla büyük miktarda veri](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) ve [özel disk belleğine alınan veri sıralama](../paging-and-sorting/sorting-custom-paged-data-cs.md) öğreticiler, biz incelenmesi için BLL varsayılan ve özel disk belleği ve oluşturulan yöntemler arasındaki farkları özel disk belleği ve özel Sayfalanmış verileri sıralama yararlanarak.</span><span class="sxs-lookup"><span data-stu-id="ceebf-264">Back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) and [Sorting Custom Paged Data](../paging-and-sorting/sorting-custom-paged-data-cs.md) tutorials, we examined the differences between default and custom paging and created methods in the BLL for utilizing custom paging and sorting custom paged data.</span></span> <span data-ttu-id="ceebf-265">Özellikle, bu iki önceki öğreticilerdeki aşağıdaki üç yöntemi ekledik `ProductsBLL` sınıfı:</span><span class="sxs-lookup"><span data-stu-id="ceebf-265">In particular, in these two previous tutorials we added the following three methods to the `ProductsBLL` class:</span></span>

- <span data-ttu-id="ceebf-266">`GetProductsPaged(startRowIndex, maximumRows)` belirli bir alt başlayan kayıtları döndürür *startRowIndex* ve aşmadan *maximumRows*.</span><span class="sxs-lookup"><span data-stu-id="ceebf-266">`GetProductsPaged(startRowIndex, maximumRows)` returns a particular subset of records starting at *startRowIndex* and not exceeding *maximumRows*.</span></span>
- <span data-ttu-id="ceebf-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)` kayıtları belirtilen göre sıralanmış belirli bir alt kümeyi döndürür *sortExpression* giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)` returns a particular subset of records sorted by the specified *sortExpression* input parameter.</span></span>
- <span data-ttu-id="ceebf-268">`TotalNumberOfProducts()` kayıtlarının toplam sayısını sağlar `Products` veritabanı tablosu.</span><span class="sxs-lookup"><span data-stu-id="ceebf-268">`TotalNumberOfProducts()` provides the total number of records in the `Products` database table.</span></span>

<span data-ttu-id="ceebf-269">Bu yöntemler kullanarak bir DataList veya Repeater denetiminde verileri sıralama ve etkili bir şekilde sayfasında kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-269">These methods can be used to efficiently page and sort through data using a DataList or Repeater control.</span></span> <span data-ttu-id="ceebf-270">Bunu açıklamak üzere; ile özel sayfalama desteğini Repeater denetimiyle oluşturarak başlayın s sağlar; sıralama özellikleri daha sonra ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-270">To illustrate this, let s start by creating a Repeater control with custom paging support; we'll then add sorting capabilities.</span></span>

<span data-ttu-id="ceebf-271">Açık `SortingWithCustomPaging.aspx` sayfasını `PagingSortingDataListRepeater` klasör ve bir yineleyici sayfasına ekleyin, `ID` özelliğini `Products`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-271">Open the `SortingWithCustomPaging.aspx` page in the `PagingSortingDataListRepeater` folder and add a Repeater to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="ceebf-272">Adlı yeni bir ObjectDataSource Repeater s akıllı etiketten oluşturma `ProductsDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-272">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="ceebf-273">Kendi verileri seçmek için yapılandırma `ProductsBLL` s sınıfı `GetProductsPaged` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-273">Configure it to select its data from the `ProductsBLL` class s `GetProductsPaged` method.</span></span>

<span data-ttu-id="ceebf-274">[![ObjectDataSource s ProductsBLL sınıfı GetProductsPaged yöntemi kullanmak üzere yapılandırma](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-274">[![Configure the ObjectDataSource to Use the ProductsBLL Class s GetProductsPaged Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span></span>

<span data-ttu-id="ceebf-275">**Şekil 12**: ObjectDataSource kullanılacak yapılandırma `ProductsBLL` s sınıfı `GetProductsPaged` yöntemi ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-275">**Figure 12**: Configure the ObjectDataSource to Use the `ProductsBLL` Class s `GetProductsPaged` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png))</span></span>

<span data-ttu-id="ceebf-276">Güncelleştirme, ekleme, açılan listeler ayarlayın, sekmeleri (hiçbiri) SİLİN ve ardından İleri düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-276">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) and then click the Next button.</span></span> <span data-ttu-id="ceebf-277">Veri Kaynağı Yapılandırma Sihirbazı'nı şimdi kaynakları için ister `GetProductsPaged` metodu s *startRowIndex* ve *maximumRows* giriş parametreleri.</span><span class="sxs-lookup"><span data-stu-id="ceebf-277">The Configure Data Source wizard now prompts for the sources of the `GetProductsPaged` method s *startRowIndex* and *maximumRows* input parameters.</span></span> <span data-ttu-id="ceebf-278">Çünkü, bu giriş parametreleri yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-278">In actuality, these input parameters are ignored.</span></span> <span data-ttu-id="ceebf-279">Bunun yerine, *startRowIndex* ve *maximumRows* değerleri geçirilir aracılığıyla `Arguments` ObjectDataSource s özelliğinde `Selecting` nasıl belirlemiş olduğu gibi olay işleyicisi *sortExpression* de Bu öğretici s ilk Tanıtımı.</span><span class="sxs-lookup"><span data-stu-id="ceebf-279">Instead, the *startRowIndex* and *maximumRows* values will be passed in through the `Arguments` property in the ObjectDataSource s `Selecting` event handler, just like how we specified the *sortExpression* in this tutorial s first demo.</span></span> <span data-ttu-id="ceebf-280">Bu nedenle, parametre kaynağıyla None Ayarlama Sihirbazı'nda açılan listeler bırakın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-280">Therefore, leave the parameter source drop-down lists in the wizard set at None .</span></span>

<span data-ttu-id="ceebf-281">[![Parametre kaynakları kümesi yok olarak bırakın.](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-281">[![Leave the Parameter Sources Set to None](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span></span>

<span data-ttu-id="ceebf-282">**Şekil 13**: Parametre kümesi kaynakları yok olarak bırakın ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-282">**Figure 13**: Leave the Parameter Sources Set to None ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span></span>

> [!NOTE]
> <span data-ttu-id="ceebf-283">Yapmak *değil* ObjectDataSource s ayarlamak `EnablePaging` özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-283">Do *not* set the ObjectDataSource s `EnablePaging` property to `true`.</span></span> <span data-ttu-id="ceebf-284">Bu otomatik olarak kendi içerecek şekilde ObjectDataSource neden *startRowIndex* ve *maximumRows* parametreleri `SelectMethod` s mevcut parametre listesi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-284">This will cause the ObjectDataSource to automatically include its own *startRowIndex* and *maximumRows* parameters to the `SelectMethod` s existing parameter list.</span></span> <span data-ttu-id="ceebf-285">`EnablePaging` Özelliği, bu denetimler belirli davranış, s ObjectDataSource beklediğiniz olduğundan bağlama özel veri FormView GridView veya DetailsView denetimi için disk belleğine alınan gerektiğinde kullanışlıdır yalnızca kullanılabilir `EnablePaging` özelliği `true`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-285">The `EnablePaging` property is useful when binding custom paged data to a GridView, DetailsView, or FormView control because these controls expect certain behavior from the ObjectDataSource that s only available when `EnablePaging` property is `true`.</span></span> <span data-ttu-id="ceebf-286">Biz DataList ve Repeater sayfalama desteğini el ile eklemek zorunda olduğundan, bu özellik kümesine bırakın `false` (varsayılan) olarak size gerekli işlevleri doğrudan bizim ASP.NET sayfası içinde hazırlama.</span><span class="sxs-lookup"><span data-stu-id="ceebf-286">Since we have to manually add the paging support for the DataList and Repeater, leave this property set to `false` (the default), as we'll bake in the needed functionality directly within our ASP.NET page.</span></span>

<span data-ttu-id="ceebf-287">Son olarak, s yineleyici tanımlamak `ItemTemplate` böylece s ürün adı, kategori ve tedarikçi gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-287">Finally, define the Repeater s `ItemTemplate` so that the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="ceebf-288">Yineleyici ve ObjectDataSource s Tanımlayıcı Sözdizimi bu değişikliklerden sonra aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-288">After these changes, the Repeater and ObjectDataSource s declarative syntax should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample10.aspx)]

<span data-ttu-id="ceebf-289">Bir tarayıcı aracılığıyla sayfasını ziyaret edin ve kayıt döndürülür not için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-289">Take a moment to visit the page through a browser and note that no records are returned.</span></span> <span data-ttu-id="ceebf-290">Bunun nedeni, size henüz belirtmek için ve *startRowIndex* ve *maximumRows* parametre değerlerini; bu nedenle, değeri 0 olarak her ikisi için geçirilen.</span><span class="sxs-lookup"><span data-stu-id="ceebf-290">This is because we ve yet to specify the *startRowIndex* and *maximumRows* parameter values; therefore, values of 0 are being passed in for both.</span></span> <span data-ttu-id="ceebf-291">Bu değerleri belirtmek için bir olay işleyicisi ObjectDataSource s için oluşturma `Selecting` olay ve bu parametrelerin değerlerini programlı olarak sabit kodlanmış değerleri 0 ile 5, sırasıyla ayarla:</span><span class="sxs-lookup"><span data-stu-id="ceebf-291">To specify these values, create an event handler for the ObjectDataSource s `Selecting` event and set these parameters values programmatically to hard-coded values of 0 and 5, respectively:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample11.cs)]

<span data-ttu-id="ceebf-292">Bu değişiklik, bir tarayıcıdan görüntülendiğinde sayfada, ilk beş ürün gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-292">With this change, the page, when viewed through a browser, shows the first five products.</span></span>

<span data-ttu-id="ceebf-293">[![İlk beş kayıt görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-293">[![The First Five Records are Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span></span>

<span data-ttu-id="ceebf-294">**Şekil 14**: İlk beş kayıt görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-294">**Figure 14**: The First Five Records are Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span></span>

> [!NOTE]
> <span data-ttu-id="ceebf-295">Şekil 14'te listelenen ürünler, çünkü ürün adına göre sıralanacak meydana `GetProductsPaged` verimli özel disk belleği sorgu gerçekleştirir saklı yordam sonuçlarına göre sıralar `ProductName`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-295">The products listed in Figure 14 happen to be sorted by product name because the `GetProductsPaged` stored procedure that performs the efficient custom paging query orders the results by `ProductName`.</span></span>

<span data-ttu-id="ceebf-296">Sayfalar arasında adım kullanıcı için başlangıç satır dizini ve en fazla satır izlemek ve bu değerleri Geri göndermeler arasında gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="ceebf-296">In order to allow the user to step through the pages, we need to keep track of the start row index and maximum rows and remember these values across postbacks.</span></span> <span data-ttu-id="ceebf-297">Varsayılan disk belleği örneğinde bu değerleri kalıcı hale getirmek için sorgu dizesi alanlar kullanılan; Bu Tanıtım için bu sayfayı s görünüm durumu bilgileri kalıcı s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-297">In the default paging example we used querystring fields to persist these values; for this demo, let s persist this information in the page s view state.</span></span> <span data-ttu-id="ceebf-298">Aşağıdaki iki özelliği oluşturun:</span><span class="sxs-lookup"><span data-stu-id="ceebf-298">Create the following two properties:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample12.cs)]

<span data-ttu-id="ceebf-299">Ardından, kullandığı seçme olay işleyicisinde kodu güncelleştirmeniz `StartRowIndex` ve `MaximumRows` 0 ve 5 sabit kodlanmış değerler yerine özellikleri:</span><span class="sxs-lookup"><span data-stu-id="ceebf-299">Next, update the code in the Selecting event handler so that it uses the `StartRowIndex` and `MaximumRows` properties instead of the hard-coded values of 0 and 5:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample13.cs)]

<span data-ttu-id="ceebf-300">Bu noktada sayfamızda, yalnızca ilk beş kaydı yine de gösterilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-300">At this point our page still shows just the first five records.</span></span> <span data-ttu-id="ceebf-301">Ancak, şu özelliklere sahip bir yerde biz yeniden disk belleği arabirimimizi oluşturmak için hazır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-301">However, with these properties in place, we re ready to create our paging interface.</span></span>

## <a name="adding-the-paging-interface"></a><span data-ttu-id="ceebf-302">Disk belleği arabirim ekleme</span><span class="sxs-lookup"><span data-stu-id="ceebf-302">Adding the Paging Interface</span></span>

<span data-ttu-id="ceebf-303">Let s kullanımı aynı ilk, önceki son sayfalama yanında, arabirim, hangi veri sayfasını görüntüleyen denetim görüntülenebilir etiketi Web dahil olmak üzere varsayılan sayfalama örnek ve kaç toplam sayfa mevcut kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-303">Let s use the same First, Previous, Next, Last paging interface used in the default paging example, including the Label Web control that displays what page of data is being viewed and how many total pages exist.</span></span> <span data-ttu-id="ceebf-304">Dört düğme Web denetimleri ve yineleyici altına etiketi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="ceebf-304">Add the four Button Web controls and Label below the Repeater.</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample14.aspx)]

<span data-ttu-id="ceebf-305">Ardından, oluşturma `Click` dört düğme için olay işleyicileri.</span><span class="sxs-lookup"><span data-stu-id="ceebf-305">Next, create `Click` event handlers for the four Buttons.</span></span> <span data-ttu-id="ceebf-306">Aşağıdaki düğmelerden birine tıklandığında güncelleştirmek ihtiyacımız `StartRowIndex` ve yineleyici verileri yeniden bağlayın.</span><span class="sxs-lookup"><span data-stu-id="ceebf-306">When one of these Buttons is clicked, we need to update the `StartRowIndex` and rebind the data to the Repeater.</span></span> <span data-ttu-id="ceebf-307">Kod ilk, önceki ve sonraki düğmeleri için yeteri kadar basittir, ancak son düğme için nasıl veri son sayfası için başlangıç satır dizini belirleriz?</span><span class="sxs-lookup"><span data-stu-id="ceebf-307">The code for the First, Previous, and Next buttons is simple enough, but for the Last button how do we determine the start row index for the last page of data?</span></span> <span data-ttu-id="ceebf-308">Bu dizin yanı sıra İleri ve son düğmeleri etkinleştirilmesi gerekip gerekmediğini aracılığıyla toplamda kaç kaydın havuzda bilmek ihtiyacımız belirlemek mümkün hesaplamak için.</span><span class="sxs-lookup"><span data-stu-id="ceebf-308">To compute this index as well as being able to determine whether the Next and Last buttons should be enabled we need to know how many records in total are being paged through.</span></span> <span data-ttu-id="ceebf-309">Biz çağırarak belirleyebilirsiniz `ProductsBLL` s sınıfı `TotalNumberOfProducts()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-309">We can determine this by calling the `ProductsBLL` class s `TotalNumberOfProducts()` method.</span></span> <span data-ttu-id="ceebf-310">Let s oluşturma adlı bir salt okunur, sayfa düzeyi özellik `TotalRowCount` sonuçları döndüren `TotalNumberOfProducts()` yöntemi:</span><span class="sxs-lookup"><span data-stu-id="ceebf-310">Let s create a read-only, page-level property named `TotalRowCount` that returns the results of the `TotalNumberOfProducts()` method:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample15.cs)]

<span data-ttu-id="ceebf-311">Bu özellik artık son sayfa s başlangıç satır dizini belirleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-311">With this property we can now determine the last page s start row index.</span></span> <span data-ttu-id="ceebf-312">Özellikle, s tamsayı sonucu, `TotalRowCount` eksi 1 bölü `MaximumRows`, tarafından çarpılan `MaximumRows`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-312">Specifically, it s the integer result of the `TotalRowCount` minus 1 divided by `MaximumRows`, multiplied by `MaximumRows`.</span></span> <span data-ttu-id="ceebf-313">Artık yazabiliriz `Click` dört sayfalama arabirimi düğme için olay işleyicileri:</span><span class="sxs-lookup"><span data-stu-id="ceebf-313">We can now write the `Click` event handlers for the four paging interface buttons:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample16.cs)]

<span data-ttu-id="ceebf-314">Son olarak, veri ve sonraki ve son düğmeleri'nın ilk sayfasında son sayfayı görüntülerken görüntülerken disk belleği arabiriminde ilk ve önceki düğmeleri devre dışı bırakmak ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="ceebf-314">Finally, we need to disable the First and Previous buttons in the paging interface when viewing the first page of data and the Next and Last buttons when viewing the last page.</span></span> <span data-ttu-id="ceebf-315">Bunu gerçekleştirmek için aşağıdaki kodu ekleyin ObjectDataSource s `Selecting` olay işleyicisi:</span><span class="sxs-lookup"><span data-stu-id="ceebf-315">To accomplish this, add the following code to the ObjectDataSource s `Selecting` event handler:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample17.cs)]

<span data-ttu-id="ceebf-316">Bunlar ekledikten sonra `Click` olay işleyicileri ve kodu etkinleştirmek veya devre dışı geçerli başlangıç satır dizinini temel alarak sayfalama arabirimi öğeleri için test sayfası tarayıcıda.</span><span class="sxs-lookup"><span data-stu-id="ceebf-316">After adding these `Click` event handlers and the code to enable or disable the paging interface elements based on the current start row index, test the page in a browser.</span></span> <span data-ttu-id="ceebf-317">İlk sayfa ilk ziyaret edildiğinde Şekil 15 gösterir ve önceki düğmeleri olacak şekilde devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="ceebf-317">As Figure 15 illustrates, when first visiting the page the First and Previous buttons will are disabled.</span></span> <span data-ttu-id="ceebf-318">İleri'ye tıklama gösterir, verilerin ikinci sayfasında son tıklayarak son sayfayı görüntülerken (Şekil 16. ve 17 bakın).</span><span class="sxs-lookup"><span data-stu-id="ceebf-318">Clicking Next shows the second page of data, while clicking Last displays the final page (see Figures 16 and 17).</span></span> <span data-ttu-id="ceebf-319">Verilerin son sayfayı görüntülerken İleri ve son düğmeleri devre dışı bırakıldı.</span><span class="sxs-lookup"><span data-stu-id="ceebf-319">When viewing the last page of data both the Next and Last buttons are disabled.</span></span>

<span data-ttu-id="ceebf-320">[![Önceki ve son düğmeler, ilk sayfa ürünleri görüntülerken devre dışı bırakıldı](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-320">[![The Previous and Last Buttons are Disabled When Viewing the First Page of Products](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span></span>

<span data-ttu-id="ceebf-321">**Şekil 15**: Önceki ve son düğmeler, ilk sayfa ürünleri görüntülerken devre dışı bırakıldı ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-321">**Figure 15**: The Previous and Last Buttons are Disabled When Viewing the First Page of Products ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span></span>

<span data-ttu-id="ceebf-322">[![İkinci sayfa ürünleri görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-322">[![The Second Page of Products are Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span></span>

<span data-ttu-id="ceebf-323">**Şekil 16**: İkinci sayfa ürünleri görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-323">**Figure 16**: The Second Page of Products are Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span></span>

<span data-ttu-id="ceebf-324">[![Tıklayarak son görüntüler verinin son sayfa](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-324">[![Clicking Last Displays the Final Page of Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span></span>

<span data-ttu-id="ceebf-325">**Şekil 17**: Son tıklayarak, son sayfasında veri görüntüler ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-325">**Figure 17**: Clicking Last Displays the Final Page of Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span></span>

## <a name="step-7-including-sorting-support-with-the-custom-paged-repeater"></a><span data-ttu-id="ceebf-326">7. Adım: Repeater ile özel destek sıralama dahil olmak üzere disk belleğine alınan</span><span class="sxs-lookup"><span data-stu-id="ceebf-326">Step 7: Including Sorting Support with the Custom Paged Repeater</span></span>

<span data-ttu-id="ceebf-327">Özel disk belleği uygulanmıştır, yeniden sıralama dahil etmek için hazır destekliyoruz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-327">Now that custom paging has been implemented, we re ready to include sorting support.</span></span> <span data-ttu-id="ceebf-328">`ProductsBLL` s sınıfı `GetProductsPagedAndSorted` yöntemi aynı olan *startRowIndex* ve *maximumRows* giriş parametreleri olarak `GetProductsPaged`, ancak bir ek izin veren  *sortExpression* giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-328">The `ProductsBLL` class s `GetProductsPagedAndSorted` method has the same *startRowIndex* and *maximumRows* input parameters as `GetProductsPaged`, but permits an additional *sortExpression* input parameter.</span></span> <span data-ttu-id="ceebf-329">Kullanılacak `GetProductsPagedAndSorted` yönteminden `SortingWithCustomPaging.aspx`, aşağıdaki adımları gerçekleştirmeniz gerekir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-329">To use the `GetProductsPagedAndSorted` method from `SortingWithCustomPaging.aspx`, we need to perform the following steps:</span></span>

1. <span data-ttu-id="ceebf-330">ObjectDataSource s değiştirme `SelectMethod` özelliğinden `GetProductsPaged` için `GetProductsPagedAndSorted`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-330">Change the ObjectDataSource s `SelectMethod` property from `GetProductsPaged` to `GetProductsPagedAndSorted`.</span></span>
2. <span data-ttu-id="ceebf-331">Ekleme bir *sortExpression* `Parameter` ObjectDataSource s nesnesine `SelectParameters` koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="ceebf-331">Add a *sortExpression* `Parameter` object to the ObjectDataSource s `SelectParameters` collection.</span></span>
3. <span data-ttu-id="ceebf-332">Bir özel, sayfa düzeyi oluşturma `SortExpression` değerini s sayfanın görünüm durumu aracılığıyla Geri göndermeler arasında kalıcı bir özelliği.</span><span class="sxs-lookup"><span data-stu-id="ceebf-332">Create a private, page-level `SortExpression` property that persists its value across postbacks through the page s view state.</span></span>
4. <span data-ttu-id="ceebf-333">ObjectDataSource s güncelleştirme `Selecting` ObjectDataSource s atamak için olay işleyicisi *sortExpression* parametre değeri, sayfa düzeyi `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ceebf-333">Update the ObjectDataSource s `Selecting` event handler to assign the ObjectDataSource s *sortExpression* parameter the value of the page-level `SortExpression` property.</span></span>
5. <span data-ttu-id="ceebf-334">Sıralama arabirimi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ceebf-334">Create the sorting interface.</span></span>

<span data-ttu-id="ceebf-335">Başlangıç ObjectDataSource s güncelleştirerek `SelectMethod` özelliği ve ekleyerek bir *sortExpression* `Parameter`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-335">Start by updating the ObjectDataSource s `SelectMethod` property and adding a *sortExpression* `Parameter`.</span></span> <span data-ttu-id="ceebf-336">Emin olun *sortExpression* `Parameter` s `Type` özelliği `String`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-336">Make sure that the *sortExpression* `Parameter` s `Type` property is set to `String`.</span></span> <span data-ttu-id="ceebf-337">Bu ilk iki görevleri tamamladıktan sonra bildirim temelli biçimlendirme ObjectDataSource s aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="ceebf-337">After completing these first two tasks, the ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample18.aspx)]

<span data-ttu-id="ceebf-338">Ardından, sayfa düzeyi ihtiyacımız `SortExpression` özellik değeri durumunu görüntülemek için serileştirilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-338">Next, we need a page-level `SortExpression` property whose value is serialized to view state.</span></span> <span data-ttu-id="ceebf-339">Herhangi bir sıralama ifadesi değer ayarlarsanız ProductName varsayılan olarak kullanın:</span><span class="sxs-lookup"><span data-stu-id="ceebf-339">If no sort expression value has been set, use ProductName as the default:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample19.cs)]

<span data-ttu-id="ceebf-340">ObjectDataSource çağırır önce `GetProductsPagedAndSorted` yöntemi ayarlamak için ihtiyacımız *sortExpression* `Parameter` değerine `SortExpression` özelliği.</span><span class="sxs-lookup"><span data-stu-id="ceebf-340">Before the ObjectDataSource invokes the `GetProductsPagedAndSorted` method we need to set the *sortExpression* `Parameter` to the value of the `SortExpression` property.</span></span> <span data-ttu-id="ceebf-341">İçinde `Selecting` olay işleyicisi, aşağıdaki kod satırını ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ceebf-341">In the `Selecting` event handler, add the following line of code:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample20.cs)]

<span data-ttu-id="ceebf-342">Kalan tek şey sıralama arabirim uygulamak için.</span><span class="sxs-lookup"><span data-stu-id="ceebf-342">All that remains is to implement the sorting interface.</span></span> <span data-ttu-id="ceebf-343">Son örnekte yaptığımız gibi sonuçları sıralamak kullanıcının olanak tanıyan üç düğme Web denetimleri kullanarak, ürün adı, kategori veya sağlayıcı tarafından uygulanan sıralama arabirimine sahip s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-343">As we did in the last example, let s have the sorting interface implemented using three Button Web controls that allow the user to sort the results by product name, category, or supplier.</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample21.aspx)]

<span data-ttu-id="ceebf-344">Oluşturma `Click` bu üç düğme denetimleri için olay işleyicileri.</span><span class="sxs-lookup"><span data-stu-id="ceebf-344">Create `Click` event handlers for these three Button controls.</span></span> <span data-ttu-id="ceebf-345">Olay işleyicisi, sıfırlama `StartRowIndex` 0'a ayarlanmış `SortExpression` uygun değeri ve yeniden bağlamasını Repeater verileri:</span><span class="sxs-lookup"><span data-stu-id="ceebf-345">In the event handler, reset the `StartRowIndex` to 0, set the `SortExpression` to the appropriate value, and rebind the data to the Repeater:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample22.cs)]

<span data-ttu-id="ceebf-346">Tüm var. Bu s için İşte bu kadar!</span><span class="sxs-lookup"><span data-stu-id="ceebf-346">That s all there is to it!</span></span> <span data-ttu-id="ceebf-347">Bir dizi özel sayfalama ve sıralama uygulanan alma adımlarını kopyalanırken adımları varsayılan sayfalama gerekenler için çok benzer.</span><span class="sxs-lookup"><span data-stu-id="ceebf-347">While there were a number of steps to get custom paging and sorting implemented, the steps were very similar to those needed for default paging.</span></span> <span data-ttu-id="ceebf-348">Kategoriye göre sıralanmış veri son sayfayı görüntülerken, Şekil 18 ürünlerini gösterir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-348">Figure 18 shows the products when viewing the last page of data when sorted by category.</span></span>

<span data-ttu-id="ceebf-349">[![Son sayfa verileri, kategoriye göre Sorted görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="ceebf-349">[![The Last Page of Data, Sorted by Category, is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span></span>

<span data-ttu-id="ceebf-350">**Şekil 18**: Son sayfa verileri, kategoriye göre Sorted görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span><span class="sxs-lookup"><span data-stu-id="ceebf-350">**Figure 18**: The Last Page of Data, Sorted by Category, is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span></span>

> [!NOTE]
> <span data-ttu-id="ceebf-351">Üretici, sıralama ifadesi kullanılan sağlayıcı tarafından sıralarken önceki örneklerde.</span><span class="sxs-lookup"><span data-stu-id="ceebf-351">In previous examples, when sorting by the supplier SupplierName was used as the sort expression.</span></span> <span data-ttu-id="ceebf-352">Ancak, özel sayfalama uygulama için biz CompanyName kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-352">However, for the custom paging implementation, we need to use CompanyName.</span></span> <span data-ttu-id="ceebf-353">Bunun nedeni, özel disk belleği uygulamak için sorumlu saklı yordamı `GetProductsPagedAndSorted` sıralama ifadesine geçirir `ROW_NUMBER()` anahtar sözcüğü, `ROW_NUMBER()` anahtar sözcüğü, bir diğer ad yerine gerçek sütun adı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-353">This is because the stored procedure responsible for implementing custom paging `GetProductsPagedAndSorted` passes the sort expression into the `ROW_NUMBER()` keyword, The `ROW_NUMBER()` keyword requires the actual column name rather than an alias.</span></span> <span data-ttu-id="ceebf-354">Bu nedenle, biz kullanmalısınız `CompanyName` (sütun adı `Suppliers` tablo) kullanılan diğer adı yerine `SELECT` sorgu (`SupplierName`) sıralama ifadesi için.</span><span class="sxs-lookup"><span data-stu-id="ceebf-354">Therefore, we must use `CompanyName` (the name of the column in the `Suppliers` table) rather than the alias used in the `SELECT` query (`SupplierName`) for the sort expression.</span></span>

## <a name="summary"></a><span data-ttu-id="ceebf-355">Özet</span><span class="sxs-lookup"><span data-stu-id="ceebf-355">Summary</span></span>

<span data-ttu-id="ceebf-356">Ne DataList veya Repeater sıralama yerleşik destek sağlar, ancak bu işlevselliğin bir bit kod ve özel bir sıralama arabirim eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="ceebf-356">Neither the DataList nor Repeater offer built-in sorting support, but with a bit of code and a custom sorting interface, such functionality can be added.</span></span> <span data-ttu-id="ceebf-357">Aracılığıyla sıralama, ancak değil sayfalama uygularken, sıralama ifadesi belirtilebilir `DataSourceSelectArguments` nesnesi geçirildi ObjectDataSource s ile `Select` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-357">When implementing sorting, but not paging, the sort expression can be specified through the `DataSourceSelectArguments` object passed into the ObjectDataSource s `Select` method.</span></span> <span data-ttu-id="ceebf-358">Bu `DataSourceSelectArguments` s nesnesi `SortExpression` özelliği ObjectDataSource s'te atanabilir `Selecting` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-358">This `DataSourceSelectArguments` object s `SortExpression` property can be assigned in the ObjectDataSource s `Selecting` event handler.</span></span>

<span data-ttu-id="ceebf-359">DataList veya Repeater sayfalama desteği sağlayan sıralama yetenekleri eklemek için bir sıralama ifadesi kabul eden bir yönteme içerecek şekilde iş mantığı katmanı özelleştirmek için en kolay yaklaşım olduğu.</span><span class="sxs-lookup"><span data-stu-id="ceebf-359">To add sorting capabilities to a DataList or Repeater that already provides paging support, the easiest approach is to customize the Business Logic Layer to include a method that accepts a sort expression.</span></span> <span data-ttu-id="ceebf-360">Bu bilgiler daha sonra bir parametre ObjectDataSource s üzerinden geçirilebilir `SelectParameters`.</span><span class="sxs-lookup"><span data-stu-id="ceebf-360">This information can then be passed in through a parameter in the ObjectDataSource s `SelectParameters`.</span></span>

<span data-ttu-id="ceebf-361">Bu öğreticide, sayfalama ve sıralama DataList ve Repeater denetimleri ile bizim İnceleme tamamlar.</span><span class="sxs-lookup"><span data-stu-id="ceebf-361">This tutorial completes our examination of paging and sorting with the DataList and Repeater controls.</span></span> <span data-ttu-id="ceebf-362">İleri ve son öğreticimize öğesi başına temelinde, kullanıcı tarafından başlatılan özel işlevsellik sağlamak için DataList ve Repeater s şablonlara düğmesi Web denetimleri ekleme inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="ceebf-362">Our next and final tutorial will examine how to add Button Web controls to the DataList and Repeater s templates in order to provide some custom, user-initiated functionality on a per-item basis.</span></span>

<span data-ttu-id="ceebf-363">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="ceebf-363">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="ceebf-364">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="ceebf-364">About the Author</span></span>

<span data-ttu-id="ceebf-365">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-365">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ceebf-366">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="ceebf-366">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ceebf-367">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="ceebf-367">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="ceebf-368">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ceebf-368">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="ceebf-369">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="ceebf-369">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="ceebf-370">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="ceebf-370">Special Thanks To</span></span>

<span data-ttu-id="ceebf-371">Bu öğretici serisinde, birçok yararlı Gözden Geçiren tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="ceebf-371">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="ceebf-372">Bu öğretici için müşteri adayı İnceleme David Suru oluştu.</span><span class="sxs-lookup"><span data-stu-id="ceebf-372">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="ceebf-373">Yaklaşan My MSDN makaleleri gözden geçirme ilgileniyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="ceebf-373">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="ceebf-374">Bu durumda, bir satır bana bırak [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ceebf-374">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ceebf-375">[Önceki](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
> [İleri](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="ceebf-375">[Previous](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
[Next](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span></span>
