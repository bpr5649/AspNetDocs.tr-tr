---
uid: web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
title: DataList veya Repeater denetiminde verileri sıralama (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, verileri DataList ve Repeater ' da sıralama desteğinin yanı sıra, verilerini oluşturabilen bir DataList veya Repeater oluşturmayı inceleyeceğiz...
ms.author: riande
ms.date: 11/13/2006
ms.assetid: f52c302a-1b7c-46fe-8a13-8412c95cbf6d
msc.legacyurl: /web-forms/overview/data-access/paging-and-sorting-with-the-datalist-and-repeater/sorting-data-in-a-datalist-or-repeater-control-cs
msc.type: authoredcontent
ms.openlocfilehash: 66a09c637d33c812b39e0ce85a552bd71665a2e1
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74634658"
---
# <a name="sorting-data-in-a-datalist-or-repeater-control-c"></a><span data-ttu-id="36685-103">DataList veya Repeater Denetiminde Verileri Sıralama (C#)</span><span class="sxs-lookup"><span data-stu-id="36685-103">Sorting Data in a DataList or Repeater Control (C#)</span></span>

<span data-ttu-id="36685-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="36685-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="36685-105">[Örnek uygulamayı indirin](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) veya [PDF 'yi indirin](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="36685-105">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_45_CS.exe) or [Download PDF](sorting-data-in-a-datalist-or-repeater-control-cs/_static/datatutorial45cs1.pdf)</span></span>

> <span data-ttu-id="36685-106">Bu öğreticide, veri Sayfalanmış ve sıralanmış bir DataList veya Repeater oluşturma desteğinin yanı sıra DataList ve Repeater ' da sıralama desteğinin nasıl ekleneceğini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="36685-106">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>

## <a name="introduction"></a><span data-ttu-id="36685-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="36685-107">Introduction</span></span>

<span data-ttu-id="36685-108">[Önceki öğreticide](paging-report-data-in-a-datalist-or-repeater-control-cs.md) , bir DataList 'e disk belleği desteğinin nasıl ekleneceğini inceliyoruz.</span><span class="sxs-lookup"><span data-stu-id="36685-108">In the [previous tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to add paging support to a DataList.</span></span> <span data-ttu-id="36685-109">`PagedDataSource` nesnesi döndüren `ProductsBLL` sınıfında (`GetProductsAsPagedDataSource`) yeni bir yöntem oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="36685-109">We created a new method in the `ProductsBLL` class (`GetProductsAsPagedDataSource`) that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="36685-110">DataList veya Repeater 'a bağlandığında, DataList veya Repeater yalnızca istenen veri sayfasını görüntüler.</span><span class="sxs-lookup"><span data-stu-id="36685-110">When bound to a DataList or Repeater, the DataList or Repeater would display just the requested page of data.</span></span> <span data-ttu-id="36685-111">Bu teknik, yerleşik varsayılan sayfalama işlevlerini sağlamak için GridView, DetailsView ve FormView denetimleri tarafından dahili olarak kullanılan ile benzerdir.</span><span class="sxs-lookup"><span data-stu-id="36685-111">This technique is similar to what is used internally by the GridView, DetailsView, and FormView controls to provide their built-in default paging functionality.</span></span>

<span data-ttu-id="36685-112">GridView, sayfalama desteğinin yanı sıra, kullanıma hazır sıralama desteğini de içerir.</span><span class="sxs-lookup"><span data-stu-id="36685-112">In addition to offering paging support, the GridView also includes out of the box sorting support.</span></span> <span data-ttu-id="36685-113">DataList veya Repeater, yerleşik sıralama işlevselliği sağlar; Ancak, sıralama özellikleri bir kod ile eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="36685-113">Neither the DataList nor Repeater provides built-in sorting functionality; however, sorting features can be added with a bit of code.</span></span> <span data-ttu-id="36685-114">Bu öğreticide, veri Sayfalanmış ve sıralanmış bir DataList veya Repeater oluşturma desteğinin yanı sıra DataList ve Repeater ' da sıralama desteğinin nasıl ekleneceğini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="36685-114">In this tutorial we'll examine how to include sorting support in the DataList and Repeater, as well as how to construct a DataList or Repeater whose data can be paged and sorted.</span></span>

## <a name="a-review-of-sorting"></a><span data-ttu-id="36685-115">Sıralamayı gözden geçirme</span><span class="sxs-lookup"><span data-stu-id="36685-115">A Review of Sorting</span></span>

<span data-ttu-id="36685-116">[Sayfalama ve rapor verilerini sıralama](../paging-and-sorting/paging-and-sorting-report-data-cs.md) öğreticisinde gördüğünüz gibi, GridView denetimi kullanıma hazır sıralama desteği sunar.</span><span class="sxs-lookup"><span data-stu-id="36685-116">As we saw in the [Paging and Sorting Report Data](../paging-and-sorting/paging-and-sorting-report-data-cs.md) tutorial, the GridView control provides out of the box sorting support.</span></span> <span data-ttu-id="36685-117">Her GridView alanı, verilerin sıralanma ölçütü olan veri alanını gösteren ilişkili bir `SortExpression`sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="36685-117">Each GridView field can have an associated `SortExpression`, which indicates the data field by which to sort the data.</span></span> <span data-ttu-id="36685-118">GridView s `AllowSorting` özelliği `true`olarak ayarlandığında, bir `SortExpression` özellik değerine sahip her GridView alanının üst bilgisi bir LinkButton olarak işlenir.</span><span class="sxs-lookup"><span data-stu-id="36685-118">When the GridView s `AllowSorting` property is set to `true`, each GridView field that has a `SortExpression` property value has its header rendered as a LinkButton.</span></span> <span data-ttu-id="36685-119">Bir Kullanıcı belirli bir GridView alanı üst bilgisine tıkladığında, bir geri gönderme gerçekleşir ve veriler, tıklanan alana göre sıralanır `SortExpression`.</span><span class="sxs-lookup"><span data-stu-id="36685-119">When a user clicks a particular GridView field s header, a postback occurs and the data is sorted according to the clicked field s `SortExpression`.</span></span>

<span data-ttu-id="36685-120">GridView denetiminin, verilerin sıralandığı GridView alanının `SortExpression` depolayan bir `SortExpression` özelliği de vardır.</span><span class="sxs-lookup"><span data-stu-id="36685-120">The GridView control has a `SortExpression` property as well, which stores the `SortExpression` of the GridView field the data is sorted by.</span></span> <span data-ttu-id="36685-121">Ayrıca, `SortDirection` özellik verilerin artan veya azalan düzende sıralanacağını belirtir (bir Kullanıcı belirli bir GridView alanı üst bilgi bağlantısını art arda iki kez tıklarsa sıralama düzeni değiştirilebilir).</span><span class="sxs-lookup"><span data-stu-id="36685-121">Additionally, a `SortDirection` property indicates whether the data is to be sorted in ascending or descending order (if a user clicks a particular GridView field s header link twice in succession, the sort order is toggled).</span></span>

<span data-ttu-id="36685-122">GridView, veri kaynağı denetimine bağlandığında, `SortExpression` ve `SortDirection` özelliklerini veri kaynağı denetimine bırakır.</span><span class="sxs-lookup"><span data-stu-id="36685-122">When the GridView is bound to its data source control, it hands off its `SortExpression` and `SortDirection` properties to the data source control.</span></span> <span data-ttu-id="36685-123">Veri kaynağı denetimi verileri alır ve sonra sağlanan `SortExpression` ve `SortDirection` özelliklerine göre sıralar.</span><span class="sxs-lookup"><span data-stu-id="36685-123">The data source control retrieves the data and then sorts it according to the supplied `SortExpression` and `SortDirection` properties.</span></span> <span data-ttu-id="36685-124">Verileri sıraladıktan sonra veri kaynağı denetimi GridView 'a geri döndürür.</span><span class="sxs-lookup"><span data-stu-id="36685-124">After sorting the data, the data source control returns it to the GridView.</span></span>

<span data-ttu-id="36685-125">Bu işlevselliği DataList veya Yineleyici denetimleriyle çoğaltmak için şunları yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="36685-125">To replicate this functionality with the DataList or Repeater controls, we must:</span></span>

- <span data-ttu-id="36685-126">Sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="36685-126">Create a sorting interface</span></span>
- <span data-ttu-id="36685-127">Sıralama yapılacak veri alanını ve artan veya azalan düzende sıralama yapılıp yapılmayacağını unutmayın</span><span class="sxs-lookup"><span data-stu-id="36685-127">Remember the data field to sort by and whether to sort in ascending or descending order</span></span>
- <span data-ttu-id="36685-128">ObjectDataSource 'a verileri belirli bir veri alanına göre sıralamayı bildirin</span><span class="sxs-lookup"><span data-stu-id="36685-128">Instruct the ObjectDataSource to sort the data by a particular data field</span></span>

<span data-ttu-id="36685-129">3 ve 4. adımlarda bu üç görevi ele alacağız.</span><span class="sxs-lookup"><span data-stu-id="36685-129">We'll tackle these three tasks in steps 3 and 4.</span></span> <span data-ttu-id="36685-130">Bunun ardından, bir DataList veya Repeater içinde hem sayfalama hem de sıralama desteğinin nasıl ekleneceğini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="36685-130">Following that, we'll examine how to include both paging and sorting support in a DataList or Repeater.</span></span>

## <a name="step-2-displaying-the-products-in-a-repeater"></a><span data-ttu-id="36685-131">2\. Adım: bir yineleyici içinde ürünleri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="36685-131">Step 2: Displaying the Products in a Repeater</span></span>

<span data-ttu-id="36685-132">Sıralama ile ilgili işlevlerden herhangi birini uygulama konusunda endişelenmemiz için önce bir yineleyici denetimindeki ürünleri listeleyerek başlayalım.</span><span class="sxs-lookup"><span data-stu-id="36685-132">Before we worry about implementing any of the sorting-related functionality, let s start by listing the products in a Repeater control.</span></span> <span data-ttu-id="36685-133">`PagingSortingDataListRepeater` klasöründeki `Sorting.aspx` sayfasını açarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-133">Start by opening the `Sorting.aspx` page in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="36685-134">Web sayfasına bir yineleyici denetimi ekleyin, `ID` özelliğini `SortableProducts`olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="36685-134">Add a Repeater control to the web page, setting its `ID` property to `SortableProducts`.</span></span> <span data-ttu-id="36685-135">Yineleyicisi 'nin akıllı etiketinde `ProductsDataSource` adlı yeni bir ObjectDataSource oluşturun ve `ProductsBLL` sınıf s `GetProducts()` yönteminden verileri almak üzere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="36685-135">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource` and configure it to retrieve data from the `ProductsBLL` class s `GetProducts()` method.</span></span> <span data-ttu-id="36685-136">Ekle, GÜNCELLEŞTIR ve SIL sekmelerinde açılan listelerden (hiçbiri) seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-136">Select the (None) option from the drop-down lists in the INSERT, UPDATE, and DELETE tabs.</span></span>

<span data-ttu-id="36685-137">[![bir ObjectDataSource oluşturun ve bunu GetProductsAsPagedDataSource () metodunu kullanacak şekilde yapılandırın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="36685-137">[![Create an ObjectDataSource and Configure it to Use the GetProductsAsPagedDataSource() Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image2.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image1.png)</span></span>

<span data-ttu-id="36685-138">**Şekil 1**: bir ObjectDataSource oluşturun ve `GetProductsAsPagedDataSource()` metodunu kullanacak şekilde yapılandırın ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="36685-138">**Figure 1**: Create an ObjectDataSource and Configure it to Use the `GetProductsAsPagedDataSource()` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image3.png))</span></span>

<span data-ttu-id="36685-139">[GÜNCELLEŞTIRME, ekleme ve SILME sekmelerindeki açılan listeleri (hiçbiri) ![ayarla](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="36685-139">[![Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image5.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image4.png)</span></span>

<span data-ttu-id="36685-140">**Şekil 2**: GÜNCELLEŞTIRME, ekleme ve silme sekmelerinden açılan listeleri (yok) ayarlayın ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="36685-140">**Figure 2**: Set the Drop-Down Lists in the UPDATE, INSERT, and DELETE tabs to (None) ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image6.png))</span></span>

<span data-ttu-id="36685-141">DataList ile farklı olarak, Visual Studio bir veri kaynağına bağlamadan sonra Yineleyici denetimi için otomatik olarak bir `ItemTemplate` oluşturmaz.</span><span class="sxs-lookup"><span data-stu-id="36685-141">Unlike with the DataList, Visual Studio does not automatically create an `ItemTemplate` for the Repeater control after binding it to a data source.</span></span> <span data-ttu-id="36685-142">Ayrıca, yineleyici denetimi ' nin akıllı etiketinde DataList 'te bulunan Şablonları Düzenle seçeneği bulunmadığından bu `ItemTemplate` bildirimli olarak eklememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-142">Furthermore, we must add this `ItemTemplate` declaratively, as the Repeater control s smart tag lacks the Edit Templates option found in the DataList s.</span></span> <span data-ttu-id="36685-143">Ürünlerin adı, tedarikçisini ve kategorisini görüntüleyen önceki öğreticiden aynı `ItemTemplate` kullanmasına izin verin.</span><span class="sxs-lookup"><span data-stu-id="36685-143">Let s use the same `ItemTemplate` from the previous tutorial, which displayed the product s name, supplier, and category.</span></span>

<span data-ttu-id="36685-144">`ItemTemplate`eklendikten sonra, Repeater ve ObjectDataSource 'un bildirim temelli işaretlemesi aşağıdakine benzer olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="36685-144">After adding the `ItemTemplate`, the Repeater and ObjectDataSource s declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample1.aspx)]

<span data-ttu-id="36685-145">Şekil 3 ' te Bu sayfa bir tarayıcı aracılığıyla görüntülenirken gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="36685-145">Figure 3 shows this page when viewed through a browser.</span></span>

<span data-ttu-id="36685-146">[Her ürün adı, sağlayıcı ve kategori ![görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="36685-146">[![Each Product s Name, Supplier, and Category is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image8.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image7.png)</span></span>

<span data-ttu-id="36685-147">**Şekil 3**: her ürün adı, sağlayıcı ve kategori görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="36685-147">**Figure 3**: Each Product s Name, Supplier, and Category is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image9.png))</span></span>

## <a name="step-3-instructing-the-objectdatasource-to-sort-the-data"></a><span data-ttu-id="36685-148">3\. Adım: verileri sıralamak için ObjectDataSource 'ı sıralama</span><span class="sxs-lookup"><span data-stu-id="36685-148">Step 3: Instructing the ObjectDataSource to Sort the Data</span></span>

<span data-ttu-id="36685-149">Yineleyicisi 'nde görünen verileri sıralamak için, verilerin sıralanması gereken sıralama ifadesinin ObjectDataSource 'u bilgilendirmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-149">To sort the data displayed in the Repeater, we need to inform the ObjectDataSource of the sort expression by which the data should be sorted.</span></span> <span data-ttu-id="36685-150">ObjectDataSource, verilerini almadan önce bir sıralama ifadesi belirtmemizi sağlayan bir fırsat sunan [`Selecting` olayını](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx)tetikler.</span><span class="sxs-lookup"><span data-stu-id="36685-150">Before the ObjectDataSource retrieves its data, it first fires its [`Selecting` event](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.selecting.aspx), which provides an opportunity for us to specify a sort expression.</span></span> <span data-ttu-id="36685-151">`Selecting` olay işleyicisi, [`DataSourceSelectArguments`](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx)türünde [`Arguments`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) adında bir özelliğe sahip [`ObjectDataSourceSelectingEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx)türünde bir nesne geçirdi.</span><span class="sxs-lookup"><span data-stu-id="36685-151">The `Selecting` event handler is passed an object of type [`ObjectDataSourceSelectingEventArgs`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.aspx), which has a property named [`Arguments`](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasourceselectingeventargs.arguments.aspx) of type [`DataSourceSelectArguments`](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.aspx).</span></span> <span data-ttu-id="36685-152">`DataSourceSelectArguments` sınıfı, veri tüketiciden veri kaynağı denetimine verilerle ilgili istekleri geçirmek için tasarlanmıştır ve bir [`SortExpression` özelliği](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx)içerir.</span><span class="sxs-lookup"><span data-stu-id="36685-152">The `DataSourceSelectArguments` class is designed to pass data-related requests from a consumer of data to the data source control, and includes a [`SortExpression` property](https://msdn.microsoft.com/library/system.web.ui.datasourceselectarguments.sortexpression.aspx).</span></span>

<span data-ttu-id="36685-153">ASP.NET sayfasından ObjectDataSource 'a sıralama bilgilerini geçirmek için, `Selecting` olayı için bir olay işleyicisi oluşturun ve aşağıdaki kodu kullanın:</span><span class="sxs-lookup"><span data-stu-id="36685-153">To pass sorting information from the ASP.NET page to the ObjectDataSource, create an event handler for the `Selecting` event and use the following code:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample2.cs)]

<span data-ttu-id="36685-154">*SortExpression* değerine, verileri sıralamak için veri alanının adı atanmalıdır (örneğin, ProductName).</span><span class="sxs-lookup"><span data-stu-id="36685-154">The *sortExpression* value should be assigned the name of the data field to sort the data by (such as ProductName ).</span></span> <span data-ttu-id="36685-155">Sıralama yönü ile ilgili bir özellik yoktur, bu nedenle verileri azalan düzende sıralamak isterseniz, bir dizeyi (örneğin, ÜrünAdı DESC), *SortExpression* değerine ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-155">There is no sort direction-related property, so if you want to sort the data in descending order, append the string DESC to the *sortExpression* value (such as ProductName DESC ).</span></span>

<span data-ttu-id="36685-156">Devam edin ve *SortExpression* için farklı sabit kodlanmış değerler deneyin ve sonuçları bir tarayıcıda test edin.</span><span class="sxs-lookup"><span data-stu-id="36685-156">Go ahead and try some different hard-coded values for *sortExpression* and test the results in a browser.</span></span> <span data-ttu-id="36685-157">Şekil 4 ' te gösterildiği gibi, bir program, *SortExpression*olarak bir açıklama kullanırken, ürünler ters alfabetik sırada adına göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="36685-157">As Figure 4 shows, when using ProductName DESC as the *sortExpression*, the products are sorted by their name in reverse alphabetical order.</span></span>

<span data-ttu-id="36685-158">[![ürünleri, ters alfabetik sırada adına göre sıralanır](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="36685-158">[![The Products are Sorted by their Name in Reverse Alphabetical Order](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image11.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image10.png)</span></span>

<span data-ttu-id="36685-159">**Şekil 4**: Ürünler ada göre ters alfabetik sırada sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="36685-159">**Figure 4**: The Products are Sorted by their Name in Reverse Alphabetical Order ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image12.png))</span></span>

## <a name="step-4-creating-the-sorting-interface-and-remembering-the-sort-expression-and-direction"></a><span data-ttu-id="36685-160">4\. Adım: sıralama arabirimini oluşturma ve sıralama Ifadesini ve yönünü anımsama</span><span class="sxs-lookup"><span data-stu-id="36685-160">Step 4: Creating the Sorting Interface and Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="36685-161">GridView 'da sıralama desteğini açmak, her sıralanabilir alanın üst bilgi metnini, tıklandığı sırada verileri uygun şekilde sıralayan bir LinkButton öğesine dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="36685-161">Turning on sorting support in the GridView converts each sortable field s header text into a LinkButton that, when clicked, sorts the data accordingly.</span></span> <span data-ttu-id="36685-162">Bu tür bir sıralama arabirimi, verileri sütunlarda uygun şekilde yerleştirildiği GridView için anlamlı hale getirir.</span><span class="sxs-lookup"><span data-stu-id="36685-162">Such a sorting interface makes sense for the GridView, where its data is neatly laid out in columns.</span></span> <span data-ttu-id="36685-163">Ancak, DataList ve Repeater denetimleri için farklı bir sıralama arabirimi gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-163">For the DataList and Repeater controls, however, a different sorting interface is needed.</span></span> <span data-ttu-id="36685-164">Verilerin listesi için ortak bir sıralama arabirimi (bir veri kılavuzunun aksine), verilerin sıralanabilecek alanları sağlayan bir açılan listesidir.</span><span class="sxs-lookup"><span data-stu-id="36685-164">A common sorting interface for a list of data (as opposed to a grid of data), is a drop-down list that provides the fields by which the data can be sorted.</span></span> <span data-ttu-id="36685-165">Bu öğretici için bu tür bir arabirim uygulayalım.</span><span class="sxs-lookup"><span data-stu-id="36685-165">Let s implement such an interface for this tutorial.</span></span>

<span data-ttu-id="36685-166">`SortableProducts` Yineleyici üzerine bir DropDownList Web denetimi ekleyin ve `ID` özelliğini `SortBy`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-166">Add a DropDownList Web control above the `SortableProducts` Repeater and set its `ID` property to `SortBy`.</span></span> <span data-ttu-id="36685-167">Özellikler penceresi, ListItem Koleksiyonu düzenleyicisini açmak için `Items` özelliğindeki üç noktaya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="36685-167">From the Properties window, click the ellipses in the `Items` property to bring up the ListItem Collection Editor.</span></span> <span data-ttu-id="36685-168">Verileri `ProductName`, `CategoryName`ve `SupplierName` alanlarına göre sıralamak için `ListItem` s ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-168">Add `ListItem` s to sort the data by the `ProductName`, `CategoryName`, and `SupplierName` fields.</span></span> <span data-ttu-id="36685-169">Ayrıca, ürünleri ters alfabetik sırada adına göre sıralamak için bir `ListItem` ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-169">Also add a `ListItem` to sort the products by their name in reverse alphabetical order.</span></span>

<span data-ttu-id="36685-170">`ListItem` `Text` özellikleri herhangi bir değere (ad gibi) ayarlanabilir, ancak `Value` özellikleri veri alanının adı olarak ayarlanmalıdır (örneğin, ProductName).</span><span class="sxs-lookup"><span data-stu-id="36685-170">The `ListItem` `Text` properties can be set to any value (such as Name ), but the `Value` properties must be set to the name of the data field (such as ProductName ).</span></span> <span data-ttu-id="36685-171">Sonuçları azalan düzende sıralamak için, açıklama dizesini, ÜrünAdı DESC gibi veri alanı adına ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-171">To sort the results in descending order, append the string DESC to the data field name, like ProductName DESC .</span></span>

![Sıralanabilir veri alanlarının her biri için bir ListItem ekleyin](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image13.png)

<span data-ttu-id="36685-173">**Şekil 5**: her sıralanabilir veri alanı için `ListItem` ekleme</span><span class="sxs-lookup"><span data-stu-id="36685-173">**Figure 5**: Add a `ListItem` for Each of the Sortable Data Fields</span></span>

<span data-ttu-id="36685-174">Son olarak, DropDownList 'in sağına bir düğme web denetimi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-174">Finally, add a Button Web control to the right of the DropDownList.</span></span> <span data-ttu-id="36685-175">Yenilemek için `ID` `RefreshRepeater` ve `Text` özelliğini ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-175">Set its `ID` to `RefreshRepeater` and its `Text` property to Refresh .</span></span>

<span data-ttu-id="36685-176">`ListItem` s oluşturup Yenile düğmesini ekledikten sonra, DropDownList ve düğme bildirim temelli sözdizimi şuna benzer olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="36685-176">After creating the `ListItem` s and adding the Refresh button, the DropDownList and Button s declarative syntax should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample3.aspx)]

<span data-ttu-id="36685-177">DropDownList 'in sıralanması tamamlandıktan sonra, bir sonraki `Selecting` olay işleyicisini, bir sabit kodlanmış sıralama ifadesinin aksine seçili `SortBy``ListItem` s `Value` özelliğini kullanacak şekilde güncelleştirmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-177">With the sorting DropDownList complete, we next need to update the ObjectDataSource s `Selecting` event handler so that it uses the selected `SortBy``ListItem` s `Value` property as opposed to a hard-coded sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample4.cs)]

<span data-ttu-id="36685-178">Bu noktada, ilk olarak sayfa ilk kez ziyaret edildiğinde, `SortBy` `ListItem` varsayılan olarak seçilen `ProductName` veri alanı tarafından ilk olarak sıralanır. Şekil 6 ' ya bakın.</span><span class="sxs-lookup"><span data-stu-id="36685-178">At this point when first visiting the page the products will initially be sorted by the `ProductName` data field, as it s the `SortBy` `ListItem` selected by default (see Figure 6).</span></span> <span data-ttu-id="36685-179">Kategori gibi farklı bir sıralama seçeneği seçmek ve Yenile ' ye tıklamak, Şekil 7 ' nin gösterdiği gibi, bir geri göndermeye ve verileri kategori adına göre yeniden sıralamaya neden olur.</span><span class="sxs-lookup"><span data-stu-id="36685-179">Selecting a different sorting option such as Category and clicking Refresh will cause a postback and re-sort the data by the category name, as Figure 7 shows.</span></span>

<span data-ttu-id="36685-180">[Ürünlerin başlangıçta adına göre sıralandığı ![](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span><span class="sxs-lookup"><span data-stu-id="36685-180">[![The Products are Initially Sorted by their Name](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image15.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image14.png)</span></span>

<span data-ttu-id="36685-181">**Şekil 6**: Ürünler başlangıçta adına göre sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="36685-181">**Figure 6**: The Products are Initially Sorted by their Name ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image16.png))</span></span>

<span data-ttu-id="36685-182">[![ürünler artık kategoriye göre sıralanır](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="36685-182">[![The Products are Now Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image18.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image17.png)</span></span>

<span data-ttu-id="36685-183">**Şekil 7**: ürünler artık kategoriye göre sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span><span class="sxs-lookup"><span data-stu-id="36685-183">**Figure 7**: The Products are Now Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image19.png))</span></span>

> [!NOTE]
> <span data-ttu-id="36685-184">Yineleme düğmesine tıklamak, yineleyici s görünüm durumu devre dışı bırakıldığı için verilerin otomatik olarak yeniden sıralanmasını sağlar, böylece yineleyicisi 'nin her geri göndermede veri kaynağına yeniden bağlanmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="36685-184">Clicking the Refresh button causes the data to automatically be re-sorted because the Repeater s view state has been disabled, thereby causing the Repeater to rebind to its data source on every postback.</span></span> <span data-ttu-id="36685-185">Yineleyici s görünüm durumunu devre dışı bıraktıysanız, sıralama açılan listesinin değiştirilmesi sıralama düzeninde hiçbir etkisi olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="36685-185">If you ve left the Repeater s view state enabled, changing the sorting drop-down list won't have any affect on the sort order.</span></span> <span data-ttu-id="36685-186">Bu sorunu gidermek için, Yenile düğmesine `Click` olayı için bir olay işleyicisi oluşturun ve yineleyiciyi veri kaynağına yeniden bağlayın (Repeater s `DataBind()` yöntemini çağırarak).</span><span class="sxs-lookup"><span data-stu-id="36685-186">To remedy this, create an event handler for the Refresh Button s `Click` event and rebind the Repeater to its data source (by calling the Repeater s `DataBind()` method).</span></span>

## <a name="remembering-the-sort-expression-and-direction"></a><span data-ttu-id="36685-187">Sıralama Ifadesini ve yönünü anımsama</span><span class="sxs-lookup"><span data-stu-id="36685-187">Remembering the Sort Expression and Direction</span></span>

<span data-ttu-id="36685-188">Sıralamayan ilgili geri göndermeler gerçekleşebileceği bir sayfada sıralanabilir bir DataList veya Repeater oluştururken sıralama ifadesinin ve yönünün geri göndermeler arasında hatırlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="36685-188">When creating a sortable DataList or Repeater on a page where non-sort related postbacks may occur, it s imperative that the sort expression and direction be remembered across postbacks.</span></span> <span data-ttu-id="36685-189">Örneğin, bu öğreticideki yineleyicisi 'ni her ürünle birlikte bir Sil düğmesi içerecek şekilde güncelleştirdiğimiz hakkında düşünün.</span><span class="sxs-lookup"><span data-stu-id="36685-189">For example, imagine that we updated the Repeater in this tutorial to include a Delete button with each product.</span></span> <span data-ttu-id="36685-190">Kullanıcı Sil düğmesine tıkladığında, seçili ürünü silmek için bazı kodlar çalıştırın ve ardından verileri yineleyicisi 'ne yeniden bağlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-190">When the user clicks the Delete button we d run some code to delete the selected product and then rebind the data to the Repeater.</span></span> <span data-ttu-id="36685-191">Sıralama ayrıntıları geri gönderme boyunca kalıcı değilse, ekranda görüntülenen veriler orijinal sıralama sırasına geri döndürülür.</span><span class="sxs-lookup"><span data-stu-id="36685-191">If the sort details are not persisted across postback, the data displayed on screen will revert to the original sort order.</span></span>

<span data-ttu-id="36685-192">Bu öğretici için, DropDownList sıralama ifadesini ve yönünü ABD için görünüm durumuna dolaylı olarak kaydeder.</span><span class="sxs-lookup"><span data-stu-id="36685-192">For this tutorial, the DropDownList implicitly saves the sort expression and direction in its view state for us.</span></span> <span data-ttu-id="36685-193">Farklı bir sıralama arabirimi kullandığımızda, her zaman sıralama düzenini, geri göndermeler genelinde sıralamayı anımsamak için gereken çeşitli sıralama seçeneklerinin sağlandığı, deyin ve LinkButtons.</span><span class="sxs-lookup"><span data-stu-id="36685-193">If we were using a different sorting interface one with, say, LinkButtons that provided the various sorting options we d need to take care to remember the sort order across postbacks.</span></span> <span data-ttu-id="36685-194">Bu, sıralama parametrelerini QueryString içindeki sıralama parametresini ekleyerek veya başka bir durum kalıcılığı tekniğinin yanı sıra sayfa s Görünüm durumunda depolayarak gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="36685-194">This could be accomplished by storing the sorting parameters in the page s view state, by including the sort parameter in the querystring, or through some other state persistence technique.</span></span>

<span data-ttu-id="36685-195">Bu öğreticideki gelecekteki örneklerde, sayfa s Görünüm durumunda sıralama ayrıntılarının nasıl kalıcı hale getirilecektir.</span><span class="sxs-lookup"><span data-stu-id="36685-195">Future examples in this tutorial explore how to persist the sorting details in the page s view state.</span></span>

## <a name="step-5-adding-sorting-support-to-a-datalist-that-uses-default-paging"></a><span data-ttu-id="36685-196">5\. Adım: varsayılan sayfalama kullanan bir DataList 'e sıralama desteği ekleme</span><span class="sxs-lookup"><span data-stu-id="36685-196">Step 5: Adding Sorting Support to a DataList that Uses Default Paging</span></span>

<span data-ttu-id="36685-197">[Önceki öğreticide](paging-report-data-in-a-datalist-or-repeater-control-cs.md) , bir DataList ile nasıl varsayılan sayfalama uygulanacağını inceliyoruz.</span><span class="sxs-lookup"><span data-stu-id="36685-197">In the [preceding tutorial](paging-report-data-in-a-datalist-or-repeater-control-cs.md) we examined how to implement default paging with a DataList.</span></span> <span data-ttu-id="36685-198">Bu önceki örneği, disk belleğine alınan verileri sıralama yeteneğini kapsayacak şekilde genişletmenize izin verir.</span><span class="sxs-lookup"><span data-stu-id="36685-198">Let s extend this previous example to include the ability to sort the paged data.</span></span> <span data-ttu-id="36685-199">`PagingSortingDataListRepeater` klasöründeki `SortingWithDefaultPaging.aspx` ve `Paging.aspx` sayfalarını açarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-199">Start by opening the `SortingWithDefaultPaging.aspx` and `Paging.aspx` pages in the `PagingSortingDataListRepeater` folder.</span></span> <span data-ttu-id="36685-200">`Paging.aspx` sayfasında, sayfa bildirim temelli işaretlemesini görüntülemek için kaynak düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="36685-200">From the `Paging.aspx` page, click on the Source button to view the page s declarative markup.</span></span> <span data-ttu-id="36685-201">Seçili metni kopyalayın (bkz. Şekil 8) ve `<asp:Content>` etiketleri arasında `SortingWithDefaultPaging.aspx` bildirime dayalı biçimlendirmeye yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="36685-201">Copy the selected text (see Figure 8) and paste it into the declarative markup of `SortingWithDefaultPaging.aspx` between the `<asp:Content>` tags.</span></span>

<span data-ttu-id="36685-202">[![, ASP: Content&gt; etiketleri disk belleği. aspx 'ten SortingWithDefaultPaging. aspx 'e &lt;](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span><span class="sxs-lookup"><span data-stu-id="36685-202">[![Replicate the Declarative Markup in the &lt;asp:Content&gt; Tags from Paging.aspx to SortingWithDefaultPaging.aspx](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image21.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image20.png)</span></span>

<span data-ttu-id="36685-203">**Şekil 8**: `Paging.aspx` `<asp:Content>` etiketlerinde bildirime dayalı işaretlemeyi `SortingWithDefaultPaging.aspx` çoğaltın ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span><span class="sxs-lookup"><span data-stu-id="36685-203">**Figure 8**: Replicate the Declarative Markup in the `<asp:Content>` Tags from `Paging.aspx` to `SortingWithDefaultPaging.aspx` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image22.png))</span></span>

<span data-ttu-id="36685-204">Bildirim temelli biçimlendirmeyi kopyaladıktan sonra, `Paging.aspx` Page for Code-Behind sınıfındaki yöntemleri ve özellikleri `SortingWithDefaultPaging.aspx`için arka plan kod sınıfına kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="36685-204">After copying the declarative markup, copy the methods and properties in the `Paging.aspx` page s code-behind class to the code-behind class for `SortingWithDefaultPaging.aspx`.</span></span> <span data-ttu-id="36685-205">Sonra, `SortingWithDefaultPaging.aspx` sayfasını bir tarayıcıda görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="36685-205">Next, take a moment to view the `SortingWithDefaultPaging.aspx` page in a browser.</span></span> <span data-ttu-id="36685-206">Aynı işlevselliği ve görünümü `Paging.aspx`göstermelidir.</span><span class="sxs-lookup"><span data-stu-id="36685-206">It should exhibit the same functionality and appearance as `Paging.aspx`.</span></span>

## <a name="enhancing-productsbll-to-include-a-default-paging-and-sorting-method"></a><span data-ttu-id="36685-207">ProductsBLL 'yi, varsayılan bir sayfalama ve sıralama yöntemi Içerecek şekilde geliştirme</span><span class="sxs-lookup"><span data-stu-id="36685-207">Enhancing ProductsBLL to Include a Default Paging and Sorting Method</span></span>

<span data-ttu-id="36685-208">Önceki öğreticide, bir `PagedDataSource` nesnesi döndüren `ProductsBLL` sınıfında bir `GetProductsAsPagedDataSource(pageIndex, pageSize)` yöntemi oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="36685-208">In the previous tutorial we created a `GetProductsAsPagedDataSource(pageIndex, pageSize)` method in the `ProductsBLL` class that returned a `PagedDataSource` object.</span></span> <span data-ttu-id="36685-209">Bu `PagedDataSource` nesnesi *Tüm* ürünlerle doldurulmuştur (BLL s `GetProducts()` yöntemi aracılığıyla), ancak DataList 'e bağlandığında yalnızca belirtilen *pageIndex* ve *PageSize* giriş parametrelerine karşılık gelen kayıtlar görüntülenmediğinde.</span><span class="sxs-lookup"><span data-stu-id="36685-209">This `PagedDataSource` object was populated with *all* of the products (via the BLL s `GetProducts()` method), but when bound to the DataList only those records corresponding to the specified *pageIndex* and *pageSize* input parameters were displayed.</span></span>

<span data-ttu-id="36685-210">Bu öğreticide daha önce, ObjectDataSource s `Selecting` olay işleyicisinden sıralama ifadesini belirterek sıralama desteği ekledik.</span><span class="sxs-lookup"><span data-stu-id="36685-210">Earlier in this tutorial we added sorting support by specifying the sort expression from the ObjectDataSource s `Selecting` event handler.</span></span> <span data-ttu-id="36685-211">Bu, ObjectDataSource, `GetProducts()` yöntemi tarafından döndürülen `ProductsDataTable` gibi sıralanabilen bir nesne döndürüldüğünde iyi bir şekilde çalışacaktır.</span><span class="sxs-lookup"><span data-stu-id="36685-211">This works well when the ObjectDataSource is returned an object that can be sorted, like the `ProductsDataTable` returned by the `GetProducts()` method.</span></span> <span data-ttu-id="36685-212">Ancak, `GetProductsAsPagedDataSource` yöntemi tarafından döndürülen `PagedDataSource` nesnesi, iç veri kaynağının sıralanmasını desteklemez.</span><span class="sxs-lookup"><span data-stu-id="36685-212">However, the `PagedDataSource` object returned by the `GetProductsAsPagedDataSource` method does not support sorting of its inner data source.</span></span> <span data-ttu-id="36685-213">Bunun yerine, `PagedDataSource`*yerleştirmeden önce* `GetProducts()` yönteminden döndürülen sonuçları sıralamak gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-213">Instead, we need to sort the results returned from the `GetProducts()` method *before* we put it in the `PagedDataSource`.</span></span>

<span data-ttu-id="36685-214">Bunu gerçekleştirmek için, `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)``ProductsBLL` sınıfında yeni bir yöntem oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-214">To accomplish this, create a new method in the `ProductsBLL` class, `GetProductsSortedAsPagedDataSource(sortExpression, pageIndex, pageSize)`.</span></span> <span data-ttu-id="36685-215">`GetProducts()` yöntemi tarafından döndürülen `ProductsDataTable` sıralamak için, varsayılan `DataTableView``Sort` özelliğini belirtin:</span><span class="sxs-lookup"><span data-stu-id="36685-215">To sort the `ProductsDataTable` returned by the `GetProducts()` method, specify the `Sort` property of its default `DataTableView`:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample5.cs)]

<span data-ttu-id="36685-216">`GetProductsSortedAsPagedDataSource` yöntemi, önceki öğreticide oluşturulan `GetProductsAsPagedDataSource` yönteminden biraz farklıdır.</span><span class="sxs-lookup"><span data-stu-id="36685-216">The `GetProductsSortedAsPagedDataSource` method differs only slightly from the `GetProductsAsPagedDataSource` method created in the previous tutorial.</span></span> <span data-ttu-id="36685-217">Özellikle, `GetProductsSortedAsPagedDataSource` ek bir giriş parametresi `sortExpression` kabul eder ve bu değeri `ProductDataTable` s `DefaultView``Sort` özelliğine atar.</span><span class="sxs-lookup"><span data-stu-id="36685-217">In particular, `GetProductsSortedAsPagedDataSource` accepts an additional input parameter `sortExpression` and assigns this value to the `Sort` property of the `ProductDataTable` s `DefaultView`.</span></span> <span data-ttu-id="36685-218">Daha sonra `PagedDataSource` nesne veri kaynağına daha sonra kod satırı `ProductDataTable` s `DefaultView`atanır.</span><span class="sxs-lookup"><span data-stu-id="36685-218">A few lines of code later, the `PagedDataSource` object s DataSource is assigned the `ProductDataTable` s `DefaultView`.</span></span>

## <a name="calling-the-getproductssortedaspageddatasource-method-and-specifying-the-value-for-the-sortexpression-input-parameter"></a><span data-ttu-id="36685-219">GetProductsSortedAsPagedDataSource metodunu çağırma ve SortExpression giriş parametresinin değerini belirleme</span><span class="sxs-lookup"><span data-stu-id="36685-219">Calling the GetProductsSortedAsPagedDataSource Method and Specifying the Value for the SortExpression Input Parameter</span></span>

<span data-ttu-id="36685-220">`GetProductsSortedAsPagedDataSource` yöntemi tamamlandıktan sonra, bir sonraki adım bu parametre için değer sağlamaktır.</span><span class="sxs-lookup"><span data-stu-id="36685-220">With the `GetProductsSortedAsPagedDataSource` method complete, the next step is to provide the value for this parameter.</span></span> <span data-ttu-id="36685-221">`SortingWithDefaultPaging.aspx` ObjectDataSource Şu anda `GetProductsAsPagedDataSource` yöntemini çağırmak için yapılandırılmıştır ve `SelectParameters` koleksiyonunda belirtilen iki `QueryStringParameters`üzerinden iki giriş parametresini geçirir.</span><span class="sxs-lookup"><span data-stu-id="36685-221">The ObjectDataSource in `SortingWithDefaultPaging.aspx` is currently configured to call the `GetProductsAsPagedDataSource` method and passes in the two input parameters through its two `QueryStringParameters`, which are specified in the `SelectParameters` collection.</span></span> <span data-ttu-id="36685-222">Bu iki `QueryStringParameters`, `GetProductsAsPagedDataSource` yöntemi olan *pageIndex* ve *pageSize* parametrelerinin kaynağının `pageIndex` ve `pageSize`QueryString alanlarından geldiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="36685-222">These two `QueryStringParameters` indicate that the source for the `GetProductsAsPagedDataSource` method s *pageIndex* and *pageSize* parameters come from the querystring fields `pageIndex` and `pageSize`.</span></span>

<span data-ttu-id="36685-223">Yeni `GetProductsSortedAsPagedDataSource` yöntemini çağırabilmesi için ObjectDataSource s `SelectMethod` özelliğini güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="36685-223">Update the ObjectDataSource s `SelectMethod` property so that it invokes the new `GetProductsSortedAsPagedDataSource` method.</span></span> <span data-ttu-id="36685-224">Daha sonra, *SortExpression* giriş parametresine `sortExpression`QueryString alanından erişilmesi için yeni bir `QueryStringParameter` ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-224">Then, add a new `QueryStringParameter` so that the *sortExpression* input parameter is accessed from the querystring field `sortExpression`.</span></span> <span data-ttu-id="36685-225">`QueryStringParameter` s `DefaultValue` ProductName olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-225">Set the `QueryStringParameter` s `DefaultValue` to ProductName .</span></span>

<span data-ttu-id="36685-226">Bu değişikliklerden sonra, ObjectDataSource tarafından bildirim temelli biçimlendirme şöyle görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="36685-226">After these changes, the ObjectDataSource s declarative markup should look like:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample6.aspx)]

<span data-ttu-id="36685-227">Bu noktada, `SortingWithDefaultPaging.aspx` sayfası sonuçlarını ürün adına göre alfabetik olarak sıralar (bkz. Şekil 9).</span><span class="sxs-lookup"><span data-stu-id="36685-227">At this point, the `SortingWithDefaultPaging.aspx` page will sort its results alphabetically by the product name (see Figure 9).</span></span> <span data-ttu-id="36685-228">Bunun nedeni, varsayılan olarak ProductName 'in bir değerinin `GetProductsSortedAsPagedDataSource` yöntemi, *SortExpression* parametresi olarak geçirilir.</span><span class="sxs-lookup"><span data-stu-id="36685-228">This is because, by default, a value of ProductName is passed in as the `GetProductsSortedAsPagedDataSource` method s *sortExpression* parameter.</span></span>

<span data-ttu-id="36685-229">[Varsayılan olarak ![, sonuçlar ProductName 'e göre sıralanır](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="36685-229">[![By Default, the Results are Sorted by ProductName](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image24.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image23.png)</span></span>

<span data-ttu-id="36685-230">**Şekil 9**: varsayılan olarak, sonuçlar `ProductName` göre sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span><span class="sxs-lookup"><span data-stu-id="36685-230">**Figure 9**: By Default, the Results are Sorted by `ProductName` ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image25.png))</span></span>

<span data-ttu-id="36685-231">`SortingWithDefaultPaging.aspx?sortExpression=CategoryName` gibi `sortExpression` QueryString alanını el ile eklerseniz, sonuçlar belirtilen `sortExpression`göre sıralanır.</span><span class="sxs-lookup"><span data-stu-id="36685-231">If you manually add a `sortExpression` querystring field such as `SortingWithDefaultPaging.aspx?sortExpression=CategoryName` the results will be sorted by the specified `sortExpression`.</span></span> <span data-ttu-id="36685-232">Ancak, farklı bir veri sayfasına geçerken bu `sortExpression` parametresi QueryString 'a dahil edilmez.</span><span class="sxs-lookup"><span data-stu-id="36685-232">However, this `sortExpression` parameter is not included in the querystring when moving to a different page of data.</span></span> <span data-ttu-id="36685-233">Aslında, Ileri veya son sayfa düğmelerine tıklanması `Paging.aspx`! ' a geri dönerek!</span><span class="sxs-lookup"><span data-stu-id="36685-233">In fact, clicking on the Next or Last page buttons takes us back to `Paging.aspx`!</span></span> <span data-ttu-id="36685-234">Ayrıca, şu anda sıralama arabirimi yok.</span><span class="sxs-lookup"><span data-stu-id="36685-234">Furthermore, there s currently no sorting interface.</span></span> <span data-ttu-id="36685-235">Bir kullanıcının disk belleğine alınan verilerin sıralama düzenini değiştirme yöntemi, QueryString 'in doğrudan bir şekilde işlenmesiyle yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="36685-235">The only way a user can change the sort order of the paged data is by manipulating the querystring directly.</span></span>

## <a name="creating-the-sorting-interface"></a><span data-ttu-id="36685-236">Sıralama arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="36685-236">Creating the Sorting Interface</span></span>

<span data-ttu-id="36685-237">İlk olarak, kullanıcıyı `SortingWithDefaultPaging.aspx` (`Paging.aspx`yerine) göndermek ve `sortExpression` değerini QueryString öğesine eklemek için `RedirectUser` yöntemini güncelleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-237">We first need to update the `RedirectUser` method to send the user to `SortingWithDefaultPaging.aspx` (instead of `Paging.aspx`) and to include the `sortExpression` value in the querystring.</span></span> <span data-ttu-id="36685-238">Ayrıca, salt okunurdur, sayfa düzeyinde adlandırılmış `SortExpression` özelliği de ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="36685-238">We should also add a read-only, page-level named `SortExpression` property.</span></span> <span data-ttu-id="36685-239">Bu özellik, önceki öğreticide oluşturulan `PageIndex` ve `PageSize` özelliklerine benzer şekilde, varsa `sortExpression` QueryString alanının değerini ve aksi durumda varsayılan değeri (ProductName) döndürür.</span><span class="sxs-lookup"><span data-stu-id="36685-239">This property, similar to the `PageIndex` and `PageSize` properties created in the previous tutorial, returns the value of the `sortExpression` querystring field if it exists, and the default value ( ProductName ) otherwise.</span></span>

<span data-ttu-id="36685-240">Şu anda `RedirectUser` yöntemi, görüntülenecek sayfanın dizinini yalnızca tek bir giriş parametresi kabul eder.</span><span class="sxs-lookup"><span data-stu-id="36685-240">Currently the `RedirectUser` method accepts only a single input parameter the index of the page to display.</span></span> <span data-ttu-id="36685-241">Ancak, Kullanıcı QueryString içinde belirtilenden farklı bir sıralama ifadesi kullanarak kullanıcıyı belirli bir veri sayfasına yönlendirmek istediğimiz zamanlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="36685-241">However, there may be times when we want to redirect the user to a particular page of data using a sort expression other than what s specified in the querystring.</span></span> <span data-ttu-id="36685-242">Kısa bir süre içinde, Bu sayfa için sıralama arabirimini oluşturacağız, bu da verileri belirtilen bir sütuna göre sıralamak için bir dizi düğme web denetimi içerir.</span><span class="sxs-lookup"><span data-stu-id="36685-242">In a moment we'll create the sorting interface for this page, which will include a series of Button Web controls for sorting the data by a specified column.</span></span> <span data-ttu-id="36685-243">Bu düğmelerden birine tıklandığında, uygun sıralama ifadesi değerini geçirerek kullanıcıyı yeniden yönlendirmek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="36685-243">When one of those Buttons is clicked, we want to redirect the user passing in the appropriate sort expression value.</span></span> <span data-ttu-id="36685-244">Bu işlevi sağlamak için `RedirectUser` yönteminin iki sürümünü oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-244">To provide this functionality, create two versions of the `RedirectUser` method.</span></span> <span data-ttu-id="36685-245">İlki görüntülenecek sayfa dizinini kabul etmelidir, ikincisi ise sayfa dizinini ve sıralama ifadesini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="36685-245">The first one should accept just the page index to display, while the second one accepts the page index and sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample7.cs)]

<span data-ttu-id="36685-246">Bu öğreticideki ilk örnekte, bir DropDownList kullanarak sıralama arabirimi oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="36685-246">In the first example in this tutorial, we created a sorting interface using a DropDownList.</span></span> <span data-ttu-id="36685-247">Bu örnekte, bir `ProductName`, bir `CategoryName`ve `SupplierName`için bir tane olmak üzere DataList 'in üzerine yerleştirilmiş üç düğme web denetimini kullanalım.</span><span class="sxs-lookup"><span data-stu-id="36685-247">For this example, let s use three Button Web controls positioned above the DataList one for sorting by `ProductName`, one for `CategoryName`, and one for `SupplierName`.</span></span> <span data-ttu-id="36685-248">Üç düğme web denetimini ekleyin, `ID` ve `Text` özelliklerini uygun şekilde ayarlar:</span><span class="sxs-lookup"><span data-stu-id="36685-248">Add the three Button Web controls, setting their `ID` and `Text` properties appropriately:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample8.aspx)]

<span data-ttu-id="36685-249">Sonra, her biri için bir `Click` olay işleyicisi oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-249">Next, create a `Click` event handler for each.</span></span> <span data-ttu-id="36685-250">Olay işleyicileri, uygun sıralama ifadesini kullanarak kullanıcıyı ilk sayfaya döndüren `RedirectUser` yöntemini çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="36685-250">The event handlers should call the `RedirectUser` method, returning the user to the first page using the appropriate sort expression.</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample9.cs)]

<span data-ttu-id="36685-251">Sayfa ilk kez ziyaret edildiğinde, veriler ürün adına alfabetik olarak sıralanır (Şekil 9 ' a geri bakın).</span><span class="sxs-lookup"><span data-stu-id="36685-251">When first visiting the page, the data is sorted by the product name alphabetically (refer back to Figure 9).</span></span> <span data-ttu-id="36685-252">İkinci veri sayfasına ilerlemek için Ileri düğmesine tıklayın ve kategoriye göre sırala düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="36685-252">Click the Next button to advance to the second page of data and then click the Sort by Category button.</span></span> <span data-ttu-id="36685-253">Bu, ilk veri sayfasına, kategori adına göre sıralanmış olarak döndürür (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="36685-253">This returns us to the first page of data, sorted by category name (see Figure 10).</span></span> <span data-ttu-id="36685-254">Benzer şekilde, Tedarikçiye göre sırala düğmesine tıklamak, verilerin ilk sayfasından başlayarak tedarikçiye göre verileri sıralar.</span><span class="sxs-lookup"><span data-stu-id="36685-254">Likewise, clicking the Sort by Supplier button sorts the data by supplier starting from the first page of data.</span></span> <span data-ttu-id="36685-255">Sıralama seçeneği, verilerin sayfalandırılmış olduğu şekilde hatırlanır.</span><span class="sxs-lookup"><span data-stu-id="36685-255">The sort choice is remembered as the data is paged through.</span></span> <span data-ttu-id="36685-256">Şekil 11 kategoriye göre sıraladıktan sonra sayfayı gösterir ve ardından verilerin on üç sayfasına ilerleden sonra.</span><span class="sxs-lookup"><span data-stu-id="36685-256">Figure 11 shows the page after sorting by category and then advancing to the thirteenth page of data.</span></span>

<span data-ttu-id="36685-257">[Ürünlerin kategoriye göre sıralandığı ![](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span><span class="sxs-lookup"><span data-stu-id="36685-257">[![The Products are Sorted by Category](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image27.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image26.png)</span></span>

<span data-ttu-id="36685-258">**Şekil 10**: Ürünler kategoriye göre sıralanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span><span class="sxs-lookup"><span data-stu-id="36685-258">**Figure 10**: The Products are Sorted by Category ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image28.png))</span></span>

<span data-ttu-id="36685-259">[![sıralama Ifadesi veriler üzerinde sayfalama yapılırken hatırlanır](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="36685-259">[![The Sort Expression is Remembered When Paging Through the Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image30.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image29.png)</span></span>

<span data-ttu-id="36685-260">**Şekil 11**: sıralama Ifadesi veriler üzerinde Sayfalandığınızda[hatırlanır (tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span><span class="sxs-lookup"><span data-stu-id="36685-260">**Figure 11**: The Sort Expression is Remembered When Paging Through the Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image31.png))</span></span>

## <a name="step-6-custom-paging-through-records-in-a-repeater"></a><span data-ttu-id="36685-261">Adım 6: bir yineleyici içindeki kayıtlar aracılığıyla özel sayfalama</span><span class="sxs-lookup"><span data-stu-id="36685-261">Step 6: Custom Paging Through Records in a Repeater</span></span>

<span data-ttu-id="36685-262">DataList örneği, 1. adımda, verileri veri aracılığıyla verimsiz varsayılan sayfalama tekniğini kullanarak incelendi.</span><span class="sxs-lookup"><span data-stu-id="36685-262">The DataList example examined in step 5 pages through its data using the inefficient default paging technique.</span></span> <span data-ttu-id="36685-263">Yeterince büyük miktarlarda veri sayfalaması yaparken özel sayfalama kullanılması zorunludur.</span><span class="sxs-lookup"><span data-stu-id="36685-263">When paging through sufficiently large amounts of data, it is imperative that custom paging be used.</span></span> <span data-ttu-id="36685-264">[Büyük miktarlarda veri aracılığıyla etkili bir şekilde disk belleği](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) dosyası ve [özel](../paging-and-sorting/sorting-custom-paged-data-cs.md) disk belleği veri öğreticilerini sıralayarak, özel sayfalama kullanmak ve özel disk belleğine alınan verileri sıralamak için BLL 'de varsayılan ve özel sayfalama ve oluşturulan Yöntemler arasındaki farkları inceledik.</span><span class="sxs-lookup"><span data-stu-id="36685-264">Back in the [Efficiently Paging Through Large Amounts of Data](../paging-and-sorting/efficiently-paging-through-large-amounts-of-data-cs.md) and [Sorting Custom Paged Data](../paging-and-sorting/sorting-custom-paged-data-cs.md) tutorials, we examined the differences between default and custom paging and created methods in the BLL for utilizing custom paging and sorting custom paged data.</span></span> <span data-ttu-id="36685-265">Özellikle, bu iki önceki öğreticilerde, `ProductsBLL` sınıfına aşağıdaki üç yöntemi ekledik:</span><span class="sxs-lookup"><span data-stu-id="36685-265">In particular, in these two previous tutorials we added the following three methods to the `ProductsBLL` class:</span></span>

- <span data-ttu-id="36685-266">`GetProductsPaged(startRowIndex, maximumRows)`, *StartRowIndex* 'ten başlayan ve *MaximumRows*'ı aşmayan belirli bir kayıt alt kümesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="36685-266">`GetProductsPaged(startRowIndex, maximumRows)` returns a particular subset of records starting at *startRowIndex* and not exceeding *maximumRows*.</span></span>
- <span data-ttu-id="36685-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)`, belirtilen *SortExpression* giriş parametresine göre sıralanan kayıtların belirli bir alt kümesini döndürür.</span><span class="sxs-lookup"><span data-stu-id="36685-267">`GetProductsPagedAndSorted(sortExpression, startRowIndex, maximumRows)` returns a particular subset of records sorted by the specified *sortExpression* input parameter.</span></span>
- <span data-ttu-id="36685-268">`TotalNumberOfProducts()`, `Products` veritabanı tablosundaki toplam kayıt sayısını sağlar.</span><span class="sxs-lookup"><span data-stu-id="36685-268">`TotalNumberOfProducts()` provides the total number of records in the `Products` database table.</span></span>

<span data-ttu-id="36685-269">Bu yöntemler, DataList veya Repeater denetimi kullanılarak verileri verimli bir şekilde sayfa halinde sıralamak ve sıralamak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="36685-269">These methods can be used to efficiently page and sort through data using a DataList or Repeater control.</span></span> <span data-ttu-id="36685-270">Bunu göstermek için, özel sayfalama desteğiyle bir yineleyici denetimi oluşturarak başlayalım. daha sonra sıralama özellikleri ekleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="36685-270">To illustrate this, let s start by creating a Repeater control with custom paging support; we'll then add sorting capabilities.</span></span>

<span data-ttu-id="36685-271">`PagingSortingDataListRepeater` klasöründeki `SortingWithCustomPaging.aspx` sayfasını açın ve sayfaya bir yineleyici ekleyerek `ID` özelliğini `Products`olarak ayarlayarak.</span><span class="sxs-lookup"><span data-stu-id="36685-271">Open the `SortingWithCustomPaging.aspx` page in the `PagingSortingDataListRepeater` folder and add a Repeater to the page, setting its `ID` property to `Products`.</span></span> <span data-ttu-id="36685-272">Yineleyici s akıllı etiketinden `ProductsDataSource`adlı yeni bir ObjectDataSource oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-272">From the Repeater s smart tag, create a new ObjectDataSource named `ProductsDataSource`.</span></span> <span data-ttu-id="36685-273">`ProductsBLL` sınıf s `GetProductsPaged` yönteminden verileri seçmek üzere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="36685-273">Configure it to select its data from the `ProductsBLL` class s `GetProductsPaged` method.</span></span>

<span data-ttu-id="36685-274">[![, ObjectDataSource 'ı ProductsBLL Class s GetProductsPaged metodunu kullanacak şekilde yapılandırma](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span><span class="sxs-lookup"><span data-stu-id="36685-274">[![Configure the ObjectDataSource to Use the ProductsBLL Class s GetProductsPaged Method](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image33.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image32.png)</span></span>

<span data-ttu-id="36685-275">**Şekil 12**: `ProductsBLL` Class s `GetProductsPaged` metodunu ([tam boyutlu görüntüyü görüntülemek Için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png)) kullanmak üzere ObjectDataSource 'ı yapılandırın</span><span class="sxs-lookup"><span data-stu-id="36685-275">**Figure 12**: Configure the ObjectDataSource to Use the `ProductsBLL` Class s `GetProductsPaged` Method ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image34.png))</span></span>

<span data-ttu-id="36685-276">GÜNCELLEŞTIRME, ekleme ve SILME sekmelerinden açılan listeleri (yok) ayarlayın ve ardından Ileri düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="36685-276">Set the drop-down lists in the UPDATE, INSERT, and DELETE tabs to (None) and then click the Next button.</span></span> <span data-ttu-id="36685-277">Veri kaynağı Yapılandırma Sihirbazı şimdi `GetProductsPaged` yöntemi için *StartRowIndex* ve *MaximumRows* giriş parametrelerinin kaynaklarını ister.</span><span class="sxs-lookup"><span data-stu-id="36685-277">The Configure Data Source wizard now prompts for the sources of the `GetProductsPaged` method s *startRowIndex* and *maximumRows* input parameters.</span></span> <span data-ttu-id="36685-278">Gerçekte, bu giriş parametreleri yok sayılır.</span><span class="sxs-lookup"><span data-stu-id="36685-278">In actuality, these input parameters are ignored.</span></span> <span data-ttu-id="36685-279">Bunun yerine, *StartRowIndex* ve *MaximumRows* değerleri, yalnızca bu öğretici 'Nin Ilk tanıtımı içinde *SortExpression* 'ı belirttiğimiz gibi, ObjectDataSource s `Selecting` olay işleyicisindeki `Arguments` özelliği aracılığıyla geçirilir.</span><span class="sxs-lookup"><span data-stu-id="36685-279">Instead, the *startRowIndex* and *maximumRows* values will be passed in through the `Arguments` property in the ObjectDataSource s `Selecting` event handler, just like how we specified the *sortExpression* in this tutorial s first demo.</span></span> <span data-ttu-id="36685-280">Bu nedenle, sihirbazda parametre kaynak açılan listelerini None ' da ayarlı olarak bırakın.</span><span class="sxs-lookup"><span data-stu-id="36685-280">Therefore, leave the parameter source drop-down lists in the wizard set at None .</span></span>

<span data-ttu-id="36685-281">[Parametre kaynaklarını None olarak ayarlanmış ![bırak](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="36685-281">[![Leave the Parameter Sources Set to None](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image36.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image35.png)</span></span>

<span data-ttu-id="36685-282">**Şekil 13**: parametre kaynaklarını yok olarak ayarlanmış bırakın ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span><span class="sxs-lookup"><span data-stu-id="36685-282">**Figure 13**: Leave the Parameter Sources Set to None ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image37.png))</span></span>

> [!NOTE]
> <span data-ttu-id="36685-283">ObjectDataSource `EnablePaging` özelliğini `true`*olarak ayarlamayın.*</span><span class="sxs-lookup"><span data-stu-id="36685-283">Do *not* set the ObjectDataSource s `EnablePaging` property to `true`.</span></span> <span data-ttu-id="36685-284">Bu, ObjectDataSource 'un kendi *StartRowIndex* ve *maximumrows* parametrelerini `SelectMethod` s var olan parametre listesine otomatik olarak dahil edememesine neden olur.</span><span class="sxs-lookup"><span data-stu-id="36685-284">This will cause the ObjectDataSource to automatically include its own *startRowIndex* and *maximumRows* parameters to the `SelectMethod` s existing parameter list.</span></span> <span data-ttu-id="36685-285">`EnablePaging` özelliği, özel disk belleğine alınmış verileri bir GridView, DetailsView veya FormView denetimine bağlarken faydalıdır çünkü bu denetimler yalnızca `EnablePaging` özelliği `true`olduğunda kullanılabilir olan ObjectDataSource 'tan belirli davranışları bekliyor.</span><span class="sxs-lookup"><span data-stu-id="36685-285">The `EnablePaging` property is useful when binding custom paged data to a GridView, DetailsView, or FormView control because these controls expect certain behavior from the ObjectDataSource that s only available when `EnablePaging` property is `true`.</span></span> <span data-ttu-id="36685-286">DataList ve Repeater için sayfalama desteğini el ile eklememiz gerektiğinden, gerekli işlevselliğe doğrudan ASP.NET sayfamız dahilinde olacak şekilde, bu özelliği `false` (varsayılan) olarak bırakın.</span><span class="sxs-lookup"><span data-stu-id="36685-286">Since we have to manually add the paging support for the DataList and Repeater, leave this property set to `false` (the default), as we'll bake in the needed functionality directly within our ASP.NET page.</span></span>

<span data-ttu-id="36685-287">Son olarak, ürün adı, kategori ve tedarikçinin gösterilmesi için Yineleyici s `ItemTemplate` tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-287">Finally, define the Repeater s `ItemTemplate` so that the product s name, category, and supplier are shown.</span></span> <span data-ttu-id="36685-288">Bu değişikliklerden sonra, yineleyici ve ObjectDataSource 'lar bildirime dayalı sözdizimi aşağıdakine benzer olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="36685-288">After these changes, the Repeater and ObjectDataSource s declarative syntax should look similar to the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample10.aspx)]

<span data-ttu-id="36685-289">Bir tarayıcı aracılığıyla sayfayı ziyaret etmek ve hiçbir kaydın döndürülmediğini göz önünde ayırın.</span><span class="sxs-lookup"><span data-stu-id="36685-289">Take a moment to visit the page through a browser and note that no records are returned.</span></span> <span data-ttu-id="36685-290">Bunun nedeni, henüz *StartRowIndex* ve *MaximumRows* parametre değerlerini belirtmemiz ve Bu nedenle, 0 değerleri her ikisi için ' de geçirilir.</span><span class="sxs-lookup"><span data-stu-id="36685-290">This is because we ve yet to specify the *startRowIndex* and *maximumRows* parameter values; therefore, values of 0 are being passed in for both.</span></span> <span data-ttu-id="36685-291">Bu değerleri belirtmek için, ObjectDataSource s `Selecting` olayı için bir olay işleyicisi oluşturun ve bu parametre değerlerini sırasıyla 0 ve 5 sabit kodlanmış değerler olarak ayarlayın:</span><span class="sxs-lookup"><span data-stu-id="36685-291">To specify these values, create an event handler for the ObjectDataSource s `Selecting` event and set these parameters values programmatically to hard-coded values of 0 and 5, respectively:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample11.cs)]

<span data-ttu-id="36685-292">Bu değişiklik ile, sayfa bir tarayıcı aracılığıyla görüntülenirken ilk beş ürünü gösterir.</span><span class="sxs-lookup"><span data-stu-id="36685-292">With this change, the page, when viewed through a browser, shows the first five products.</span></span>

<span data-ttu-id="36685-293">[Ilk beş kayıt ![görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="36685-293">[![The First Five Records are Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image39.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image38.png)</span></span>

<span data-ttu-id="36685-294">**Şekil 14**: Ilk beş kayıt görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="36685-294">**Figure 14**: The First Five Records are Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image40.png))</span></span>

> [!NOTE]
> <span data-ttu-id="36685-295">Şekil 14 ' te listelenen ürünlerin, etkin özel disk belleği sorgusunu gerçekleştiren `GetProductsPaged` saklı yordamı, sonuçları `ProductName`olarak sipariş ettiğinden ürün adına göre sıralanması önerilir.</span><span class="sxs-lookup"><span data-stu-id="36685-295">The products listed in Figure 14 happen to be sorted by product name because the `GetProductsPaged` stored procedure that performs the efficient custom paging query orders the results by `ProductName`.</span></span>

<span data-ttu-id="36685-296">Kullanıcının sayfalarda ilerleyebilmesi için başlangıç satırı dizinini ve en yüksek satırları takip etmemiz ve bu değerleri geri göndermeler genelinde unutmamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-296">In order to allow the user to step through the pages, we need to keep track of the start row index and maximum rows and remember these values across postbacks.</span></span> <span data-ttu-id="36685-297">Varsayılan disk belleği örneğinde, bu değerleri kalıcı hale getirmek için QueryString alanlarını kullandınız; Bu tanıtımda, bu bilgileri sayfa s Görünüm durumunda kalıcı hale getirin.</span><span class="sxs-lookup"><span data-stu-id="36685-297">In the default paging example we used querystring fields to persist these values; for this demo, let s persist this information in the page s view state.</span></span> <span data-ttu-id="36685-298">Aşağıdaki iki özelliği oluşturun:</span><span class="sxs-lookup"><span data-stu-id="36685-298">Create the following two properties:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample12.cs)]

<span data-ttu-id="36685-299">Ardından, seçme olay işleyicisindeki kodu, sabit kodlu 0 ve 5 değerleri yerine `StartRowIndex` ve `MaximumRows` özelliklerini kullanacak şekilde güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="36685-299">Next, update the code in the Selecting event handler so that it uses the `StartRowIndex` and `MaximumRows` properties instead of the hard-coded values of 0 and 5:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample13.cs)]

<span data-ttu-id="36685-300">Bu noktada sayfamızda hala yalnızca ilk beş kayıt gösteriliyor.</span><span class="sxs-lookup"><span data-stu-id="36685-300">At this point our page still shows just the first five records.</span></span> <span data-ttu-id="36685-301">Ancak, bu özelliklerle birlikte sayfalama arabirimimizi oluşturmaya hazırız.</span><span class="sxs-lookup"><span data-stu-id="36685-301">However, with these properties in place, we re ready to create our paging interface.</span></span>

## <a name="adding-the-paging-interface"></a><span data-ttu-id="36685-302">Sayfalama arabirimi ekleme</span><span class="sxs-lookup"><span data-stu-id="36685-302">Adding the Paging Interface</span></span>

<span data-ttu-id="36685-303">Verilerin hangi sayfada görüntülendiğini ve toplam sayfa olduğunu gösteren etiket Web denetimi de dahil olmak üzere varsayılan disk belleği örneğinde kullanılan Ilk, önceki, sonraki, son sayfalama arabirimini kullanalım.</span><span class="sxs-lookup"><span data-stu-id="36685-303">Let s use the same First, Previous, Next, Last paging interface used in the default paging example, including the Label Web control that displays what page of data is being viewed and how many total pages exist.</span></span> <span data-ttu-id="36685-304">Dört düğme web denetimini ve etiketini, yineleyicisi altına ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-304">Add the four Button Web controls and Label below the Repeater.</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample14.aspx)]

<span data-ttu-id="36685-305">Sonra, dört düğme için `Click` olay işleyicileri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-305">Next, create `Click` event handlers for the four Buttons.</span></span> <span data-ttu-id="36685-306">Bu düğmelerden birine tıklandığında `StartRowIndex` güncelleştirmemiz ve verileri yineleyicisi 'ne yeniden bağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-306">When one of these Buttons is clicked, we need to update the `StartRowIndex` and rebind the data to the Repeater.</span></span> <span data-ttu-id="36685-307">Ilk, önceki ve sonraki düğmelerin kodu yeterince basittir, ancak son düğme için verilerin son sayfası için başlangıç satırı dizinini nasıl belirliyoruz?</span><span class="sxs-lookup"><span data-stu-id="36685-307">The code for the First, Previous, and Next buttons is simple enough, but for the Last button how do we determine the start row index for the last page of data?</span></span> <span data-ttu-id="36685-308">Bu dizini hesaplamak ve bir sonraki ve son düğmelerin etkinleştirilip etkinleştirilmeyeceğini belirleyebilmemiz için toplamda kaç kaydın sayfalanmakta olduğunu bilmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-308">To compute this index as well as being able to determine whether the Next and Last buttons should be enabled we need to know how many records in total are being paged through.</span></span> <span data-ttu-id="36685-309">Bunu, `ProductsBLL` sınıf s `TotalNumberOfProducts()` metodunu çağırarak belirleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="36685-309">We can determine this by calling the `ProductsBLL` class s `TotalNumberOfProducts()` method.</span></span> <span data-ttu-id="36685-310">Bir `TotalNumberOfProducts()` yönteminin sonuçlarını döndüren `TotalRowCount` adlı salt okunurdur, sayfa düzeyi özelliği oluşturalım:</span><span class="sxs-lookup"><span data-stu-id="36685-310">Let s create a read-only, page-level property named `TotalRowCount` that returns the results of the `TotalNumberOfProducts()` method:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample15.cs)]

<span data-ttu-id="36685-311">Bu özellik ile artık son sayfa başlangıç satırı dizinini belirleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="36685-311">With this property we can now determine the last page s start row index.</span></span> <span data-ttu-id="36685-312">Özellikle, `TotalRowCount` eksi 1 ' in tamsayı sonucu `MaximumRows`, `MaximumRows`ile çarpılır.</span><span class="sxs-lookup"><span data-stu-id="36685-312">Specifically, it s the integer result of the `TotalRowCount` minus 1 divided by `MaximumRows`, multiplied by `MaximumRows`.</span></span> <span data-ttu-id="36685-313">Artık dört sayfalama arabirimi düğmesi için `Click` olay işleyicilerini yazabiliriz:</span><span class="sxs-lookup"><span data-stu-id="36685-313">We can now write the `Click` event handlers for the four paging interface buttons:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample16.cs)]

<span data-ttu-id="36685-314">Son olarak, son sayfayı görüntülerken verilerin ilk sayfasını ve sonraki ve son düğmeleri görüntülerken sayfalama arabirimindeki Ilk ve önceki düğmeleri devre dışı bıraktık.</span><span class="sxs-lookup"><span data-stu-id="36685-314">Finally, we need to disable the First and Previous buttons in the paging interface when viewing the first page of data and the Next and Last buttons when viewing the last page.</span></span> <span data-ttu-id="36685-315">Bunu gerçekleştirmek için, ObjectDataSource s `Selecting` olay işleyicisine aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="36685-315">To accomplish this, add the following code to the ObjectDataSource s `Selecting` event handler:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample17.cs)]

<span data-ttu-id="36685-316">Bu `Click` olay işleyicilerini ve kodu, geçerli başlangıç satırı dizinine göre disk belleği arabirimi öğelerini etkinleştirmek veya devre dışı bırakmak üzere ekledikten sonra, sayfayı bir tarayıcıda test edin.</span><span class="sxs-lookup"><span data-stu-id="36685-316">After adding these `Click` event handlers and the code to enable or disable the paging interface elements based on the current start row index, test the page in a browser.</span></span> <span data-ttu-id="36685-317">Şekil 15 ' te gösterildiği gibi, ilk ve önceki düğmeler devre dışı bırakılır.</span><span class="sxs-lookup"><span data-stu-id="36685-317">As Figure 15 illustrates, when first visiting the page the First and Previous buttons will are disabled.</span></span> <span data-ttu-id="36685-318">Ileri ' ye tıkladığınızda ikinci veri sayfası gösterilir. son ' a tıkladığınızda son sayfa görüntülenir (bkz. Şekil 16 ve 17).</span><span class="sxs-lookup"><span data-stu-id="36685-318">Clicking Next shows the second page of data, while clicking Last displays the final page (see Figures 16 and 17).</span></span> <span data-ttu-id="36685-319">Verilerin son sayfasını görüntülerken, hem Ileri hem de son düğmelerin devre dışı bırakılması.</span><span class="sxs-lookup"><span data-stu-id="36685-319">When viewing the last page of data both the Next and Last buttons are disabled.</span></span>

<span data-ttu-id="36685-320">[Ürünlerin Ilk sayfası görüntülenirken Önceki ve son düğmelerin devre dışı bırakılması ![](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="36685-320">[![The Previous and Last Buttons are Disabled When Viewing the First Page of Products](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image42.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image41.png)</span></span>

<span data-ttu-id="36685-321">**Şekil 15**: ürünlerin Ilk sayfası görüntülenirken Önceki ve son düğmeler devre dışıdır ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span><span class="sxs-lookup"><span data-stu-id="36685-321">**Figure 15**: The Previous and Last Buttons are Disabled When Viewing the First Page of Products ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image43.png))</span></span>

<span data-ttu-id="36685-322">[Ürünlerin Ikinci sayfası ![görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span><span class="sxs-lookup"><span data-stu-id="36685-322">[![The Second Page of Products are Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image45.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image44.png)</span></span>

<span data-ttu-id="36685-323">**Şekil 16**: ürünlerin Ikinci sayfası görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span><span class="sxs-lookup"><span data-stu-id="36685-323">**Figure 16**: The Second Page of Products are Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image46.png))</span></span>

<span data-ttu-id="36685-324">[Son tık![verinin son sayfasını görüntüler](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="36685-324">[![Clicking Last Displays the Final Page of Data](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image48.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image47.png)</span></span>

<span data-ttu-id="36685-325">**Şekil 17**: son ' a tıkladığınızda verilerin son sayfası görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span><span class="sxs-lookup"><span data-stu-id="36685-325">**Figure 17**: Clicking Last Displays the Final Page of Data ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image49.png))</span></span>

## <a name="step-7-including-sorting-support-with-the-custom-paged-repeater"></a><span data-ttu-id="36685-326">7\. Adım: özel disk belleğine alınmış yineleyicisi ile sıralama desteğini ekleme</span><span class="sxs-lookup"><span data-stu-id="36685-326">Step 7: Including Sorting Support with the Custom Paged Repeater</span></span>

<span data-ttu-id="36685-327">Özel sayfalama uygulandığına göre, sıralama desteğini eklemeye hazırız.</span><span class="sxs-lookup"><span data-stu-id="36685-327">Now that custom paging has been implemented, we re ready to include sorting support.</span></span> <span data-ttu-id="36685-328">`ProductsBLL` sınıf s `GetProductsPagedAndSorted` yöntemi `GetProductsPaged`olarak aynı *StartRowIndex* ve *MaximumRows* giriş parametrelerine sahiptir, ancak ek bir *SortExpression* giriş parametresine izin verir.</span><span class="sxs-lookup"><span data-stu-id="36685-328">The `ProductsBLL` class s `GetProductsPagedAndSorted` method has the same *startRowIndex* and *maximumRows* input parameters as `GetProductsPaged`, but permits an additional *sortExpression* input parameter.</span></span> <span data-ttu-id="36685-329">`SortingWithCustomPaging.aspx``GetProductsPagedAndSorted` yöntemi kullanmak için aşağıdaki adımları gerçekleştirmemiz gerekir:</span><span class="sxs-lookup"><span data-stu-id="36685-329">To use the `GetProductsPagedAndSorted` method from `SortingWithCustomPaging.aspx`, we need to perform the following steps:</span></span>

1. <span data-ttu-id="36685-330">`GetProductsPaged` ObjectDataSource `SelectMethod` özelliğini `GetProductsPagedAndSorted`olarak değiştirin.</span><span class="sxs-lookup"><span data-stu-id="36685-330">Change the ObjectDataSource s `SelectMethod` property from `GetProductsPaged` to `GetProductsPagedAndSorted`.</span></span>
2. <span data-ttu-id="36685-331">ObjectDataSource s `SelectParameters` koleksiyonuna bir *SortExpression* `Parameter` nesnesi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="36685-331">Add a *sortExpression* `Parameter` object to the ObjectDataSource s `SelectParameters` collection.</span></span>
3. <span data-ttu-id="36685-332">Sayfa s görünüm durumu ile geri alma boyunca değerini devam eden bir özel, sayfa düzeyi `SortExpression` özelliği oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-332">Create a private, page-level `SortExpression` property that persists its value across postbacks through the page s view state.</span></span>
4. <span data-ttu-id="36685-333">ObjectDataSource s `Selecting` olay işleyicisini, sayfa düzeyi `SortExpression` özelliğinin değerini, ObjectDataSource 'un *SortExpression* parametresini atamak için güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="36685-333">Update the ObjectDataSource s `Selecting` event handler to assign the ObjectDataSource s *sortExpression* parameter the value of the page-level `SortExpression` property.</span></span>
5. <span data-ttu-id="36685-334">Sıralama arabirimini oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-334">Create the sorting interface.</span></span>

<span data-ttu-id="36685-335">ObjectDataSource `SelectMethod` özelliğini güncelleştirerek ve bir *SortExpression* `Parameter`ekleyerek başlayın.</span><span class="sxs-lookup"><span data-stu-id="36685-335">Start by updating the ObjectDataSource s `SelectMethod` property and adding a *sortExpression* `Parameter`.</span></span> <span data-ttu-id="36685-336">*SortExpression* `Parameter` s `Type` özelliğinin `String`olarak ayarlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="36685-336">Make sure that the *sortExpression* `Parameter` s `Type` property is set to `String`.</span></span> <span data-ttu-id="36685-337">Bu ilk iki görevi tamamladıktan sonra, ObjectDataSource tarafından bildirim temelli biçimlendirme aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="36685-337">After completing these first two tasks, the ObjectDataSource s declarative markup should look like the following:</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample18.aspx)]

<span data-ttu-id="36685-338">Daha sonra, değeri görünüm durumuna serileştirilmiş bir sayfa düzeyi `SortExpression` özelliğine ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="36685-338">Next, we need a page-level `SortExpression` property whose value is serialized to view state.</span></span> <span data-ttu-id="36685-339">Sıralama ifadesi değeri ayarlanmamışsa, varsayılan olarak ProductName kullanın:</span><span class="sxs-lookup"><span data-stu-id="36685-339">If no sort expression value has been set, use ProductName as the default:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample19.cs)]

<span data-ttu-id="36685-340">ObjectDataSource `GetProductsPagedAndSorted` yöntemi çağırmadan önce, *SortExpression* `Parameter` `SortExpression` özelliğinin değerine ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-340">Before the ObjectDataSource invokes the `GetProductsPagedAndSorted` method we need to set the *sortExpression* `Parameter` to the value of the `SortExpression` property.</span></span> <span data-ttu-id="36685-341">`Selecting` olay işleyicisine aşağıdaki kod satırını ekleyin:</span><span class="sxs-lookup"><span data-stu-id="36685-341">In the `Selecting` event handler, add the following line of code:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample20.cs)]

<span data-ttu-id="36685-342">Her şey sıralama arabirimini uygulamaktır.</span><span class="sxs-lookup"><span data-stu-id="36685-342">All that remains is to implement the sorting interface.</span></span> <span data-ttu-id="36685-343">Son örnekte yaptığımız gibi, kullanıcının sonuçları ürün adına, kategoriye veya tedarikçiye göre sıralamasına izin veren üç düğme web denetimi kullanılarak sıralama arabirimine sahip olmam gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-343">As we did in the last example, let s have the sorting interface implemented using three Button Web controls that allow the user to sort the results by product name, category, or supplier.</span></span>

[!code-aspx[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample21.aspx)]

<span data-ttu-id="36685-344">Bu üç düğme denetimi için `Click` olay işleyicileri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="36685-344">Create `Click` event handlers for these three Button controls.</span></span> <span data-ttu-id="36685-345">Olay işleyicisinde `StartRowIndex` 0 olarak sıfırlayın, `SortExpression` uygun değere ayarlayın ve verileri yineleyicisi 'ne yeniden bağlayın:</span><span class="sxs-lookup"><span data-stu-id="36685-345">In the event handler, reset the `StartRowIndex` to 0, set the `SortExpression` to the appropriate value, and rebind the data to the Repeater:</span></span>

[!code-csharp[Main](sorting-data-in-a-datalist-or-repeater-control-cs/samples/sample22.cs)]

<span data-ttu-id="36685-346">İşte bu kadar!</span><span class="sxs-lookup"><span data-stu-id="36685-346">That s all there is to it!</span></span> <span data-ttu-id="36685-347">Özel sayfalama ve sıralama uygulanmış bir dizi adım olsa da, adımlar varsayılan sayfalama için gerekenlere çok benzer.</span><span class="sxs-lookup"><span data-stu-id="36685-347">While there were a number of steps to get custom paging and sorting implemented, the steps were very similar to those needed for default paging.</span></span> <span data-ttu-id="36685-348">Şekil 18, kategoriye göre sıralandığında verilerin son sayfasını görüntülerken ürünleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="36685-348">Figure 18 shows the products when viewing the last page of data when sorted by category.</span></span>

<span data-ttu-id="36685-349">[Verilerin son sayfasını kategoriye göre sıralanmış olarak ![görüntülenir](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span><span class="sxs-lookup"><span data-stu-id="36685-349">[![The Last Page of Data, Sorted by Category, is Displayed](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image51.png)](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image50.png)</span></span>

<span data-ttu-id="36685-350">**Şekil 18**: kategoriye göre sıralanmış verilerin son sayfası görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span><span class="sxs-lookup"><span data-stu-id="36685-350">**Figure 18**: The Last Page of Data, Sorted by Category, is Displayed ([Click to view full-size image](sorting-data-in-a-datalist-or-repeater-control-cs/_static/image52.png))</span></span>

> [!NOTE]
> <span data-ttu-id="36685-351">Önceki örneklerde, "tedarikçisine göre sıralama sıralama ifadesi olarak kullanılmıştır.</span><span class="sxs-lookup"><span data-stu-id="36685-351">In previous examples, when sorting by the supplier SupplierName was used as the sort expression.</span></span> <span data-ttu-id="36685-352">Ancak, özel disk belleği uygulamasının kullanılması için CompanyName ' i kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="36685-352">However, for the custom paging implementation, we need to use CompanyName.</span></span> <span data-ttu-id="36685-353">Bunun nedeni, özel sayfalama `GetProductsPagedAndSorted` uygulamaktan sorumlu saklı yordamın sıralama ifadesini `ROW_NUMBER()` anahtar sözcüğüne geçirmesidir, `ROW_NUMBER()` anahtar sözcüğü bir diğer ad yerine gerçek sütun adını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="36685-353">This is because the stored procedure responsible for implementing custom paging `GetProductsPagedAndSorted` passes the sort expression into the `ROW_NUMBER()` keyword, The `ROW_NUMBER()` keyword requires the actual column name rather than an alias.</span></span> <span data-ttu-id="36685-354">Bu nedenle, sıralama ifadesi için `SELECT` sorgusunda (`SupplierName`) kullanılan diğer ad yerine `CompanyName` (`Suppliers` tablosundaki sütunun adı) kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="36685-354">Therefore, we must use `CompanyName` (the name of the column in the `Suppliers` table) rather than the alias used in the `SELECT` query (`SupplierName`) for the sort expression.</span></span>

## <a name="summary"></a><span data-ttu-id="36685-355">Özet</span><span class="sxs-lookup"><span data-stu-id="36685-355">Summary</span></span>

<span data-ttu-id="36685-356">DataList veya Repeater, yerleşik sıralama desteği sunmaz, ancak bir bit kod ve özel sıralama arabirimi ile bu tür işlevler eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="36685-356">Neither the DataList nor Repeater offer built-in sorting support, but with a bit of code and a custom sorting interface, such functionality can be added.</span></span> <span data-ttu-id="36685-357">Sıralamayı uygularken, sayfalama ifadesi, ObjectDataSource s `Select` yöntemine geçirilen `DataSourceSelectArguments` nesnesi aracılığıyla belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="36685-357">When implementing sorting, but not paging, the sort expression can be specified through the `DataSourceSelectArguments` object passed into the ObjectDataSource s `Select` method.</span></span> <span data-ttu-id="36685-358">Bu `DataSourceSelectArguments` nesne s `SortExpression` özelliği, ObjectDataSource s `Selecting` olay işleyicisine atanabilir.</span><span class="sxs-lookup"><span data-stu-id="36685-358">This `DataSourceSelectArguments` object s `SortExpression` property can be assigned in the ObjectDataSource s `Selecting` event handler.</span></span>

<span data-ttu-id="36685-359">Zaten disk belleği desteği sağlayan bir DataList veya Repeater öğesine sıralama özellikleri eklemek için en kolay yaklaşım, Iş mantığı katmanını sıralama ifadesi kabul eden bir yöntemi içerecek şekilde özelleştirmenin bir yoludur.</span><span class="sxs-lookup"><span data-stu-id="36685-359">To add sorting capabilities to a DataList or Repeater that already provides paging support, the easiest approach is to customize the Business Logic Layer to include a method that accepts a sort expression.</span></span> <span data-ttu-id="36685-360">Bu bilgiler daha sonra ObjectDataSource `SelectParameters`bir parametre aracılığıyla geçirilebilir.</span><span class="sxs-lookup"><span data-stu-id="36685-360">This information can then be passed in through a parameter in the ObjectDataSource s `SelectParameters`.</span></span>

<span data-ttu-id="36685-361">Bu öğreticide, sayfalama, DataList ve Repeater denetimleriyle sıralama ile ilgili İnceleme işlemi tamamlanır.</span><span class="sxs-lookup"><span data-stu-id="36685-361">This tutorial completes our examination of paging and sorting with the DataList and Repeater controls.</span></span> <span data-ttu-id="36685-362">Bir sonraki ve son öğreticimiz, öğe temelinde özel, Kullanıcı tarafından başlatılan bir işlevsellik sağlamak için DataList ve Repeater s şablonlarına nasıl düğme Web denetimleri ekleneceğini inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="36685-362">Our next and final tutorial will examine how to add Button Web controls to the DataList and Repeater s templates in order to provide some custom, user-initiated functionality on a per-item basis.</span></span>

<span data-ttu-id="36685-363">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="36685-363">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="36685-364">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="36685-364">About the Author</span></span>

<span data-ttu-id="36685-365">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="36685-365">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="36685-366">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="36685-366">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="36685-367">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="36685-367">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="36685-368">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="36685-368">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="36685-369">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="36685-369">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="36685-370">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="36685-370">Special Thanks To</span></span>

<span data-ttu-id="36685-371">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="36685-371">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="36685-372">Bu öğretici için lider gözden geçiren, David suru idi.</span><span class="sxs-lookup"><span data-stu-id="36685-372">Lead reviewer for this tutorial was David Suru.</span></span> <span data-ttu-id="36685-373">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="36685-373">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="36685-374">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="36685-374">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="36685-375">[Önceki](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
> [İleri](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span><span class="sxs-lookup"><span data-stu-id="36685-375">[Previous](paging-report-data-in-a-datalist-or-repeater-control-cs.md)
[Next](paging-report-data-in-a-datalist-or-repeater-control-vb.md)</span></span>
