---
uid: web-forms/overview/data-access/advanced-data-access-scenarios/debugging-stored-procedures-cs
title: Saklı yordamları (C#) hata ayıklama | Microsoft Docs
author: rick-anderson
description: Visual Studio Professional ve takım sistemi sürümleri, kesme noktaları ayarlayın ve SQL Server saklı yordamlar için adım depolanan hata ayıklama yapmadan izin ver...
ms.author: riande
ms.date: 08/03/2007
ms.assetid: c655c324-2ffa-4c21-8265-a254d79a693d
msc.legacyurl: /web-forms/overview/data-access/advanced-data-access-scenarios/debugging-stored-procedures-cs
msc.type: authoredcontent
ms.openlocfilehash: 4558a309248c89483d198f47f731eee2a266695f
ms.sourcegitcommit: 289e051cc8a90e8f7127e239fda73047bde4de12
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/25/2019
ms.locfileid: "58421472"
---
<a name="debugging-stored-procedures-c"></a><span data-ttu-id="3e020-103">Saklı Yordamların Hatalarını Ayıklama (C#)</span><span class="sxs-lookup"><span data-stu-id="3e020-103">Debugging Stored Procedures (C#)</span></span>
====================
<span data-ttu-id="3e020-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="3e020-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3e020-105">[Kodu indir](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_74_CS.zip) veya [PDF olarak indirin](debugging-stored-procedures-cs/_static/datatutorial74cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3e020-105">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_74_CS.zip) or [Download PDF](debugging-stored-procedures-cs/_static/datatutorial74cs1.pdf)</span></span>

> <span data-ttu-id="3e020-106">Visual Studio Professional ve takım sistemi sürümleri, kesme noktaları ayarlayın ve SQL Server saklı yordamlar için adım uygulama kodu ayıklanması kadar kolay saklı yordamların hatalarını ayıklama yapmadan olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="3e020-106">Visual Studio Professional and Team System editions allow you to set breakpoints and step in to stored procedures within SQL Server, making debugging stored procedures as easy as debugging application code.</span></span> <span data-ttu-id="3e020-107">Bu öğretici, doğrudan veritabanı hata ayıklamaya ve uygulama saklı yordamların hatalarını ayıklama gösterir.</span><span class="sxs-lookup"><span data-stu-id="3e020-107">This tutorial demonstrates direct database debugging and application debugging of stored procedures.</span></span>


## <a name="introduction"></a><span data-ttu-id="3e020-108">Giriş</span><span class="sxs-lookup"><span data-stu-id="3e020-108">Introduction</span></span>

<span data-ttu-id="3e020-109">Visual Studio, zengin bir hata ayıklama deneyimi sunar.</span><span class="sxs-lookup"><span data-stu-id="3e020-109">Visual Studio provides a rich debugging experience.</span></span> <span data-ttu-id="3e020-110">Birkaç tuş vuruşlarını veya fare tıklamaları, s bir programın yürütülmesini durdurmak ve onun durumunu ve denetim akışı incelemek için kesme noktaları kullanma olanağı.</span><span class="sxs-lookup"><span data-stu-id="3e020-110">With a few keystrokes or clicks of the mouse, it s possible to use breakpoints to stop execution of a program and examine its state and control flow.</span></span> <span data-ttu-id="3e020-111">Visual Studio, uygulama kodu hata ayıklama yanı sıra, SQL Server saklı yordamlardan hata ayıklama desteği sunar.</span><span class="sxs-lookup"><span data-stu-id="3e020-111">Along with debugging application code, Visual Studio offers support for debugging stored procedures from within SQL Server.</span></span> <span data-ttu-id="3e020-112">Bir ASP.NET arka plan kod sınıfı veya iş mantığı katmanı sınıfı kod içinde kesme noktaları sadece ayarlanabilir gibi için saklı yordamları içinden bunlar çok yerleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-112">Just like breakpoints can be set within the code of an ASP.NET code-behind class or Business Logic Layer class, so too can they be placed within stored procedures.</span></span>

<span data-ttu-id="3e020-113">Bu öğreticide gelindiğinde kesme noktaları ayarlamak için ne zaman saklı yordamı çalışan ASP.NET uygulamasından çağrılır nasıl saklı yordamlara sunucu Gezgini'nde Visual Studio içinden de Adımlama görünecektir.</span><span class="sxs-lookup"><span data-stu-id="3e020-113">In this tutorial we will look at stepping into stored procedures from the Server Explorer within Visual Studio as well as how to set breakpoints that are hit when the stored procedure is called from the running ASP.NET application.</span></span>

> [!NOTE]
> <span data-ttu-id="3e020-114">Ne yazık ki, saklı yordamlar yalnızca içine girdiğiniz ve Visual Studio Professional ve takım sistemleri sürümleri hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="3e020-114">Unfortunately, stored procedures can only be stepped into and debugged through the Professional and Team Systems versions of Visual Studio.</span></span> <span data-ttu-id="3e020-115">Visual Web Developer veya Visual Studio standart sürümünü kullanıyorsanız, biz saklı yordamları debug gereken adımlarda size yol, ancak bu adımları makinenizde çoğaltmak mümkün olmayacaktır boyunca okuma davetlidir.</span><span class="sxs-lookup"><span data-stu-id="3e020-115">If you are using Visual Web Developer or the standard version of Visual Studio, you are welcome to read along as we walk through the steps necessary to debug stored procedures, but you will not be able to replicate these steps on your machine.</span></span>


## <a name="sql-server-debugging-concepts"></a><span data-ttu-id="3e020-116">SQL Server hata ayıklama kavramları</span><span class="sxs-lookup"><span data-stu-id="3e020-116">SQL Server Debugging Concepts</span></span>

<span data-ttu-id="3e020-117">Microsoft SQL Server 2005 ile tümleştirme sağlamak üzere tasarlanmış [ortak dil çalışma zamanı (CLR)](https://msdn.microsoft.com/netframework/aa497266.aspx), tüm .NET derlemeleri tarafından kullanılan çalışma zamanı olduğu.</span><span class="sxs-lookup"><span data-stu-id="3e020-117">Microsoft SQL Server 2005 was designed to provide integration with the [Common Language Runtime (CLR)](https://msdn.microsoft.com/netframework/aa497266.aspx), which is the runtime used by all .NET assemblies.</span></span> <span data-ttu-id="3e020-118">Sonuç olarak, SQL Server 2005 yönetilen veritabanı nesnelerini destekler.</span><span class="sxs-lookup"><span data-stu-id="3e020-118">Consequently, SQL Server 2005 supports managed database objects.</span></span> <span data-ttu-id="3e020-119">Diğer bir deyişle, C# sınıfı yöntemleri olarak veritabanı nesneleri gibi saklı yordamlar ve kullanıcı tanımlı işlevlerle (UDF) oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3e020-119">That is, you can create database objects like stored procedures and User-Defined Functions (UDFs) as methods in a C# class.</span></span> <span data-ttu-id="3e020-120">Bu saklı yordamlar ve UDF'ler .NET Framework ve kendi özel sınıflar işlevselliğinden yararlanmasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="3e020-120">This enables these stored procedures and UDFs to utilize functionality in the .NET Framework and from your own custom classes.</span></span> <span data-ttu-id="3e020-121">Elbette, SQL Server 2005 T-SQL veritabanı nesneleri için de destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="3e020-121">Of course, SQL Server 2005 also provides support for T-SQL database objects.</span></span>

<span data-ttu-id="3e020-122">SQL Server 2005 T-SQL hem de yönetilen veritabanı nesneleri için hata ayıklama desteği sunar.</span><span class="sxs-lookup"><span data-stu-id="3e020-122">SQL Server 2005 offers debugging support for both T-SQL and managed database objects.</span></span> <span data-ttu-id="3e020-123">Ancak, bu nesneler yalnızca Visual Studio 2005 Professional ve takım sistemleri sürümleri ayıklanabilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-123">However, these objects can only be debugged through Visual Studio 2005 Professional and Team Systems editions.</span></span> <span data-ttu-id="3e020-124">Bu öğreticide hata ayıklama T-SQL veritabanı nesnelerini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="3e020-124">In this tutorial we will examine debugging T-SQL database objects.</span></span> <span data-ttu-id="3e020-125">Sonraki öğreticide, yönetilen bir veritabanı nesnelerinde hata ayıklama sırasında arar.</span><span class="sxs-lookup"><span data-stu-id="3e020-125">The subsequent tutorial looks at debugging managed database objects.</span></span>

<span data-ttu-id="3e020-126">[Genel bakış, T-SQL ve CLR hata ayıklama SQL Server 2005'te](https://blogs.msdn.com/sqlclr/archive/2006/06/29/651644.aspx) blog girişi [SQL Server 2005 CLR tümleştirme takım](https://blogs.msdn.com/sqlclr/default.aspx) SQL Server 2005 nesneleri Visual Studio'dan hata ayıklama için üç yol vurgular:</span><span class="sxs-lookup"><span data-stu-id="3e020-126">The [Overview of T-SQL and CLR Debugging in SQL Server 2005](https://blogs.msdn.com/sqlclr/archive/2006/06/29/651644.aspx) blog entry from the [SQL Server 2005 CLR Integration team](https://blogs.msdn.com/sqlclr/default.aspx) highlights the three ways to debug SQL Server 2005 objects from Visual Studio:</span></span>

- <span data-ttu-id="3e020-127">**Doğrudan veritabanı hata ayıklama (DDD)** - biz adım saklı yordamlar ve UDF'ler gibi tüm T-SQL veritabanı nesnesine Sunucu Gezgini'nden.</span><span class="sxs-lookup"><span data-stu-id="3e020-127">**Direct Database Debugging (DDD)** - from Server Explorer we can step into any T-SQL database object, such as stored procedures and UDFs.</span></span> <span data-ttu-id="3e020-128">Adım 1'deki DDD inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="3e020-128">We will examine DDD in Step 1.</span></span>
- <span data-ttu-id="3e020-129">**Uygulama hata ayıklama** -biz bir veritabanı nesnesi içinde kesme noktaları ayarlayın ve ardından ASP.NET uygulamamız çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3e020-129">**Application Debugging** - we can set breakpoints within a database object and then run our ASP.NET application.</span></span> <span data-ttu-id="3e020-130">Veritabanı nesnesi yürütüldüğünde, kesme noktasına isabet ve denetimi hata ayıklayıcıyı açık.</span><span class="sxs-lookup"><span data-stu-id="3e020-130">When the database object is executed, the breakpoint will be hit and control turned over to the debugger.</span></span> <span data-ttu-id="3e020-131">Uygulamanın hatalarını ayıklamaya biz bir veritabanı nesnesine ait uygulama kodu girilemiyor olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3e020-131">Note that with application debugging we cannot step into a database object from application code.</span></span> <span data-ttu-id="3e020-132">Biz açıkça kesme noktaları bu saklı yordamları ya da UDF'ler durdurmak için hata ayıklayıcı istediğimiz ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3e020-132">We must explicitly set breakpoints in those stored procedures or UDFs where we want the debugger to stop.</span></span> <span data-ttu-id="3e020-133">Uygulama hata ayıklama, 2. adımda başlangıç incelenir.</span><span class="sxs-lookup"><span data-stu-id="3e020-133">Application debugging is examined starting in Step 2.</span></span>
- <span data-ttu-id="3e020-134">**Bir SQL Server projeden hata ayıklama** -Visual Studio Professional ve takım sistemleri sürümleri yönetilen nesneleri oluşturmak için yaygın olarak kullanılan bir SQL Server Proje türü içerir.</span><span class="sxs-lookup"><span data-stu-id="3e020-134">**Debugging from a SQL Server Project** - Visual Studio Professional and Team Systems editions include a SQL Server Project type that is commonly used to create managed database objects.</span></span> <span data-ttu-id="3e020-135">SQL Server projeleri kullanarak inceleyeceğiz ve bunların içeriğini sonraki öğreticide hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="3e020-135">We will examine using SQL Server Projects and debugging their contents in the next tutorial.</span></span>

<span data-ttu-id="3e020-136">Visual Studio, yerel ve uzak SQL Server örneklerinde saklı yordamlar ayıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3e020-136">Visual Studio can debug stored procedures on local and remote SQL Server instances.</span></span> <span data-ttu-id="3e020-137">Yerel bir SQL Server örneği, Visual Studio ile aynı makinede yüklü bir uygulamadır.</span><span class="sxs-lookup"><span data-stu-id="3e020-137">A local SQL Server instance is one that is installed on the same machine as Visual Studio.</span></span> <span data-ttu-id="3e020-138">Kullanmakta olduğunuz SQL Server veritabanı geliştirme makinenizde yer almıyorsa, uzak bir örneği değerlendirilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-138">If the SQL Server database you are using is not located on your development machine, then it is considered a remote instance.</span></span> <span data-ttu-id="3e020-139">Bu öğreticiler için yerel SQL Server örneklerini kullandığımız.</span><span class="sxs-lookup"><span data-stu-id="3e020-139">For these tutorials we have been using local SQL Server instances.</span></span> <span data-ttu-id="3e020-140">Uzak bir SQL server örneği üzerinde saklı yordamların hatalarını ayıklama, yerel bir örneğinde saklı yordamların hatalarını ayıklama değerinden daha fazla yapılandırma adımı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3e020-140">Debugging stored procedures on a remote SQL server instance requires more configuration steps than when debugging stored procedures on a local instance.</span></span>

<span data-ttu-id="3e020-141">Yerel bir SQL Server örneği kullanıyorsanız 1. adımla başlamak ve Bu öğreticide sonuna çalışır.</span><span class="sxs-lookup"><span data-stu-id="3e020-141">If you are using a local SQL Server instance, you can start with Step 1 and work through this tutorial to the end.</span></span> <span data-ttu-id="3e020-142">Ancak, uzak bir SQL Server örneği kullanıyorsanız, hata ayıklama sırasında emin olmak için ilk gerek geliştirme makinenize uzak örneğinde bir SQL Server oturum bilgilerine sahip bir Windows kullanıcı hesabı ile oturum olacaktır.</span><span class="sxs-lookup"><span data-stu-id="3e020-142">If you are using a remote SQL Server instance, however, you will first need to ensure that when debugging you are logged to your development machine with a Windows user account that has a SQL Server login on the remote instance.</span></span> <span data-ttu-id="3e020-143">Ayrıca, hem bu veritabanı oturum açma hem de çalışan ASP.NET uygulamasından veritabanına bağlanmak için kullanılan veritabanı oturum açma üyelerini olmalıdır `sysadmin` rol.</span><span class="sxs-lookup"><span data-stu-id="3e020-143">Moreover, both this database login and the database login used to connect to the database from the running ASP.NET application must be members of the `sysadmin` role.</span></span> <span data-ttu-id="3e020-144">Hata ayıklama T-SQL veritabanı nesneleri, uzak bir örneğini hata ayıklamak için Visual Studio ve SQL Server yapılandırma hakkında daha fazla bilgi için bu öğreticinin sonunda uzak örnekler bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="3e020-144">See the Debugging T-SQL Database Objects on Remote Instances section at the end of this tutorial for more information on configuring Visual Studio and SQL Server to debug a remote instance.</span></span>

<span data-ttu-id="3e020-145">Son olarak, hata ayıklama desteği T-SQL veritabanı nesneleri için hata ayıklama desteği için .NET uygulamaları olarak zengin bir özellik olarak olduğunu anlayın.</span><span class="sxs-lookup"><span data-stu-id="3e020-145">Finally, understand that debugging support for T-SQL database objects is not as feature rich as debugging support for .NET applications.</span></span> <span data-ttu-id="3e020-146">Hata ayıklama windows kümesini yalnızca kullanılabilir, örneğin, kesme noktası koşulları ve filtreleri, desteklenmez, Düzenle ve devam et kullanamazsınız, gereksiz vb. hemen penceresinde oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3e020-146">For example, breakpoint conditions and filters are not supported, only a subset of the debugging windows are available, you cannot use Edit and Continue, the Immediate window is rendered useless, and so forth.</span></span> <span data-ttu-id="3e020-147">Bkz: [hata ayıklayıcı komutları ve özellikleri üzerinde sınırlamalar](https://msdn.microsoft.com/library/ms165035(VS.80).aspx) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="3e020-147">See [Limitations on Debugger Commands and Features](https://msdn.microsoft.com/library/ms165035(VS.80).aspx) for more information.</span></span>

## <a name="step-1-directly-stepping-into-a-stored-procedure"></a><span data-ttu-id="3e020-148">1. Adım: Doğrudan bir saklı yordam Adımlama</span><span class="sxs-lookup"><span data-stu-id="3e020-148">Step 1: Directly Stepping Into a Stored Procedure</span></span>

<span data-ttu-id="3e020-149">Visual Studio, doğrudan bir veritabanı nesnesi hatalarını ayıklamanızı kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="3e020-149">Visual Studio makes it easy to directly debug a database object.</span></span> <span data-ttu-id="3e020-150">S içine adımlamak için doğrudan veritabanı hata ayıklama (DDD) özelliğini kullanmak nasıl bakmak istiyorum `Products_SelectByCategoryID` Northwind veritabanında saklı yordamı.</span><span class="sxs-lookup"><span data-stu-id="3e020-150">Let s look at how to use the Direct Database Debugging (DDD) feature to step into the `Products_SelectByCategoryID` stored procedure in the Northwind database.</span></span> <span data-ttu-id="3e020-151">Adından da anlaşılacağı gibi `Products_SelectByCategoryID` döndürür; belirli bir kategorideki ürün bilgileri oluşturulduğu [kullanarak mevcut saklı yordamlar için türü belirtilmiş veri kümesi s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="3e020-151">As its name implies, `Products_SelectByCategoryID` returns product information for a particular category; it was created in the [Using Existing Stored Procedures for the Typed DataSet s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) tutorial.</span></span> <span data-ttu-id="3e020-152">Sunucu Gezginine giderek başlatın ve Northwind veritabanı düğümünü genişletin.</span><span class="sxs-lookup"><span data-stu-id="3e020-152">Start by going to the Server Explorer and expand the Northwind database node.</span></span> <span data-ttu-id="3e020-153">Ardından, saklı yordamlar klasörüne detaya, sağ `Products_SelectByCategoryID` saklı yordam ve bağlam menüsünden adım içinde saklı yordamı seçeneği belirleyin.</span><span class="sxs-lookup"><span data-stu-id="3e020-153">Next, drill down into the Stored Procedures folder, right-click on the `Products_SelectByCategoryID` stored procedure, and choose the Step Into Stored Procedure option from the context menu.</span></span> <span data-ttu-id="3e020-154">Bu, hata ayıklayıcıyı başlatır.</span><span class="sxs-lookup"><span data-stu-id="3e020-154">This will start the debugger.</span></span>

<span data-ttu-id="3e020-155">Bu yana `Products_SelectByCategoryID` saklı yordam bekliyor bir `@CategoryID` giriş parametresi, biz istenir bu değeri belirtin.</span><span class="sxs-lookup"><span data-stu-id="3e020-155">Since the `Products_SelectByCategoryID` stored procedure expects a `@CategoryID` input parameter, we are asked to provide this value.</span></span> <span data-ttu-id="3e020-156">1, İçecekler hakkında bilgi döndürür girin.</span><span class="sxs-lookup"><span data-stu-id="3e020-156">Enter 1, which will return information about the beverages.</span></span>


![' % S'değeri 1 için kullanmak @CategoryID parametresi](debugging-stored-procedures-cs/_static/image1.png)

<span data-ttu-id="3e020-158">**Şekil 1**: ' % S'değeri 1 için kullanmak `@CategoryID` parametresi</span><span class="sxs-lookup"><span data-stu-id="3e020-158">**Figure 1**: Use the Value 1 for the `@CategoryID` Parameter</span></span>


<span data-ttu-id="3e020-159">Değeri sağlama sonra `@CategoryID` saklı yordam parametresi yürütülür.</span><span class="sxs-lookup"><span data-stu-id="3e020-159">After supplying the value for the `@CategoryID` parameter, the stored procedure is executed.</span></span> <span data-ttu-id="3e020-160">Tamamlanana kadar çalıştırmak yerine, ancak, hata ayıklayıcı yürütme ilk deyimindeki durdurur.</span><span class="sxs-lookup"><span data-stu-id="3e020-160">Rather than running to completion, though, the debugger halts execution on the first statement.</span></span> <span data-ttu-id="3e020-161">Saklı yordam geçerli konumu gösteren sarı ok kenar unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3e020-161">Note the yellow arrow in the margin, indicating the current location in the stored procedure.</span></span> <span data-ttu-id="3e020-162">Görüntüleyebilir ve İzleme penceresi yoluyla veya saklı yordam içinde parametre adının üzerine geldiğinizde parametre değerlerini düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="3e020-162">You can view and edit parameter values through the Watch window or by hovering over the parameter name in the stored procedure.</span></span>


<span data-ttu-id="3e020-163">[![Hata ayıklayıcı saklı yordam üzerinde ilk deyimi durdu](debugging-stored-procedures-cs/_static/image3.png)](debugging-stored-procedures-cs/_static/image2.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-163">[![The Debugger has Halted on the First Statement of the Stored Procedure](debugging-stored-procedures-cs/_static/image3.png)](debugging-stored-procedures-cs/_static/image2.png)</span></span>

<span data-ttu-id="3e020-164">**Şekil 2**: Hata ayıklayıcı saklı yordam üzerinde ilk deyimi durdu ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-164">**Figure 2**: The Debugger has Halted on the First Statement of the Stored Procedure ([Click to view full-size image](debugging-stored-procedures-cs/_static/image4.png))</span></span>


<span data-ttu-id="3e020-165">Aynı anda saklı yordamı bir deyim üzerinden adımlamak için araç çubuğundaki Step Over düğmesine tıklayın veya F10 tuşuna basın.</span><span class="sxs-lookup"><span data-stu-id="3e020-165">To step through the stored procedure one statement at a time, click the Step Over button in the Toolbar or hit the F10 key.</span></span> <span data-ttu-id="3e020-166">`Products_SelectByCategoryID` Saklı yordam içeren tek bir `SELECT` F10 ulaşmaktan tek deyimi üzerinden adımla şekilde deyimi ve saklı yordam yürütme tamamlayın.</span><span class="sxs-lookup"><span data-stu-id="3e020-166">The `Products_SelectByCategoryID` stored procedure contains a single `SELECT` statement, so hitting F10 will Step over the single statement and complete the execution of the stored procedure.</span></span> <span data-ttu-id="3e020-167">Saklı yordam tamamlandıktan sonra çıktısını çıkış penceresinde görüntülenir ve hata ayıklayıcı sonlandırılır.</span><span class="sxs-lookup"><span data-stu-id="3e020-167">After the stored procedure has completed, its output will appear in the Output window and the debugger will terminate.</span></span>

> [!NOTE]
> <span data-ttu-id="3e020-168">T-SQL hata ayıklama deyimi düzeyinde gerçekleşir; Adımlama edilemez bir `SELECT` deyimi.</span><span class="sxs-lookup"><span data-stu-id="3e020-168">T-SQL debugging occurs at the statement level; you cannot Step into a `SELECT` statement.</span></span>


## <a name="step-2-configuring-the-website-for-application-debugging"></a><span data-ttu-id="3e020-169">2. Adım: Uygulama hata ayıklama için Web sitesi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3e020-169">Step 2: Configuring the Website for Application Debugging</span></span>

<span data-ttu-id="3e020-170">Bir saklı yordamı Sunucu Gezgini'nden doğrudan hata ayıklama kullanışlı olsa da, birçok senaryoda bizim ASP.NET uygulamasından çağrıldığında saklı yordamı hata ayıklamaya daha ilgi duyuyoruz.</span><span class="sxs-lookup"><span data-stu-id="3e020-170">While debugging a stored procedure directly from the Server Explorer is handy, in many scenarios we are more interested in debugging the stored procedure when it is called from our ASP.NET application.</span></span> <span data-ttu-id="3e020-171">Visual Studio içinden bir saklı yordamı kesme noktaları eklemek ve ardından ASP.NET uygulama hata ayıklama başlatın.</span><span class="sxs-lookup"><span data-stu-id="3e020-171">We can add breakpoints to a stored procedure from within Visual Studio and then start debugging the ASP.NET application.</span></span> <span data-ttu-id="3e020-172">Uygulamadan kesme noktaları olan bir saklı yordam çağrıldığında, yürütme kesme noktasında durdurulur ve biz görüntüleyebilir ve saklı yordam s parametre değerlerini değiştirmek ve adım 1'de yaptığımız gibi kendi deyimleri adım.</span><span class="sxs-lookup"><span data-stu-id="3e020-172">When a stored procedure with breakpoints is invoked from the application, execution will halt at the breakpoint and we can view and change the stored procedure s parameter values and step through its statements, just like we did in Step 1.</span></span>

<span data-ttu-id="3e020-173">Biz uygulamadan çağrılan saklı yordamların hatalarını ayıklama başlamadan önce SQL Server hata ayıklayıcısı ile tümleştirmek için ASP.NET web uygulaması isteyin gerekir.</span><span class="sxs-lookup"><span data-stu-id="3e020-173">Before we can start debugging stored procedures called from the application, we need to instruct the ASP.NET web application to integrate with the SQL Server debugger.</span></span> <span data-ttu-id="3e020-174">Başlangıç Web sitesi adı Çözüm Gezgini'nde sağ tıklayarak (`ASPNET_Data_Tutorial_74_CS`).</span><span class="sxs-lookup"><span data-stu-id="3e020-174">Start by right-clicking on the website name in the Solution Explorer (`ASPNET_Data_Tutorial_74_CS`).</span></span> <span data-ttu-id="3e020-175">Bağlam menüsünden özellik sayfaları seçeneğini seçin, sol taraftaki başlangıç seçenekleri öğeyi seçin ve hata ayıklayıcılar bölümündeki SQL Server ile ilgili onay kutusunu işaretleyin (bkz: Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="3e020-175">Choose the Property Pages option from the context menu, select the Start Options item on the left, and check the SQL Server checkbox in the Debuggers section (see Figure 3).</span></span>


<span data-ttu-id="3e020-176">[![Uygulama s özellik sayfaları SQL Server onay kutusunu işaretleyin](debugging-stored-procedures-cs/_static/image6.png)](debugging-stored-procedures-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-176">[![Check the SQL Server Checkbox in the Application s Property Pages](debugging-stored-procedures-cs/_static/image6.png)](debugging-stored-procedures-cs/_static/image5.png)</span></span>

<span data-ttu-id="3e020-177">**Şekil 3**: Özellik sayfaları uygulama s SQL Server onay kutusunu işaretleyin ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-177">**Figure 3**: Check the SQL Server Checkbox in the Application s Property Pages ([Click to view full-size image](debugging-stored-procedures-cs/_static/image7.png))</span></span>


<span data-ttu-id="3e020-178">Ayrıca, uygulama tarafından kullanılan bağlantı havuzunu devre dışı veritabanı bağlantı dizesini güncellemek ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="3e020-178">Additionally, we need to update the database connection string used by the application so that connection pooling is disabled.</span></span> <span data-ttu-id="3e020-179">Bir veritabanına bir bağlantı kapatıldığında, karşılık gelen `SqlConnection` nesne kullanılabilir bağlantılar bir havuzda yerleştirilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-179">When a connection to a database is closed, the corresponding `SqlConnection` object is placed in a pool of available connections.</span></span> <span data-ttu-id="3e020-180">Bir veritabanıyla bağlantı kurarken bir kullanılabilir bağlantı nesnesi bu havuzdan alınabilir yerine oluşturun ve yeni bir bağlantı kurmak zorunda.</span><span class="sxs-lookup"><span data-stu-id="3e020-180">When establishing a connection to a database, an available connection object can be retrieved from this pool rather than having to create and establish a new connection.</span></span> <span data-ttu-id="3e020-181">Bu bağlantı nesneleri havuzu bir performans geliştirmedir ve varsayılan olarak etkindir.</span><span class="sxs-lookup"><span data-stu-id="3e020-181">This pooling of connection objects is a performance enhancement and is enabled by default.</span></span> <span data-ttu-id="3e020-182">Ancak, hata ayıklama sırasında hata ayıklama altyapısı doğru havuzdan alındığı bir bağlantıyla çalışırken kurulmaz değil çünkü bağlantı havuzu kapalı etkinleştirmek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="3e020-182">However, when debugging we want to turn off connection pooling because the debugging infrastructure is not correctly reestablished when working with a connection that was taken from the pool.</span></span>

<span data-ttu-id="3e020-183">Devre dışı bırakılmış bağlantı havuzu için güncelleştirme `NORTHWNDConnectionString` içinde `Web.config` ayarı içerir böylece `Pooling=false` .</span><span class="sxs-lookup"><span data-stu-id="3e020-183">To disabled connection pooling, update the `NORTHWNDConnectionString` in `Web.config` so that it includes the setting `Pooling=false` .</span></span>


[!code-xml[Main](debugging-stored-procedures-cs/samples/sample1.xml)]

> [!NOTE]
> <span data-ttu-id="3e020-184">İşlemi tamamladıktan sonra SQL Server ASP.NET uygulaması hata ayıklama kaldırarak bağlantı havuzu yeniden devreye sokma emin `Pooling` alınan bağlantı dizesi ayarlama (veya ayarlayarak `Pooling=true` ).</span><span class="sxs-lookup"><span data-stu-id="3e020-184">Once you have finished debugging SQL Server through the ASP.NET application be sure to reinstate connection pooling by removing the `Pooling` setting from the connection string (or by setting it to `Pooling=true` ).</span></span>


<span data-ttu-id="3e020-185">Bu noktada ASP.NET uygulaması, web uygulaması aracılığıyla çağrıldığında SQL Server veritabanı nesnelerini hata ayıklamak için Visual Studio'yu izin verecek şekilde yapılandırıldı.</span><span class="sxs-lookup"><span data-stu-id="3e020-185">At this point the ASP.NET application has been configured to allow Visual Studio to debug SQL Server database objects when invoked through the web application.</span></span> <span data-ttu-id="3e020-186">Artık kalan tüm olduğu için bir saklı yordam bir kesme noktası ekleyin ve hata ayıklamaya başlayın!</span><span class="sxs-lookup"><span data-stu-id="3e020-186">All that remains now is to add a breakpoint to a stored procedure and start debugging!</span></span>

## <a name="step-3-adding-a-breakpoint-and-debugging"></a><span data-ttu-id="3e020-187">3. Adım: Bir kesme noktası ekleme ve hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="3e020-187">Step 3: Adding a Breakpoint and Debugging</span></span>

<span data-ttu-id="3e020-188">Açık `Products_SelectByCategoryID` başlangıcında bir kesme noktası ayarlayın ve saklı yordamı `SELECT` deyimi uygun bir yerdeki kenar tıklayarak ya da başlangıcında imleci yerleştirerek `SELECT` deyim veya F9 tuşuna basarak.</span><span class="sxs-lookup"><span data-stu-id="3e020-188">Open the `Products_SelectByCategoryID` stored procedure and set a breakpoint at the start of the `SELECT` statement by clicking in the margin at the appropriate place or by placing your cursor at the start of the `SELECT` statement and hitting F9.</span></span> <span data-ttu-id="3e020-189">Şekil 4'te gösterildiği gibi kesme noktası kenar kırmızı bir daire olarak görünür.</span><span class="sxs-lookup"><span data-stu-id="3e020-189">As Figure 4 illustrates, the breakpoint appears as a red circle in the margin.</span></span>


<span data-ttu-id="3e020-190">[![Products_SelectByCategoryID içinde bir kesme noktası ayarlamak depolanan yordamı](debugging-stored-procedures-cs/_static/image9.png)](debugging-stored-procedures-cs/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-190">[![Set a Breakpoint in the Products_SelectByCategoryID Stored Procedure](debugging-stored-procedures-cs/_static/image9.png)](debugging-stored-procedures-cs/_static/image8.png)</span></span>

<span data-ttu-id="3e020-191">**Şekil 4**: Bir kesim noktası `Products_SelectByCategoryID` saklı yordam ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-191">**Figure 4**: Set a Breakpoint in the `Products_SelectByCategoryID` Stored Procedure ([Click to view full-size image](debugging-stored-procedures-cs/_static/image10.png))</span></span>


<span data-ttu-id="3e020-192">Bir SQL veritabanı nesnesi bir istemci uygulaması hata ayıklaması için sırada veritabanı uygulamasında hata ayıklama desteklemek için yapılandırılması zorunludur.</span><span class="sxs-lookup"><span data-stu-id="3e020-192">In order for a SQL database object to be debugged through a client application, it is imperative that the database be configured to support application debugging.</span></span> <span data-ttu-id="3e020-193">Önce bir kesme noktası ayarlarsanız, bu ayar otomatik olarak açık, ancak sağlayamazsanız akıllıca olur.</span><span class="sxs-lookup"><span data-stu-id="3e020-193">When you first set a breakpoint, this setting should automatically be switched on, but it is prudent to double-check.</span></span> <span data-ttu-id="3e020-194">Sağ `NORTHWND.MDF` Sunucu Gezgininde.</span><span class="sxs-lookup"><span data-stu-id="3e020-194">Right-click on the `NORTHWND.MDF` node in the Server Explorer.</span></span> <span data-ttu-id="3e020-195">Bağlam menüsü öğesi uygulamasında hata ayıklama adlı bir işaretli menü içermelidir.</span><span class="sxs-lookup"><span data-stu-id="3e020-195">The context menu should include a checked menu item named Application Debugging .</span></span>


![Uygulama hata ayıklama seçeneğinin etkin olduğundan emin olun](debugging-stored-procedures-cs/_static/image11.png)

<span data-ttu-id="3e020-197">**Şekil 5**: Uygulama hata ayıklama seçeneğinin etkin olduğundan emin olun</span><span class="sxs-lookup"><span data-stu-id="3e020-197">**Figure 5**: Ensure that the Application Debugging Option is Enabled</span></span>


<span data-ttu-id="3e020-198">Kesme noktası ayarlama ve uygulama hata ayıklama seçeneğinin etkin ile ASP.NET uygulamasından çağrıldığında saklı yordamı hata ayıklamak hazırız.</span><span class="sxs-lookup"><span data-stu-id="3e020-198">With the breakpoint set and the Application Debugging option enabled, we are ready to debug the stored procedure when called from the ASP.NET application.</span></span> <span data-ttu-id="3e020-199">Hata ayıklama menüsüne giderek hata ayıklayıcıyı başlatın ve F5'e basarak veya yeşil tıklayarak hata ayıklamayı Başlat, seçme, araç çubuğunda simge yürütebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3e020-199">Start the debugger by going to the Debug menu and choosing Start Debugging, by hitting F5, or by clicking the green play icon in the Toolbar.</span></span> <span data-ttu-id="3e020-200">Bu, hata ayıklayıcıyı başlatın ve Web sitesini başlatın.</span><span class="sxs-lookup"><span data-stu-id="3e020-200">This will start the debugger and launch the website.</span></span>

<span data-ttu-id="3e020-201">`Products_SelectByCategoryID` Saklı yordam içinde oluşturulduğu [kullanarak mevcut saklı yordamlar için türü belirtilmiş veri kümesi s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="3e020-201">The `Products_SelectByCategoryID` stored procedure was created in the [Using Existing Stored Procedures for the Typed DataSet s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) tutorial.</span></span> <span data-ttu-id="3e020-202">Karşılık gelen web sayfasını (`~/AdvancedDAL/ExistingSprocs.aspx`) Bu saklı yordam tarafından döndürülen sonuçları gösteren GridView içerir.</span><span class="sxs-lookup"><span data-stu-id="3e020-202">Its corresponding web page (`~/AdvancedDAL/ExistingSprocs.aspx`) contains a GridView that displays the results returned by this stored procedure.</span></span> <span data-ttu-id="3e020-203">Tarayıcı yoluyla bu sayfasını ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="3e020-203">Visit this page through the browser.</span></span> <span data-ttu-id="3e020-204">Sayfasında, kesme noktasına ulaşma bağlı `Products_SelectByCategoryID` saklı yordam basın ve denetimi için Visual Studio döndürdü.</span><span class="sxs-lookup"><span data-stu-id="3e020-204">Upon reaching the page, the breakpoint in the `Products_SelectByCategoryID` stored procedure will be hit and control returned to Visual Studio.</span></span> <span data-ttu-id="3e020-205">Tıpkı adım 1'de, saklı yordam s deyimleri ve görünüm adımla ve parametre değerlerini değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3e020-205">Just like in Step 1, you can step through the stored procedure s statements and view and modify the parameter values.</span></span>


<span data-ttu-id="3e020-206">[![ExistingSprocs.aspx sayfa İçecekler başlangıçta görüntüler.](debugging-stored-procedures-cs/_static/image13.png)](debugging-stored-procedures-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-206">[![The ExistingSprocs.aspx Page Initially Displays the Beverages](debugging-stored-procedures-cs/_static/image13.png)](debugging-stored-procedures-cs/_static/image12.png)</span></span>

<span data-ttu-id="3e020-207">**Şekil 6**: `ExistingSprocs.aspx` Sayfası ilk başta İçecekler görüntüler ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-207">**Figure 6**: The `ExistingSprocs.aspx` Page Initially Displays the Beverages ([Click to view full-size image](debugging-stored-procedures-cs/_static/image14.png))</span></span>


<span data-ttu-id="3e020-208">[![Saklı yordam s kesme noktasına ulaşıldı](debugging-stored-procedures-cs/_static/image16.png)](debugging-stored-procedures-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-208">[![The Stored Procedure s Breakpoint has been Reached](debugging-stored-procedures-cs/_static/image16.png)](debugging-stored-procedures-cs/_static/image15.png)</span></span>

<span data-ttu-id="3e020-209">**Şekil 7**: Kesme noktasına ulaşıldı saklı yordam s ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-209">**Figure 7**: The Stored Procedure s Breakpoint has been Reached ([Click to view full-size image](debugging-stored-procedures-cs/_static/image17.png))</span></span>


<span data-ttu-id="3e020-210">Şekil 7 gösterir, değerini İzleme penceresinde olarak `@CategoryID` parametre 1'dir.</span><span class="sxs-lookup"><span data-stu-id="3e020-210">As the Watch window in Figure 7 shows, the value of the `@CategoryID` parameter is 1.</span></span> <span data-ttu-id="3e020-211">Bunun nedeni, `ExistingSprocs.aspx` sayfası olan İçecekler kategorisindeki ilk başta ürünleri görüntüler bir `CategoryID` 1 değeri.</span><span class="sxs-lookup"><span data-stu-id="3e020-211">This is because the `ExistingSprocs.aspx` page initially displays products in the beverages category, which has a `CategoryID` value of 1.</span></span> <span data-ttu-id="3e020-212">Aşağı açılan listeden farklı bir kategori seçin.</span><span class="sxs-lookup"><span data-stu-id="3e020-212">Choose a different category from the drop-down list.</span></span> <span data-ttu-id="3e020-213">Bunun yapılması, geri göndermeye neden olur ve yeniden yürütür `Products_SelectByCategoryID` saklı yordamı.</span><span class="sxs-lookup"><span data-stu-id="3e020-213">Doing so causes a postback and re-executes the `Products_SelectByCategoryID` stored procedure.</span></span> <span data-ttu-id="3e020-214">Yeniden ancak bu kez kesme noktasına isabet `@CategoryID` parametre s değeri yansıtır s Seçili aşağı açılan liste öğesi `CategoryID`.</span><span class="sxs-lookup"><span data-stu-id="3e020-214">The breakpoint is hit again, but this time the `@CategoryID` parameter s value reflects the selected drop-down list item s `CategoryID`.</span></span>


<span data-ttu-id="3e020-215">[![Aşağı açılan listeden farklı bir kategori seçin](debugging-stored-procedures-cs/_static/image19.png)](debugging-stored-procedures-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-215">[![Choose a Different Category from the Drop-Down List](debugging-stored-procedures-cs/_static/image19.png)](debugging-stored-procedures-cs/_static/image18.png)</span></span>

<span data-ttu-id="3e020-216">**Şekil 8**: Aşağı açılan listeden farklı bir kategori seçin ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-216">**Figure 8**: Choose a Different Category from the Drop-Down List ([Click to view full-size image](debugging-stored-procedures-cs/_static/image20.png))</span></span>


<span data-ttu-id="3e020-217">[![@CategoryID Parametre Web sayfasından seçilen kategori yansıtır](debugging-stored-procedures-cs/_static/image22.png)](debugging-stored-procedures-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3e020-217">[![The @CategoryID Parameter Reflects the Category Selected from the Web Page](debugging-stored-procedures-cs/_static/image22.png)](debugging-stored-procedures-cs/_static/image21.png)</span></span>

<span data-ttu-id="3e020-218">**Şekil 9**: `@CategoryID` Parametresi yansıtan kategoriyi seçilen Web sayfasındaki ([tam boyutlu görüntüyü görmek için tıklatın](debugging-stored-procedures-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="3e020-218">**Figure 9**: The `@CategoryID` Parameter Reflects the Category Selected from the Web Page ([Click to view full-size image](debugging-stored-procedures-cs/_static/image23.png))</span></span>


> [!NOTE]
> <span data-ttu-id="3e020-219">Kesme noktasına `Products_SelectByCategoryID` saklı yordam değil ziyaret isabet `ExistingSprocs.aspx` sayfasında, SQL Server onay kutusunu ASP.NET uygulamasının s özellikleri sayfasında hata ayıklayıcıları bölümünde denetlendi, bağlantı havuzu aktarıldığından emin emin olun devre dışı bırakıldı ve veritabanı s uygulamasında hata ayıklama seçeneği etkinleştirilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-219">If the breakpoint in the `Products_SelectByCategoryID` stored procedure is not hit when visiting the `ExistingSprocs.aspx` page, make sure that the SQL Server checkbox has been checked in the Debuggers section of the ASP.NET application s Properties Page, that connection pooling has been disabled, and that the database s Application Debugging option is enabled.</span></span> <span data-ttu-id="3e020-220">Re yine sorun, Visual Studio'yu yeniden başlatın ve yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="3e020-220">If you re still having problems, restart Visual Studio and try again.</span></span>


## <a name="debugging-t-sql-database-objects-on-remote-instances"></a><span data-ttu-id="3e020-221">T-SQL veritabanı nesnelerini uzak örneklerinde hata ayıklama</span><span class="sxs-lookup"><span data-stu-id="3e020-221">Debugging T-SQL Database Objects on Remote Instances</span></span>

<span data-ttu-id="3e020-222">Visual Studio ile aynı makinede SQL Server veritabanı örneği olduğunda, veritabanı nesneleri Visual Studio ile hata ayıklama oldukça basittir.</span><span class="sxs-lookup"><span data-stu-id="3e020-222">Debugging database objects through Visual Studio is fairly straightforward when the SQL Server database instance is on the same machine as Visual Studio.</span></span> <span data-ttu-id="3e020-223">SQL Server ve Visual Studio farklı makinelerde bulunuyorsa ancak ardından dikkatli bir yapılandırma her şeyin düzgün çalışmasını almak için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="3e020-223">However, if SQL Server and Visual Studio reside on different machines then some careful configuration is required to get everything working properly.</span></span> <span data-ttu-id="3e020-224">İki temel görevler ile kalmaktadır vardır:</span><span class="sxs-lookup"><span data-stu-id="3e020-224">There are two core tasks we are faced with:</span></span>

- <span data-ttu-id="3e020-225">ADO.NET ile veritabanına bağlanmak için kullanılan oturum açma ait olduğundan emin olun `sysadmin` rol.</span><span class="sxs-lookup"><span data-stu-id="3e020-225">Ensure that the login used to connect to the database via ADO.NET belongs to the `sysadmin` role.</span></span>
- <span data-ttu-id="3e020-226">Geliştirme makinenizde Visual Studio tarafından kullanılan Windows kullanıcı hesabı ait geçerli bir SQL Server oturum açma hesabı olduğundan emin olun `sysadmin` rol.</span><span class="sxs-lookup"><span data-stu-id="3e020-226">Ensure that the Windows user account used by Visual Studio on the development machine is a valid SQL Server login account that belongs to the `sysadmin` role.</span></span>

<span data-ttu-id="3e020-227">İlk adımı oldukça basittir.</span><span class="sxs-lookup"><span data-stu-id="3e020-227">The first step is relatively straightforward.</span></span> <span data-ttu-id="3e020-228">İlk olarak, ASP.NET uygulamasından veritabanına bağlanmak ve ardından SQL Server Management Studio'dan ilgili oturum açma hesabı eklemek için kullanılan kullanıcı hesabını tanımlama `sysadmin` rol.</span><span class="sxs-lookup"><span data-stu-id="3e020-228">First, identify the user account used to connect to the database from the ASP.NET application and then, from SQL Server Management Studio, add that login account to the `sysadmin` role.</span></span>

<span data-ttu-id="3e020-229">İkinci görev, uygulamada hata ayıklamak için kullandığınız Windows kullanıcı hesabı Uzak veritabanı geçerli bir oturum açma olmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3e020-229">The second task requires that the Windows user account you use to debug the application be a valid login on the remote database.</span></span> <span data-ttu-id="3e020-230">Ancak, büyük olasılıkla iş istasyonunuzu ile oturum açmış Windows hesap SQL Server üzerinde geçerli bir oturum değil uygulanır.</span><span class="sxs-lookup"><span data-stu-id="3e020-230">However, chances are the Windows account you logged on to your workstation with is not a valid login on SQL Server.</span></span> <span data-ttu-id="3e020-231">Belirli bir oturum açma hesabınızın SQL Server'a eklemek yerine, bazı Windows kullanıcı hesabı SQL Server hata ayıklama hesabı olarak atamak için daha iyi bir seçenek olacaktır.</span><span class="sxs-lookup"><span data-stu-id="3e020-231">Rather than adding your particular login account to SQL Server, a better choice would be to designate some Windows user account as the SQL Server debugging account.</span></span> <span data-ttu-id="3e020-232">Ardından, uzak bir SQL Server örneğinin veritabanı nesnelerini hata ayıklamak için Visual Studio, Windows oturum açma hesabı s kimlik bilgilerini kullanarak çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3e020-232">Then, to debug the database objects of a remote SQL Server instance, you would run Visual Studio using that Windows login account s credentials.</span></span>

<span data-ttu-id="3e020-233">Bir örnek noktalar açıklığa yardımcı olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3e020-233">An example should help clarify things.</span></span> <span data-ttu-id="3e020-234">Adlı bir Windows hesabı olduğunu hayal `SQLDebug` Windows etki alanı içinde.</span><span class="sxs-lookup"><span data-stu-id="3e020-234">Imagine that there is a Windows account named `SQLDebug` within the Windows domain.</span></span> <span data-ttu-id="3e020-235">Bu hesap, uzak SQL Server örneği için geçerli bir oturum açma ve bir üyesi olarak eklenmesi gerekir `sysadmin` rol.</span><span class="sxs-lookup"><span data-stu-id="3e020-235">This account would need to be added to the remote SQL Server instance as a valid login and as a member of the `sysadmin` role.</span></span> <span data-ttu-id="3e020-236">Ardından, Visual Studio'dan uzak SQL Server örneğinin hata ayıklamak için Visual Studio olarak çalıştırmak ihtiyacımız `SQLDebug` kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="3e020-236">Then, to debug the remote SQL Server instance from Visual Studio, we would need to run Visual Studio as the `SQLDebug` user.</span></span> <span data-ttu-id="3e020-237">Bu, bizim iş istasyonu dışında olarak yeniden oturum açarak yapılabilir `SQLDebug`, ve ardından Visual Studio, ancak basit bir yaklaşım başlatma kendi kimlik bilgilerini kullanarak, iş istasyonunda oturum açmak ve ardından olacak `runas.exe` olarak Visual Studio'yu başlatmak için `SQLDebug` kullanıcı.</span><span class="sxs-lookup"><span data-stu-id="3e020-237">This could be done by logging out of our workstation, logging back in as `SQLDebug`, and then launching Visual Studio, but a simpler approach would be to login to our workstation using our own credentials and then use `runas.exe` to launch Visual Studio as the `SQLDebug` user.</span></span> <span data-ttu-id="3e020-238">`runas.exe` farklı bir kullanıcı hesabı altında gerçekleştirebilirler yürütülecek belirli bir uygulama sağlar.</span><span class="sxs-lookup"><span data-stu-id="3e020-238">`runas.exe` allows a particular application to be executed under the guise of a different user account.</span></span> <span data-ttu-id="3e020-239">Visual Studio olarak başlatmak için `SQLDebug`, komut satırına aşağıdaki ifadeyi girebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="3e020-239">To launch Visual Studio as `SQLDebug`, you could enter the following statement at the command line:</span></span>


[!code-console[Main](debugging-stored-procedures-cs/samples/sample2.cmd)]

<span data-ttu-id="3e020-240">Bu işlemle ilgili daha ayrıntılı bir açıklaması için bkz: [William r Vaughn](http://betav.com/BLOG/billva/) s *Hitchhiker s Visual Studio ve SQL Server, yedinci Edition kılavuz* yanı [nasıl yapılır: Hata ayıklama için SQL Server izinleri ayarla](https://msdn.microsoft.com/library/w1bhybwz(VS.80).aspx).</span><span class="sxs-lookup"><span data-stu-id="3e020-240">For a more detailed explanation on this process, see [William R. Vaughn](http://betav.com/BLOG/billva/) s *Hitchhiker s Guide to Visual Studio and SQL Server, Seventh Edition* as well as [How To: Set SQL Server Permissions for Debugging](https://msdn.microsoft.com/library/w1bhybwz(VS.80).aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="3e020-241">Geliştirme makinenizde Windows XP Service Pack 2 olarak çalışıyorsa Internet Bağlantısı Güvenlik Duvarı uzaktan hata ayıklamaya izin verecek şekilde yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3e020-241">If your development machine is running Windows XP Service Pack 2 you will need to configure the Internet Connection Firewall to allow remote debugging.</span></span> <span data-ttu-id="3e020-242">[Nasıl yapılır: SQL Server 2005 hata ayıklamayı](https://msdn.microsoft.com/library/s0fk6z6e(VS.80).aspx) makale notları bu iki adımdan oluşur: (a) Visual Studio ana makinede eklemelisiniz `Devenv.exe` özel durumlar listesini ve açık TCP 135 bağlantı noktası; ve (b) uzak makinede (SQL), TCP 135 açmanız gerekir bağlantı noktası ve ekleme `sqlservr.exe` özel durumlar listesine.</span><span class="sxs-lookup"><span data-stu-id="3e020-242">[The How To: Enable SQL Server 2005 Debugging](https://msdn.microsoft.com/library/s0fk6z6e(VS.80).aspx) article notes that this involves two steps: (a) On the Visual Studio host machine, you must add `Devenv.exe` to the Exceptions list and open the TCP 135 port; and (b) On the remote (SQL) machine, you must open the TCP 135 port and add `sqlservr.exe` to the Exceptions list.</span></span> <span data-ttu-id="3e020-243">Etki alanı ilkeniz ağ iletişimi, IPSec yapılması gerekiyorsa, UDP 4500 ile UDP 500 bağlantı noktalarını açmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3e020-243">If your domain policy requires network communication to be done through IPSec, you must open the UDP 4500 and UDP 500 ports.</span></span>


## <a name="summary"></a><span data-ttu-id="3e020-244">Özet</span><span class="sxs-lookup"><span data-stu-id="3e020-244">Summary</span></span>

<span data-ttu-id="3e020-245">.NET uygulama kodu için hata ayıklama desteği sağlamanın yanı sıra Visual Studio hata ayıklama seçenekleri SQL Server 2005'e yönelik çeşitli de sağlar.</span><span class="sxs-lookup"><span data-stu-id="3e020-245">In addition to providing debugging support for .NET application code, Visual Studio also provides a variety of debugging options for SQL Server 2005.</span></span> <span data-ttu-id="3e020-246">Bu öğreticide bu seçenekleri ikilisi incelemiştik: Doğrudan veritabanı hata ayıklamaya ve uygulamada hata ayıklama.</span><span class="sxs-lookup"><span data-stu-id="3e020-246">In this tutorial we looked at two of those options: Direct Database Debugging and application debugging.</span></span> <span data-ttu-id="3e020-247">Doğrudan bir T-SQL veritabanı nesnesinin hata ayıklamak için Sunucu Gezgini aracılığıyla nesneyi bulmak sağ tıklayın ve içine adımla seçin.</span><span class="sxs-lookup"><span data-stu-id="3e020-247">To directly debug a T-SQL database object, locate the object through the Server Explorer then right-click on it and choose Step Into.</span></span> <span data-ttu-id="3e020-248">Bu, hata ayıklayıcıyı başlatır ve ilk ifade bu noktada nesne s deyimleri ve görünüm adım ve parametre değerlerini değiştirmek veritabanı nesnesi, üzerinde durdurur.</span><span class="sxs-lookup"><span data-stu-id="3e020-248">This starts the debugger and halts on the first statement in the database object, at which point you can step through the object s statements and view and modify parameter values.</span></span> <span data-ttu-id="3e020-249">Adım 1'de bu yaklaşım içine adımlamak için kullandığımız `Products_SelectByCategoryID` saklı yordamı.</span><span class="sxs-lookup"><span data-stu-id="3e020-249">In Step 1 we used this approach to step into the `Products_SelectByCategoryID` stored procedure.</span></span>

<span data-ttu-id="3e020-250">Uygulama hata ayıklama, doğrudan veritabanı nesnelerinde ayarlanması için kesme noktaları sağlar.</span><span class="sxs-lookup"><span data-stu-id="3e020-250">Application debugging allows breakpoints to be set directly within the database objects.</span></span> <span data-ttu-id="3e020-251">Bir veritabanı nesnesi ile kesme noktaları (örneğin, bir ASP.NET web uygulaması) bir istemci uygulamasından çağrıldığında, hata ayıklayıcı yararlanırken programı durdurur.</span><span class="sxs-lookup"><span data-stu-id="3e020-251">When a database object with breakpoints is invoked from a client application (such as an ASP.NET web application), the program halts as the debugger takes over.</span></span> <span data-ttu-id="3e020-252">Uygulama hata ayıklama daha net bir şekilde uygulama eylemi belirli bir veritabanı nesnesi çağrılmasına neden olur gösterdiği için kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="3e020-252">Application debugging is useful because it more clearly shows what application action causes a particular database object to be invoked.</span></span> <span data-ttu-id="3e020-253">Ancak, biraz daha fazla yapılandırma ve Kurulum doğrudan veritabanı hata ayıklamaya daha gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3e020-253">However, it requires a bit more configuration and setup than Direct Database Debugging.</span></span>

<span data-ttu-id="3e020-254">Veritabanı nesneleri ayrıca, SQL Server projeleri ayıklanabilir.</span><span class="sxs-lookup"><span data-stu-id="3e020-254">Database objects can also be debugged through SQL Server Projects.</span></span> <span data-ttu-id="3e020-255">Şu SQL Server projeleri kullanacaksınız ve bunları oluşturmak ve hata ayıklama için kullanılacak veritabanı nesneleri sonraki öğreticide yönetilen.</span><span class="sxs-lookup"><span data-stu-id="3e020-255">We will look at using SQL Server Projects and how to use them to create and debug managed database objects in the next tutorial.</span></span>

<span data-ttu-id="3e020-256">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="3e020-256">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="3e020-257">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="3e020-257">About the Author</span></span>

<span data-ttu-id="3e020-258">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="3e020-258">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3e020-259">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="3e020-259">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3e020-260">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="3e020-260">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3e020-261">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3e020-261">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="3e020-262">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="3e020-262">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3e020-263">[Önceki](protecting-connection-strings-and-other-configuration-information-cs.md)
> [İleri](creating-stored-procedures-and-user-defined-functions-with-managed-code-cs.md)</span><span class="sxs-lookup"><span data-stu-id="3e020-263">[Previous](protecting-connection-strings-and-other-configuration-information-cs.md)
[Next](creating-stored-procedures-and-user-defined-functions-with-managed-code-cs.md)</span></span>
