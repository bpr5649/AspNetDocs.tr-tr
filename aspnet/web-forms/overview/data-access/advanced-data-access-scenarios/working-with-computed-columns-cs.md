---
uid: web-forms/overview/data-access/advanced-data-access-scenarios/working-with-computed-columns-cs
title: Hesaplanan sütunlar ile (C#) çalışma | Microsoft Docs
author: rick-anderson
description: Bir veritabanı tablosu oluştururken, Microsoft SQL Server, değeri bir ifade tarafından hesaplanan bir hesaplanan sütun tanımlamanıza olanak tanır, genellikle referen...
ms.author: riande
ms.date: 08/03/2007
ms.assetid: 57459065-ed7c-4dfe-ac9c-54c093abc261
msc.legacyurl: /web-forms/overview/data-access/advanced-data-access-scenarios/working-with-computed-columns-cs
msc.type: authoredcontent
ms.openlocfilehash: 5ef548c627cd40159bb3961f479401657a2ac394
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57071220"
---
<a name="working-with-computed-columns-c"></a><span data-ttu-id="bc6d7-103">Hesaplanan Sütunlar ile Çalışma (C#)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-103">Working with Computed Columns (C#)</span></span>
====================
<span data-ttu-id="bc6d7-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="bc6d7-105">[Kodu indir](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_71_CS.zip) veya [PDF olarak indirin](working-with-computed-columns-cs/_static/datatutorial71cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-105">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_71_CS.zip) or [Download PDF](working-with-computed-columns-cs/_static/datatutorial71cs1.pdf)</span></span>

> <span data-ttu-id="bc6d7-106">Bir veritabanı tablosu oluştururken, Microsoft SQL Server genellikle diğer değerleri de aynı veritabanı kaydına başvuran bir ifade değeri hesaplandığı hesaplanmış bir sütun tanımlamanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-106">When creating a database table, Microsoft SQL Server allows you to define a computed column whose value is calculated from an expression that usually references other values in the same database record.</span></span> <span data-ttu-id="bc6d7-107">Bu tür, salt okunur, TableAdapter'ları ile çalışırken özel konular gerektiren veritabanı değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-107">Such values are read-only at the database, which requires special considerations when working with TableAdapters.</span></span> <span data-ttu-id="bc6d7-108">Bu öğreticide, biz tarafından hesaplanan sütunlar teşkil zorlayan konusunda bilgi edinin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-108">In this tutorial we learn how to meet the challenges posed by computed columns.</span></span>


## <a name="introduction"></a><span data-ttu-id="bc6d7-109">Giriş</span><span class="sxs-lookup"><span data-stu-id="bc6d7-109">Introduction</span></span>

<span data-ttu-id="bc6d7-110">Microsoft SQL Server sağlar  *[hesaplanan sütunlar](https://msdn.microsoft.com/library/ms191250.aspx)*, olan sütun değerleri, genellikle aynı tablonun diğer sütunlardan değerleri başvuran bir ifadeden hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-110">Microsoft SQL Server allows for *[computed columns](https://msdn.microsoft.com/library/ms191250.aspx)*, which are columns whose values are calculated from an expression that usually references the values from other columns in the same table.</span></span> <span data-ttu-id="bc6d7-111">Örneğin, bir süre veri modeli izleme adlı bir tablo olabilir `ServiceLog` dahil olmak üzere sütunlarla `ServicePerformed`, `EmployeeID`, `Rate`, ve `Duration`, diğerlerinin yanı sıra.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-111">As an example, a time tracking data model might have a table named `ServiceLog` with columns including `ServicePerformed`, `EmployeeID`, `Rate`, and `Duration`, among others.</span></span> <span data-ttu-id="bc6d7-112">While tutarın hizmet başına öğe (süresine çarpılan hızı anda) hesaplanacağını bir web sayfası veya diğer programlama arabirimi, bir sütun eklemek için kullanışlı olabilir `ServiceLog` adlı tablo `AmountDue` Bu rapor bilgiler.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-112">While the amount due per service item (being the rate multiplied by the duration) could be calculated through a web page or other programmatic interface, it might be handy to include a column in the `ServiceLog` table named `AmountDue` that reported this information.</span></span> <span data-ttu-id="bc6d7-113">Bu sütun, normal bir sütun olarak oluşturulabilir, ancak dilediğiniz zaman güncelleştirilmesi gerekir `Rate` veya `Duration` sütun değerleri değiştirildi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-113">This column could be created as a normal column, but it would need to be updated anytime the `Rate` or `Duration` column values changed.</span></span> <span data-ttu-id="bc6d7-114">Daha iyi bir yaklaşım sağlamak olacaktır `AmountDue` sütun ifadesi kullanarak hesaplanmış bir sütun `Rate * Duration`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-114">A better approach would be to make the `AmountDue` column a computed column using the expression `Rate * Duration`.</span></span> <span data-ttu-id="bc6d7-115">Bunun yapılması SQL Server'ın otomatik olarak hesaplamak neden `AmountDue` sorguda başvurulan her sütun değeri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-115">Doing so would cause SQL Server to automatically calculate the `AmountDue` column value whenever it was referenced in a query.</span></span>

<span data-ttu-id="bc6d7-116">Bir hesaplanan sütun s değeri bir ifade tarafından belirlenir olduğundan, bu tür sütunları salt okunur ve bu nedenle değerleri onlara içinde atanmış olamaz `INSERT` veya `UPDATE` deyimleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-116">Since a computed column s value is determined by an expression, such columns are read-only and therefore cannot have values assigned to them in `INSERT` or `UPDATE` statements.</span></span> <span data-ttu-id="bc6d7-117">Hesaplanmış sütunlar geçici SQL deyimleri kullanan bir TableAdapter için ana sorguda bir parçasıdır, ancak bunlar otomatik olarak otomatik olarak oluşturulan içinde eklenir `INSERT` ve `UPDATE` deyimleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-117">However, when computed columns are part of the main query for a TableAdapter that uses ad-hoc SQL statements, they are automatically included in the auto-generated `INSERT` and `UPDATE` statements.</span></span> <span data-ttu-id="bc6d7-118">Sonuç olarak, TableAdapter s `INSERT` ve `UPDATE` sorgular ve `InsertCommand` ve `UpdateCommand` özellikleri, hesaplanan sütunlar başvuruları kaldırmak için güncelleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-118">Consequently, the TableAdapter s `INSERT` and `UPDATE` queries and `InsertCommand` and `UpdateCommand` properties must be updated to remove references to any computed columns.</span></span>

<span data-ttu-id="bc6d7-119">Kullanmanın bir güçlük hesaplanmış sütunlar geçici SQL deyimleri kullanan bir TableAdapter ile TableAdapter s olan `INSERT` ve `UPDATE` sorgular otomatik olarak TableAdapter Yapılandırma Sihirbazı tamamlandıktan dilediğiniz zaman yeniden oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-119">One challenge of using computed columns with a TableAdapter that uses ad-hoc SQL statements is that the TableAdapter s `INSERT` and `UPDATE` queries are automatically regenerated any time the TableAdapter Configuration wizard is completed.</span></span> <span data-ttu-id="bc6d7-120">Bu nedenle, hesaplanan sütunlar el ile kaldırılmış `INSERT` ve `UPDATE` sorguları Sihirbazı yeniden çalıştırma ise görünecektir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-120">Therefore, the computed columns manually removed from the `INSERT` and `UPDATE` queries will reappear if the wizard is re-run.</span></span> <span data-ttu-id="bc6d7-121">Saklı yordamlar kullanma TableAdapters t ki rağmen bu brittleness olumsuz, biz 3. adımda ele alınacaktır, kendi quirks sahiptirler.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-121">Although TableAdapters that use stored procedures don t suffer from this brittleness, they do have their own quirks that we will address in Step 3.</span></span>

<span data-ttu-id="bc6d7-122">Bu öğreticide hesaplanmış bir sütun ekleyeceğiz `Suppliers` Northwind veritabanındaki tablo ve bu tablo, hesaplanan sütun ile çalışmak için karşılık gelen bir TableAdapter'ı oluşturun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-122">In this tutorial we will add a computed column to the `Suppliers` table in the Northwind database and then create a corresponding TableAdapter to work with this table and its computed column.</span></span> <span data-ttu-id="bc6d7-123">Biz, saklı yordamlar, geçici SQL deyimleri yerine kullanabilir, böylece TableAdapter Yapılandırma Sihirbazı kullanıldığında bizim özelleştirmeleri dahilse t kayıp bizim TableAdapter sahip olur.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-123">We will have our TableAdapter use stored procedures instead of ad-hoc SQL statements so that our customizations aren t lost when the TableAdapter Configuration wizard is used.</span></span>

<span data-ttu-id="bc6d7-124">Let s başlayın!</span><span class="sxs-lookup"><span data-stu-id="bc6d7-124">Let s get started!</span></span>

## <a name="step-1-adding-a-computed-column-to-thesupplierstable"></a><span data-ttu-id="bc6d7-125">1. Adım: Hesaplanmış bir sütun ekleme`Suppliers`tablo</span><span class="sxs-lookup"><span data-stu-id="bc6d7-125">Step 1: Adding a Computed Column to the`Suppliers`Table</span></span>

<span data-ttu-id="bc6d7-126">Bir kendimize eklemeniz gerekmez, hesaplanan sütunlar Northwind veritabanı yok.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-126">The Northwind database does not have any computed columns so we will need to add one ourselves.</span></span> <span data-ttu-id="bc6d7-127">Bu öğretici için hesaplanan bir sütun ekleyin s denetlemesine izin vermek için `Suppliers` adlı bir tablo `FullContactName` döndüren s ilgili kişi adı, unvanı ve çalıştıkları için şirket şu biçimde: `ContactName` (`ContactTitle`, `CompanyName`).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-127">For this tutorial let s add a computed column to the `Suppliers` table called `FullContactName` that returns the contact s name, title, and the company they work for in the following format: `ContactName` (`ContactTitle`, `CompanyName`).</span></span> <span data-ttu-id="bc6d7-128">Başka bir hesaplanan sütun raporlarda sağlayıcıları hakkında bilgi görüntülerken kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-128">This computed column might be used in reports when displaying information about suppliers.</span></span>

<span data-ttu-id="bc6d7-129">Başlangıç açarak `Suppliers` tablo tanımı sağ tıklayarak `Suppliers` sunucu Gezgini'nde tablo ve bağlam menüsünden açın tablo tanımı seçme.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-129">Start by opening the `Suppliers` table definition by right-clicking on the `Suppliers` table in the Server Explorer and choosing Open Table Definition from the context-menu.</span></span> <span data-ttu-id="bc6d7-130">Sağlarlar olup bu tabloyu ve kendi veri türü gibi özelliklerini sütunlarını görüntüler `NULL` s ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-130">This will display the columns of the table and their properties, such as their data type, whether they allow `NULL` s, and so forth.</span></span> <span data-ttu-id="bc6d7-131">Hesaplanmış bir sütun eklemek için tablo tanımında sütun adını yazarak başlatın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-131">To add a computed column, start by typing in the name of the column into the table definition.</span></span> <span data-ttu-id="bc6d7-132">Ardından, hesaplanan sütun belirtimi bölümünde sütun Özellikler penceresinde (Formül) metin kutusu içine ifadesini girin (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-132">Next, enter its expression into the (Formula) textbox under the Computed Column Specification section in the Column Properties window (see Figure 1).</span></span> <span data-ttu-id="bc6d7-133">Hesaplanmış bir sütun adı `FullContactName` ve şu ifadeyi kullanın:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-133">Name the computed column `FullContactName` and use the following expression:</span></span>


[!code-sql[Main](working-with-computed-columns-cs/samples/sample1.sql)]

<span data-ttu-id="bc6d7-134">SQL dizeleri birleştirilebilir Not kullanarak `+` işleci.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-134">Note that strings can be concatenated in SQL using the `+` operator.</span></span> <span data-ttu-id="bc6d7-135">`CASE` Deyimi, koşullu geleneksel bir programlama dili gibi kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-135">The `CASE` statement can be used like a conditional in a traditional programming language.</span></span> <span data-ttu-id="bc6d7-136">Yukarıdaki ifadede `CASE` deyimi olarak okunabilir: Varsa `ContactTitle` değil `NULL` sonra çıktı `ContactTitle` virgül, aksi takdirde birleştirilmiş değer Yayma hiçbir şey.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-136">In the above expression the `CASE` statement can be read as: If `ContactTitle` is not `NULL` then output the `ContactTitle` value concatenated with a comma, otherwise emit nothing.</span></span> <span data-ttu-id="bc6d7-137">Kullanışlılığını hakkında daha fazla bilgi `CASE` deyimi bkz [SQL güç `CASE` deyimleri](http://www.4guysfromrolla.com/webtech/102704-1.shtml).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-137">For more on the usefulness of the `CASE` statement, see [The Power of SQL `CASE` Statements](http://www.4guysfromrolla.com/webtech/102704-1.shtml).</span></span>

> [!NOTE]
> <span data-ttu-id="bc6d7-138">Kullanmak yerine bir `CASE` ifadesini Buraya alternatif olarak kullandığımız `ISNULL(ContactTitle, '')`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-138">Instead of using a `CASE` statement here, we could have alternatively used `ISNULL(ContactTitle, '')`.</span></span> <span data-ttu-id="bc6d7-139">[`ISNULL(checkExpression, replacementValue)`](https://msdn.microsoft.com/library/ms184325.aspx) döndürür *checkExpression* NULL olmayan ise, aksi halde döndürür *replacementValue*.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-139">[`ISNULL(checkExpression, replacementValue)`](https://msdn.microsoft.com/library/ms184325.aspx) returns *checkExpression* if it is non-NULL, otherwise it returns *replacementValue*.</span></span> <span data-ttu-id="bc6d7-140">While ya da `ISNULL` veya `CASE` çalışır Bu örnekte, daha karmaşık senaryolar da vardır burada esnekliğini `CASE` deyimi kullanılamaz eşleşen tarafından `ISNULL`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-140">While either `ISNULL` or `CASE` will work in this instance, there are more intricate scenarios where the flexibility of the `CASE` statement cannot be matched by `ISNULL`.</span></span>


<span data-ttu-id="bc6d7-141">Bu hesaplanan sütunu ekledikten sonra ekranınız, Şekil 1'de ekran gibi görünmelidir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-141">After adding this computed column your screen should look like the screen shot in Figure 1.</span></span>


<span data-ttu-id="bc6d7-142">[![Üreticiler tablosuna FullContactName adlı hesaplanan sütun ekleme](working-with-computed-columns-cs/_static/image2.png)](working-with-computed-columns-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-142">[![Add a Computed Column Named FullContactName to the Suppliers Table](working-with-computed-columns-cs/_static/image2.png)](working-with-computed-columns-cs/_static/image1.png)</span></span>

<span data-ttu-id="bc6d7-143">**Şekil 1**: Bir hesaplanmış sütunun adı Ekle `FullContactName` için `Suppliers` tablo ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-143">**Figure 1**: Add a Computed Column Named `FullContactName` to the `Suppliers` Table ([Click to view full-size image](working-with-computed-columns-cs/_static/image3.png))</span></span>


<span data-ttu-id="bc6d7-144">Hesaplanan sütunu adlandırma ve ifadesini girdikten sonra değişiklikleri tabloya araç Kaydet simgesine tıklayarak, Ctrl + S ulaşmaktan tarafından veya dosya menüsüne gidip Kaydet'i seçme kaydetmek `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-144">After naming the computed column and entering its expression, save the changes to the table by clicking the Save icon in the toolbar, by hitting Ctrl+S, or by going to the File menu and choosing Save `Suppliers`.</span></span>

<span data-ttu-id="bc6d7-145">Tablo kaydediliyor yeni eklenen sütun dahil olmak üzere Sunucu Gezgini yenilemelisiniz `Suppliers` s tablosundaki sütun listesi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-145">Saving the table should refresh the Server Explorer, including the just-added column in the `Suppliers` table s column list.</span></span> <span data-ttu-id="bc6d7-146">Ayrıca, (Formül) metin kutusuna girdiğiniz ifade otomatik olarak gereksiz boşluk kaldırır, çevreleyen köşeli ayraçlar içeren sütun adları eşdeğer bir ifade için ayarlar (`[]`), daha açık olarak göstermek için parantez içerir işlem sırası:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-146">Furthermore, the expression entered into the (Formula) textbox will automatically adjust to an equivalent expression that strips unnecessary whitespace, surrounds column names with brackets (`[]`), and includes parentheses to more explicitly show the order of operations:</span></span>


[!code-sql[Main](working-with-computed-columns-cs/samples/sample2.sql)]

<span data-ttu-id="bc6d7-147">Microsoft SQL Server'da hesaplanan sütunlar üzerinde daha fazla bilgi için [teknik belgeler](https://msdn.microsoft.com/library/ms191250.aspx).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-147">For more information on computed columns in Microsoft SQL Server, refer to the [technical documentation](https://msdn.microsoft.com/library/ms191250.aspx).</span></span> <span data-ttu-id="bc6d7-148">Ayrıca kullanıma [nasıl yapılır: Hesaplanan sütunları belirtme](https://msdn.microsoft.com/library/ms188300.aspx) hesaplanan sütunlar oluşturma adım adım kılavuz.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-148">Also check out the [How to: Specify Computed Columns](https://msdn.microsoft.com/library/ms188300.aspx) for a step-by-step walkthrough of creating computed columns.</span></span>

> [!NOTE]
> <span data-ttu-id="bc6d7-149">Varsayılan olarak, hesaplanan sütunlar tabloya fiziksel olarak depolanmaz, ancak bunun yerine bir sorguda başvurulan her zaman yeniden hesaplanır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-149">By default, computed columns are not physically stored in the table but are instead recalculated each time they are referenced in a query.</span></span> <span data-ttu-id="bc6d7-150">Kalıcıdır onay kutusunu işaretleyerek, ancak SQL Server'ın fiziksel olarak hesaplanan sütun tabloda depolamak için bildirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-150">By checking the Is Persisted checkbox, however, you can instruct SQL Server to physically store the computed column in the table.</span></span> <span data-ttu-id="bc6d7-151">Bunun yapılması, hesaplanan sütun değeri kullandığınızdan sorguların performansını geliştirebilir hesaplanan sütunu oluşturulacak bir dizin sağlar, `WHERE` yan tümceleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-151">Doing so allows an index to be created on the computed column, which can improve the performance of queries that use the computed column value in their `WHERE` clauses.</span></span> <span data-ttu-id="bc6d7-152">Bkz: [hesaplanan sütunlar oluşturma dizinlerde](https://msdn.microsoft.com/library/ms189292.aspx) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-152">See [Creating Indexes on Computed Columns](https://msdn.microsoft.com/library/ms189292.aspx) for more information.</span></span>


## <a name="step-2-viewing-the-computed-column-s-values"></a><span data-ttu-id="bc6d7-153">2. Adım: Hesaplanan sütun s değerlerini görüntüleme</span><span class="sxs-lookup"><span data-stu-id="bc6d7-153">Step 2: Viewing the Computed Column s Values</span></span>

<span data-ttu-id="bc6d7-154">Let s'ı biz iş veri erişim katmanı başlamadan önce görüntülemek için bir dakikanızı ayırın `FullContactName` değerleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-154">Before we start work on the Data Access Layer, let s take a minute to view the `FullContactName` values.</span></span> <span data-ttu-id="bc6d7-155">Sunucu Gezgini'nden sağ `Suppliers` tablo adı ve bağlam menüsünden Yeni bir sorgu seçin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-155">From the Server Explorer, right-click on the `Suppliers` table name and choose New Query from the context-menu.</span></span> <span data-ttu-id="bc6d7-156">Bu sorguya dahil hangi tabloları seçmek için bize ister bir sorgu penceresi çıkarır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-156">This will bring up a Query window that prompts us to choose what tables to include in the query.</span></span> <span data-ttu-id="bc6d7-157">Ekleme `Suppliers` tablo ve Kapat'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-157">Add the `Suppliers` table and click Close.</span></span> <span data-ttu-id="bc6d7-158">Ardından, kontrol `CompanyName`, `ContactName`, `ContactTitle`, ve `FullContactName` Suppliers tablosundaki sütun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-158">Next, check the `CompanyName`, `ContactName`, `ContactTitle`, and `FullContactName` columns from the Suppliers table.</span></span> <span data-ttu-id="bc6d7-159">Son olarak, sorguyu çalıştırıp sonuçlarını görüntülemek için araç çubuğunda kırmızı ünlem simgesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-159">Finally, click the red exclamation point icon in the Toolbar to execute the query and view the results.</span></span>

<span data-ttu-id="bc6d7-160">Şekil 2 gösterildiği gibi sonuçlarında `FullContactName`, hangi listeleri `CompanyName`, `ContactName`, ve `ContactTitle` biçimi ldquo; kullanarak sütunları`ContactName` (`ContactTitle`, `CompanyName`) .</span><span class="sxs-lookup"><span data-stu-id="bc6d7-160">As Figure 2 shows, the results include `FullContactName`, which lists the `CompanyName`, `ContactName`, and `ContactTitle` columns using the format ldquo;`ContactName` (`ContactTitle`, `CompanyName`) .</span></span>


<span data-ttu-id="bc6d7-161">[![FullContactName biçimi ContactName (ContactTitle, CompanyName) kullanır.](working-with-computed-columns-cs/_static/image5.png)](working-with-computed-columns-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-161">[![The FullContactName Uses the Format ContactName (ContactTitle, CompanyName)](working-with-computed-columns-cs/_static/image5.png)](working-with-computed-columns-cs/_static/image4.png)</span></span>

<span data-ttu-id="bc6d7-162">**Şekil 2**: `FullContactName` Biçimini kullanan `ContactName` (`ContactTitle`, `CompanyName`) ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-162">**Figure 2**: The `FullContactName` Uses the Format `ContactName` (`ContactTitle`, `CompanyName`) ([Click to view full-size image](working-with-computed-columns-cs/_static/image6.png))</span></span>


## <a name="step-3-adding-thesupplierstableadapterto-the-data-access-layer"></a><span data-ttu-id="bc6d7-163">3. Adım: Ekleme`SuppliersTableAdapter`için veri erişim katmanı</span><span class="sxs-lookup"><span data-stu-id="bc6d7-163">Step 3: Adding the`SuppliersTableAdapter`to the Data Access Layer</span></span>

<span data-ttu-id="bc6d7-164">Uygulamamızı tedarikçi bilgiler ile çalışmak için önce bir TableAdapter ve DataTable içinde bizim DAL oluşturmak ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-164">In order to work with the supplier information in our application we need to first create a TableAdapter and DataTable in our DAL.</span></span> <span data-ttu-id="bc6d7-165">İdeal olarak, bu önceki öğreticilerde incelenirken basit adımları kullanarak gerçekleştirilmesi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-165">Ideally, this would be accomplished using the same straightforward steps examined in earlier tutorials.</span></span> <span data-ttu-id="bc6d7-166">Bununla birlikte, hesaplanan sütunlar ile çalışma tartışma kadar geniştir birkaç kırışıklıkların tanıtır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-166">However, working with computed columns introduces a few wrinkles that merit discussion.</span></span>

<span data-ttu-id="bc6d7-167">Geçici SQL deyimleri kullanan bir TableAdapter'ı kullanıyorsanız, TableAdapter Yapılandırma Sihirbazı aracılığıyla TableAdapter s ana sorguda yalnızca hesaplanmış bir sütun ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-167">If you are using a TableAdapter that uses ad-hoc SQL statements, you can simply include the computed column in the TableAdapter s main query via the TableAdapter Configuration wizard.</span></span> <span data-ttu-id="bc6d7-168">Bu, ancak otomatik-oluşturur `INSERT` ve `UPDATE` hesaplanan sütunu içeren ifadeler.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-168">This, however, will auto-generate `INSERT` and `UPDATE` statements that include the computed column.</span></span> <span data-ttu-id="bc6d7-169">Aşağıdaki yöntemlerden birini çalıştırmak denerseniz bir `SqlException` sütunu iletisiyle *ColumnName* hesaplanan bir sütun veya birleşim işlecinin sonucunu oluşturulur olduğu için değiştirilemiyor.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-169">If you attempt to execute one of these methods, a `SqlException` with the message The column *ColumnName* cannot be modified because it is either a computed column or is the result of a UNION operator will be thrown.</span></span> <span data-ttu-id="bc6d7-170">Sırada `INSERT` ve `UPDATE` deyimi TableAdapter s el ile da ayarlanabilir `InsertCommand` ve `UpdateCommand` özellikleri, bu özelleştirmeler kaybolacak her TableAdapter Yapılandırma Sihirbazı'nı yeniden çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-170">While the `INSERT` and `UPDATE` statement can be manually adjusted through the TableAdapter s `InsertCommand` and `UpdateCommand` properties, these customizations will be lost whenever the TableAdapter Configuration wizard is re-run.</span></span>

<span data-ttu-id="bc6d7-171">Kırılganlığının da artacağını geçici SQL deyimlerini kullanarak TableAdapter'ları nedeniyle, saklı yordamlar hesaplanan sütunlar ile çalışırken kullandığımızı önerilir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-171">Due to the brittleness of TableAdapters that use ad-hoc SQL statements, it is recommended that we use stored procedures when working with computed columns.</span></span> <span data-ttu-id="bc6d7-172">Mevcut saklı yordamlara kullanıyorsanız, yalnızca TableAdapter anlatıldığı gibi yapılandırın [kullanarak mevcut saklı yordamlar için türü belirtilmiş veri kümesi s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-172">If you are using existing stored procedures, simply configure the TableAdapter as discussed in the [Using Existing Stored Procedures for the Typed DataSet s TableAdapters](using-existing-stored-procedures-for-the-typed-dataset-s-tableadapters-cs.md) tutorial.</span></span> <span data-ttu-id="bc6d7-173">Saklı yordamları oluşturduğunuz TableAdapter Sihirbazı varsa, ancak başlangıçta ana sorgudan hiçbir hesaplanmış sütun atlamak önemlidir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-173">If you have the TableAdapter wizard create the stored procedures for you, however, it is important to initially omit any computed columns from the main query.</span></span> <span data-ttu-id="bc6d7-174">Ana sorguda bir hesaplanan sütun eklerseniz, TableAdapter Yapılandırma Sihirbazı'nı, tamamlandıktan sonra karşılık gelen saklı yordamları oluşturulamıyor bilgilendirecektir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-174">If you include a computed column in the main query, the TableAdapter Configuration wizard will inform you, upon completion, that it cannot create the corresponding stored procedures.</span></span> <span data-ttu-id="bc6d7-175">Kısacası, hesaplanan bir sütun ücretsiz ana sorgu kullanarak TableAdapter'ı ilk kez yapılandırdıktan ve ardından ilgili saklı yordam ve TableAdapter s el ile güncelleştirmek ihtiyacımız `SelectCommand` hesaplanmış bir sütun eklemek için.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-175">In short, we need to initially configure the TableAdapter using a computed column-free main query and then manually update the corresponding stored procedure and the TableAdapter s `SelectCommand` to include the computed column.</span></span> <span data-ttu-id="bc6d7-176">Bu yaklaşım kullanılanla benzer [TableAdapter kullanacak biçimde güncelleştirme](updating-the-tableadapter-to-use-joins-cs.md)`JOIN`*s* öğretici.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-176">This approach is similar to the one used in the [Updating the TableAdapter to Use](updating-the-tableadapter-to-use-joins-cs.md)`JOIN`*s* tutorial.</span></span>

<span data-ttu-id="bc6d7-177">Bu öğretici için yeni bir TableAdapter ekleyin ve bu bizim için otomatik olarak saklı yordamları oluştur s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-177">For this tutorial, let s add a new TableAdapter and have it automatically create the stored procedures for us.</span></span> <span data-ttu-id="bc6d7-178">Sonuç olarak, başlangıçta atlamak ihtiyacımız `FullContactName` ana sorgudan hesaplanmış bir sütun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-178">Consequently, we will need to initially omit the `FullContactName` computed column from the main query.</span></span>

<span data-ttu-id="bc6d7-179">Başlangıç açarak `NorthwindWithSprocs` kümesinde `~/App_Code/DAL` klasör.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-179">Start by opening the `NorthwindWithSprocs` DataSet in the `~/App_Code/DAL` folder.</span></span> <span data-ttu-id="bc6d7-180">Tasarımcıda sağ tıklayın ve bağlam menüsünden Yeni bir TableAdapter eklemek seçin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-180">Right-click in the Designer and, from the context-menu, choose to add a new TableAdapter.</span></span> <span data-ttu-id="bc6d7-181">Bu, TableAdapter Yapılandırma Sihirbazı başlatılır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-181">This will launch the TableAdapter Configuration wizard.</span></span> <span data-ttu-id="bc6d7-182">Verileri sorgulamak için bir veritabanı belirtin (`NORTHWNDConnectionString` gelen `Web.config`) ve İleri'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-182">Specify the database to query data from (`NORTHWNDConnectionString` from `Web.config`) and click Next.</span></span> <span data-ttu-id="bc6d7-183">Biz sorgulama veya değiştirmek için saklı yordamlarda henüz oluşturmadıysanız bu yana `Suppliers` tablo, yeni saklı yordamlar seçeneği sihirbaz bizim için oluşturma ve İleri'ye tıklayın, Oluştur'u seçin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-183">Since we have not yet created any stored procedures for querying or modifying the `Suppliers` table, select the Create new stored procedures option so that the wizard will create them for us and click Next.</span></span>


<span data-ttu-id="bc6d7-184">[![Oluştur Yeni saklı yordamlar seçeneği seçin](working-with-computed-columns-cs/_static/image8.png)](working-with-computed-columns-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-184">[![Choose the Create new stored procedures Option](working-with-computed-columns-cs/_static/image8.png)](working-with-computed-columns-cs/_static/image7.png)</span></span>

<span data-ttu-id="bc6d7-185">**Şekil 3**: Oluştur Yeni saklı yordamlar seçeneği seçin ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-185">**Figure 3**: Choose the Create new stored procedures Option ([Click to view full-size image](working-with-computed-columns-cs/_static/image9.png))</span></span>


<span data-ttu-id="bc6d7-186">Sonraki adım, ABD için ana sorguda ister.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-186">The subsequent step prompts us for the main query.</span></span> <span data-ttu-id="bc6d7-187">Döndüren aşağıdaki sorguyu girin `SupplierID`, `CompanyName`, `ContactName`, ve `ContactTitle` sütunları her üretici için.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-187">Enter the following query, which returns the `SupplierID`, `CompanyName`, `ContactName`, and `ContactTitle` columns for each supplier.</span></span> <span data-ttu-id="bc6d7-188">Bu sorgu kullanılamıyor.%n%nÇözüm hesaplanan sütunu atlar Not (`FullContactName`); Adım 4'te bu sütun içerecek şekilde karşılık gelen saklı yordamı güncelleştireceğiz.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-188">Note that this query purposefully omits the computed column (`FullContactName`); we will update the corresponding stored procedure to include this column in Step 4.</span></span>


[!code-sql[Main](working-with-computed-columns-cs/samples/sample3.sql)]

<span data-ttu-id="bc6d7-189">Ana sorguda girme ve İleri'yi tıklatmadan sonra sihirbaz bunu oluşturacak dört saklı yordamları ad olanak sağlıyor.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-189">After entering the main query and clicking Next, the wizard allows us to name the four stored procedures it will generate.</span></span> <span data-ttu-id="bc6d7-190">Bu saklı yordamlar ad `Suppliers_Select`, `Suppliers_Insert`, `Suppliers_Update`, ve `Suppliers_Delete`Şekil 4'te gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-190">Name these stored procedures `Suppliers_Select`, `Suppliers_Insert`, `Suppliers_Update`, and `Suppliers_Delete`, as Figure 4 illustrates.</span></span>


<span data-ttu-id="bc6d7-191">[![Otomatik olarak oluşturulan saklı yordamları adlarını özelleştirin](working-with-computed-columns-cs/_static/image11.png)](working-with-computed-columns-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-191">[![Customize the Names of the Auto-Generated Stored Procedures](working-with-computed-columns-cs/_static/image11.png)](working-with-computed-columns-cs/_static/image10.png)</span></span>

<span data-ttu-id="bc6d7-192">**Şekil 4**: Auto-Generated saklı yordamlar adlarını özelleştirin ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-192">**Figure 4**: Customize the Names of the Auto-Generated Stored Procedures ([Click to view full-size image](working-with-computed-columns-cs/_static/image12.png))</span></span>


<span data-ttu-id="bc6d7-193">Sonraki sihirbaz adımı TableAdapter s yöntemleri adını ve erişim ve güncelleştirme verileri için kullanılan desenleri belirtmek olanak sağlıyor.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-193">The next wizard step allows us to name the TableAdapter s methods and specify the patterns used to access and update data.</span></span> <span data-ttu-id="bc6d7-194">Tüm üç işaretli bırakın, ancak yeniden adlandırmak `GetData` yönteme `GetSuppliers`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-194">Leave all three checkboxes checked, but rename the `GetData` method to `GetSuppliers`.</span></span> <span data-ttu-id="bc6d7-195">Sihirbazı tamamlamak için Son'u tıklatın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-195">Click Finish to complete the wizard.</span></span>


<span data-ttu-id="bc6d7-196">[![GetData metodu GetSuppliers için yeniden adlandırın.](working-with-computed-columns-cs/_static/image14.png)](working-with-computed-columns-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-196">[![Rename the GetData Method to GetSuppliers](working-with-computed-columns-cs/_static/image14.png)](working-with-computed-columns-cs/_static/image13.png)</span></span>

<span data-ttu-id="bc6d7-197">**Şekil 5**: Yeniden adlandırma `GetData` yönteme `GetSuppliers` ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-197">**Figure 5**: Rename the `GetData` Method to `GetSuppliers` ([Click to view full-size image](working-with-computed-columns-cs/_static/image15.png))</span></span>


<span data-ttu-id="bc6d7-198">Bitiş tıklandıktan sonra sihirbaz dört saklı yordamları oluştur ve karşılık gelen DataTable ve TableAdapter türü belirtilmiş veri kümesi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-198">Upon clicking Finish, the wizard will create the four stored procedures and add the TableAdapter and corresponding DataTable to the Typed DataSet.</span></span>

## <a name="step-4-including-the-computed-column-in-the-tableadapter-s-main-query"></a><span data-ttu-id="bc6d7-199">4. Adım: Hesaplanan sütunu TableAdapter s ana sorguda dahil</span><span class="sxs-lookup"><span data-stu-id="bc6d7-199">Step 4: Including the Computed Column in the TableAdapter s Main Query</span></span>

<span data-ttu-id="bc6d7-200">Artık TableAdapter güncelleştirmek ihtiyacımız ve DataTable dahil etmek için adım 3'te oluşturulan `FullContactName` hesaplanan sütun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-200">We now need to update the TableAdapter and DataTable created in Step 3 to include the `FullContactName` computed column.</span></span> <span data-ttu-id="bc6d7-201">Bu iki adımdan oluşur:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-201">This involves two steps:</span></span>

1. <span data-ttu-id="bc6d7-202">Güncelleştirme `Suppliers_Select` saklı yordamı döndürülecek `FullContactName` hesaplanan sütun ve</span><span class="sxs-lookup"><span data-stu-id="bc6d7-202">Updating the `Suppliers_Select` stored procedure to return the `FullContactName` computed column, and</span></span>
2. <span data-ttu-id="bc6d7-203">DataTable karşılık gelen içerecek şekilde güncelleştirilmesi `FullContactName` sütun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-203">Updating the DataTable to include a corresponding `FullContactName` column.</span></span>

<span data-ttu-id="bc6d7-204">Sunucu Gezginine giderek ve saklı yordamlar klasörüne detaya başlatın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-204">Start by navigating to the Server Explorer and drilling down into the Stored Procedures folder.</span></span> <span data-ttu-id="bc6d7-205">Açık `Suppliers_Select` saklı yordam ve güncelleştirme `SELECT` eklemek için sorgu `FullContactName` hesaplanan sütun:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-205">Open the `Suppliers_Select` stored procedure and update the `SELECT` query to include the `FullContactName` computed column:</span></span>


[!code-sql[Main](working-with-computed-columns-cs/samples/sample4.sql)]

<span data-ttu-id="bc6d7-206">Saklı yordam için araç çubuğunda Kaydet simgesine tıklayarak, Ctrl + S ulaşmaktan veya kaydetme seçerek değişiklikleri kaydetmek `Suppliers_Select` Dosya menüsünden seçeneği.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-206">Save the changes to the stored procedure by clicking the Save icon in the Toolbar, by hitting Ctrl+S, or by choosing the Save `Suppliers_Select` option from the File menu.</span></span>

<span data-ttu-id="bc6d7-207">Sağ tıklayın, ardından, veri kümesini tasarımcıya dönün `SuppliersTableAdapter`ve bağlam menüsünden Yapılandır'ı seçin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-207">Next, return to the DataSet Designer, right-click on the `SuppliersTableAdapter`, and choose Configure from the context-menu.</span></span> <span data-ttu-id="bc6d7-208">Unutmayın `Suppliers_Select` artık sütununu içeren `FullContactName` sütunu, veri sütunları koleksiyonu.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-208">Note that the `Suppliers_Select` column now includes the `FullContactName` column in its Data Columns collection.</span></span>


<span data-ttu-id="bc6d7-209">[![DataTable s sütunlarını güncelleştirebilmek için TableAdapter s Yapılandırma Sihirbazı'nı çalıştırın](working-with-computed-columns-cs/_static/image17.png)](working-with-computed-columns-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-209">[![Run the TableAdapter s Configuration Wizard to Update the DataTable s Columns](working-with-computed-columns-cs/_static/image17.png)](working-with-computed-columns-cs/_static/image16.png)</span></span>

<span data-ttu-id="bc6d7-210">**Şekil 6**: TableAdapter s DataTable s sütunları güncelleştirmek için Yapılandırma Sihirbazı'nı çalıştırın ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-210">**Figure 6**: Run the TableAdapter s Configuration Wizard to Update the DataTable s Columns ([Click to view full-size image](working-with-computed-columns-cs/_static/image18.png))</span></span>


<span data-ttu-id="bc6d7-211">Sihirbazı tamamlamak için Son'u tıklatın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-211">Click Finish to complete the wizard.</span></span> <span data-ttu-id="bc6d7-212">Bu otomatik olarak karşılık gelen bir sütun ekler `SuppliersDataTable`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-212">This will automatically add a corresponding column to the `SuppliersDataTable`.</span></span> <span data-ttu-id="bc6d7-213">TableAdapter Sihirbazı'nı algılandığı akıllı `FullContactName` sütunu hesaplanan sütun olduğundan ve bu nedenle salt okunur.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-213">The TableAdapter wizard is smart enough to detect that the `FullContactName` column is a computed column and therefore read-only.</span></span> <span data-ttu-id="bc6d7-214">Sonuç olarak, bu sütunu s ayarlar `ReadOnly` özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-214">Consequently, it sets the column s `ReadOnly` property to `true`.</span></span> <span data-ttu-id="bc6d7-215">Bunu doğrulamak için sütunu seçin `SuppliersDataTable` özellikleri penceresine gidin (bkz. Şekil 7).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-215">To verify this, select the column from the `SuppliersDataTable` and then go to the Properties window (see Figure 7).</span></span> <span data-ttu-id="bc6d7-216">Unutmayın `FullContactName` sütunu s `DataType` ve `MaxLength` özellikleri de uygun şekilde ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-216">Note that the `FullContactName` column s `DataType` and `MaxLength` properties are also set accordingly.</span></span>


<span data-ttu-id="bc6d7-217">[![FullContactName sütun salt okunur olarak işaretlenmiş.](working-with-computed-columns-cs/_static/image20.png)](working-with-computed-columns-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-217">[![The FullContactName Column is Marked as Read-Only](working-with-computed-columns-cs/_static/image20.png)](working-with-computed-columns-cs/_static/image19.png)</span></span>

<span data-ttu-id="bc6d7-218">**Şekil 7**: `FullContactName` Sütun salt okunur olarak işaretlenmiş ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-218">**Figure 7**: The `FullContactName` Column is Marked as Read-Only ([Click to view full-size image](working-with-computed-columns-cs/_static/image21.png))</span></span>


## <a name="step-5-adding-agetsupplierbysupplieridmethod-to-the-tableadapter"></a><span data-ttu-id="bc6d7-219">5. Adım: Ekleme bir`GetSupplierBySupplierID`TableAdapter yöntemi</span><span class="sxs-lookup"><span data-stu-id="bc6d7-219">Step 5: Adding a`GetSupplierBySupplierID`Method to the TableAdapter</span></span>

<span data-ttu-id="bc6d7-220">Bu öğretici için tedarikçileri güncelleştirilebilir bir kılavuzda görüntüleyen bir ASP.NET sayfasına oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-220">For this tutorial we will create an ASP.NET page that displays the suppliers in an updateable grid.</span></span> <span data-ttu-id="bc6d7-221">İçinde öğreticiler tek bir iş mantığı katmanı kaydından DAL olarak özelliklerini güncelleştirmek ve ardından güncelleştirilmiş DataTable gönderme kesin türü belirtilmiş DataTable, belirli kaydından değişiklikleri yaymak için DAL için geri alarak güncelleştirdik Veritabanı.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-221">In past tutorials we have updated a single record from the Business Logic Layer by retrieving that particular record from the DAL as a strongly-typed DataTable, updating its properties, and then sending the updated DataTable back to the DAL to propagate the changes to the database.</span></span> <span data-ttu-id="bc6d7-222">-DAL güncelleştiriliyor kayıt alınıyor - ilk bu adımı tamamlamak için ilk olarak eklemek ihtiyacımız bir `GetSupplierBySupplierID(supplierID)` DAL için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-222">To accomplish this first step - retrieving the record being updated from the DAL - we need to first add a `GetSupplierBySupplierID(supplierID)` method to the DAL.</span></span>

<span data-ttu-id="bc6d7-223">Sağ `SuppliersTableAdapter` veri kümesi tasarımında ve bağlam menüsünden Sorgu Ekle seçeneğini seçin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-223">Right-click on the `SuppliersTableAdapter` in the DataSet Design and choose the Add Query option from the context-menu.</span></span> <span data-ttu-id="bc6d7-224">Adım 3'te yaptığımız gibi yeni bir saklı yordamı bizim için yeni saklı yordam seçeneğini seçerek Oluştur Sihirbazı'nı sağlar (geri ekran görüntüsü bu sihirbazı adımı için Şekil 3'e bakın).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-224">As we did in Step 3, let the wizard generate a new stored procedure for us by selecting the Create new stored procedure option (refer back to Figure 3 for a screenshot of this wizard step).</span></span> <span data-ttu-id="bc6d7-225">Bu yöntem, birden çok sütun içeren bir kayıt döndürür olduğundan, bir SQL sorgusuna satır döndüren SELECT kullanın ve İleri'ye istiyoruz gösterir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-225">Since this method will return a record with multiple columns, indicate that we want to use a SQL query that is a SELECT which returns rows and click Next.</span></span>


<span data-ttu-id="bc6d7-226">[![Satır seçeneği döndüren Seç](working-with-computed-columns-cs/_static/image23.png)](working-with-computed-columns-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-226">[![Choose the SELECT which returns rows Option](working-with-computed-columns-cs/_static/image23.png)](working-with-computed-columns-cs/_static/image22.png)</span></span>

<span data-ttu-id="bc6d7-227">**Şekil 8**: Satır seçeneği döndüren Seç ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-227">**Figure 8**: Choose the SELECT which returns rows Option ([Click to view full-size image](working-with-computed-columns-cs/_static/image24.png))</span></span>


<span data-ttu-id="bc6d7-228">Sonraki adım, bizim için bu yöntemi kullanmak bir sorgu için ister.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-228">The subsequent step prompts us for the query to use for this method.</span></span> <span data-ttu-id="bc6d7-229">Ana sorguda ancak belirli bir üretici için aynı veri alanları döndüren aşağıdaki girin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-229">Enter the following, which returns the same data fields as the main query but for a particular supplier.</span></span>


[!code-sql[Main](working-with-computed-columns-cs/samples/sample5.sql)]

<span data-ttu-id="bc6d7-230">Sonraki ekranda bize otomatik olarak oluşturulan bir saklı yordam adı ister.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-230">The next screen asks us to name the stored procedure that will be auto-generated.</span></span> <span data-ttu-id="bc6d7-231">Bu saklı yordam adı `Suppliers_SelectBySupplierID` ve İleri'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-231">Name this stored procedure `Suppliers_SelectBySupplierID` and click Next.</span></span>


<span data-ttu-id="bc6d7-232">[![Saklı yordam Suppliers_SelectBySupplierID adı](working-with-computed-columns-cs/_static/image26.png)](working-with-computed-columns-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-232">[![Name the Stored Procedure Suppliers_SelectBySupplierID](working-with-computed-columns-cs/_static/image26.png)](working-with-computed-columns-cs/_static/image25.png)</span></span>

<span data-ttu-id="bc6d7-233">**Şekil 9**: Saklı yordam adı `Suppliers_SelectBySupplierID` ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-233">**Figure 9**: Name the Stored Procedure `Suppliers_SelectBySupplierID` ([Click to view full-size image](working-with-computed-columns-cs/_static/image27.png))</span></span>


<span data-ttu-id="bc6d7-234">Son olarak, sihirbaz yönergelerini bizim için veri erişim desenleri ve TableAdapter için kullanılacak yöntem adları.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-234">Lastly, the wizard prompts us for the data access patterns and method names to use for the TableAdapter.</span></span> <span data-ttu-id="bc6d7-235">Hem işaretli bırakın, ancak yeniden adlandırmak `FillBy` ve `GetDataBy` yöntemlere `FillBySupplierID` ve `GetSupplierBySupplierID`sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-235">Leave both checkboxes checked, but rename the `FillBy` and `GetDataBy` methods to `FillBySupplierID` and `GetSupplierBySupplierID`, respectively.</span></span>


<span data-ttu-id="bc6d7-236">[![TableAdapter yöntemleri FillBySupplierID adı ve GetSupplierBySupplierID](working-with-computed-columns-cs/_static/image29.png)](working-with-computed-columns-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-236">[![Name the TableAdapter Methods FillBySupplierID and GetSupplierBySupplierID](working-with-computed-columns-cs/_static/image29.png)](working-with-computed-columns-cs/_static/image28.png)</span></span>

<span data-ttu-id="bc6d7-237">**Şekil 10**: TableAdapter metotları ad `FillBySupplierID` ve `GetSupplierBySupplierID` ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-237">**Figure 10**: Name the TableAdapter Methods `FillBySupplierID` and `GetSupplierBySupplierID` ([Click to view full-size image](working-with-computed-columns-cs/_static/image30.png))</span></span>


<span data-ttu-id="bc6d7-238">Sihirbazı tamamlamak için Son'u tıklatın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-238">Click Finish to complete the wizard.</span></span>

## <a name="step-6-creating-the-business-logic-layer"></a><span data-ttu-id="bc6d7-239">6. Adım: İş mantığı katmanı oluşturma</span><span class="sxs-lookup"><span data-stu-id="bc6d7-239">Step 6: Creating the Business Logic Layer</span></span>

<span data-ttu-id="bc6d7-240">Biz 1. adımda oluşturduğunuz hesaplanan sütunu kullanan bir ASP.NET sayfasını oluşturmadan önce ilk BLL karşılık gelen yöntemlere eklemek ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-240">Before we create an ASP.NET page that uses the computed column created in Step 1, we first need to add the corresponding methods in the BLL.</span></span> <span data-ttu-id="bc6d7-241">Adım 7'de oluşturacağız, ASP.NET sayfamızı görüntülemek ve düzenlemek Üreticiler kullanıcılara izin verir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-241">Our ASP.NET page, which we will create in Step 7, will allow users to view and edit suppliers.</span></span> <span data-ttu-id="bc6d7-242">Bu nedenle, en azından tüm üreticiler ve başka bir belirli bir üretici güncelleştirilecek almak için bir yöntem sağlamak için sunduğumuz BLL ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-242">Therefore, we need our BLL to provide, at minimum, a method to get all of the suppliers and another to update a particular supplier.</span></span>

<span data-ttu-id="bc6d7-243">Adlı yeni bir sınıf dosyası oluşturma `SuppliersBLLWithSprocs` içinde `~/App_Code/BLL` klasörü ve aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-243">Create a new class file named `SuppliersBLLWithSprocs` in the `~/App_Code/BLL` folder and add the following code:</span></span>


[!code-csharp[Main](working-with-computed-columns-cs/samples/sample6.cs)]

<span data-ttu-id="bc6d7-244">Gibi diğer BLL sınıfları `SuppliersBLLWithSprocs` sahip bir `protected` `Adapter` örneğini döndüren özellik `SuppliersTableAdapter` sınıfı iki birlikte `public` yöntemleri: `GetSuppliers` ve `UpdateSupplier`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-244">Like the other BLL classes, `SuppliersBLLWithSprocs` has a `protected` `Adapter` property that returns an instance of the `SuppliersTableAdapter` class along with two `public` methods: `GetSuppliers` and `UpdateSupplier`.</span></span> <span data-ttu-id="bc6d7-245">`GetSuppliers` Yöntemi çağırır ve döndürür `SuppliersDataTable` karşılık gelen tarafından döndürülen `GetSupplier` veri erişim katmanında yöntemi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-245">The `GetSuppliers` method calls and returns the `SuppliersDataTable` returned by the corresponding `GetSupplier` method in the Data Access Layer.</span></span> <span data-ttu-id="bc6d7-246">`UpdateSupplier` Yöntemi DAL s çağrısı aracılığıyla güncelleştirilmesini belirli tedarikçi ilgili bilgileri alır `GetSupplierBySupplierID(supplierID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-246">The `UpdateSupplier` method retrieves information about the particular supplier being updated via a call to the DAL s `GetSupplierBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="bc6d7-247">Ardından güncelleştirmeleri `CategoryName`, `ContactName`, ve `ContactTitle` özellikleri ve veri erişim katmanı s çağırarak bu değişiklikleri veritabanına kaydeder `Update` değiştirilmiş geçirerek yöntemini `SuppliersRow` nesne.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-247">It then updates the `CategoryName`, `ContactName`, and `ContactTitle` properties and commits these changes to the database by calling the Data Access Layer s `Update` method, passing in the modified `SuppliersRow` object.</span></span>

> [!NOTE]
> <span data-ttu-id="bc6d7-248">Dışında `SupplierID` ve `CompanyName`, üreticiler tablodaki tüm sütunların izin `NULL` değerleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-248">Except for `SupplierID` and `CompanyName`, all columns in the Suppliers table allow `NULL` values.</span></span> <span data-ttu-id="bc6d7-249">Bu nedenle, geçilen `contactName` veya `contactTitle` parametreler `null` karşılık gelen ayarlamak ihtiyacımız `ContactName` ve `ContactTitle` özelliklerine bir `NULL` veritabanı değerini kullanarak `SetContactNameNull` ve `SetContactTitleNull`yöntemleri, sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-249">Therefore, if the passed-in `contactName` or `contactTitle` parameters are `null` we need to set the corresponding `ContactName` and `ContactTitle` properties to a `NULL` database value using the `SetContactNameNull` and `SetContactTitleNull` methods, respectively.</span></span>


## <a name="step-7-working-with-the-computed-column-from-the-presentation-layer"></a><span data-ttu-id="bc6d7-250">7. Adım: Sunu katmanı hesaplanan sütunu ile çalışma</span><span class="sxs-lookup"><span data-stu-id="bc6d7-250">Step 7: Working with the Computed Column from the Presentation Layer</span></span>

<span data-ttu-id="bc6d7-251">Eklenen hesaplanan sütunu ile `Suppliers` güncelleştirilir ve DAL ve BLL buna göre çalışan bir ASP.NET sayfasına oluşturmaya hazırız `FullContactName` hesaplanan sütun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-251">With the computed column added to the `Suppliers` table and the DAL and BLL updated accordingly, we are ready to build an ASP.NET page that works with the `FullContactName` computed column.</span></span> <span data-ttu-id="bc6d7-252">Başlangıç açarak `ComputedColumns.aspx` sayfasını `AdvancedDAL` klasörü ve GridView tasarımcı araç kutusundan sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-252">Start by opening the `ComputedColumns.aspx` page in the `AdvancedDAL` folder and drag a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="bc6d7-253">GridView s ayarlamak `ID` özelliğini `Suppliers` ve isteğe bağlı olarak, akıllı etiketten adlı yeni bir ObjectDataSource bağlama `SuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-253">Set the GridView s `ID` property to `Suppliers` and, from its smart tag, bind it to a new ObjectDataSource named `SuppliersDataSource`.</span></span> <span data-ttu-id="bc6d7-254">ObjectDataSource kullanmak için yapılandırma `SuppliersBLLWithSprocs` ekledik sınıfı adım 6'da geri ve İleri'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-254">Configure the ObjectDataSource to use the `SuppliersBLLWithSprocs` class we added back in Step 6 and click Next.</span></span>


<span data-ttu-id="bc6d7-255">[![ObjectDataSource SuppliersBLLWithSprocs sınıfını kullanmak için yapılandırma](working-with-computed-columns-cs/_static/image32.png)](working-with-computed-columns-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-255">[![Configure the ObjectDataSource to Use the SuppliersBLLWithSprocs Class](working-with-computed-columns-cs/_static/image32.png)](working-with-computed-columns-cs/_static/image31.png)</span></span>

<span data-ttu-id="bc6d7-256">**Şekil 11**: ObjectDataSource kullanılacak yapılandırma `SuppliersBLLWithSprocs` sınıfı ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-256">**Figure 11**: Configure the ObjectDataSource to Use the `SuppliersBLLWithSprocs` Class ([Click to view full-size image](working-with-computed-columns-cs/_static/image33.png))</span></span>


<span data-ttu-id="bc6d7-257">Tanımlanan yalnızca iki farklı yöntemle `SuppliersBLLWithSprocs` sınıfı: `GetSuppliers` ve `UpdateSupplier`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-257">There are only two methods defined in the `SuppliersBLLWithSprocs` class: `GetSuppliers` and `UpdateSupplier`.</span></span> <span data-ttu-id="bc6d7-258">Bu iki yöntem seçme içinde belirtilir ve sırasıyla sekmeler, güncelleştirme ve ObjectDataSource yapılandırmasını tamamlamak için Son'u tıklatın emin olun.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-258">Ensure that these two methods are specified in the SELECT and UPDATE tabs, respectively, and click Finish to complete the configuration of the ObjectDataSource.</span></span>

<span data-ttu-id="bc6d7-259">Veri Kaynağı Yapılandırma Sihirbazı tamamlandıktan sonra Visual Studio döndürülen veri alanların her biri için bir BoundField ekleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-259">Upon completion of the Data Source Configuration wizard, Visual Studio will add a BoundField for each of the data fields returned.</span></span> <span data-ttu-id="bc6d7-260">Kaldırma `SupplierID` BoundField değiştirip `HeaderText` özelliklerini `CompanyName`, `ContactName`, `ContactTitle`, ve `FullContactName` BoundFields şirket, ilgili kişi adı, başlık ve tam kişi adı, sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-260">Remove the `SupplierID` BoundField and change the `HeaderText` properties of the `CompanyName`, `ContactName`, `ContactTitle`, and `FullContactName` BoundFields to Company, Contact Name, Title, and Full Contact Name, respectively.</span></span> <span data-ttu-id="bc6d7-261">Akıllı etiket GridView s yerleşik düzenleme özellikleri etkinleştirmek için düzenlemeyi etkinleştir onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-261">From the smart tag, check the Enable Editing checkbox to turn on the GridView s built-in editing capabilities.</span></span>

<span data-ttu-id="bc6d7-262">GridView'a BoundFields eklemenin yanı sıra veri kaynağı Sihirbazı'nın tamamlanma ayrıca ObjectDataSource s ayarlamak Visual Studio neden `OldValuesParameterFormatString` özgün özelliğini\_{0}.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-262">In addition to adding BoundFields to the GridView, completion of the Data Source Wizard also causes Visual Studio to set the ObjectDataSource s `OldValuesParameterFormatString` property to original\_{0}.</span></span> <span data-ttu-id="bc6d7-263">Bu geri, varsayılan değere geri {0} .</span><span class="sxs-lookup"><span data-stu-id="bc6d7-263">Revert this setting back to its default value, {0} .</span></span>

<span data-ttu-id="bc6d7-264">GridView ve ObjectDataSource bu düzenlemeler yaptıktan sonra bildirim temelli biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="bc6d7-264">After making these edits to the GridView and ObjectDataSource, their declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](working-with-computed-columns-cs/samples/sample7.aspx)]

<span data-ttu-id="bc6d7-265">Ardından, bir tarayıcı aracılığıyla bu sayfayı ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-265">Next, visit this page through a browser.</span></span> <span data-ttu-id="bc6d7-266">Şekil 12 gösterildiği gibi her tedarikçi içeren kılavuzda listelenen `FullContactName` sütun değeri yalnızca diğer üç sütun birleşimi olan, biçimlendirilmiş olarak `ContactName` (`ContactTitle`, `CompanyName`).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-266">As Figure 12 shows, each supplier is listed in a grid that includes the `FullContactName` column, whose value is simply the concatenation of the other three columns formatted as `ContactName` (`ContactTitle`, `CompanyName`) .</span></span>


<span data-ttu-id="bc6d7-267">[![Her tedarikçi kılavuz listelenir.](working-with-computed-columns-cs/_static/image35.png)](working-with-computed-columns-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-267">[![Each Supplier is Listed in the Grid](working-with-computed-columns-cs/_static/image35.png)](working-with-computed-columns-cs/_static/image34.png)</span></span>

<span data-ttu-id="bc6d7-268">**Şekil 12**: Her tedarikçi kılavuz listelenir ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-268">**Figure 12**: Each Supplier is Listed in the Grid ([Click to view full-size image](working-with-computed-columns-cs/_static/image36.png))</span></span>


<span data-ttu-id="bc6d7-269">Belirli bir üretici geri göndermeye neden olur ve içinde satır tarafından işlenen Düzenle düğmesine tıklayarak düzenleme, arabirim (bkz. Şekil 13).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-269">Clicking the Edit button for a particular supplier causes a postback and has that row rendered in its editing interface (see Figure 13).</span></span> <span data-ttu-id="bc6d7-270">İlk üç sütun arabirimini düzenleme, varsayılan olarak işleme - TextBox denetimi `Text` özelliğini veri alanına değerine ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-270">The first three columns render in their default editing interface - a TextBox control whose `Text` property is set to the value of the data field.</span></span> <span data-ttu-id="bc6d7-271">`FullContactName` Sütun, ancak metin olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-271">The `FullContactName` column, however, remains as text.</span></span> <span data-ttu-id="bc6d7-272">BoundFields veri kaynağı Yapılandırma Sihirbazı'nın tamamlanma GridView eklendiğinde `FullContactName` BoundField s `ReadOnly` özelliğinin ayarlandığı `true` çünkü ilgili `FullContactName` sütununda `SuppliersDataTable` sahip, `ReadOnly` özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-272">When the BoundFields were added to the GridView at the completion of the Data Source Configuration wizard, the `FullContactName` BoundField s `ReadOnly` property was set to `true` because the corresponding `FullContactName` column in the `SuppliersDataTable` has its `ReadOnly` property set to `true`.</span></span> <span data-ttu-id="bc6d7-273">Adım 4'te belirtildiği gibi `FullContactName` s `ReadOnly` özelliğinin ayarlandığı `true` TableAdapter sütunu hesaplanan bir sütun olduğunu algıladığından.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-273">As noted in Step 4, the `FullContactName` s `ReadOnly` property was set to `true` because the TableAdapter detected that the column was a computed column.</span></span>


<span data-ttu-id="bc6d7-274">[![FullContactName sütundur düzenlenemez](working-with-computed-columns-cs/_static/image38.png)](working-with-computed-columns-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-274">[![The FullContactName Column is Not Editable](working-with-computed-columns-cs/_static/image38.png)](working-with-computed-columns-cs/_static/image37.png)</span></span>

<span data-ttu-id="bc6d7-275">**Şekil 13**: `FullContactName` Sütundur düzenlenemez ([tam boyutlu görüntüyü görmek için tıklatın](working-with-computed-columns-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="bc6d7-275">**Figure 13**: The `FullContactName` Column is Not Editable ([Click to view full-size image](working-with-computed-columns-cs/_static/image39.png))</span></span>


<span data-ttu-id="bc6d7-276">Devam edin ve bir veya daha fazla düzenlenebilir sütunların değerini güncelleştirin ve Güncelleştir'e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-276">Go ahead and update the value of one or more of the editable columns and click Update.</span></span> <span data-ttu-id="bc6d7-277">Not nasıl `FullContactName` s değer değişikliği yansıtacak şekilde otomatik olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-277">Note how the `FullContactName` s value is automatically updated to reflect the change.</span></span>

> [!NOTE]
> <span data-ttu-id="bc6d7-278">Düzenlenebilir alanları için şu anda kullandığı BoundFields arabirimini düzenleme varsayılan olarak sonuçlanan GridView.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-278">The GridView currently uses BoundFields for the editable fields, resulting in the default editing interface.</span></span> <span data-ttu-id="bc6d7-279">Bu yana `CompanyName` alan gereklidir, bir RequiredFieldValidator içeren bir TemplateField dönüştürülmesi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-279">Since the `CompanyName` field is required, it should be converted into a TemplateField that includes a RequiredFieldValidator.</span></span> <span data-ttu-id="bc6d7-280">Ben bunu bir alıştırma olarak için ilginizi okuyucu bırakın.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-280">I leave this as an exercise for the interested reader.</span></span> <span data-ttu-id="bc6d7-281">Başvurun [arabirimleri ekleme ve düzenleme için doğrulama denetimleri ekleme](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) öğretici ilişkin adım adım yönergeler için bir TemplateField bir BoundField dönüştürme ve doğrulama denetimleri ekleme.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-281">Consult the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) tutorial for step-by-step instructions on converting a BoundField to a TemplateField and adding validation controls.</span></span>


## <a name="summary"></a><span data-ttu-id="bc6d7-282">Özet</span><span class="sxs-lookup"><span data-stu-id="bc6d7-282">Summary</span></span>

<span data-ttu-id="bc6d7-283">Bir tablo için şema tanımlarken, Microsoft SQL Server eklenmesi, hesaplanan sütunlar sağlar.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-283">When defining the schema for a table, Microsoft SQL Server allows the inclusion of computed columns.</span></span> <span data-ttu-id="bc6d7-284">Değerleri genellikle aynı kaydın diğer sütunlardan değerleri başvuran bir ifade hesaplanan sütunlar şunlardır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-284">These are columns whose values are calculated from an expression that usually references the values from other columns in the same record.</span></span> <span data-ttu-id="bc6d7-285">Değerleri bu yana bir ifade üzerinde hesaplanan sütunlar bağlıdır bunlar salt okunur ve bir değer atanamaz bir `INSERT` veya `UPDATE` deyimi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-285">Since the values for computed columns are based on an expression, they are read-only and cannot be assigned a value in an `INSERT` or `UPDATE` statement.</span></span> <span data-ttu-id="bc6d7-286">Bu hesaplanan bir sütuna karşılık gelen otomatik olarak oluşturmak için çalışan TableAdapter bağdaştırıcısının ana sorgusunda kullanırken güçlükler `INSERT`, `UPDATE`, ve `DELETE` deyimleri.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-286">This introduces challenges when using a computed column in the main query of a TableAdapter that tries to automatically generate corresponding `INSERT`, `UPDATE`, and `DELETE` statements.</span></span>

<span data-ttu-id="bc6d7-287">Bu öğreticide tarafından hesaplanan sütunlar teşkil zorlukları atlanarak tekniklerini ele almıştık.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-287">In this tutorial we discussed techniques for circumventing the challenges posed by computed columns.</span></span> <span data-ttu-id="bc6d7-288">Özellikle, saklı yordamlar bizim TableAdapter geçici SQL deyimlerini kullanarak TableAdapter bağdaştırıcıları devralınan brittleness çözmek için kullandık.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-288">In particular, we used stored procedures in our TableAdapter to overcome the brittleness inherent in TableAdapters that use ad-hoc SQL statements.</span></span> <span data-ttu-id="bc6d7-289">Yeni Oluştur TableAdapter Sihirbazı olan saklı yordamları, biz, hesaplanan sütunlar varlıklarını veri değişikliği depolanan yordamları oluşturulmasını önlediği için başlangıçta atlamak ana sorguda olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-289">When having the TableAdapter wizard create new stored procedures, it is important that we have the main query initially omit any computed columns because their presence prevents the data modification stored procedures from being generated.</span></span> <span data-ttu-id="bc6d7-290">TableAdapter başlangıçta yapılandırıldıktan sonra kendi `SelectCommand` saklı yordam retooled, hesaplanan sütunlar eklenecek.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-290">After the TableAdapter has been initially configured, its `SelectCommand` stored procedure can be retooled to include any computed columns.</span></span>

<span data-ttu-id="bc6d7-291">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="bc6d7-291">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="bc6d7-292">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="bc6d7-292">About the Author</span></span>

<span data-ttu-id="bc6d7-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-293">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="bc6d7-294">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-294">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="bc6d7-295">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-295">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="bc6d7-296">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-296">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="bc6d7-297">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="bc6d7-297">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="bc6d7-298">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="bc6d7-298">Special Thanks To</span></span>

<span data-ttu-id="bc6d7-299">Bu öğretici serisinde, birçok yararlı Gözden Geçiren tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-299">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="bc6d7-300">Bu öğretici için müşteri adayı gözden geçirenler Hilton Geisenow ve Teresa Murphy yoktu.</span><span class="sxs-lookup"><span data-stu-id="bc6d7-300">Lead reviewers for this tutorial were Hilton Geisenow and Teresa Murphy.</span></span> <span data-ttu-id="bc6d7-301">Yaklaşan My MSDN makaleleri gözden geçirme ilgileniyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="bc6d7-301">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="bc6d7-302">Bu durumda, bir satır bana bırak [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-302">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="bc6d7-303">[Önceki](adding-additional-datatable-columns-cs.md)
> [İleri](configuring-the-data-access-layer-s-connection-and-command-level-settings-cs.md)</span><span class="sxs-lookup"><span data-stu-id="bc6d7-303">[Previous](adding-additional-datatable-columns-cs.md)
[Next](configuring-the-data-access-layer-s-connection-and-command-level-settings-cs.md)</span></span>
