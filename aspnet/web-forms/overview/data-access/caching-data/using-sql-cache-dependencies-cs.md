---
uid: web-forms/overview/data-access/caching-data/using-sql-cache-dependencies-cs
title: SQL önbellek bağımlılıklarını kullanma (C#) | Microsoft Docs
author: rick-anderson
description: En basit önbelleğe alma stratejisi, önbelleğe alınan verilerin belirli bir süre sonra dolmasına izin verecektir. Ancak bu basit yaklaşım, önbelleğe alınan verilerin bakımı olduğu anlamına gelir...
ms.author: riande
ms.date: 05/30/2007
ms.assetid: 0e91842c-7f10-4aed-8c23-4ee3e2774014
msc.legacyurl: /web-forms/overview/data-access/caching-data/using-sql-cache-dependencies-cs
msc.type: authoredcontent
ms.openlocfilehash: 5bc27a08e39606c25b8f99d6ea057d2a853f08a6
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74611924"
---
# <a name="using-sql-cache-dependencies-c"></a><span data-ttu-id="c8827-104">SQL Önbellek Bağımlılıklarını Kullanma (C#)</span><span class="sxs-lookup"><span data-stu-id="c8827-104">Using SQL Cache Dependencies (C#)</span></span>

<span data-ttu-id="c8827-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="c8827-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="c8827-106">[Kodu indirin](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_61_CS.zip) veya [PDF 'yi indirin](using-sql-cache-dependencies-cs/_static/datatutorial61cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="c8827-106">[Download Code](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_61_CS.zip) or [Download PDF](using-sql-cache-dependencies-cs/_static/datatutorial61cs1.pdf)</span></span>

> <span data-ttu-id="c8827-107">En basit önbelleğe alma stratejisi, önbelleğe alınan verilerin belirli bir süre sonra dolmasına izin verecektir.</span><span class="sxs-lookup"><span data-stu-id="c8827-107">The simplest caching strategy is to allow cached data to expire after a specified period of time.</span></span> <span data-ttu-id="c8827-108">Ancak bu basit yaklaşım, önbelleğe alınmış verilerin temel alınan veri kaynağıyla hiçbir ilişki olmadığı anlamına gelir. Bu, çok uzun tutulan eski veriler veya çok yakında zaman aşımına uğradı.</span><span class="sxs-lookup"><span data-stu-id="c8827-108">But this simple approach means that the cached data maintains no association with its underlying data source, resulting in stale data that is held too long or current data that is expired too soon.</span></span> <span data-ttu-id="c8827-109">Daha iyi bir yaklaşım, SqlCacheDependency sınıfını temel alınan veriler SQL veritabanında değiştirilene kadar önbelleğe kalacak şekilde kullanmaktır.</span><span class="sxs-lookup"><span data-stu-id="c8827-109">A better approach is to use the SqlCacheDependency class so that data remains cached until its underlying data has been modified in the SQL database.</span></span> <span data-ttu-id="c8827-110">Bu öğreticide nasıl yapılacağı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="c8827-110">This tutorial shows you how.</span></span>

## <a name="introduction"></a><span data-ttu-id="c8827-111">Giriş</span><span class="sxs-lookup"><span data-stu-id="c8827-111">Introduction</span></span>

<span data-ttu-id="c8827-112">[Mimari](caching-data-in-the-architecture-cs.md) öğreticilerde [önbelleğe alma verilerinde](caching-data-with-the-objectdatasource-cs.md) incelenen önbelleğe alma teknikleri, verileri belirli bir süre geçtikten sonra önbellekten çıkarmak için zamana dayalı bir süre sonu kullandı.</span><span class="sxs-lookup"><span data-stu-id="c8827-112">The caching techniques examined in the [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) and [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorials used a time-based expiry to evict the data from the cache after a specified period.</span></span> <span data-ttu-id="c8827-113">Bu yaklaşım, veri açısından önbelleğe almanın performans kazançlarını dengelemek için en kolay yoldur.</span><span class="sxs-lookup"><span data-stu-id="c8827-113">This approach is the simplest way to balance the performance gains of caching against data staleness.</span></span> <span data-ttu-id="c8827-114">Bir sayfa geliştiricisi *x* saniyelik zaman aşımı süresini seçerek, yalnızca *x* saniye boyunca önbelleğe alma işleminin performans avantajlarından faydalanmayı gizlemektir, ancak verilerin en fazla *x* saniyeden daha uzun bir süre daha fazla olmadığı kadar kolay bir şekilde kalmaz.</span><span class="sxs-lookup"><span data-stu-id="c8827-114">By selecting a time expiry of *x* seconds, a page developer concedes to enjoy the performance benefits of caching for only *x* seconds, but can rest easy that her data will never be stale longer than a maximum of *x* seconds.</span></span> <span data-ttu-id="c8827-115">Kuşkusuz, statik veriler için *x* , [uygulama başlangıç öğreticisindeki önbelleğe alma verilerinde](caching-data-at-application-startup-cs.md) incelenen gibi Web uygulamasının kullanım ömrüne genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-115">Of course, for static data, *x* can be extended to the lifetime of the web application, as was examined in the [Caching Data at Application Startup](caching-data-at-application-startup-cs.md) tutorial.</span></span>

<span data-ttu-id="c8827-116">Veritabanı verilerini önbelleğe alırken, zaman tabanlı süre sonu genellikle kullanım kolaylığı için seçilir, ancak genellikle yetersiz bir çözümdür.</span><span class="sxs-lookup"><span data-stu-id="c8827-116">When caching database data, a time-based expiry is often chosen for its ease of use but is frequently an inadequate solution.</span></span> <span data-ttu-id="c8827-117">İdeal olarak, veritabanı verileri, temel alınan veriler veritabanında değiştirilene kadar önbellekte kalır; yalnızca önbellek çıkarılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-117">Ideally, the database data would remain cached until the underlying data has been modified in the database; only then would the cache be evicted.</span></span> <span data-ttu-id="c8827-118">Bu yaklaşım, önbelleğe almanın performans avantajlarını en üst düzeye çıkarır ve eski verilerin süresini en aza indirir.</span><span class="sxs-lookup"><span data-stu-id="c8827-118">This approach maximizes the performance benefits of caching and minimizes the duration of stale data.</span></span> <span data-ttu-id="c8827-119">Bununla birlikte, bu avantajlardan faydalanmak için, temel alınan veritabanı verilerinin ne zaman değiştirildiğini bilen ve ilgili öğeleri önbellekten çıkarmanın bir sistem olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-119">However, in order to enjoy these benefits there must be some system in place that knows when the underlying database data has been modified and evicts the corresponding items from the cache.</span></span> <span data-ttu-id="c8827-120">ASP.NET 2,0 ' den önce, sayfa geliştiricileri bu sistemi uygulamaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="c8827-120">Prior to ASP.NET 2.0, page developers were responsible for implementing this system.</span></span>

<span data-ttu-id="c8827-121">ASP.NET 2,0, karşılık gelen önbelleğe alınmış öğelerin çıkarılenebilmesi için veritabanında bir değişikliğin ne zaman gerçekleştiğini belirlemede bir [`SqlCacheDependency` sınıfı](https://msdn.microsoft.com/library/system.web.caching.sqlcachedependency.aspx) ve gerekli altyapıyı sağlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-121">ASP.NET 2.0 provides a [`SqlCacheDependency` class](https://msdn.microsoft.com/library/system.web.caching.sqlcachedependency.aspx) and the necessary infrastructure to determine when a change has occurred in the database so that the corresponding cached items can be evicted.</span></span> <span data-ttu-id="c8827-122">Temel alınan verilerin ne zaman değiştiğini belirlemek için iki teknik vardır: bildirim ve yoklama.</span><span class="sxs-lookup"><span data-stu-id="c8827-122">There are two techniques for determining when the underlying data has changed: notification and polling.</span></span> <span data-ttu-id="c8827-123">Bildirim ve yoklama arasındaki farkları tartışdıktan sonra, yoklamayı desteklemek için gereken altyapıyı oluşturacağız ve ardından `SqlCacheDependency` sınıfının bildirime dayalı ve program aracılığıyla senaryolarında nasıl kullanılacağını keşfedeceğiz.</span><span class="sxs-lookup"><span data-stu-id="c8827-123">After discussing the differences between notification and polling, we'll create the infrastructure necessary to support polling and then explore how to use the `SqlCacheDependency` class in declarative and programmatically scenarios.</span></span>

## <a name="understanding-notification-and-polling"></a><span data-ttu-id="c8827-124">Bildirim ve yoklamayı anlama</span><span class="sxs-lookup"><span data-stu-id="c8827-124">Understanding Notification and Polling</span></span>

<span data-ttu-id="c8827-125">Bir veritabanındaki verilerin ne zaman değiştirildiğini tespit etmek için kullanılabilecek iki teknik vardır: bildirim ve yoklama.</span><span class="sxs-lookup"><span data-stu-id="c8827-125">There are two techniques that can be used to determine when the data in a database has been modified: notification and polling.</span></span> <span data-ttu-id="c8827-126">Bildirim ile, sorgu en son çalıştırılmasından bu yana belirli bir sorgunun sonuçları değiştirildiğinde veritabanı otomatik olarak ASP.NET çalışma zamanını uyarır. bu noktada sorguyla ilişkili olan önbelleğe alınan öğeler çıkarılmıştır.</span><span class="sxs-lookup"><span data-stu-id="c8827-126">With notification, the database automatically alerts the ASP.NET runtime when the results of a particular query have been changed since the query was last executed, at which point the cached items associated with the query are evicted.</span></span> <span data-ttu-id="c8827-127">Yoklama ile veritabanı sunucusu, belirli tabloların en son ne zaman güncelleştirildiği hakkında bilgileri saklar.</span><span class="sxs-lookup"><span data-stu-id="c8827-127">With polling, the database server maintains information about when particular tables have last been updated.</span></span> <span data-ttu-id="c8827-128">ASP.NET çalışma zamanı, önbelleğe girildiklerinden beri hangi tabloların değiştiğini denetlemek için veritabanını düzenli aralıklarla yoklar.</span><span class="sxs-lookup"><span data-stu-id="c8827-128">The ASP.NET runtime periodically polls the database to check what tables have changed since they were entered into the cache.</span></span> <span data-ttu-id="c8827-129">Verilerin değiştirildiği tablolarda ilişkili önbellek öğeleri çıkarıldı.</span><span class="sxs-lookup"><span data-stu-id="c8827-129">Those tables whose data has been modified have their associated cache items evicted.</span></span>

<span data-ttu-id="c8827-130">Bildirim seçeneği yoklamaya göre daha az kurulum gerektirir ve tablo düzeyi yerine sorgu düzeyindeki değişiklikleri izlediğinden daha ayrıntılı bir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="c8827-130">The notification option requires less setup than polling and is more granular since it tracks changes at the query level rather than at the table level.</span></span> <span data-ttu-id="c8827-131">Ne yazık ki, bildirimler yalnızca Microsoft SQL Server 2005 ' in (yani Express olmayan sürümler) tüm sürümlerinde kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-131">Unfortunately, notifications are only available in the full editions of Microsoft SQL Server 2005 (i.e., the non-Express editions).</span></span> <span data-ttu-id="c8827-132">Ancak yoklama seçeneği 7,0 ' dan 2005 ' e kadar tüm Microsoft SQL Server sürümleri için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-132">However, the polling option can be used for all versions of Microsoft SQL Server from 7.0 to 2005.</span></span> <span data-ttu-id="c8827-133">Bu öğreticiler SQL Server 2005 ' nin Express sürümünü kullandığından yoklama seçeneğini ayarlamaya ve kullanmaya odaklanacağız.</span><span class="sxs-lookup"><span data-stu-id="c8827-133">Since these tutorials use the Express edition of SQL Server 2005, we will focus on setting up and using the polling option.</span></span> <span data-ttu-id="c8827-134">SQL Server 2005 s bildirim özellikleri hakkında daha fazla kaynak için Bu öğreticinin sonundaki daha fazla okuma bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="c8827-134">Consult the Further Reading section at the end of this tutorial for further resources on SQL Server 2005 s notification capabilities.</span></span>

<span data-ttu-id="c8827-135">Yoklamayla veritabanı, üç sütun içeren `AspNet_SqlCacheTablesForChangeNotification` adlı bir tablo (`tableName`, `notificationCreated`ve `changeId`) içerecek şekilde yapılandırılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-135">With polling, the database must be configured to include a table named `AspNet_SqlCacheTablesForChangeNotification` that has three columns - `tableName`, `notificationCreated`, and `changeId`.</span></span> <span data-ttu-id="c8827-136">Bu tablo, Web uygulamasında bir SQL önbellek bağımlılığında kullanılması gerekebilecek verilerin bulunduğu her tablo için bir satır içerir.</span><span class="sxs-lookup"><span data-stu-id="c8827-136">This table contains a row for each table that has data that might need to be used in a SQL cache dependency in the web application.</span></span> <span data-ttu-id="c8827-137">`tableName` sütunu, tablonun tabloya eklendiği tarihi ve saati gösteren `notificationCreated` tablodaki adı belirtir.</span><span class="sxs-lookup"><span data-stu-id="c8827-137">The `tableName` column specifies the name of the table while `notificationCreated` indicates the date and time the row was added to the table.</span></span> <span data-ttu-id="c8827-138">`changeId` sütunu `int` türündedir ve ilk değeri 0 ' dır.</span><span class="sxs-lookup"><span data-stu-id="c8827-138">The `changeId` column is of type `int` and has an initial value of 0.</span></span> <span data-ttu-id="c8827-139">Değeri, tablodaki her değişiklikle artırılır.</span><span class="sxs-lookup"><span data-stu-id="c8827-139">Its value is incremented with each modification to the table.</span></span>

<span data-ttu-id="c8827-140">`AspNet_SqlCacheTablesForChangeNotification` tablosuna ek olarak, veritabanının SQL önbellek bağımlılığında görünebilen her bir tabloya tetikleyici eklemesi de gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-140">In addition to the `AspNet_SqlCacheTablesForChangeNotification` table, the database also needs to include triggers on each of the tables that may appear in a SQL cache dependency.</span></span> <span data-ttu-id="c8827-141">Bu Tetikleyiciler, bir satır eklendiğinde, güncelleştirildiğinde veya silindiğinde ve `AspNet_SqlCacheTablesForChangeNotification`içindeki tablo `changeId` değerini artırırsanız yürütülür.</span><span class="sxs-lookup"><span data-stu-id="c8827-141">These triggers are executed whenever a row is inserted, updated, or deleted and increment the table s `changeId` value in `AspNet_SqlCacheTablesForChangeNotification`.</span></span>

<span data-ttu-id="c8827-142">ASP.NET çalışma zamanı, verileri bir `SqlCacheDependency` nesnesi kullanarak önbelleğe alırken tablo için geçerli `changeId` izler.</span><span class="sxs-lookup"><span data-stu-id="c8827-142">The ASP.NET runtime tracks the current `changeId` for a table when caching data using a `SqlCacheDependency` object.</span></span> <span data-ttu-id="c8827-143">Veritabanı düzenli aralıklarla denetlenir ve farklı bir `changeId` değeri, verilerin önbelleğe alındığı bu yana tabloda bir değişiklik olduğunu gösterdiği için, `changeId` veritabanındaki değerden farklı olan `SqlCacheDependency` nesneleri çıkarıldı.</span><span class="sxs-lookup"><span data-stu-id="c8827-143">The database is periodically checked and any `SqlCacheDependency` objects whose `changeId` differs from the value in the database are evicted since a differing `changeId` value indicates that there has been a change to the table since the data was cached.</span></span>

## <a name="step-1-exploring-theaspnet_regsqlexecommand-line-program"></a><span data-ttu-id="c8827-144">1\. adım: `aspnet_regsql.exe`komut satırı programını keşfetme</span><span class="sxs-lookup"><span data-stu-id="c8827-144">Step 1: Exploring the`aspnet_regsql.exe`Command Line Program</span></span>

<span data-ttu-id="c8827-145">Yoklama yaklaşımıyla, veritabanının yukarıda açıklanan altyapıyı içerecek şekilde kurulması gerekir: önceden tanımlanmış bir tablo (`AspNet_SqlCacheTablesForChangeNotification`), bir dizi saklı yordam ve Web uygulamasındaki SQL önbellek bağımlılıklarında kullanılabilecek her tablo üzerinde Tetikleyiciler.</span><span class="sxs-lookup"><span data-stu-id="c8827-145">With the polling approach the database must be setup to contain the infrastructure described above: a predefined table (`AspNet_SqlCacheTablesForChangeNotification`), a handful of stored procedures, and triggers on each of the tables that may be used in SQL cache dependencies in the web application.</span></span> <span data-ttu-id="c8827-146">Bu tablolar, saklı yordamlar ve Tetikleyiciler, `$WINDOWS$\Microsoft.NET\Framework\version` klasöründe bulunan `aspnet_regsql.exe`komut satırı programı aracılığıyla oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-146">These tables, stored procedures, and triggers can be created through the command line program `aspnet_regsql.exe`, which is found in the `$WINDOWS$\Microsoft.NET\Framework\version` folder.</span></span> <span data-ttu-id="c8827-147">`AspNet_SqlCacheTablesForChangeNotification` tablosu ve ilişkili saklı yordamları oluşturmak için komut satırından aşağıdakileri çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="c8827-147">To create the `AspNet_SqlCacheTablesForChangeNotification` table and associated stored procedures, run the following from the command line:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample1.cmd)]

> [!NOTE]
> <span data-ttu-id="c8827-148">Bu komutları yürütmek için belirtilen veritabanı oturum açma [`db_securityadmin`](https://msdn.microsoft.com/library/ms188685.aspx) ve [`db_ddladmin`](https://msdn.microsoft.com/library/ms190667.aspx) rollerde olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-148">To execute these commands the specified database login must be in the [`db_securityadmin`](https://msdn.microsoft.com/library/ms188685.aspx) and [`db_ddladmin`](https://msdn.microsoft.com/library/ms190667.aspx) roles.</span></span> <span data-ttu-id="c8827-149">Veritabanına gönderilen T-SQL ' i `aspnet_regsql.exe` komut satırı programı tarafından incelemek için, [Bu Blog girdisine](http://scottonwriting.net/sowblog/posts/10709.aspx)bakın.</span><span class="sxs-lookup"><span data-stu-id="c8827-149">To examine the T-SQL sent to the database by the `aspnet_regsql.exe` command line program, refer to [this blog entry](http://scottonwriting.net/sowblog/posts/10709.aspx).</span></span>

<span data-ttu-id="c8827-150">Örneğin, Windows kimlik doğrulaması kullanarak `ScottsServer` adlı bir veritabanı sunucusunda `pubs` adlı bir Microsoft SQL Server veritabanına yoklamaya yönelik altyapıyı eklemek için, uygun dizine gidin ve komut satırından, şunu girin:</span><span class="sxs-lookup"><span data-stu-id="c8827-150">For example, to add the infrastructure for polling to a Microsoft SQL Server database named `pubs` on a database server named `ScottsServer` using Windows Authentication, navigate to the appropriate directory and, from the command line, enter:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample2.cmd)]

<span data-ttu-id="c8827-151">Veritabanı düzeyi altyapısı eklendikten sonra, Tetikleyicileri SQL önbellek bağımlılıklarında kullanılacak olan tablolara eklememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-151">After the database-level infrastructure has been added, we need to add the triggers to those tables that will be used in SQL cache dependencies.</span></span> <span data-ttu-id="c8827-152">`aspnet_regsql.exe` komut satırı programını yeniden kullanın, ancak `-t` anahtarını kullanarak tablo adını belirtin ve `-et`kullanın `-ed` anahtarını kullanmak yerine, şöyle olması gerekir:</span><span class="sxs-lookup"><span data-stu-id="c8827-152">Use the `aspnet_regsql.exe` command line program again, but specify the table name using the `-t` switch and instead of using the `-ed` switch use `-et`, like so:</span></span>

[!code-html[Main](using-sql-cache-dependencies-cs/samples/sample3.html)]

<span data-ttu-id="c8827-153">Tetikleyicileri `authors` ve `ScottsServer``pubs` veritabanındaki `titles` tablolarına eklemek için şunu kullanın:</span><span class="sxs-lookup"><span data-stu-id="c8827-153">To add the triggers to the `authors` and `titles` tables on the `pubs` database on `ScottsServer`, use:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample4.cmd)]

<span data-ttu-id="c8827-154">Bu öğretici için Tetikleyicileri `Products`, `Categories`ve `Suppliers` tablolarına ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-154">For this tutorial add the triggers to the `Products`, `Categories`, and `Suppliers` tables.</span></span> <span data-ttu-id="c8827-155">Adım 3 ' te belirli komut satırı sözdizimine bakacağız.</span><span class="sxs-lookup"><span data-stu-id="c8827-155">We'll look at the particular command line syntax in Step 3.</span></span>

## <a name="step-2-referencing-a-microsoft-sql-server-2005-express-edition-database-inapp_data"></a><span data-ttu-id="c8827-156">2\. adım: `App_Data` Microsoft SQL Server 2005 Express Edition veritabanına başvurma</span><span class="sxs-lookup"><span data-stu-id="c8827-156">Step 2: Referencing a Microsoft SQL Server 2005 Express Edition Database in`App_Data`</span></span>

<span data-ttu-id="c8827-157">`aspnet_regsql.exe` komut satırı programı, gerekli yoklama altyapısını eklemek için veritabanı ve sunucu adını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="c8827-157">The `aspnet_regsql.exe` command line program requires the database and server name in order to add the necessary polling infrastructure.</span></span> <span data-ttu-id="c8827-158">Ancak `App_Data` klasöründe bulunan Microsoft SQL Server 2005 Express veritabanı için veritabanı ve sunucu adı nedir?</span><span class="sxs-lookup"><span data-stu-id="c8827-158">But what is the database and server name for a Microsoft SQL Server 2005 Express database that resides in the `App_Data` folder?</span></span> <span data-ttu-id="c8827-159">Veritabanı ve sunucu adlarının ne olduğunu keşfetmesi yerine, en basit yaklaşımın veritabanını `localhost\SQLExpress` veritabanı örneğine eklemek ve [SQL Server Management Studio](https://msdn.microsoft.com/library/ms174173.aspx)kullanarak verileri yeniden adlandırmak için olduğunu buldum.</span><span class="sxs-lookup"><span data-stu-id="c8827-159">Rather than having to discover what the database and server names are, I ve found that the simplest approach is to attach the database to the `localhost\SQLExpress` database instance and rename the data using [SQL Server Management Studio](https://msdn.microsoft.com/library/ms174173.aspx).</span></span> <span data-ttu-id="c8827-160">Makinenizde yüklü olan SQL Server 2005 ' nin tam sürümlerinden birine sahipseniz, büyük olasılıkla bilgisayarınızda zaten SQL Server Management Studio yüklü olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-160">If you have one of the full versions of SQL Server 2005 installed on your machine, then you likely already have SQL Server Management Studio installed on your computer.</span></span> <span data-ttu-id="c8827-161">Yalnızca Express Edition kullanıyorsanız, ücretsiz [Microsoft SQL Server Management Studio Express Edition](https://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796)'ı indirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8827-161">If you only have the Express edition, you can download the free [Microsoft SQL Server Management Studio Express Edition](https://www.microsoft.com/downloads/details.aspx?displaylang=en&amp;FamilyID=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796).</span></span>

<span data-ttu-id="c8827-162">Visual Studio 'Yu kapatarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-162">Start by closing Visual Studio.</span></span> <span data-ttu-id="c8827-163">Sonra, SQL Server Management Studio açın ve Windows kimlik doğrulaması kullanarak `localhost\SQLExpress` sunucusuna bağlanmayı seçin.</span><span class="sxs-lookup"><span data-stu-id="c8827-163">Next, open SQL Server Management Studio and choose to connect to the `localhost\SQLExpress` server using Windows Authentication.</span></span>

![Localhost\SQLExpress sunucusuna Ekle](using-sql-cache-dependencies-cs/_static/image1.gif)

<span data-ttu-id="c8827-165">**Şekil 1**: `localhost\SQLExpress` sunucusuna iliştirme</span><span class="sxs-lookup"><span data-stu-id="c8827-165">**Figure 1**: Attach to the `localhost\SQLExpress` Server</span></span>

<span data-ttu-id="c8827-166">Sunucuya bağlandıktan sonra, Management Studio sunucuyu gösterir ve veritabanları, güvenlik ve diğerleri için alt klasörlere sahip olur.</span><span class="sxs-lookup"><span data-stu-id="c8827-166">After connecting to the server, Management Studio will show the server and have subfolders for the databases, security, and so forth.</span></span> <span data-ttu-id="c8827-167">Veritabanları klasörüne sağ tıklayın ve Ekle seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-167">Right-click on the Databases folder and choose the Attach option.</span></span> <span data-ttu-id="c8827-168">Bu işlem veritabanlarını Ekle iletişim kutusunu getirir (bkz. Şekil 2).</span><span class="sxs-lookup"><span data-stu-id="c8827-168">This will bring up the Attach Databases dialog box (see Figure 2).</span></span> <span data-ttu-id="c8827-169">Ekle düğmesine tıklayın ve Web uygulamanızın `App_Data` klasörünüzdeki `NORTHWND.MDF` veritabanı klasörünü seçin.</span><span class="sxs-lookup"><span data-stu-id="c8827-169">Click the Add button and select the `NORTHWND.MDF` database folder in your web application s `App_Data` folder.</span></span>

<span data-ttu-id="c8827-170">[![kuzeydoğu ekleyin. App_Data klasöründen MDF veritabanı](using-sql-cache-dependencies-cs/_static/image2.gif)](using-sql-cache-dependencies-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-170">[![Attach the NORTHWND.MDF Database from the App_Data Folder](using-sql-cache-dependencies-cs/_static/image2.gif)](using-sql-cache-dependencies-cs/_static/image1.png)</span></span>

<span data-ttu-id="c8827-171">**Şekil 2**: `App_Data` klasöründen `NORTHWND.MDF` veritabanını iliştirin ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-171">**Figure 2**: Attach the `NORTHWND.MDF` Database from the `App_Data` Folder ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image2.png))</span></span>

<span data-ttu-id="c8827-172">Bu, veritabanını veritabanları klasörüne ekler.</span><span class="sxs-lookup"><span data-stu-id="c8827-172">This will add the database to the Databases folder.</span></span> <span data-ttu-id="c8827-173">Veritabanı adı, veritabanı dosyasının tam yolu olabilir veya tam yol bir [GUID](http://en.wikipedia.org/wiki/Globally_Unique_Identifier)ile sona erer.</span><span class="sxs-lookup"><span data-stu-id="c8827-173">The database name might be the full path to the database file or the full path prepended with a [GUID](http://en.wikipedia.org/wiki/Globally_Unique_Identifier).</span></span> <span data-ttu-id="c8827-174">ASPNET\_regsql. exe komut satırı aracını kullanırken bu uzun veritabanı adını yazmak zorunda kalmamak için, yeni eklenen veritabanına sağ tıklayıp Yeniden Adlandır ' ı seçerek veritabanını daha fazla insan dostu bir adla yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="c8827-174">To avoid having to type in this lengthy database name when using the aspnet\_regsql.exe command line tool, rename the database to a more human-friendly name by right-clicking on database just attached and choosing Rename.</span></span> <span data-ttu-id="c8827-175">Veritabanımı Dataöğreticiler olarak yeniden adlandırdım.</span><span class="sxs-lookup"><span data-stu-id="c8827-175">I ve renamed my database to DataTutorials .</span></span>

![Eklenmiş veritabanını daha kolay bir adla yeniden adlandırın](using-sql-cache-dependencies-cs/_static/image3.gif)

<span data-ttu-id="c8827-177">**Şekil 3**: Eklenmiş veritabanını daha kolay bir adla yeniden adlandırın</span><span class="sxs-lookup"><span data-stu-id="c8827-177">**Figure 3**: Rename the Attached Database to a More Human-Friendly Name</span></span>

## <a name="step-3-adding-the-polling-infrastructure-to-the-northwind-database"></a><span data-ttu-id="c8827-178">3\. adım: Bir veri tabanı, Northwind veritabanına yoklama altyapısı ekleniyor</span><span class="sxs-lookup"><span data-stu-id="c8827-178">Step 3: Adding the Polling Infrastructure to the Northwind Database</span></span>

<span data-ttu-id="c8827-179">Artık `NORTHWND.MDF` veritabanını `App_Data` klasöründen eklediğimiz için, yoklama altyapısını eklemeye hazırız.</span><span class="sxs-lookup"><span data-stu-id="c8827-179">Now that we have attached the `NORTHWND.MDF` database from the `App_Data` folder, we re ready to add the polling infrastructure.</span></span> <span data-ttu-id="c8827-180">Veritabanını Dataöğreticileri olarak yeniden adlandırdığınız varsayılarak, aşağıdaki dört komutu çalıştırın:</span><span class="sxs-lookup"><span data-stu-id="c8827-180">Assuming that you ve renamed the database to DataTutorials, run the following four commands:</span></span>

[!code-console[Main](using-sql-cache-dependencies-cs/samples/sample5.cmd)]

<span data-ttu-id="c8827-181">Bu dört komutu çalıştırdıktan sonra, Management Studio veritabanı adına sağ tıklayın, görevler alt menüsüne gidin ve ayır ' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="c8827-181">After running these four commands, right-click on the database name in Management Studio, go to the Tasks submenu, and choose Detach.</span></span> <span data-ttu-id="c8827-182">Sonra Management Studio kapatın ve Visual Studio 'Yu yeniden açın.</span><span class="sxs-lookup"><span data-stu-id="c8827-182">Then close Management Studio and reopen Visual Studio.</span></span>

<span data-ttu-id="c8827-183">Visual Studio yeniden açıldıktan sonra, Sunucu Gezgini aracılığıyla veritabanına detaya gidin.</span><span class="sxs-lookup"><span data-stu-id="c8827-183">Once Visual Studio has reopened, drill into the database through the Server Explorer.</span></span> <span data-ttu-id="c8827-184">Yeni tabloya (`AspNet_SqlCacheTablesForChangeNotification`), yeni saklı yordamlara ve `Products`, `Categories`ve `Suppliers` tablolarına yönelik tetikleyicilere göz önünde bulunmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c8827-184">Note the new table (`AspNet_SqlCacheTablesForChangeNotification`), the new stored procedures, and the triggers on the `Products`, `Categories`, and `Suppliers` tables.</span></span>

![Veritabanı artık gerekli yoklama altyapısını Içerir](using-sql-cache-dependencies-cs/_static/image4.gif)

<span data-ttu-id="c8827-186">**Şekil 4**: Veritabanı artık gerekli yoklama altyapısını Içerir</span><span class="sxs-lookup"><span data-stu-id="c8827-186">**Figure 4**: The Database Now Includes the Necessary Polling Infrastructure</span></span>

## <a name="step-4-configuring-the-polling-service"></a><span data-ttu-id="c8827-187">4\. Adım: Yoklama hizmetini yapılandırma</span><span class="sxs-lookup"><span data-stu-id="c8827-187">Step 4: Configuring the Polling Service</span></span>

<span data-ttu-id="c8827-188">Veritabanında gerekli tabloları, Tetikleyicileri ve saklı yordamları oluşturduktan sonra, son adım, kullanılacak veritabanlarını ve yoklama sıklığını milisaniye olarak belirterek `Web.config` aracılığıyla gerçekleştirilen yoklama hizmetini yapılandırmaktır.</span><span class="sxs-lookup"><span data-stu-id="c8827-188">After creating the needed tables, triggers, and stored procedures in the database, the final step is to configure the polling service, which is done through `Web.config` by specifying the databases to use and the polling frequency in milliseconds.</span></span> <span data-ttu-id="c8827-189">Aşağıdaki biçimlendirme, her saniye bir kez Northwind veritabanını yoklar.</span><span class="sxs-lookup"><span data-stu-id="c8827-189">The following markup polls the Northwind database once every second.</span></span>

[!code-xml[Main](using-sql-cache-dependencies-cs/samples/sample6.xml)]

<span data-ttu-id="c8827-190">`<add>` öğesindeki (NorthwindDB) `name` değeri, okunabilir bir adı belirli bir veritabanıyla ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="c8827-190">The `name` value in the `<add>` element ( NorthwindDB ) associates a human-readable name with a particular database.</span></span> <span data-ttu-id="c8827-191">SQL önbellek bağımlılıklarıyla çalışırken, burada tanımlanan veritabanı adına ve önbelleğe alınan verilerin dayandığı tabloya başvurmaları gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-191">When working with SQL cache dependencies, we'll need to refer to the database name defined here as well as the table that the cached data is based on.</span></span> <span data-ttu-id="c8827-192">Adım 6 ' da SQL önbellek bağımlılıklarını önbelleğe alınmış verilerle programlı bir şekilde ilişkilendirmek için `SqlCacheDependency` sınıfını nasıl kullanacağınızı inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="c8827-192">We'll see how to use the `SqlCacheDependency` class to programmatically associate SQL cache dependencies with cached data in Step 6.</span></span>

<span data-ttu-id="c8827-193">SQL önbellek bağımlılığı kurulduktan sonra, yoklama sistemi her `pollTime` milisaniyede `<databases>` öğelerinde tanımlanan veritabanlarına bağlanır ve `AspNet_SqlCachePollingStoredProcedure` saklı yordamını yürütür.</span><span class="sxs-lookup"><span data-stu-id="c8827-193">Once a SQL cache dependency has been established, the polling system will connect to the databases defined in the `<databases>` elements every `pollTime` milliseconds and execute the `AspNet_SqlCachePollingStoredProcedure` stored procedure.</span></span> <span data-ttu-id="c8827-194">`aspnet_regsql.exe` komut satırı aracını kullanarak adım 3 ' te geri eklenen bu saklı yordam, `AspNet_SqlCacheTablesForChangeNotification`içindeki her kayıt için `tableName` ve `changeId` değerlerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="c8827-194">This stored procedure - which was added back in Step 3 using the `aspnet_regsql.exe` command line tool - returns the `tableName` and `changeId` values for each record in `AspNet_SqlCacheTablesForChangeNotification`.</span></span> <span data-ttu-id="c8827-195">Güncel olmayan SQL önbelleği bağımlılıkları önbellekten çıkarıldı.</span><span class="sxs-lookup"><span data-stu-id="c8827-195">Outdated SQL cache dependencies are evicted from the cache.</span></span>

<span data-ttu-id="c8827-196">`pollTime` ayarı, performans ve veri kullanımı arasında bir zorunluluğunu getirir tanıtır.</span><span class="sxs-lookup"><span data-stu-id="c8827-196">The `pollTime` setting introduces a tradeoff between performance and data staleness.</span></span> <span data-ttu-id="c8827-197">Küçük bir `pollTime` değeri veritabanına yönelik istek sayısını artırır, ancak eski verileri önbellekten daha hızlı bir şekilde çıkarır.</span><span class="sxs-lookup"><span data-stu-id="c8827-197">A small `pollTime` value increases the number of requests to the database, but more quickly evicts stale data from the cache.</span></span> <span data-ttu-id="c8827-198">Daha büyük bir `pollTime` değeri, veritabanı isteklerinin sayısını azaltır, ancak arka uç verilerinin ne zaman değiştiği ve ilgili önbellek öğelerinin ne zaman çıkarıldığı arasındaki gecikmeyi artırır.</span><span class="sxs-lookup"><span data-stu-id="c8827-198">A larger `pollTime` value reduces the number of database requests, but increases the delay between when the backend data changes and when the related cache items are evicted.</span></span> <span data-ttu-id="c8827-199">Neyse ki veritabanı isteği basit ve hafif bir tablodan yalnızca birkaç satır döndüren basit bir saklı yordam yürütüyor.</span><span class="sxs-lookup"><span data-stu-id="c8827-199">Fortunately, the database request is executing a simple stored procedure that s returning just a few rows from a simple, lightweight table.</span></span> <span data-ttu-id="c8827-200">Ancak, veritabanı erişimi ile uygulamanızın veri kullanımı arasında ideal bir denge bulmak için farklı `pollTime` değerleri ile denemeler yapın.</span><span class="sxs-lookup"><span data-stu-id="c8827-200">But do experiment with different `pollTime` values to find an ideal balance between database access and data staleness for your application.</span></span> <span data-ttu-id="c8827-201">İzin verilen en küçük `pollTime` değeri 500 ' dir.</span><span class="sxs-lookup"><span data-stu-id="c8827-201">The smallest `pollTime` value allowed is 500.</span></span>

> [!NOTE]
> <span data-ttu-id="c8827-202">Yukarıdaki örnek, `<sqlCacheDependency>` öğesinde tek bir `pollTime` değeri sağlar, ancak isteğe bağlı olarak `<add>` öğesinde `pollTime` değeri belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8827-202">The above example provides a single `pollTime` value in the `<sqlCacheDependency>` element, but you can optionally specify the `pollTime` value in the `<add>` element.</span></span> <span data-ttu-id="c8827-203">Bu, birden çok veritabanınız varsa ve veritabanı başına yoklama sıklığını özelleştirmek istiyorsanız yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-203">This is useful if you have multiple databases specified and want to customize the polling frequency per database.</span></span>

## <a name="step-5-declaratively-working-with-sql-cache-dependencies"></a><span data-ttu-id="c8827-204">5\. Adım: SQL önbellek bağımlılıklarıyla bildirimli olarak çalışma</span><span class="sxs-lookup"><span data-stu-id="c8827-204">Step 5: Declaratively Working with SQL Cache Dependencies</span></span>

<span data-ttu-id="c8827-205">1 ile 4 arasındaki adımlarda, gerekli veritabanı altyapısını ayarlama ve yoklama sistemini yapılandırma hakkında baktık.</span><span class="sxs-lookup"><span data-stu-id="c8827-205">In Steps 1 through 4 we looked at how to setup the necessary database infrastructure and configure the polling system.</span></span> <span data-ttu-id="c8827-206">Bu altyapıda, artık programlı veya bildirime dayalı teknikler kullanarak ilişkili bir SQL önbellek bağımlılığı ile veri önbelleğine öğe ekleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="c8827-206">With this infrastructure in place, we can now add items to the data cache with an associated SQL cache dependency using either programmatic or declarative techniques.</span></span> <span data-ttu-id="c8827-207">Bu adımda, SQL önbellek bağımlılıklarıyla bildirimli olarak nasıl çalışacağımız anlatılmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c8827-207">In this step we'll examine how to declaratively work with SQL cache dependencies.</span></span> <span data-ttu-id="c8827-208">Adım 6 ' da programlama yaklaşımına bakacağız.</span><span class="sxs-lookup"><span data-stu-id="c8827-208">In Step 6 we'll look at the programmatic approach.</span></span>

<span data-ttu-id="c8827-209">[ObjectDataSource Ile önbelleğe alma verileri](caching-data-with-the-objectdatasource-cs.md) , ObjectDataSource 'un bildirime dayalı önbelleğe alma yeteneklerini araştırın.</span><span class="sxs-lookup"><span data-stu-id="c8827-209">The [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) tutorial explored the declarative caching capabilities of the ObjectDataSource.</span></span> <span data-ttu-id="c8827-210">Yalnızca `EnableCaching` özelliğini `true` ve `CacheDuration` özelliğini bir zaman aralığına ayarlayarak, ObjectDataSource, belirtilen Aralık için temel alınan nesnesinden döndürülen verileri otomatik olarak önbelleğe alınır.</span><span class="sxs-lookup"><span data-stu-id="c8827-210">By simply setting the `EnableCaching` property to `true` and the `CacheDuration` property to some time interval, the ObjectDataSource will automatically cache the data returned from its underlying object for the specified interval.</span></span> <span data-ttu-id="c8827-211">ObjectDataSource bir veya daha fazla SQL önbellek bağımlılığı da kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-211">The ObjectDataSource can also use one or more SQL cache dependencies.</span></span>

<span data-ttu-id="c8827-212">SQL önbellek bağımlılıklarını bildirimli olarak kullanmayı göstermek için, `Caching` klasöründeki `SqlCacheDependencies.aspx` sayfasını açın ve araç kutusundan bir GridView 'u tasarımcı üzerine sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-212">To demonstrate using SQL cache dependencies declaratively, open the `SqlCacheDependencies.aspx` page in the `Caching` folder and drag a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="c8827-213">GridView s `ID` `ProductsDeclarative` ve akıllı etiketinden `ProductsDataSourceDeclarative`adlı yeni bir ObjectDataSource 'a bağlamayı seçin.</span><span class="sxs-lookup"><span data-stu-id="c8827-213">Set the GridView s `ID` to `ProductsDeclarative` and, from its smart tag, choose to bind it to a new ObjectDataSource named `ProductsDataSourceDeclarative`.</span></span>

<span data-ttu-id="c8827-214">[![Productsdatasourcebildirime adlı yeni bir ObjectDataSource oluşturun](using-sql-cache-dependencies-cs/_static/image5.gif)](using-sql-cache-dependencies-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-214">[![Create a New ObjectDataSource Named ProductsDataSourceDeclarative](using-sql-cache-dependencies-cs/_static/image5.gif)](using-sql-cache-dependencies-cs/_static/image3.png)</span></span>

<span data-ttu-id="c8827-215">**Şekil 5**: `ProductsDataSourceDeclarative` adlı yeni bir ObjectDataSource oluşturun ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-215">**Figure 5**: Create a New ObjectDataSource Named `ProductsDataSourceDeclarative` ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image4.png))</span></span>

<span data-ttu-id="c8827-216">ObjectDataSource 'ı `ProductsBLL` sınıfını kullanacak şekilde yapılandırın ve SEÇIM sekmesindeki açılan listeyi `GetProducts()`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-216">Configure the ObjectDataSource to use the `ProductsBLL` class and set the drop-down list in the SELECT tab to `GetProducts()`.</span></span> <span data-ttu-id="c8827-217">GÜNCELLEŞTIRME sekmesinde, üç giriş parametresiyle `UpdateProduct` aşırı yüklemeyi seçin-`productName`, `unitPrice`ve `productID`.</span><span class="sxs-lookup"><span data-stu-id="c8827-217">In the UPDATE tab, choose the `UpdateProduct` overload with three input parameters - `productName`, `unitPrice`, and `productID`.</span></span> <span data-ttu-id="c8827-218">Ekle ve SIL sekmelerinde açılan listeleri (yok) olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-218">Set the drop-down lists to (None) in the INSERT and DELETE tabs.</span></span>

<span data-ttu-id="c8827-219">[![UpdateProduct Overload ' i üç giriş parametresiyle kullanın](using-sql-cache-dependencies-cs/_static/image6.gif)](using-sql-cache-dependencies-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-219">[![Use the UpdateProduct Overload with Three Input Parameters](using-sql-cache-dependencies-cs/_static/image6.gif)](using-sql-cache-dependencies-cs/_static/image5.png)</span></span>

<span data-ttu-id="c8827-220">**Şekil 6**: Üç giriş parametresiyle UpdateProduct Overload kullanın ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-220">**Figure 6**: Use the UpdateProduct Overload with Three Input Parameters ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image6.png))</span></span>

<span data-ttu-id="c8827-221">[INSERT ve DELETE sekmeleri için açılan listeyi (yok) olarak ayarlamak ![](using-sql-cache-dependencies-cs/_static/image7.gif)](using-sql-cache-dependencies-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-221">[![Set the Drop-Down List to (None) for the INSERT and DELETE Tabs](using-sql-cache-dependencies-cs/_static/image7.gif)](using-sql-cache-dependencies-cs/_static/image7.png)</span></span>

<span data-ttu-id="c8827-222">**Şekil 7**: EKLEME ve SILME sekmeleri için açılan listeyi (yok) olarak ayarlayın ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-222">**Figure 7**: Set the Drop-Down List to (None) for the INSERT and DELETE Tabs ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image8.png))</span></span>

<span data-ttu-id="c8827-223">Veri kaynağı Yapılandırma Sihirbazı 'nı tamamladıktan sonra Visual Studio, veri alanlarının her biri için GridView 'da BoundFields ve CheckBoxFields oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c8827-223">After completing the Configure Data Source wizard, Visual Studio will create BoundFields and CheckBoxFields in the GridView for each of the data fields.</span></span> <span data-ttu-id="c8827-224">Tüm alanları kaldırın, `ProductName`, `CategoryName`ve `UnitPrice`ve bu alanları uygun gördüğünüz şekilde biçimlendirin.</span><span class="sxs-lookup"><span data-stu-id="c8827-224">Remove all fields but `ProductName`, `CategoryName`, and `UnitPrice`, and format these fields as you see fit.</span></span> <span data-ttu-id="c8827-225">GridView s akıllı etiketinde, Sayfalamayı Etkinleştir, sıralamayı etkinleştir ve Düzenle onay kutularını etkinleştir ' i işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-225">From the GridView s smart tag, check the Enable Paging, Enable Sorting, and Enable Editing checkboxes.</span></span> <span data-ttu-id="c8827-226">Visual Studio, ObjectDataSource 'un `OldValuesParameterFormatString` özelliğini `original_{0}`olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-226">Visual Studio will set the ObjectDataSource s `OldValuesParameterFormatString` property to `original_{0}`.</span></span> <span data-ttu-id="c8827-227">GridView s düzenleme özelliğinin düzgün çalışması için, bu özelliği tamamen bildirime dayalı sözdiziminden kaldırın veya `{0}`varsayılan değerine geri ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-227">In order for the GridView s edit feature to work properly, either remove this property entirely from the declarative syntax or set it back to its default value, `{0}`.</span></span>

<span data-ttu-id="c8827-228">Son olarak, GridView üzerine bir etiket Web denetimi ekleyin ve `ID` özelliğini `ODSEvents` ve `EnableViewState` özelliğini `false`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-228">Finally, add a Label Web control above the GridView and set its `ID` property to `ODSEvents` and its `EnableViewState` property to `false`.</span></span> <span data-ttu-id="c8827-229">Bu değişiklikleri yaptıktan sonra, sayfanın bildirim temelli biçimlendirmesinin aşağıdakine benzer şekilde görünmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-229">After making these changes, your page s declarative markup should look similar to the following.</span></span> <span data-ttu-id="c8827-230">SQL önbellek bağımlılığı işlevini göstermek için gerekli olmayan GridView alanlarında çok sayıda Aesthetic Characteristics özelleştirmesi yaptık.</span><span class="sxs-lookup"><span data-stu-id="c8827-230">Note that I ve made a number of aesthetic customizations to the GridView fields that are not necessary to demonstrate the SQL cache dependency functionality.</span></span>

[!code-aspx[Main](using-sql-cache-dependencies-cs/samples/sample7.aspx)]

<span data-ttu-id="c8827-231">Ardından, ObjectDataSource s `Selecting` olayı için bir olay işleyicisi oluşturun ve bu kodu aşağıdaki kodu ekleyin:</span><span class="sxs-lookup"><span data-stu-id="c8827-231">Next, create an event handler for the ObjectDataSource s `Selecting` event and in it add the following code:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample8.cs)]

<span data-ttu-id="c8827-232">ObjectDataSource 'un `Selecting` olayının yalnızca temel alınan nesnesinden veri alırken harekete geçirilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-232">Recall that the ObjectDataSource s `Selecting` event fires only when retrieving data from its underlying object.</span></span> <span data-ttu-id="c8827-233">ObjectDataSource, verilere kendi önbelleğinden eriştiğinde bu olay tetiklenmez.</span><span class="sxs-lookup"><span data-stu-id="c8827-233">If the ObjectDataSource accesses the data from its own cache, this event is not fired.</span></span>

<span data-ttu-id="c8827-234">Şimdi bu sayfayı bir tarayıcı aracılığıyla ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="c8827-234">Now, visit this page through a browser.</span></span> <span data-ttu-id="c8827-235">Henüz herhangi bir önbelleğe alma işlemi gerçekleştirdiğimiz için, kılavuza her sayfa, sıralama veya düzenleme yaparken sayfada, Şekil 8 ' de gösterildiği gibi, olay tetiklenen metni görüntülemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-235">Since we ve yet to implement any caching, each time you page, sort, or edit the grid the page should display the text, �Selecting event fired, as Figure 8 shows.</span></span>

<span data-ttu-id="c8827-236">[GridView her Sayfalanışında, düzenlendiğinde veya sıralandığında her bir olay seçen ObjectDataSource ![](using-sql-cache-dependencies-cs/_static/image8.gif)](using-sql-cache-dependencies-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-236">[![The ObjectDataSource s Selecting Event Fires Each Time the GridView is Paged, Edited, or Sorted](using-sql-cache-dependencies-cs/_static/image8.gif)](using-sql-cache-dependencies-cs/_static/image9.png)</span></span>

<span data-ttu-id="c8827-237">**Şekil 8**: `Selecting` ObjectDataSource, GridView her Sayfalanışında, düzenlendiğinde veya sıralandığında başlatılır ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-237">**Figure 8**: The ObjectDataSource s `Selecting` Event Fires Each Time the GridView is Paged, Edited, or Sorted ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image10.png))</span></span>

<span data-ttu-id="c8827-238">[ObjectDataSource Ile verileri önbelleğe alma](caching-data-with-the-objectdatasource-cs.md) bölümünde gördüğünüz gibi, `EnableCaching` özelliğinin `true` olarak ayarlanması, ObjectDataSource 'un verilerini `CacheDuration` özelliği tarafından belirtilen süre için önbelleğe almasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c8827-238">As we saw in the [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md) tutorial, setting the `EnableCaching` property to `true` causes the ObjectDataSource to cache its data for the duration specified by its `CacheDuration` property.</span></span> <span data-ttu-id="c8827-239">ObjectDataSource Ayrıca, bir veya daha fazla SQL önbellek bağımlılıklarını, bu model kullanılarak önbelleğe alınmış verilere ekleyen bir [`SqlCacheDependency` özelliğine](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.sqlcachedependency.aspx)sahiptir:</span><span class="sxs-lookup"><span data-stu-id="c8827-239">The ObjectDataSource also has a [`SqlCacheDependency` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.sqlcachedependency.aspx), which adds one or more SQL cache dependencies to the cached data using the pattern:</span></span>

[!code-css[Main](using-sql-cache-dependencies-cs/samples/sample9.css)]

<span data-ttu-id="c8827-240">Burada *DatabaseName* , `Web.config``<add>` öğesinin `name` özniteliğinde belirtilen şekilde veritabanının adıdır ve *TableName* veritabanı tablosunun adıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-240">Where *databaseName* is the name of the database as specified in the `name` attribute of the `<add>` element in `Web.config`, and *tableName* is the name of the database table.</span></span> <span data-ttu-id="c8827-241">Örneğin, Northwind s `Products` tablosuna karşı bir SQL önbellek bağımlılığını temel alarak verileri süresiz olarak önbelleğe alan bir ObjectDataSource oluşturmak için, ObjectDataSource s `EnableCaching` özelliğini `true` ve `SqlCacheDependency` özelliği NorthwindDB: Products olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-241">For example, to create an ObjectDataSource that caches data indefinitely based on a SQL cache dependency against the Northwind s `Products` table, set the ObjectDataSource s `EnableCaching` property to `true` and its `SqlCacheDependency` property to NorthwindDB:Products .</span></span>

> [!NOTE]
> <span data-ttu-id="c8827-242">`EnableCaching` `true`ayarlayarak bir SQL önbellek bağımlılığı *ve* zaman tabanlı süre sonu kullanabilirsiniz, zaman aralığına `CacheDuration` ve veritabanı ve tablo adına `SqlCacheDependency`.</span><span class="sxs-lookup"><span data-stu-id="c8827-242">You can use a SQL cache dependency *and* a time-based expiry by setting `EnableCaching` to `true`, `CacheDuration` to the time interval, and `SqlCacheDependency` to the database and table name(s).</span></span> <span data-ttu-id="c8827-243">Zaman tabanlı süre sonuna ulaşıldığında veya yoklama sistemi temeldeki veritabanı verilerinin değiştiğini, hangisi önce gerçekleştiğine bağlı olarak, ObjectDataSource bu verileri çıkarır.</span><span class="sxs-lookup"><span data-stu-id="c8827-243">The ObjectDataSource will evict its data when the time-based expiry is reached or when the polling system notes that the underlying database data has changed, whichever happens first.</span></span>

<span data-ttu-id="c8827-244">`SqlCacheDependencies.aspx` GridView, iki tablodaki verileri görüntüler-`Products` ve `Categories` (ürün s `CategoryName` alanı `JOIN` `Categories`bir aracılığıyla alınır).</span><span class="sxs-lookup"><span data-stu-id="c8827-244">The GridView in `SqlCacheDependencies.aspx` displays data from two tables - `Products` and `Categories` (the product s `CategoryName` field is retrieved via a `JOIN` on `Categories`).</span></span> <span data-ttu-id="c8827-245">Bu nedenle, iki SQL önbellek bağımlılığı belirtmek istiyoruz: NorthwindDB: Ürünler; NorthwindDB: Kategoriler.</span><span class="sxs-lookup"><span data-stu-id="c8827-245">Therefore, we want to specify two SQL cache dependencies: NorthwindDB:Products;NorthwindDB:Categories .</span></span>

<span data-ttu-id="c8827-246">[![, ürün ve kategorilerdeki SQL önbellek bağımlılıklarını kullanarak önbelleğe almayı destekleyecek şekilde yapılandırın](using-sql-cache-dependencies-cs/_static/image9.gif)](using-sql-cache-dependencies-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-246">[![Configure the ObjectDataSource to Support Caching Using SQL Cache Dependencies on Products and Categories](using-sql-cache-dependencies-cs/_static/image9.gif)](using-sql-cache-dependencies-cs/_static/image11.png)</span></span>

<span data-ttu-id="c8827-247">**Şekil 9**: `Products` ve `Categories` SQL önbellek bağımlılıklarını kullanarak önbelleğe almayı desteklemek için ObjectDataSource 'u yapılandırın ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-247">**Figure 9**: Configure the ObjectDataSource to Support Caching Using SQL Cache Dependencies on `Products` and `Categories` ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image12.png))</span></span>

<span data-ttu-id="c8827-248">Önbelleğe almayı desteklemek için ObjectDataSource 'u yapılandırdıktan sonra, sayfayı bir tarayıcı aracılığıyla geri ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="c8827-248">After configuring the ObjectDataSource to support caching, revisit the page through a browser.</span></span> <span data-ttu-id="c8827-249">Yine, tetiklenen olayı seçen metin ilk sayfada görünmelidir, ancak sayfalama, sıralama veya Düzenle ya da Iptal düğmelerine tıklarken dışarıda olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-249">Again, the text �Selecting event fired should appear on the first page visit, but should go away when paging, sorting, or clicking the Edit or Cancel buttons.</span></span> <span data-ttu-id="c8827-250">Bunun nedeni, veriler ObjectDataSource s önbelleğine yüklendikten sonra `Products` veya `Categories` tabloları değiştirilene veya veriler GridView aracılığıyla güncelleştirilene kadar orada kalır.</span><span class="sxs-lookup"><span data-stu-id="c8827-250">This is because after the data is loaded into the ObjectDataSource s cache, it remains there until the `Products` or `Categories` tables are modified or the data is updated through the GridView.</span></span>

<span data-ttu-id="c8827-251">Kılavuz aracılığıyla hata ettikten ve olay harekete geçirilen metnin eksik olduğunu belirterek, yeni bir tarayıcı penceresi açın ve Düzenle, ekleme ve silme bölümündeki temel bilgiler öğreticisine gidin (`~/EditInsertDelete/Basics.aspx`).</span><span class="sxs-lookup"><span data-stu-id="c8827-251">After paging through the grid and noting the lack of the �Selecting event fired text, open a new browser window and navigate to the Basics tutorial in the Editing, Inserting, and Deleting section (`~/EditInsertDelete/Basics.aspx`).</span></span> <span data-ttu-id="c8827-252">Bir ürünün adını veya fiyatını güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="c8827-252">Update the name or price of a product.</span></span> <span data-ttu-id="c8827-253">Ardından, ilk tarayıcı penceresine, farklı bir veri sayfası görüntüleyin, Kılavuzu sıralayın veya bir satır s Düzenle düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-253">Then, from to the first browser window, view a different page of data, sort the grid, or click a row s Edit button.</span></span> <span data-ttu-id="c8827-254">Bu kez, temel alınan veritabanı verileri değiştirildiğinden harekete geçirilen olayın yeniden oluşturulması gerekir (bkz. Şekil 10).</span><span class="sxs-lookup"><span data-stu-id="c8827-254">This time, the �Selecting event fired should reappear, as the underlying database data has been modified (see Figure 10).</span></span> <span data-ttu-id="c8827-255">Metin görünmezse, birkaç dakika bekleyip yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-255">If the text does not appear, wait a few moments and try again.</span></span> <span data-ttu-id="c8827-256">Yoklama hizmetinin her `pollTime` milisaniyede `Products` tablodaki değişiklikleri denetleyeceğini unutmayın. bu nedenle, temeldeki verilerin ne zaman güncelleştirildiği ve önbelleğe alınmış verilerin çıkarılma arasında bir gecikme vardır.</span><span class="sxs-lookup"><span data-stu-id="c8827-256">Remember that the polling service is checking for changes to the `Products` table every `pollTime` milliseconds, so there is a delay between when the underlying data is updated and when the cached data is evicted.</span></span>

<span data-ttu-id="c8827-257">[Ürün tablosunu değiştirme ![önbelleğe alınmış ürün verilerini çıkarma](using-sql-cache-dependencies-cs/_static/image10.gif)](using-sql-cache-dependencies-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-257">[![Modifying the Products Table Evicts the Cached Product Data](using-sql-cache-dependencies-cs/_static/image10.gif)](using-sql-cache-dependencies-cs/_static/image13.png)</span></span>

<span data-ttu-id="c8827-258">**Şekil 10**: Ürün tablosunu değiştirme, önbelleğe alınmış ürün verilerini Çıkarşır ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-258">**Figure 10**: Modifying the Products Table Evicts the Cached Product Data ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image14.png))</span></span>

## <a name="step-6-programmatically-working-with-thesqlcachedependencyclass"></a><span data-ttu-id="c8827-259">6\. Adım: Program aracılığıyla`SqlCacheDependency`sınıfıyla çalışma</span><span class="sxs-lookup"><span data-stu-id="c8827-259">Step 6: Programmatically Working with the`SqlCacheDependency`Class</span></span>

<span data-ttu-id="c8827-260">Mimari öğreticisindeki [önbelleğe alma verileri](caching-data-in-the-architecture-cs.md) ,, ObjectDataSource ile ön belleğe sıkı bir şekilde eşlenmesinin aksine, mimaride ayrı bir önbelleğe alma katmanı kullanmanın avantajlarından bakıyordu.</span><span class="sxs-lookup"><span data-stu-id="c8827-260">The [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorial looked at the benefits of using a separate Caching Layer in the architecture as opposed to tightly coupling the caching with the ObjectDataSource.</span></span> <span data-ttu-id="c8827-261">Bu öğreticide, veri önbelleğiyle programlı bir şekilde çalıştığını göstermek için bir `ProductsCL` sınıfı oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="c8827-261">In that tutorial we created a `ProductsCL` class to demonstrate programmatically working with the data cache.</span></span> <span data-ttu-id="c8827-262">Önbelleğe alma katmanında SQL önbellek bağımlılıklarını kullanmak için `SqlCacheDependency` sınıfını kullanın.</span><span class="sxs-lookup"><span data-stu-id="c8827-262">To utilize SQL cache dependencies in the Caching Layer, use the `SqlCacheDependency` class.</span></span>

<span data-ttu-id="c8827-263">Yoklama sistemiyle, bir `SqlCacheDependency` nesnesinin belirli bir veritabanı ve tablo çifti ile ilişkilendirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-263">With the polling system, a `SqlCacheDependency` object must be associated with a particular database and table pair.</span></span> <span data-ttu-id="c8827-264">Aşağıdaki kod Örneğin, Northwind veritabanı s `Products` tablosuna göre bir `SqlCacheDependency` nesnesi oluşturur:</span><span class="sxs-lookup"><span data-stu-id="c8827-264">The following code, for example, creates a `SqlCacheDependency` object based on the Northwind database s `Products` table:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample10.cs)]

<span data-ttu-id="c8827-265">`SqlCacheDependency` s oluşturucusuna yönelik iki giriş parametresi sırasıyla veritabanı ve tablo adlarıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-265">The two input parameters to the `SqlCacheDependency` s constructor are the database and table names, respectively.</span></span> <span data-ttu-id="c8827-266">ObjectDataSource s `SqlCacheDependency` özelliğinde olduğu gibi, kullanılan veritabanı adı `Web.config``<add>` öğesinin `name` özniteliğinde belirtilen değerle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-266">Like with the ObjectDataSource s `SqlCacheDependency` property, the database name used is the same as the value specified in the `name` attribute of the `<add>` element in `Web.config`.</span></span> <span data-ttu-id="c8827-267">Tablo adı, veritabanı tablosunun gerçek adıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-267">The table name is the actual name of the database table.</span></span>

<span data-ttu-id="c8827-268">Bir `SqlCacheDependency` veri önbelleğine eklenen bir öğeyle ilişkilendirmek için, bağımlılığı kabul eden `Insert` yöntemi aşırı yüklemelerinin birini kullanın.</span><span class="sxs-lookup"><span data-stu-id="c8827-268">To associate a `SqlCacheDependency` with an item added to the data cache, use one of the `Insert` method overloads that accepts a dependency.</span></span> <span data-ttu-id="c8827-269">Aşağıdaki kod, sınırsız bir süre için veri önbelleğine *değer* ekler, ancak bunu `Products` tablosundaki bir `SqlCacheDependency` ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="c8827-269">The following code adds *value* to the data cache for an indefinite duration, but associates it with a `SqlCacheDependency` on the `Products` table.</span></span> <span data-ttu-id="c8827-270">Kısacası, bellek kısıtlamaları nedeniyle veya yoklama sistemi `Products` tablosunun önbelleğe alındığı zamandan sonra değiştiğini algıladığı için *değer* önbellekte kalır.</span><span class="sxs-lookup"><span data-stu-id="c8827-270">In short, *value* will remain in the cache until it is evicted due to memory constraints or because the polling system has detected that the `Products` table has changed since it was cached.</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample11.cs)]

<span data-ttu-id="c8827-271">Önbelleğe alma katmanı s `ProductsCL` sınıfı şu anda `Products` tablodaki verileri 60 saniyelik zaman tabanlı süre sonu ile önbelleğe alır.</span><span class="sxs-lookup"><span data-stu-id="c8827-271">The Caching Layer s `ProductsCL` class currently caches data from the `Products` table using a time-based expiry of 60 seconds.</span></span> <span data-ttu-id="c8827-272">Bunun yerine SQL önbellek bağımlılıklarını kullanması için bu sınıfı güncelleştirmesine izin verin.</span><span class="sxs-lookup"><span data-stu-id="c8827-272">Let s update this class so that it uses SQL cache dependencies instead.</span></span> <span data-ttu-id="c8827-273">Verileri önbelleğe eklemekten sorumlu olan `ProductsCL` sınıf s `AddCacheItem` yöntemi şu anda aşağıdaki kodu içerir:</span><span class="sxs-lookup"><span data-stu-id="c8827-273">The `ProductsCL` class s `AddCacheItem` method, which is responsible for adding the data to the cache, currently contains the following code:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample12.cs)]

<span data-ttu-id="c8827-274">Bu kodu `MasterCacheKeyArray` önbellek bağımlılığı yerine `SqlCacheDependency` nesnesini kullanacak şekilde güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="c8827-274">Update this code to use a `SqlCacheDependency` object instead of the `MasterCacheKeyArray` cache dependency:</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample13.cs)]

<span data-ttu-id="c8827-275">Bu işlevi test etmek için, var `ProductsDeclarative` olan GridView 'un altındaki sayfaya bir GridView ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-275">To test this functionality, add a GridView to the page beneath the existing `ProductsDeclarative` GridView.</span></span> <span data-ttu-id="c8827-276">Bu yeni GridView s `ID` `ProductsProgrammatic` ve akıllı etiketi aracılığıyla `ProductsDataSourceProgrammatic`adlı yeni bir ObjectDataSource 'a bağlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-276">Set this new GridView s `ID` to `ProductsProgrammatic` and, through its smart tag, bind it to a new ObjectDataSource named `ProductsDataSourceProgrammatic`.</span></span> <span data-ttu-id="c8827-277">`ProductsCL` sınıfını kullanacak şekilde, seçme ve GÜNCELLEŞTIRME sekmelerindeki açılan listeleri sırasıyla `GetProducts` ve `UpdateProduct`olarak ayarlamak üzere yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="c8827-277">Configure the ObjectDataSource to use the `ProductsCL` class, setting the drop-down lists in the SELECT and UPDATE tabs to `GetProducts` and `UpdateProduct`, respectively.</span></span>

<span data-ttu-id="c8827-278">[![, ObjectDataSource 'ı ProductsCL sınıfını kullanacak şekilde yapılandırma](using-sql-cache-dependencies-cs/_static/image11.gif)](using-sql-cache-dependencies-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-278">[![Configure the ObjectDataSource to Use the ProductsCL Class](using-sql-cache-dependencies-cs/_static/image11.gif)](using-sql-cache-dependencies-cs/_static/image15.png)</span></span>

<span data-ttu-id="c8827-279">**Şekil 11**: ObjectDataSource 'ı `ProductsCL` sınıfını kullanacak şekilde yapılandırın ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image16.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-279">**Figure 11**: Configure the ObjectDataSource to Use the `ProductsCL` Class ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image16.png))</span></span>

<span data-ttu-id="c8827-280">[![sekme seç açılan listesinden GetProducts yöntemini seçin](using-sql-cache-dependencies-cs/_static/image12.gif)](using-sql-cache-dependencies-cs/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-280">[![Select the GetProducts Method from the SELECT Tab s Drop-Down List](using-sql-cache-dependencies-cs/_static/image12.gif)](using-sql-cache-dependencies-cs/_static/image17.png)</span></span>

<span data-ttu-id="c8827-281">**Şekil 12**: Sekme seç açılan listesinden `GetProducts` yöntemini seçin ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-281">**Figure 12**: Select the `GetProducts` Method from the SELECT Tab s Drop-Down List ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image18.png))</span></span>

<span data-ttu-id="c8827-282">[![GÜNCELLEŞTIRME sekmesi açılan listesinden UpdateProduct yöntemini seçin](using-sql-cache-dependencies-cs/_static/image13.gif)](using-sql-cache-dependencies-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="c8827-282">[![Choose the UpdateProduct Method from the UPDATE Tab s Drop-Down List](using-sql-cache-dependencies-cs/_static/image13.gif)](using-sql-cache-dependencies-cs/_static/image19.png)</span></span>

<span data-ttu-id="c8827-283">**Şekil 13**: GÜNCELLEŞTIRME sekmesi açılan listesinden UpdateProduct yöntemini seçin ([tam boyutlu görüntüyü görüntülemek Için tıklayın](using-sql-cache-dependencies-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="c8827-283">**Figure 13**: Choose the UpdateProduct Method from the UPDATE Tab s Drop-Down List ([Click to view full-size image](using-sql-cache-dependencies-cs/_static/image20.png))</span></span>

<span data-ttu-id="c8827-284">Veri kaynağı Yapılandırma Sihirbazı 'nı tamamladıktan sonra Visual Studio, veri alanlarının her biri için GridView 'da BoundFields ve CheckBoxFields oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c8827-284">After completing the Configure Data Source wizard, Visual Studio will create BoundFields and CheckBoxFields in the GridView for each of the data fields.</span></span> <span data-ttu-id="c8827-285">Bu sayfaya eklenen ilk GridView gibi, tüm alanları kaldırın, ancak `ProductName`, `CategoryName`ve `UnitPrice`ve bu alanları uygun gördüğünüz şekilde biçimlendirin.</span><span class="sxs-lookup"><span data-stu-id="c8827-285">Like with the first GridView added to this page, remove all fields but `ProductName`, `CategoryName`, and `UnitPrice`, and format these fields as you see fit.</span></span> <span data-ttu-id="c8827-286">GridView s akıllı etiketinde, Sayfalamayı Etkinleştir, sıralamayı etkinleştir ve Düzenle onay kutularını etkinleştir ' i işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-286">From the GridView s smart tag, check the Enable Paging, Enable Sorting, and Enable Editing checkboxes.</span></span> <span data-ttu-id="c8827-287">`ProductsDataSourceDeclarative` ObjectDataSource ile birlikte, Visual Studio `ProductsDataSourceProgrammatic` ObjectDataSource s `OldValuesParameterFormatString` özelliğini de `original_{0}`olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-287">As with the `ProductsDataSourceDeclarative` ObjectDataSource, Visual Studio will set the `ProductsDataSourceProgrammatic` ObjectDataSource s `OldValuesParameterFormatString` property to `original_{0}`.</span></span> <span data-ttu-id="c8827-288">GridView s düzenleme özelliğinin düzgün çalışması için, bu özelliği `{0}` geri ayarlayın (veya özellik atamasını bildirime dayalı sözdiziminden tamamen kaldırın).</span><span class="sxs-lookup"><span data-stu-id="c8827-288">In order for the GridView s edit feature to work properly, set this property back to `{0}` (or remove the property assignment from the declarative syntax altogether).</span></span>

<span data-ttu-id="c8827-289">Bu görevleri tamamladıktan sonra elde edilen GridView ve ObjectDataSource bildirim temelli biçimlendirme aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="c8827-289">After completing these tasks, the resulting GridView and ObjectDataSource declarative markup should look like the following:</span></span>

[!code-aspx[Main](using-sql-cache-dependencies-cs/samples/sample14.aspx)]

<span data-ttu-id="c8827-290">Önbelleğe alma katmanında SQL önbellek bağımlılığını test etmek için `ProductCL` Class s `AddCacheItem` yönteminde bir kesme noktası ayarlayın ve ardından hata ayıklamayı başlatın.</span><span class="sxs-lookup"><span data-stu-id="c8827-290">To test the SQL cache dependency in the Caching Layer set a breakpoint in the `ProductCL` class s `AddCacheItem` method and then start debugging.</span></span> <span data-ttu-id="c8827-291">`SqlCacheDependencies.aspx`ilk kez ziyaret ettiğinizde, verilerin ilk kez istenir ve önbelleğe yerleştirilmesi için kesme noktası isabet etmelidir.</span><span class="sxs-lookup"><span data-stu-id="c8827-291">When you first visit `SqlCacheDependencies.aspx`, the breakpoint should be hit as the data is requested for the first time and placed into the cache.</span></span> <span data-ttu-id="c8827-292">Sonra, GridView 'da bir başka sayfaya geçin veya sütunlardan birini sıralayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-292">Next, move to another page in the GridView or sort one of the columns.</span></span> <span data-ttu-id="c8827-293">Bu, GridView 'un verilerini yeniden kaydetmesine neden olur, ancak `Products` veritabanı tablosu değiştirilmediğinden verilerin önbellekte bulunması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-293">This causes the GridView to requery its data, but the data should be found in the cache since the `Products` database table has not been modified.</span></span> <span data-ttu-id="c8827-294">Veriler önbellekte tekrar tekrarlanmadığından bilgisayarınızda yeterli kullanılabilir bellek olduğundan emin olun ve yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-294">If the data is repeatedly not found in the cache, make sure there is sufficient memory available on your computer and try again.</span></span>

<span data-ttu-id="c8827-295">GridView 'un birkaç sayfasında sayfaladıktan sonra ikinci bir tarayıcı penceresi açın ve Düzenle, ekleme ve silme bölümündeki temel bilgiler öğreticisine gidin (`~/EditInsertDelete/Basics.aspx`).</span><span class="sxs-lookup"><span data-stu-id="c8827-295">After paging through a few pages of the GridView, open a second browser window and navigate to the Basics tutorial in the Editing, Inserting, and Deleting section (`~/EditInsertDelete/Basics.aspx`).</span></span> <span data-ttu-id="c8827-296">Products tablosundan bir kaydı güncelleştirin ve ardından ilk tarayıcı penceresinden yeni bir sayfa görüntüleyin veya sıralama başlıklarından birine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-296">Update a record from the Products table and then, from the first browser window, view a new page or click on one of the sorting headers.</span></span>

<span data-ttu-id="c8827-297">Bu senaryoda, iki seçenekten birini göreceksiniz: kesme noktası isabet edecek ve bu, önbellekteki verilerin veritabanındaki değişiklik nedeniyle çıkarıldığını belirtir; ya da, kesme noktası isabet etmez, yani `SqlCacheDependencies.aspx` artık eski verileri gösterir.</span><span class="sxs-lookup"><span data-stu-id="c8827-297">In this scenario you will see one of two things: either the breakpoint will be hit, indicating that the cached data was evicted due to the change in the database; or, the breakpoint will not be hit, meaning that `SqlCacheDependencies.aspx` is now showing stale data.</span></span> <span data-ttu-id="c8827-298">Kesme noktası isabet ettirilmemişse, büyük olasılıkla yoklama hizmeti, verilerin değiştiği bu yana başlatılmamıştır.</span><span class="sxs-lookup"><span data-stu-id="c8827-298">If the breakpoint is not hit, it is likely because the polling service has not yet fired since the data was changed.</span></span> <span data-ttu-id="c8827-299">Yoklama hizmetinin her `pollTime` milisaniyede `Products` tablodaki değişiklikleri denetleyeceğini unutmayın. bu nedenle, temeldeki verilerin ne zaman güncelleştirildiği ve önbelleğe alınmış verilerin çıkarılma arasında bir gecikme vardır.</span><span class="sxs-lookup"><span data-stu-id="c8827-299">Remember that the polling service is checking for changes to the `Products` table every `pollTime` milliseconds, so there is a delay between when the underlying data is updated and when the cached data is evicted.</span></span>

> [!NOTE]
> <span data-ttu-id="c8827-300">Bu gecikmenin, `SqlCacheDependencies.aspx`' deki GridView aracılığıyla ürünlerden birini düzenlediğinizde görünmesi daha olasıdır.</span><span class="sxs-lookup"><span data-stu-id="c8827-300">This delay is more likely to appear when editing one of the products through the GridView in `SqlCacheDependencies.aspx`.</span></span> <span data-ttu-id="c8827-301">Mimari öğreticideki [önbelleğe alma verilerinde](caching-data-in-the-architecture-cs.md) , `ProductsCL` sınıf s `UpdateProduct` yöntemi aracılığıyla düzenlenmekte olan verilerin önbellekten çıkarılmakta olduğundan emin olmak için `MasterCacheKeyArray` önbellek bağımlılığını ekledik.</span><span class="sxs-lookup"><span data-stu-id="c8827-301">In the [Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) tutorial we added the `MasterCacheKeyArray` cache dependency to ensure that the data being edited through the `ProductsCL` class s `UpdateProduct` method was evicted from the cache.</span></span> <span data-ttu-id="c8827-302">Ancak, bu adımda daha önce `AddCacheItem` yöntemi değiştirirken bu önbellek bağımlılığını değiştirdik ve bu nedenle, yoklama sistemi `Products` tabloya değişikliği yükleyene kadar `ProductsCL` sınıfı önbelleğe alınmış verileri göstermeye devam edecektir.</span><span class="sxs-lookup"><span data-stu-id="c8827-302">However, we replaced this cache dependency when modifying the `AddCacheItem` method earlier in this step and therefore the `ProductsCL` class will continue to show the cached data until the polling system notes the change to the `Products` table.</span></span> <span data-ttu-id="c8827-303">Adım 7 ' de `MasterCacheKeyArray` önbelleği bağımlılığını nasıl yeniden tanıtabileceksiniz.</span><span class="sxs-lookup"><span data-stu-id="c8827-303">We'll see how to reintroduce the `MasterCacheKeyArray` cache dependency in Step 7.</span></span>

## <a name="step-7-associating-multiple-dependencies-with-a-cached-item"></a><span data-ttu-id="c8827-304">7\. Adım: Birden çok bağımlılığı önbelleğe alınmış bir öğeyle ilişkilendirme</span><span class="sxs-lookup"><span data-stu-id="c8827-304">Step 7: Associating Multiple Dependencies with a Cached Item</span></span>

<span data-ttu-id="c8827-305">`MasterCacheKeyArray` önbellek bağımlılığının, onunla ilişkilendirilen tek bir öğe güncelleştirildiği sırada *Tüm* ürünle ilgili verilerin önbellekten çıkarıldığından emin olmak için kullanıldığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-305">Recall that the `MasterCacheKeyArray` cache dependency is used to ensure that *all* product-related data is evicted from the cache when any single item associated within it is updated.</span></span> <span data-ttu-id="c8827-306">Örneğin, `GetProductsByCategoryID(categoryID)` yöntemi her benzersiz *CategoryID* değeri için `ProductsDataTables` örnekleri önbelleğe alır.</span><span class="sxs-lookup"><span data-stu-id="c8827-306">For example, the `GetProductsByCategoryID(categoryID)` method caches `ProductsDataTables` instances for each unique *categoryID* value.</span></span> <span data-ttu-id="c8827-307">Bu nesnelerden biri çıkarılmışsa, `MasterCacheKeyArray` önbellek bağımlılığı diğerlerinin de kaldırılmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-307">If one of these objects is evicted, the `MasterCacheKeyArray` cache dependency ensures that the others are also removed.</span></span> <span data-ttu-id="c8827-308">Bu önbellek bağımlılığı olmadan, önbelleğe alınmış veriler değiştirildiğinde, diğer önbelleğe alınmış ürün verilerinin eski olma olasılığı vardır.</span><span class="sxs-lookup"><span data-stu-id="c8827-308">Without this cache dependency, when the cached data is modified the possibility exists that other cached product data may be out of date.</span></span> <span data-ttu-id="c8827-309">Sonuç olarak, SQL önbellek bağımlılıklarını kullanırken `MasterCacheKeyArray` önbelleği bağımlılığını koruduğumuz önemli öneme sahiptir.</span><span class="sxs-lookup"><span data-stu-id="c8827-309">Consequently, it s important that we maintain the `MasterCacheKeyArray` cache dependency when using SQL cache dependencies.</span></span> <span data-ttu-id="c8827-310">Ancak, veri önbelleği s `Insert` yöntemi yalnızca tek bir bağımlılık nesnesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="c8827-310">However, the data cache s `Insert` method only allows for a single dependency object.</span></span>

<span data-ttu-id="c8827-311">Ayrıca, SQL önbellek bağımlılıklarıyla çalışırken birden çok veritabanı tablosunu bağımlılıklar olarak ilişkilendirmemiz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-311">Furthermore, when working with SQL cache dependencies we may need to associate multiple database tables as dependencies.</span></span> <span data-ttu-id="c8827-312">Örneğin, `ProductsCL` sınıfında önbelleğe alınan `ProductsDataTable` her ürün için kategori ve Tedarikçi adlarını içerir, ancak `AddCacheItem` yöntemi yalnızca `Products`bir bağımlılık kullanır.</span><span class="sxs-lookup"><span data-stu-id="c8827-312">For example, the `ProductsDataTable` cached in the `ProductsCL` class contains the category and supplier names for each product, but the `AddCacheItem` method only uses a dependency on `Products`.</span></span> <span data-ttu-id="c8827-313">Bu durumda, Kullanıcı bir kategorinin veya tedarikçinin adını Güncelleştir, önbelleğe alınmış ürün verileri önbellekte kalır ve güncel olmayacaktır.</span><span class="sxs-lookup"><span data-stu-id="c8827-313">In this situation, if the user updates the name of a category or supplier, the cached product data will remain in the cache and be out of date.</span></span> <span data-ttu-id="c8827-314">Bu nedenle, önbelleğe alınmış ürün verilerinin yalnızca `Products` tablosuna değil, `Categories` ve `Suppliers` tablolarında de bağlı olmasını istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="c8827-314">Therefore, we want to make the cached product data dependent on not only the `Products` table, but on the `Categories` and `Suppliers` tables as well.</span></span>

<span data-ttu-id="c8827-315">[`AggregateCacheDependency` sınıfı](https://msdn.microsoft.com/library/system.web.caching.aggregatecachedependency.aspx) , birden çok bağımlılığı bir önbellek öğesiyle ilişkilendirmek için bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-315">The [`AggregateCacheDependency` class](https://msdn.microsoft.com/library/system.web.caching.aggregatecachedependency.aspx) provides a means for associating multiple dependencies with a cache item.</span></span> <span data-ttu-id="c8827-316">`AggregateCacheDependency` bir örnek oluşturarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="c8827-316">Start by creating an `AggregateCacheDependency` instance.</span></span> <span data-ttu-id="c8827-317">Sonra, `AggregateCacheDependency` s `Add` yöntemini kullanarak bağımlılıklar kümesini ekleyin.</span><span class="sxs-lookup"><span data-stu-id="c8827-317">Next, add the set of dependencies using the `AggregateCacheDependency` s `Add` method.</span></span> <span data-ttu-id="c8827-318">Öğesi bundan sonra veri önbelleğine eklenirken `AggregateCacheDependency` örneğini geçirin.</span><span class="sxs-lookup"><span data-stu-id="c8827-318">When inserting the item into the data cache thereafter, pass in the `AggregateCacheDependency` instance.</span></span> <span data-ttu-id="c8827-319">`AggregateCacheDependency` örnek bağımlılarından *herhangi* biri değiştiğinde, önbelleğe alınmış öğe kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="c8827-319">When *any* of the `AggregateCacheDependency` instance s dependencies change, the cached item will be evicted.</span></span>

<span data-ttu-id="c8827-320">Aşağıda `ProductsCL` sınıf s `AddCacheItem` yönteminin güncelleştirilmiş kodu gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="c8827-320">The following shows the updated code for the `ProductsCL` class s `AddCacheItem` method.</span></span> <span data-ttu-id="c8827-321">Yöntemi `Products`, `Categories`ve `Suppliers` tabloları için `SqlCacheDependency` nesnelerle birlikte `MasterCacheKeyArray` önbellek bağımlılığı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="c8827-321">The method creates the `MasterCacheKeyArray` cache dependency along with `SqlCacheDependency` objects for the `Products`, `Categories`, and `Suppliers` tables.</span></span> <span data-ttu-id="c8827-322">Bunlar, daha sonra `Insert` yöntemine geçirilen `aggregateDependencies`adlı bir `AggregateCacheDependency` nesnesi içinde birleştirilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-322">These are all combined into one `AggregateCacheDependency` object named `aggregateDependencies`, which is then passed into the `Insert` method.</span></span>

[!code-csharp[Main](using-sql-cache-dependencies-cs/samples/sample15.cs)]

<span data-ttu-id="c8827-323">Bu yeni kodu test edin. Artık `Products`, `Categories`veya `Suppliers` tablolarında yapılan değişiklikler önbelleğe alınmış verilerin çıkarılmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c8827-323">Test this new code out. Now changes to the `Products`, `Categories`, or `Suppliers` tables cause the cached data to be evicted.</span></span> <span data-ttu-id="c8827-324">Üstelik, GridView aracılığıyla bir ürün düzenlenirken çağrılan `MasterCacheKeyArray` önbellek bağımlılığını çıkarmakta olan `ProductsCL` Class s `UpdateProduct` yöntemi, önbelleğe alınan `ProductsDataTable` çıkarılmasına ve verilerin bir sonraki istekte yeniden alınmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="c8827-324">Moreover, the `ProductsCL` class s `UpdateProduct` method, which is called when editing a product through the GridView, evicts the `MasterCacheKeyArray` cache dependency, which causes the cached `ProductsDataTable` to be evicted and the data to be re-retrieved on the next request.</span></span>

> [!NOTE]
> <span data-ttu-id="c8827-325">SQL önbellek bağımlılıkları, [çıktı önbelleği](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/caching/output.aspx)ile de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-325">SQL cache dependencies can also be used with [output caching](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/caching/output.aspx).</span></span> <span data-ttu-id="c8827-326">Bu işlevselliğin bir gösterimi için bkz.: [SQL Server ile ASP.net çıktı önbelleği kullanma](https://msdn.microsoft.com/library/e3w8402y(VS.80).aspx).</span><span class="sxs-lookup"><span data-stu-id="c8827-326">For a demonstration of this functionality, see: [Using ASP.NET Output Caching with SQL Server](https://msdn.microsoft.com/library/e3w8402y(VS.80).aspx).</span></span>

## <a name="summary"></a><span data-ttu-id="c8827-327">Özet</span><span class="sxs-lookup"><span data-stu-id="c8827-327">Summary</span></span>

<span data-ttu-id="c8827-328">Veritabanı verilerini önbelleğe alırken, veriler veritabanında değiştirilene kadar önbellekte kalır.</span><span class="sxs-lookup"><span data-stu-id="c8827-328">When caching database data, the data will ideally remain in the cache until it is modified in the database.</span></span> <span data-ttu-id="c8827-329">ASP.NET 2,0 ile SQL önbellek bağımlılıkları hem bildirim temelli hem de programlı senaryolarda oluşturulabilir ve kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="c8827-329">With ASP.NET 2.0, SQL cache dependencies can be created and used in both declarative and programmatic scenarios.</span></span> <span data-ttu-id="c8827-330">Bu yaklaşımla ilgili güçlüklerden biri, verilerin değiştirildiği zaman keşfederdir.</span><span class="sxs-lookup"><span data-stu-id="c8827-330">One of the challenges with this approach is in discovering when the data has been modified.</span></span> <span data-ttu-id="c8827-331">Microsoft SQL Server 2005 ' nin tam sürümleri, bir sorgu sonucu değiştiğinde bir uygulamayı uyarabilecek bildirim özellikleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="c8827-331">The full versions of Microsoft SQL Server 2005 provide notification capabilities that can alert an application when a query result has changed.</span></span> <span data-ttu-id="c8827-332">SQL Server 2005 ' nin Express sürümü ve SQL Server daha eski sürümleri için bunun yerine bir yoklama sisteminin kullanılması gerekir.</span><span class="sxs-lookup"><span data-stu-id="c8827-332">For the Express Edition of SQL Server 2005 and older versions of SQL Server, a polling system must be used instead.</span></span> <span data-ttu-id="c8827-333">Neyse ki, gerekli yoklama altyapısını ayarlama oldukça basittir.</span><span class="sxs-lookup"><span data-stu-id="c8827-333">Fortunately, setting up the necessary polling infrastructure is fairly straightforward.</span></span>

<span data-ttu-id="c8827-334">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="c8827-334">Happy Programming!</span></span>

## <a name="further-reading"></a><span data-ttu-id="c8827-335">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="c8827-335">Further Reading</span></span>

<span data-ttu-id="c8827-336">Bu öğreticide ele alınan konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="c8827-336">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="c8827-337">Microsoft SQL Server 2005 ' de sorgu bildirimlerini kullanma</span><span class="sxs-lookup"><span data-stu-id="c8827-337">Using Query Notifications in Microsoft SQL Server 2005</span></span>](https://msdn.microsoft.com/library/ms175110.aspx)
- [<span data-ttu-id="c8827-338">Sorgu bildirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="c8827-338">Creating a Query Notification</span></span>](https://msdn.microsoft.com/library/ms188669.aspx)
- <span data-ttu-id="c8827-339">[`SqlCacheDependency` sınıfıyla ASP.NET içinde önbelleğe alma](https://msdn.microsoft.com/library/ms178604(VS.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="c8827-339">[Caching in ASP.NET with the `SqlCacheDependency` Class](https://msdn.microsoft.com/library/ms178604(VS.80).aspx)</span></span>
- <span data-ttu-id="c8827-340">[ASP.NET SQL Server kayıt aracı (`aspnet_regsql.exe`)](https://msdn.microsoft.com/library/ms229862(vs.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="c8827-340">[ASP.NET SQL Server Registration Tool (`aspnet_regsql.exe`)](https://msdn.microsoft.com/library/ms229862(vs.80).aspx)</span></span>
- [<span data-ttu-id="c8827-341">`SqlCacheDependency` genel bakış</span><span class="sxs-lookup"><span data-stu-id="c8827-341">Overview of `SqlCacheDependency`</span></span>](http://www.aspnetresources.com/blog/sql_cache_depedency_overview.aspx)

## <a name="about-the-author"></a><span data-ttu-id="c8827-342">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="c8827-342">About the Author</span></span>

<span data-ttu-id="c8827-343">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="c8827-343">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="c8827-344">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="c8827-344">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="c8827-345">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="c8827-345">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="c8827-346">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c8827-346">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="c8827-347">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="c8827-347">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="c8827-348">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="c8827-348">Special Thanks To</span></span>

<span data-ttu-id="c8827-349">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="c8827-349">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="c8827-350">Bu öğreticide lider gözden geçirenler Marko Rangel, Teresa Murphy ve Tepton Giesenow.</span><span class="sxs-lookup"><span data-stu-id="c8827-350">Lead reviewers for this tutorial were Marko Rangel, Teresa Murphy, and Hilton Giesenow.</span></span> <span data-ttu-id="c8827-351">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="c8827-351">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="c8827-352">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="c8827-352">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="c8827-353">[Önceki](caching-data-at-application-startup-cs.md)
> [İleri](caching-data-with-the-objectdatasource-vb.md)</span><span class="sxs-lookup"><span data-stu-id="c8827-353">[Previous](caching-data-at-application-startup-cs.md)
[Next](caching-data-with-the-objectdatasource-vb.md)</span></span>
