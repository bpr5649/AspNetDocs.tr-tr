---
uid: web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
title: (C#) uygulama başlangıcında verileri önbelleğe alma | Microsoft Docs
author: rick-anderson
description: Herhangi bir Web uygulamasına bazı verileri sık kullanılır ve bazı verileri seyrek kullanılır. Biz bizim ASP.NET uygulama b performansı...
ms.author: riande
ms.date: 05/30/2007
ms.assetid: 22ca8efa-7cd1-45a7-b9ce-ce6eb3b3ff95
msc.legacyurl: /web-forms/overview/data-access/caching-data/caching-data-at-application-startup-cs
msc.type: authoredcontent
ms.openlocfilehash: c97058e5fd54dfd0393ec5ad020ad957d9719784
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57077883"
---
<a name="caching-data-at-application-startup-c"></a><span data-ttu-id="478b3-104">Uygulama Başlangıcında Verileri Önbelleğe Alma (C#)</span><span class="sxs-lookup"><span data-stu-id="478b3-104">Caching Data at Application Startup (C#)</span></span>
====================
<span data-ttu-id="478b3-105">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="478b3-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="478b3-106">PDF'yi indirin</span><span class="sxs-lookup"><span data-stu-id="478b3-106">Download PDF</span></span>](caching-data-at-application-startup-cs/_static/datatutorial60cs1.pdf)

> <span data-ttu-id="478b3-107">Herhangi bir Web uygulamasına bazı verileri sık kullanılır ve bazı verileri seyrek kullanılır.</span><span class="sxs-lookup"><span data-stu-id="478b3-107">In any Web application some data will be frequently used and some data will be infrequently used.</span></span> <span data-ttu-id="478b3-108">Önceden bir teknik olarak bilinen sık kullanılan verileri yükleyerek biz bizim ASP.NET uygulama performansını artırabilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-108">We can improve the performance of our ASP.NET application by loading in advance the frequently-used data, a technique known as.</span></span> <span data-ttu-id="478b3-109">Bu öğreticide, uygulama başlangıcında önbelleğe verileri yüklemek için proaktif yükleme için bir yaklaşım gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="478b3-109">This tutorial demonstrates one approach to proactive loading, which is to load data into the cache at application startup.</span></span>


## <a name="introduction"></a><span data-ttu-id="478b3-110">Giriş</span><span class="sxs-lookup"><span data-stu-id="478b3-110">Introduction</span></span>

<span data-ttu-id="478b3-111">Sunu ve önbellek katmanları verileri önbelleğe alma iki önceki öğreticilerdeki arıyordu.</span><span class="sxs-lookup"><span data-stu-id="478b3-111">The two previous tutorials looked at caching data in the Presentation and Caching Layers.</span></span> <span data-ttu-id="478b3-112">İçinde [ObjectDataSource ile verileri önbelleğe alma](caching-data-with-the-objectdatasource-cs.md), sunu katmanı içinde önbellek verilerini önbelleğe alma özellikleri ObjectDataSource kullanarak incelemiştik.</span><span class="sxs-lookup"><span data-stu-id="478b3-112">In [Caching Data with the ObjectDataSource](caching-data-with-the-objectdatasource-cs.md), we looked at using the ObjectDataSource's caching features to cache data in the Presentation Layer.</span></span> <span data-ttu-id="478b3-113">[Mimaride verileri önbelleğe alma](caching-data-in-the-architecture-cs.md) yeni, ayrı önbelleğe alma katmanda önbelleğe alma incelenir.</span><span class="sxs-lookup"><span data-stu-id="478b3-113">[Caching Data in the Architecture](caching-data-in-the-architecture-cs.md) examined caching in a new, separate Caching Layer.</span></span> <span data-ttu-id="478b3-114">Bu öğreticileri kullanılan her ikisi de *reaktif yükleme* veri önbelleği ile çalışma.</span><span class="sxs-lookup"><span data-stu-id="478b3-114">Both of these tutorials used *reactive loading* in working with the data cache.</span></span> <span data-ttu-id="478b3-115">Reaktif, her zaman verileri istenir, yüklenmekte olan sistem ilk önbellekte olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="478b3-115">With reactive loading, each time the data is requested, the system first checks if it's in the cache.</span></span> <span data-ttu-id="478b3-116">Değilse, veritabanı, kaynak kaynak verileri alan ve ardından önbellekte depolar.</span><span class="sxs-lookup"><span data-stu-id="478b3-116">If not, it grabs the data from the originating source, such as the database, and then stores it in the cache.</span></span> <span data-ttu-id="478b3-117">Reaktif yükleme başlıca avantajı, uygulama Kolaylığı ' dir.</span><span class="sxs-lookup"><span data-stu-id="478b3-117">The main advantage to reactive loading is its ease of implementation.</span></span> <span data-ttu-id="478b3-118">Kendi dezavantajları düzensiz performansını istekler genelinde biridir.</span><span class="sxs-lookup"><span data-stu-id="478b3-118">One of its disadvantages is its uneven performance across requests.</span></span> <span data-ttu-id="478b3-119">Ürün bilgilerini görüntülemek için önceki öğreticide önbelleğe alma katmandan kullanan bir sayfa düşünün.</span><span class="sxs-lookup"><span data-stu-id="478b3-119">Imagine a page that uses the Caching Layer from the preceding tutorial to display product information.</span></span> <span data-ttu-id="478b3-120">Bu sayfa ilk kez ziyaret veya bellek kısıtlamaları veya üst sınırına belirtilen süre sonu nedeniyle önbelleğe alınan verilerin çıkarıldı sonra ilk kez ziyaret, verileri veritabanından alınmalıdır.</span><span class="sxs-lookup"><span data-stu-id="478b3-120">When this page is visited for the first time, or visited for the first time after the cached data has been evicted due to memory constraints or the specified expiry having been reached, the data must be retrieved from the database.</span></span> <span data-ttu-id="478b3-121">Bu nedenle, bu kullanıcıların istekleri önbelleği tarafından sunulabilen kullanıcıların istekleri daha uzun sürer.</span><span class="sxs-lookup"><span data-stu-id="478b3-121">Therefore, these users requests will take longer than users requests that can be served by the cache.</span></span>

<span data-ttu-id="478b3-122">*Proaktif yükleme* bir alternatif önbellek yönetim stratejisini gerekli önce önbelleğe alınmış verileri yükleyerek bu performans düzeltir istekler genelinde sağlar.</span><span class="sxs-lookup"><span data-stu-id="478b3-122">*Proactive loading* provides an alternative cache management strategy that smoothes out the performance across requests by loading the cached data before it's needed.</span></span> <span data-ttu-id="478b3-123">Genellikle, proaktif yükleme düzenli aralıklarla denetleyen veya temel alınan bir güncelleştirme olduğunda bildirim bazı işlemi kullanır.</span><span class="sxs-lookup"><span data-stu-id="478b3-123">Typically, proactive loading uses some process that either periodically checks or is notified when there has been an update to the underlying data.</span></span> <span data-ttu-id="478b3-124">Bu işlem, sonra güncel kalması için önbelleği güncelleştirir.</span><span class="sxs-lookup"><span data-stu-id="478b3-124">This process then updates the cache to keep it fresh.</span></span> <span data-ttu-id="478b3-125">Proaktif yükleniyor, temel alınan verileri yavaş veritabanı bağlantısı, bir Web hizmeti ya da başka bir özellikle Ağır veri kaynağından geliyorsa, özellikle yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="478b3-125">Proactive loading is especially useful if the underlying data comes from a slow database connection, a Web service, or some other particularly sluggish data source.</span></span> <span data-ttu-id="478b3-126">Ancak, oluşturma, yönetme ve dağıtma değişiklikleri denetlemek ve önbelleği güncelleştirmek için bir işlem gerektirdiği proaktif yüklenmesi için bu yaklaşımı uygulamak daha zordur.</span><span class="sxs-lookup"><span data-stu-id="478b3-126">But this approach to proactive loading is more difficult to implement, as it requires creating, managing, and deploying a process to check for changes and update the cache.</span></span>

<span data-ttu-id="478b3-127">Proaktif yükleniyor ve biz Bu öğreticide, araştırma türü başka bir özellik olarak uygulama başlangıcında önbelleğe veri yükleniyor.</span><span class="sxs-lookup"><span data-stu-id="478b3-127">Another flavor of proactive loading, and the type we'll be exploring in this tutorial, is loading data into the cache at application startup.</span></span> <span data-ttu-id="478b3-128">Bu yaklaşım, veritabanı arama tablolarındaki kayıtlara gibi statik verileri önbelleğe almak için özellikle yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="478b3-128">This approach is especially useful for caching static data, such as the records in database lookup tables.</span></span>

> [!NOTE]
> <span data-ttu-id="478b3-129">Başvurmak için daha ayrıntılı bir görünüm olumlu ve olumsuz uygulama önerileri listesi yanı sıra, proaktif ve reaktif yükleme arasındaki farklar, [bir önbelleğinin içeriğini yönetme](https://msdn.microsoft.com/library/ms978503.aspx) bölümünü [ .NET Framework uygulamalarına yönelik Mimari Kılavuzu önbelleğe alma](https://msdn.microsoft.com/library/ms978498.aspx).</span><span class="sxs-lookup"><span data-stu-id="478b3-129">For a more in-depth look at the differences between proactive and reactive loading, as well as lists of pros, cons, and implementation recommendations, refer to the [Managing the Contents of a Cache](https://msdn.microsoft.com/library/ms978503.aspx) section of the [Caching Architecture Guide for .NET Framework Applications](https://msdn.microsoft.com/library/ms978498.aspx).</span></span>


## <a name="step-1-determining-what-data-to-cache-at-application-startup"></a><span data-ttu-id="478b3-130">1. Adım: Uygulama başlangıcında hangi verilerin belirlenmesi</span><span class="sxs-lookup"><span data-stu-id="478b3-130">Step 1: Determining What Data to Cache at Application Startup</span></span>

<span data-ttu-id="478b3-131">Reaktif yükleniyor kullanarak önbelleğe alma örnekler biz önceki iki öğreticiler verilerle çalışma oluşturmak için düzenli aralıklarla değişebilir ve exorbitantly uzun sürmez iyi incelenir.</span><span class="sxs-lookup"><span data-stu-id="478b3-131">The caching examples using reactive loading that we examined in the previous two tutorials work well with data that may periodically change and does not take exorbitantly long to generate.</span></span> <span data-ttu-id="478b3-132">Ancak hiçbir zaman önbelleğe alınmış verileri değişirse, reaktif yükleme tarafından kullanılan süre sonu gereksiz.</span><span class="sxs-lookup"><span data-stu-id="478b3-132">But if the cached data never changes, the expiry used by reactive loading is superfluous.</span></span> <span data-ttu-id="478b3-133">Benzer şekilde, önbelleğe alınmasını veri oluşturmak için bir ilgil zorlukları uzun sürerse, daha sonra önbellek boş uzun bekleme sırasında temel alınan verileri alabilecek gerekecek olan isteklerini bulmak kullanıcılarla alınır.</span><span class="sxs-lookup"><span data-stu-id="478b3-133">Likewise, if the data being cached takes an exceedingly long time to generate, then those users whose requests find the cache empty will have to endure a lengthy wait while the underlying data is retrieved.</span></span> <span data-ttu-id="478b3-134">Statik veri ve uygulama başlangıcında oluşturmak için bir çıkmaz verileri önbelleğe almayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="478b3-134">Consider caching static data and data that takes an exceptionally long time to generate at application startup.</span></span>

<span data-ttu-id="478b3-135">Veritabanları çok sayıda dinamik olsa da, en sık değişen değerler de ciddi miktarda bir statik veri var.</span><span class="sxs-lookup"><span data-stu-id="478b3-135">While databases have many dynamic, frequently-changing values, most also have a fair amount of static data.</span></span> <span data-ttu-id="478b3-136">Örneğin, veri modellerini neredeyse tüm seçenekleri kümesinden belirli bir değeri içeren bir veya daha fazla sütun var.</span><span class="sxs-lookup"><span data-stu-id="478b3-136">For example, virtually all data models have one or more columns that contain a particular value from a fixed set of choices.</span></span> <span data-ttu-id="478b3-137">A `Patients` veritabanından olabilir bir `PrimaryLanguage` sütun, İngilizce, İspanyolca, Fransızca, Rusça, Japonca ve benzeri olan değerleri kümesi olabilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-137">A `Patients` database table might have a `PrimaryLanguage` column, whose set of values could be English, Spanish, French, Russian, Japanese, and so on.</span></span> <span data-ttu-id="478b3-138">Bu sütun türlerinden kullanma görmemeleri, uygulanır *arama tabloları*.</span><span class="sxs-lookup"><span data-stu-id="478b3-138">Oftentimes, these types of columns are implemented using *lookup tables*.</span></span> <span data-ttu-id="478b3-139">İngilizce ve Fransızca dize depolamak yerine `Patients` tablo, ikinci bir tablo oluşturulur, yaygın olarak, bir kaydı olası her değerin iki - benzersiz bir tanımlayıcı ve bir dize açıklamasını - sütuna sahip.</span><span class="sxs-lookup"><span data-stu-id="478b3-139">Rather than storing the string English or French in the `Patients` table, a second table is created that has, commonly, two columns - a unique identifier and a string description - with a record for each possible value.</span></span> <span data-ttu-id="478b3-140">`PrimaryLanguage` Sütununda `Patients` tablo arama tablosunda karşılık gelen benzersiz tanımlayıcısı depolar.</span><span class="sxs-lookup"><span data-stu-id="478b3-140">The `PrimaryLanguage` column in the `Patients` table stores the corresponding unique identifier in the lookup table.</span></span> <span data-ttu-id="478b3-141">Ed Johnson'ın Rusça ederken Şekil 1'de, John Doe hastanın birincil İngilizce dilidir.</span><span class="sxs-lookup"><span data-stu-id="478b3-141">In Figure 1, patient John Doe's primary language is English, while Ed Johnson's is Russian.</span></span>


![Bir arama tablosu tarafından kullanılan Hastalara tablo dilleri tablodur](caching-data-at-application-startup-cs/_static/image1.png)

<span data-ttu-id="478b3-143">**Şekil 1**: `Languages` Tablodur bir arama tablosu kullanılan `Patients` tablo</span><span class="sxs-lookup"><span data-stu-id="478b3-143">**Figure 1**: The `Languages` Table is a Lookup Table Used by the `Patients` Table</span></span>


<span data-ttu-id="478b3-144">Düzenleme veya yeni bir Hasta oluşturmak için kullanılan kullanıcı arabirimi verilen dillerin kayıtları tarafından doldurulan aşağı açılan listesi verilebilir `Languages` tablo.</span><span class="sxs-lookup"><span data-stu-id="478b3-144">The user interface for editing or creating a new patient would include a drop-down list of allowable languages populated by the records in the `Languages` table.</span></span> <span data-ttu-id="478b3-145">Önbelleğe alma olmadan her zaman bu arabirimin sistem ziyaret faydalanacaksa `Languages` tablo.</span><span class="sxs-lookup"><span data-stu-id="478b3-145">Without caching, each time this interface is visited the system must query the `Languages` table.</span></span> <span data-ttu-id="478b3-146">Arama tablosu değerlerinin çok sık değiştiği bu hiç olmadığı kadar kısıp ve gereksiz olur.</span><span class="sxs-lookup"><span data-stu-id="478b3-146">This is wasteful and unnecessary since lookup table values change very infrequently, if ever.</span></span>

<span data-ttu-id="478b3-147">Önbelleğe alınamadı `Languages` önceki öğreticilerdeki incelenirken aynı reaktif yükleme teknikleri kullanarak verileri.</span><span class="sxs-lookup"><span data-stu-id="478b3-147">We could cache the `Languages` data using the same reactive loading techniques examined in the previous tutorials.</span></span> <span data-ttu-id="478b3-148">Reaktif yükleniyor, ancak statik arama için tablo verileri gerek olmayan bir zamana bağlı süre sonu, kullanır.</span><span class="sxs-lookup"><span data-stu-id="478b3-148">Reactive loading, however, uses a time-based expiry, which is not needed for static lookup table data.</span></span> <span data-ttu-id="478b3-149">Reaktif yükleme kullanarak önbelleğe alma hiç önbelleksizlik daha iyi olacaktır ancak proaktif bir şekilde uygulama başlangıcında önbelleğe arama tablo verileri yüklemek için en iyi yaklaşım olacaktır.</span><span class="sxs-lookup"><span data-stu-id="478b3-149">While caching using reactive loading would be better than no caching at all, the best approach would be to proactively load the lookup table data into the cache at application startup.</span></span>

<span data-ttu-id="478b3-150">Bu öğreticide arama tablo verileri önbelleğe almak ve diğer statik bilgi atacağız.</span><span class="sxs-lookup"><span data-stu-id="478b3-150">In this tutorial we will look at how to cache lookup table data and other static information.</span></span>

## <a name="step-2-examining-the-different-ways-to-cache-data"></a><span data-ttu-id="478b3-151">2. Adım: Verileri önbelleğe almak için farklı şekilde İnceleme</span><span class="sxs-lookup"><span data-stu-id="478b3-151">Step 2: Examining the Different Ways to Cache Data</span></span>

<span data-ttu-id="478b3-152">Bilgi yönelik çeşitli yaklaşımları kullanarak bir ASP.NET uygulamasında programlı bir şekilde önbelleğe alınabilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-152">Information can be programmatically cached in an ASP.NET application using a variety of approaches.</span></span> <span data-ttu-id="478b3-153">Biz ve önceki öğreticilerdeki veri önbelleğini kullanma zaten görüldü.</span><span class="sxs-lookup"><span data-stu-id="478b3-153">We ve already seen how to use the data cache in previous tutorials.</span></span> <span data-ttu-id="478b3-154">Alternatif olarak, nesneleri program aracılığıyla kullanarak önbelleğe alınabilir *statik üyeleri* veya *uygulama durumu*.</span><span class="sxs-lookup"><span data-stu-id="478b3-154">Alternatively, objects can be programmatically cached using *static members* or *application state*.</span></span>

<span data-ttu-id="478b3-155">Üyeleri erişilmeden önce bir sınıf ile çalışırken, genellikle sınıfı ilk örneği gerekir.</span><span class="sxs-lookup"><span data-stu-id="478b3-155">When working with a class, typically the class must first be instantiated before its members can be accessed.</span></span> <span data-ttu-id="478b3-156">Örneğin, bizim iş mantığı katmanı sınıflarda birinden bir yöntem çağırmak için size ilk sınıfının bir örneğini oluşturmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="478b3-156">For example, in order to invoke a method from one of the classes in our Business Logic Layer, we must first create an instance of the class:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample1.cs)]

<span data-ttu-id="478b3-157">Biz de çağırabilirsiniz önce *SomeMethod* veya çalışmak *SomeProperty*, biz öncelikle sınıfını kullanarak bir örneğini oluşturmanız gerekir `new` anahtar sözcüğü.</span><span class="sxs-lookup"><span data-stu-id="478b3-157">Before we can invoke *SomeMethod* or work with *SomeProperty*, we must first create an instance of the class using the `new` keyword.</span></span> <span data-ttu-id="478b3-158">*SomeMethod* ve *SomeProperty* belirli bir örneği ile ilişkili.</span><span class="sxs-lookup"><span data-stu-id="478b3-158">*SomeMethod* and *SomeProperty* are associated with a particular instance.</span></span> <span data-ttu-id="478b3-159">Bu üyeleri ömrünü kendi ilişkili nesne ömrünü bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="478b3-159">The lifetime of these members is tied to the lifetime of their associated object.</span></span> <span data-ttu-id="478b3-160">*Statik üyeleri*, diğer taraftan, değişkenleri, özellikleri ve yöntemleri arasında paylaşılan olan *tüm* sınıfının örneklerini ve sonuç olarak, bir sınıf olarak uzun ömürlü.</span><span class="sxs-lookup"><span data-stu-id="478b3-160">*Static members*, on the other hand, are variables, properties, and methods that are shared among *all* instances of the class and, consequently, have a lifetime as long as the class.</span></span> <span data-ttu-id="478b3-161">Statik üyeleri anahtar sözcüğü tarafından gösterilen `static`.</span><span class="sxs-lookup"><span data-stu-id="478b3-161">Static members are denoted by the keyword `static`.</span></span>

<span data-ttu-id="478b3-162">Statik üyeleri ek olarak veri kullanan uygulama durumu önbelleğe alınabilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-162">In addition to static members, data can be cached using application state.</span></span> <span data-ttu-id="478b3-163">Her bir ASP.NET uygulama, tüm kullanıcılar ve uygulamanın sayfalar arasında paylaşılan bir ad/değer koleksiyonunu tutar.</span><span class="sxs-lookup"><span data-stu-id="478b3-163">Each ASP.NET application maintains a name/value collection that's shared across all users and pages of the application.</span></span> <span data-ttu-id="478b3-164">Bu koleksiyonu kullanılarak erişilebilir [ `HttpContext` sınıfı](https://msdn.microsoft.com/library/system.web.httpcontext.aspx)'s [ `Application` özelliği](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx)ve bir ASP.NET sayfasının arka plan kod sınıfı şu şekilde:</span><span class="sxs-lookup"><span data-stu-id="478b3-164">This collection can be accessed using the [`HttpContext` class](https://msdn.microsoft.com/library/system.web.httpcontext.aspx)'s [`Application` property](https://msdn.microsoft.com/library/system.web.httpcontext.application.aspx), and used from an ASP.NET page's code-behind class like so:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample2.cs)]

<span data-ttu-id="478b3-165">Veri önbelleğini süresi ve bağımlılık tabanlı expiries, önbellek öğesi öncelikleri ve diğerleri için mekanizmalar sağlayan verileri önbelleğe almak için bir çok daha zengin bir API sağlar.</span><span class="sxs-lookup"><span data-stu-id="478b3-165">The data cache provides a much richer API for caching data, providing mechanisms for time- and dependency-based expiries, cache item priorities, and so forth.</span></span> <span data-ttu-id="478b3-166">Statik üyeleri ve uygulama durumu ile gibi özellikler sayfasında geliştirici tarafından el ile eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="478b3-166">With static members and application state, such features must be manually added by the page developer.</span></span> <span data-ttu-id="478b3-167">Ancak, uygulama ömrü boyunca uygulama başlangıcında verileri önbelleğe alma, veri önbelleğin avantajları moot uygulanır.</span><span class="sxs-lookup"><span data-stu-id="478b3-167">When caching data at application startup for the lifetime of the application, however, the data cache's advantages are moot.</span></span> <span data-ttu-id="478b3-168">Bu öğreticide, statik verileri önbelleğe almak için tüm üç teknikler kullanan kodu inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="478b3-168">In this tutorial we'll look at code that uses all three techniques for caching static data.</span></span>

## <a name="step-3-caching-thesupplierstable-data"></a><span data-ttu-id="478b3-169">3. Adım: Önbelleğe alma`Suppliers`tablo verileri</span><span class="sxs-lookup"><span data-stu-id="478b3-169">Step 3: Caching the`Suppliers`Table Data</span></span>

<span data-ttu-id="478b3-170">Northwind veritabanı tabloları şu tarihe uygulanan ve tüm geleneksel arama tabloları içermez.</span><span class="sxs-lookup"><span data-stu-id="478b3-170">The Northwind database tables we ve implemented to date do not include any traditional lookup tables.</span></span> <span data-ttu-id="478b3-171">Dört DataTable statik olmayan değerleri olan tüm modeli tabloları bizim DAL uygulanır.</span><span class="sxs-lookup"><span data-stu-id="478b3-171">The four DataTables implemented in our DAL all model tables whose values are non-static.</span></span> <span data-ttu-id="478b3-172">DAL ve ardından yeni bir sınıf ve BLL yöntemleri için yeni bir veri Tablolsu eklemek için zaman harcama yerine, Bu öğretici için şimdi yalnızca, anlatabilirsiniz `Suppliers` tablonun verilerini statik.</span><span class="sxs-lookup"><span data-stu-id="478b3-172">Rather than spending the time to add a new DataTable to the DAL and then a new class and methods to the BLL, for this tutorial let's just pretend that the `Suppliers` table's data is static.</span></span> <span data-ttu-id="478b3-173">Bu nedenle, size bu uygulama başlangıcında verileri önbelleğe alınamadı.</span><span class="sxs-lookup"><span data-stu-id="478b3-173">Therefore, we could cache this data at application startup.</span></span>

<span data-ttu-id="478b3-174">Başlamak için adlı yeni bir sınıf oluşturma `StaticCache.cs` içinde `CL` klasör.</span><span class="sxs-lookup"><span data-stu-id="478b3-174">To start, create a new class named `StaticCache.cs` in the `CL` folder.</span></span>


![CL klasörde StaticCache.cs sınıfı oluşturun](caching-data-at-application-startup-cs/_static/image2.png)

<span data-ttu-id="478b3-176">**Şekil 2**: Oluşturma `StaticCache.cs` sınıfını `CL` klasörü</span><span class="sxs-lookup"><span data-stu-id="478b3-176">**Figure 2**: Create the `StaticCache.cs` Class in the `CL` Folder</span></span>


<span data-ttu-id="478b3-177">Size uygun önbellek depoya başlangıcında verileri yükler bir yöntem yanı sıra bu önbellekten veri döndüren yöntemler eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="478b3-177">We need to add a method that loads the data at startup into the appropriate cache store, as well as methods that return data from this cache.</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample3.cs)]

<span data-ttu-id="478b3-178">Yukarıdaki kod, bir statik üye değişkeninin kullanır `suppliers`, sonuçlardan tutacak `SuppliersBLL` sınıfın `GetSuppliers()` çağrılır yöntemi `LoadStaticCache()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-178">The above code uses a static member variable, `suppliers`, to hold the results from the `SuppliersBLL` class's `GetSuppliers()` method, which is called from the `LoadStaticCache()` method.</span></span> <span data-ttu-id="478b3-179">`LoadStaticCache()` Yöntemi uygulama başlangıcında çağrılacak yöneliktir.</span><span class="sxs-lookup"><span data-stu-id="478b3-179">The `LoadStaticCache()` method is meant to be called during the application's start.</span></span> <span data-ttu-id="478b3-180">Bu veriler uygulama başlangıcında veriler yüklendikten sonra tedarikçi verilerle çalışmak için gereken herhangi bir sayfa çağırabilirsiniz `StaticCache` sınıfın `GetSuppliers()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-180">Once this data has been loaded at application startup, any page that needs to work with supplier data can call the `StaticCache` class's `GetSuppliers()` method.</span></span> <span data-ttu-id="478b3-181">Bu nedenle, tedarikçileri alma çağrısı veritabanına yalnızca bir kez, uygulama başlangıcında gerçekleşir.</span><span class="sxs-lookup"><span data-stu-id="478b3-181">Therefore, the call to the database to get the suppliers only happens once, at application start.</span></span>

<span data-ttu-id="478b3-182">Statik üye değişkeni önbellek deposu olarak kullanmak yerine alternatif olarak uygulama durumu veya veri önbelleğini kullandık.</span><span class="sxs-lookup"><span data-stu-id="478b3-182">Rather than using a static member variable as the cache store, we could have alternatively used application state or the data cache.</span></span> <span data-ttu-id="478b3-183">Aşağıdaki kod, uygulama durumunu kullanmak için retooled sınıfı göstermektedir:</span><span class="sxs-lookup"><span data-stu-id="478b3-183">The following code shows the class retooled to use application state:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample4.cs)]

<span data-ttu-id="478b3-184">İçinde `LoadStaticCache()`, sağlayıcı bilgileri uygulama değişkenine depolanan *anahtar*.</span><span class="sxs-lookup"><span data-stu-id="478b3-184">In `LoadStaticCache()`, the supplier information is stored to the application variable *key*.</span></span> <span data-ttu-id="478b3-185">Uygun türünde döndürülür (`Northwind.SuppliersDataTable`) öğesinden `GetSuppliers()`.</span><span class="sxs-lookup"><span data-stu-id="478b3-185">It's returned as the appropriate type (`Northwind.SuppliersDataTable`) from `GetSuppliers()`.</span></span> <span data-ttu-id="478b3-186">Uygulama durumu ASP.NET sayfaları kullanarak arka plan kod sınıflarda erişilebilir durumdayken `Application["key"]`, kullanmamız gerekir mimarisinde `HttpContext.Current.Application["key"]` geçerli ürününü `HttpContext`.</span><span class="sxs-lookup"><span data-stu-id="478b3-186">While application state can be accessed in the code-behind classes of ASP.NET pages using `Application["key"]`, in the architecture we must use `HttpContext.Current.Application["key"]` in order to get the current `HttpContext`.</span></span>

<span data-ttu-id="478b3-187">Benzer şekilde, veri önbelleği olarak aşağıdaki kodun gösterdiği bir önbellek deposu olarak kullanılabilir:</span><span class="sxs-lookup"><span data-stu-id="478b3-187">Likewise, the data cache can be used as a cache store, as the following code shows:</span></span>


[!code-csharp[Main](caching-data-at-application-startup-cs/samples/sample5.cs)]

<span data-ttu-id="478b3-188">Zamana bağlı bitiş tarihi ile verileri önbelleğe bir öğe eklemek için `System.Web.Caching.Cache.NoAbsoluteExpiration` ve `System.Web.Caching.Cache.NoSlidingExpiration` giriş parametre değerleri.</span><span class="sxs-lookup"><span data-stu-id="478b3-188">To add an item to the data cache with no time-based expiry, use the `System.Web.Caching.Cache.NoAbsoluteExpiration` and `System.Web.Caching.Cache.NoSlidingExpiration` values as input parameters.</span></span> <span data-ttu-id="478b3-189">Bu belirli veri önbelleğin yüklemesini `Insert` yöntemi, böylece belirtmemiz seçilmiştir *öncelik* önbellek öğesinin.</span><span class="sxs-lookup"><span data-stu-id="478b3-189">This particular overload of the data cache's `Insert` method was selected so that we could specify the *priority* of the cache item.</span></span> <span data-ttu-id="478b3-190">Öncelik kullanılabilir bellek düşük çalıştığında önbellekten atmak öğeleri belirlemek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="478b3-190">The priority is used to determine what items to scavenge from the cache when available memory runs low.</span></span> <span data-ttu-id="478b3-191">Öncelik burada kullandığımız `NotRemovable`, işlemi bu önbellek öğesinin t kazanılan da sağlar.</span><span class="sxs-lookup"><span data-stu-id="478b3-191">Here we use the priority `NotRemovable`, which ensures that this cache item won t be scavenged.</span></span>

> [!NOTE]
> <span data-ttu-id="478b3-192">Bu öğreticinin uygulayan indirme `StaticCache` statik üye değişkeni yaklaşımı kullanarak sınıfı.</span><span class="sxs-lookup"><span data-stu-id="478b3-192">This tutorial's download implements the `StaticCache` class using the static member variable approach.</span></span> <span data-ttu-id="478b3-193">Uygulama durumunu ve verileri önbellek teknikleri için kod açıklamaları sınıf dosyası kullanıma sunulmuştur.</span><span class="sxs-lookup"><span data-stu-id="478b3-193">The code for the application state and data cache techniques is available in the comments in the class file.</span></span>


## <a name="step-4-executing-code-at-application-startup"></a><span data-ttu-id="478b3-194">4. Adım: Uygulama başlangıcında çalışan kod</span><span class="sxs-lookup"><span data-stu-id="478b3-194">Step 4: Executing Code at Application Startup</span></span>

<span data-ttu-id="478b3-195">Bir web uygulaması ilk kez başlatıldığında, kod yürütmek için adlı özel bir dosya oluşturmak ihtiyacımız `Global.asax`.</span><span class="sxs-lookup"><span data-stu-id="478b3-195">To execute code when a web application first starts, we need to create a special file named `Global.asax`.</span></span> <span data-ttu-id="478b3-196">Bu dosya için uygulama-oturum-olay işleyicileri içerebilir ve istek düzeyi olayları ve bu, burada uygulama başladığında, yürütülecek kod burada ekleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="478b3-196">This file can contain event handlers for application-, session-, and request-level events, and it is here where we can add code that will be executed whenever the application starts.</span></span>

<span data-ttu-id="478b3-197">Ekle `Global.asax` Visual Studio Çözüm Gezgini'nde Web sitesi proje adının üzerine sağ tıklayın ve Yeni Öğe Ekle seçerek, web uygulamanızın kök dizinine dosya.</span><span class="sxs-lookup"><span data-stu-id="478b3-197">Add the `Global.asax` file to your web application's root directory by right-clicking on the website project name in Visual Studio's Solution Explorer and choosing Add New Item.</span></span> <span data-ttu-id="478b3-198">Yeni Öğe Ekle iletişim kutusu, genel uygulama sınıfı öğesi türünü seçin ve ardından Ekle düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="478b3-198">From the Add New Item dialog box, select the Global Application Class item type and then click the Add button.</span></span>

> [!NOTE]
> <span data-ttu-id="478b3-199">Zaten bir `Global.asax` dosya projenizde, genel uygulama sınıfı öğesi türü değil yeni öğe Ekle iletişim kutusunda listelenir.</span><span class="sxs-lookup"><span data-stu-id="478b3-199">If you already have a `Global.asax` file in your project, the Global Application Class item type will not be listed in the Add New Item dialog box.</span></span>


<span data-ttu-id="478b3-200">[![Web uygulamanızın kök dizinine Global.asax dosyası Ekle](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="478b3-200">[![Add the Global.asax File to Your Web Application's Root Directory](caching-data-at-application-startup-cs/_static/image4.png)](caching-data-at-application-startup-cs/_static/image3.png)</span></span>

<span data-ttu-id="478b3-201">**Şekil 3**: Ekleme `Global.asax` dosya uygulamanızın Web uygulamanızın kök dizinine ([tam boyutlu görüntüyü görmek için tıklatın](caching-data-at-application-startup-cs/_static/image5.png))</span><span class="sxs-lookup"><span data-stu-id="478b3-201">**Figure 3**: Add the `Global.asax` File to Your Web Application's Root Directory ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image5.png))</span></span>


<span data-ttu-id="478b3-202">Varsayılan `Global.asax` dosya şablonu içinde sunucu tarafı beş yöntemler içerir `<script>` etiketi:</span><span class="sxs-lookup"><span data-stu-id="478b3-202">The default `Global.asax` file template includes five methods within a server-side `<script>` tag:</span></span>

- <span data-ttu-id="478b3-203">**`Application_Start`** web uygulamasını ilk kez başlatıldığında yürütür</span><span class="sxs-lookup"><span data-stu-id="478b3-203">**`Application_Start`** executes when the web application first starts</span></span>
- <span data-ttu-id="478b3-204">**`Application_End`** Uygulama kapatılıyor çalışır</span><span class="sxs-lookup"><span data-stu-id="478b3-204">**`Application_End`** runs when the application is shutting down</span></span>
- <span data-ttu-id="478b3-205">**`Application_Error`** İşlenmeyen bir özel durum uygulama eriştiğinde yürütür</span><span class="sxs-lookup"><span data-stu-id="478b3-205">**`Application_Error`** executes whenever an unhandled exception reaches the application</span></span>
- <span data-ttu-id="478b3-206">**`Session_Start`** Yeni bir oturum oluşturulduğunda yürütür</span><span class="sxs-lookup"><span data-stu-id="478b3-206">**`Session_Start`** executes when a new session is created</span></span>
- <span data-ttu-id="478b3-207">**`Session_End`** oturum süresi doldu veya durdurulmuş çalıştırmalar</span><span class="sxs-lookup"><span data-stu-id="478b3-207">**`Session_End`** runs when a session is expired or abandoned</span></span>

<span data-ttu-id="478b3-208">`Application_Start` Olay işleyicisi uygulama yaşam döngüsü boyunca yalnızca bir kez çağrılır.</span><span class="sxs-lookup"><span data-stu-id="478b3-208">The `Application_Start` event handler is called only once during an application's life cycle.</span></span> <span data-ttu-id="478b3-209">Uygulama içeriğini değiştirerek gerçekleşebilir ASP.NET kaynak uygulamadan istenen ve uygulamayı yeniden başlatılana kadar çalışmaya devam eder ilk kez başlatılmadan `/Bin` klasöründe değiştirme `Global.asax`, değiştirme içindeki içeriği `App_Code` klasör veya değiştirme `Web.config` yol açabilecek diğer nedenler arasında bir dosya.</span><span class="sxs-lookup"><span data-stu-id="478b3-209">The application starts the first time an ASP.NET resource is requested from the application and continues to run until the application is restarted, which can happen by modifying the contents of the `/Bin` folder, modifying `Global.asax`, modifying the contents in the `App_Code` folder, or modifying the `Web.config` file, among other causes.</span></span> <span data-ttu-id="478b3-210">Başvurmak [ASP.NET uygulama yaşam döngüsü'ne genel bakış](https://msdn.microsoft.com/library/ms178473.aspx) uygulama yaşam döngüsü üzerinde daha ayrıntılı bir açıklaması için.</span><span class="sxs-lookup"><span data-stu-id="478b3-210">Refer to [ASP.NET Application Life Cycle Overview](https://msdn.microsoft.com/library/ms178473.aspx) for a more detailed discussion on the application life cycle.</span></span>

<span data-ttu-id="478b3-211">Bu öğreticiler için yalnızca kod eklemek ihtiyacımız `Application_Start` yöntemi, bunu kullanımında diğerleri kaldırmak boş.</span><span class="sxs-lookup"><span data-stu-id="478b3-211">For these tutorials we only need to add code to the `Application_Start` method, so feel free to remove the others.</span></span> <span data-ttu-id="478b3-212">İçinde `Application_Start`, yalnızca çağrı `StaticCache` sınıfın `LoadStaticCache()` yükleyecek ve Tedarikçi bilgilerini önbelleğe yöntemi:</span><span class="sxs-lookup"><span data-stu-id="478b3-212">In `Application_Start`, simply call the `StaticCache` class's `LoadStaticCache()` method, which will load and cache the supplier information:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample6.aspx)]

<span data-ttu-id="478b3-213">İşte bu kadar kolay!</span><span class="sxs-lookup"><span data-stu-id="478b3-213">That's all there is to it!</span></span> <span data-ttu-id="478b3-214">Uygulama başlangıcında `LoadStaticCache()` yöntemi BLL sağlayıcı bilgileri alın ve bir statik üye değişkeni depolar (veya hangi önbelleği depolamak sona erdi, kullanılarak `StaticCache` sınıfı).</span><span class="sxs-lookup"><span data-stu-id="478b3-214">At application startup, the `LoadStaticCache()` method will grab the supplier information from the BLL, and store it in a static member variable (or whatever cache store you ended up using in the `StaticCache` class).</span></span> <span data-ttu-id="478b3-215">Bu davranış doğrulamak için bir kesme noktası ayarlayın `Application_Start` yöntemi ve uygulamanızı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="478b3-215">To verify this behavior, set a breakpoint in the `Application_Start` method and run your application.</span></span> <span data-ttu-id="478b3-216">Uygulama başlatma sırasında kesme noktasına erişildiğinde unutmayın.</span><span class="sxs-lookup"><span data-stu-id="478b3-216">Note that the breakpoint is hit upon the application starting.</span></span> <span data-ttu-id="478b3-217">Sonraki istekler, ancak neden olmaz `Application_Start` yürütmek için yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-217">Subsequent requests, however, do not cause the `Application_Start` method to execute.</span></span>


<span data-ttu-id="478b3-218">[![Bir kesme noktasına uygulama_başlatma olay işleyicisi olan yürütülen olduğundan emin olun kullanın](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span><span class="sxs-lookup"><span data-stu-id="478b3-218">[![Use a Breakpoint to Verify that the Application_Start Event Handler is Being Executed](caching-data-at-application-startup-cs/_static/image7.png)](caching-data-at-application-startup-cs/_static/image6.png)</span></span>

<span data-ttu-id="478b3-219">**Şekil 4**: Bir kesme noktası doğrulama için kullanmak, `Application_Start` olay işleyicisidir olan yürütülen ([tam boyutlu görüntüyü görmek için tıklatın](caching-data-at-application-startup-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="478b3-219">**Figure 4**: Use a Breakpoint to Verify that the `Application_Start` Event Handler is Being Executed ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image8.png))</span></span>


> [!NOTE]
> <span data-ttu-id="478b3-220">Değil isabet durumunda `Application_Start` kesme noktası, hata ayıklama ilk kez başlattığınızda olduğu uygulamanız zaten başlamış olduğundan.</span><span class="sxs-lookup"><span data-stu-id="478b3-220">If you do not hit the `Application_Start` breakpoint when you first start debugging, it is because your application has already started.</span></span> <span data-ttu-id="478b3-221">Değiştirerek yeniden uygulamaya zorlamak, `Global.asax` veya `Web.config` dosyalarını ve yeniden deneyin.</span><span class="sxs-lookup"><span data-stu-id="478b3-221">Force the application to restart by modifying your `Global.asax` or `Web.config` files and then try again.</span></span> <span data-ttu-id="478b3-222">Yalnızca ekleyebileceğiniz (uygulamayı hızla yeniden başlatmak bu dosyalardan biri, sonunda boş bir satır veya kaldırabileceğiniz).</span><span class="sxs-lookup"><span data-stu-id="478b3-222">You can simply add (or remove) a blank line at the end of one of these files to quickly restart the application.</span></span>


## <a name="step-5-displaying-the-cached-data"></a><span data-ttu-id="478b3-223">5. Adım: Önbelleğe alınmış verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="478b3-223">Step 5: Displaying the Cached Data</span></span>

<span data-ttu-id="478b3-224">Bu noktada `StaticCache` sınıfı aracılığıyla erişilen uygulama başlangıcında önbelleğe tedarikçi veri sürümü var. onun `GetSuppliers()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-224">At this point the `StaticCache` class has a version of the supplier data cached at application startup that can be accessed through its `GetSuppliers()` method.</span></span> <span data-ttu-id="478b3-225">Sunu katmanı bu verilerle çalışmak için size bir ObjectDataSource kullanma veya program aracılığıyla çağırma `StaticCache` sınıfın `GetSuppliers()` bir ASP.NET sayfasının arka plan kod sınıfı yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-225">To work with this data from the Presentation Layer, we can use an ObjectDataSource or programmatically invoke the `StaticCache` class's `GetSuppliers()` method from an ASP.NET page's code-behind class.</span></span> <span data-ttu-id="478b3-226">ObjectDataSource ile GridView denetimleri kullanarak önbelleğe alınmış üretici bilgilerini görüntülemek için bakalım.</span><span class="sxs-lookup"><span data-stu-id="478b3-226">Let's look at using the ObjectDataSource and GridView controls to display the cached supplier information.</span></span>

<span data-ttu-id="478b3-227">Başlangıç açarak `AtApplicationStartup.aspx` sayfasını `Caching` klasör.</span><span class="sxs-lookup"><span data-stu-id="478b3-227">Start by opening the `AtApplicationStartup.aspx` page in the `Caching` folder.</span></span> <span data-ttu-id="478b3-228">GridView tasarımcıya ayarlanması için araç kutusundan sürükleyin, `ID` özelliğini `Suppliers`.</span><span class="sxs-lookup"><span data-stu-id="478b3-228">Drag a GridView from the Toolbox onto the designer, setting its `ID` property to `Suppliers`.</span></span> <span data-ttu-id="478b3-229">Ardından, GridView'ın akıllı etiketten adlı yeni bir ObjectDataSource oluşturmayı tercih `SuppliersCachedDataSource`.</span><span class="sxs-lookup"><span data-stu-id="478b3-229">Next, from the GridView's smart tag choose to create a new ObjectDataSource named `SuppliersCachedDataSource`.</span></span> <span data-ttu-id="478b3-230">ObjectDataSource kullanmak için yapılandırma `StaticCache` sınıfın `GetSuppliers()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="478b3-230">Configure the ObjectDataSource to use the `StaticCache` class's `GetSuppliers()` method.</span></span>


<span data-ttu-id="478b3-231">[![ObjectDataSource StaticCache sınıfını kullanmak için yapılandırma](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="478b3-231">[![Configure the ObjectDataSource to use the StaticCache Class](caching-data-at-application-startup-cs/_static/image10.png)](caching-data-at-application-startup-cs/_static/image9.png)</span></span>

<span data-ttu-id="478b3-232">**Şekil 5**: ObjectDataSource kullanmak için yapılandırma `StaticCache` sınıfı ([tam boyutlu görüntüyü görmek için tıklatın](caching-data-at-application-startup-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="478b3-232">**Figure 5**: Configure the ObjectDataSource to use the `StaticCache` Class ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image11.png))</span></span>


<span data-ttu-id="478b3-233">[![Önbelleğe alınan üretici veri almak için GetSuppliers() yöntemi kullanın](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="478b3-233">[![Use the GetSuppliers() Method to Retrieve the Cached Supplier Data](caching-data-at-application-startup-cs/_static/image13.png)](caching-data-at-application-startup-cs/_static/image12.png)</span></span>

<span data-ttu-id="478b3-234">**Şekil 6**: Kullanım `GetSuppliers()` yönteminin önbellekte tutulan sağlayıcı veri almak için ([tam boyutlu görüntüyü görmek için tıklatın](caching-data-at-application-startup-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="478b3-234">**Figure 6**: Use the `GetSuppliers()` Method to Retrieve the Cached Supplier Data ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image14.png))</span></span>


<span data-ttu-id="478b3-235">Sihirbazı tamamladıktan sonra Visual Studio otomatik olarak BoundFields her veri alanı için ekler `SuppliersDataTable`.</span><span class="sxs-lookup"><span data-stu-id="478b3-235">After completing the wizard, Visual Studio will automatically add BoundFields for each of the data fields in `SuppliersDataTable`.</span></span> <span data-ttu-id="478b3-236">GridView ve ObjectDataSource bildirim temelli biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="478b3-236">Your GridView and ObjectDataSource's declarative markup should look similar to the following:</span></span>


[!code-aspx[Main](caching-data-at-application-startup-cs/samples/sample7.aspx)]

<span data-ttu-id="478b3-237">Şekil 7, sayfada bir tarayıcıdan görüntülendiğinde gösterilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-237">Figure 7 shows the page when viewed through a browser.</span></span> <span data-ttu-id="478b3-238">Çıkış aynı ki çekilen veri BLL ait olduğu `SuppliersBLL` sınıf ancak kullanarak `StaticCache` sınıfı Tedarikçi verileri uygulama başlangıcında önbelleğe alınmış olarak döndürür.</span><span class="sxs-lookup"><span data-stu-id="478b3-238">The output is the same had we pulled the data from the BLL's `SuppliersBLL` class, but using the `StaticCache` class returns the supplier data as cached at application startup.</span></span> <span data-ttu-id="478b3-239">Kesme noktalarını ayarlayabilir `StaticCache` sınıfın `GetSuppliers()` bu davranışı doğrulamak için yöntem.</span><span class="sxs-lookup"><span data-stu-id="478b3-239">You can set breakpoints in the `StaticCache` class's `GetSuppliers()` method to verify this behavior.</span></span>


<span data-ttu-id="478b3-240">[![Önbelleğe alınmış tedarikçi veriler içinde GridView görüntülenir](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="478b3-240">[![The Cached Supplier Data is Displayed in a GridView](caching-data-at-application-startup-cs/_static/image16.png)](caching-data-at-application-startup-cs/_static/image15.png)</span></span>

<span data-ttu-id="478b3-241">**Şekil 7**: Önbelleğe alınmış tedarikçi veriler içinde GridView görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](caching-data-at-application-startup-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="478b3-241">**Figure 7**: The Cached Supplier Data is Displayed in a GridView ([Click to view full-size image](caching-data-at-application-startup-cs/_static/image17.png))</span></span>


## <a name="summary"></a><span data-ttu-id="478b3-242">Özet</span><span class="sxs-lookup"><span data-stu-id="478b3-242">Summary</span></span>

<span data-ttu-id="478b3-243">Çoğu her veri modeli ciddi miktarda bir genellikle arama tabloları biçiminde uygulanan statik veriler içerir.</span><span class="sxs-lookup"><span data-stu-id="478b3-243">Most every data model contains a fair amount of static data, usually implemented in the form of lookup tables.</span></span> <span data-ttu-id="478b3-244">Bu bilgiler statik olduğundan, bu bilgileri görüntülenmesi gereken sürekli olarak her zaman veritabanına erişmek için neden yoktur.</span><span class="sxs-lookup"><span data-stu-id="478b3-244">Since this information is static, there's no reason to continually access the database each time this information needs to be displayed.</span></span> <span data-ttu-id="478b3-245">Veriler önbelleğe almayı bir süre sonu gerek olduğunda Ayrıca, statik doğası gereği.</span><span class="sxs-lookup"><span data-stu-id="478b3-245">Furthermore, due to its static nature, when caching the data there's no need for an expiry.</span></span> <span data-ttu-id="478b3-246">Bu öğreticide bu tür veri alıp veri önbelleğindeki uygulama durumu ve bir statik üye değişkeni aracılığıyla önbelleğe nasıl gördük.</span><span class="sxs-lookup"><span data-stu-id="478b3-246">In this tutorial we saw how to take such data and cache it in the data cache, application state, and through a static member variable.</span></span> <span data-ttu-id="478b3-247">Bu bilgiler, uygulama başlangıcında önbelleğe alınır ve uygulamanın ömrü boyunca önbellekte kalır.</span><span class="sxs-lookup"><span data-stu-id="478b3-247">This information is cached at application startup and remains in the cache throughout the application's lifetime.</span></span>

<span data-ttu-id="478b3-248">Bu öğreticide ve son iki ediyoruz ve verileri uygulamanın ömrü boyunca önbelleğe alma yanı sıra, zamana bağlı expiries kullanarak görünüyordu.</span><span class="sxs-lookup"><span data-stu-id="478b3-248">In this tutorial and the past two, we ve looked at caching data for the duration of the application's lifetime as well as using time-based expiries.</span></span> <span data-ttu-id="478b3-249">Ancak, veritabanı verileri önbelleğe alma, zamana bağlı süre sonu küçüktür ideal olabilir.</span><span class="sxs-lookup"><span data-stu-id="478b3-249">When caching database data, though, a time-based expiry may be less than ideal.</span></span> <span data-ttu-id="478b3-250">Önbellek Temizleme yerine düzenli aralıklarla, temel alınan veritabanı veri değiştirildiğinde önbelleğe alınan öğeyi yalnızca çıkarmak için en uygun olacaktır.</span><span class="sxs-lookup"><span data-stu-id="478b3-250">Rather than periodically flushing the cache, it would be optimal to only evict the cached item when the underlying database data is modified.</span></span> <span data-ttu-id="478b3-251">Bu bizim sonraki öğreticide inceleyeceğiz SQL önbellek bağımlılıklarını sağlanamaz idealdir.</span><span class="sxs-lookup"><span data-stu-id="478b3-251">This ideal is possible through the use of SQL cache dependencies, which we'll examine in our next tutorial.</span></span>

<span data-ttu-id="478b3-252">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="478b3-252">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="478b3-253">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="478b3-253">About the Author</span></span>

<span data-ttu-id="478b3-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="478b3-254">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="478b3-255">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="478b3-255">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="478b3-256">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="478b3-256">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="478b3-257">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="478b3-257">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="478b3-258">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="478b3-258">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="478b3-259">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="478b3-259">Special Thanks To</span></span>

<span data-ttu-id="478b3-260">Bu öğretici serisinde, birçok yararlı Gözden Geçiren tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="478b3-260">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="478b3-261">Bu öğretici için müşteri adayı gözden geçirenler Teresa Murphy ve Zack Jones yoktu.</span><span class="sxs-lookup"><span data-stu-id="478b3-261">Lead reviewers for this tutorial were Teresa Murphy and Zack Jones.</span></span> <span data-ttu-id="478b3-262">Yaklaşan My MSDN makaleleri gözden geçirme ilgileniyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="478b3-262">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="478b3-263">Bu durumda, bir satır bana bırak [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="478b3-263">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="478b3-264">[Önceki](caching-data-in-the-architecture-cs.md)
> [İleri](using-sql-cache-dependencies-cs.md)</span><span class="sxs-lookup"><span data-stu-id="478b3-264">[Previous](caching-data-in-the-architecture-cs.md)
[Next](using-sql-cache-dependencies-cs.md)</span></span>
