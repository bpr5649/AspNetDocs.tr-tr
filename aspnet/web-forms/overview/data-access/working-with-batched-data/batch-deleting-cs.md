---
uid: web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
title: Toplu silme (C#) | Microsoft Docs
author: rick-anderson
description: Tek bir işlemde birden çok veritabanı kaydını silmeyi öğrenin. Kullanıcı arabirimi katmanında, önceki bir tut... içinde oluşturulan gelişmiş bir GridView üzerinde oluşturacağız.
ms.author: riande
ms.date: 06/26/2007
ms.assetid: ac6916d0-a5ab-4218-9760-7ba9e72d258c
msc.legacyurl: /web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: ed832c38b4972f440ab64c141e29c85f0a9df920
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74589009"
---
# <a name="batch-deleting-c"></a><span data-ttu-id="86a43-104">Toplu Silme (C#)</span><span class="sxs-lookup"><span data-stu-id="86a43-104">Batch Deleting (C#)</span></span>

<span data-ttu-id="86a43-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="86a43-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="86a43-106">[Kodu indirin](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) veya [PDF 'yi indirin](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="86a43-106">[Download Code](https://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) or [Download PDF](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span></span>

> <span data-ttu-id="86a43-107">Tek bir işlemde birden çok veritabanı kaydını silmeyi öğrenin.</span><span class="sxs-lookup"><span data-stu-id="86a43-107">Learn how to delete multiple database records in a single operation.</span></span> <span data-ttu-id="86a43-108">Kullanıcı arabirimi katmanında, daha önceki bir öğreticide oluşturulan gelişmiş bir GridView üzerinde oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="86a43-108">In the User Interface Layer we build upon an enhanced GridView created in an earlier tutorial.</span></span> <span data-ttu-id="86a43-109">Veri erişim katmanında, tüm silmenin başarılı veya tüm silinmelerin geri alındığından emin olmak için bir işlem içindeki birden çok silme işlemini sardık.</span><span class="sxs-lookup"><span data-stu-id="86a43-109">In the Data Access Layer we wrap the multiple Delete operations within a transaction to ensure that all deletions succeed or all deletions are rolled back.</span></span>

## <a name="introduction"></a><span data-ttu-id="86a43-110">Giriş</span><span class="sxs-lookup"><span data-stu-id="86a43-110">Introduction</span></span>

<span data-ttu-id="86a43-111">[Önceki öğreticide](batch-updating-cs.md) , tam olarak düzenlenebilir bir GridView kullanılarak toplu düzenleme arabirimi oluşturma işlemi araştırılmış.</span><span class="sxs-lookup"><span data-stu-id="86a43-111">The [preceding tutorial](batch-updating-cs.md) explored how to create a batch editing interface using a fully-editable GridView.</span></span> <span data-ttu-id="86a43-112">Kullanıcıların birçok kaydı tek seferde düzenlemekte olduğu durumlarda, toplu bir düzenleyici arabirimi, son kullanıcının verimliliğini artırarak daha az sayıda geri yükleme ve klavyeden fareyle bağlam anahtarları gerektirir.</span><span class="sxs-lookup"><span data-stu-id="86a43-112">In situations where users are commonly editing many records at once, a batch editing interface will require far fewer postbacks and keyboard-to-mouse context switches, thereby improving the end user s efficiency.</span></span> <span data-ttu-id="86a43-113">Bu teknik benzer şekilde, kullanıcıların tek bir go 'da birçok kaydı silmesi için ortak olduğu sayfalar için de kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="86a43-113">This technique is similarly useful for pages where it is common for users to delete many records in one go.</span></span>

<span data-ttu-id="86a43-114">Çevrimiçi bir e-posta istemcisi kullanan herkes, en yaygın toplu Batch 'yi silme arabirimlerinden birini zaten biliyor: bir kılavuzdaki her satırdaki her satırdaki onay kutusu, karşılık gelen tüm Işaretlenmiş öğeleri Sil düğmesi (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="86a43-114">Anyone who has used an online email client is already familiar with one of the most common batch deleting interfaces: a checkbox in each row in a grid with a corresponding Delete All Checked Items button (see Figure 1).</span></span> <span data-ttu-id="86a43-115">Bu öğreticide, hem Web tabanlı arabirim oluşturma hem de bir kayıt serisini tek atomik bir işlem olarak silmek için bir yöntem olan önceki öğreticilerdeki tüm sabit işleri zaten yaptığımız için bu öğretici daha kısadır.</span><span class="sxs-lookup"><span data-stu-id="86a43-115">This tutorial is rather short because we ve already done all of the hard work in previous tutorials in creating both the web-based interface and a method to delete a series of records as a single atomic operation.</span></span> <span data-ttu-id="86a43-116">[Onay kutuları ekleme öğreticisindeki GridView sütununda](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) , CheckBox 'ları Içeren bir GridView oluşturduk ve [bir Işlem öğreticisindeki sarmalama veritabanı değişiklikleri](wrapping-database-modifications-within-a-transaction-cs.md) içinde, bir `ProductID` değerlerinin `List<T>` silmek için bir işlem kullanan BLL 'de bir yöntem oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="86a43-116">In the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial we created a GridView with a column of checkboxes and in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial we created a method in the BLL that would use a transaction to delete a `List<T>` of `ProductID` values.</span></span> <span data-ttu-id="86a43-117">Bu öğreticide, bir çalışma toplu işi oluşturmak için önceki deneyimlerimizi oluşturacak ve birleştirme işlemini gerçekleştireceğiz.</span><span class="sxs-lookup"><span data-stu-id="86a43-117">In this tutorial, we will build upon and merge our previous experiences to create a working batch deleting example.</span></span>

<span data-ttu-id="86a43-118">[Her satır ![onay kutusu Içerir](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="86a43-118">[![Each Row Includes a Checkbox](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span></span>

<span data-ttu-id="86a43-119">**Şekil 1**: her satır bir onay kutusu içerir ([tam boyutlu görüntüyü görüntülemek için tıklayın](batch-deleting-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="86a43-119">**Figure 1**: Each Row Includes a Checkbox ([Click to view full-size image](batch-deleting-cs/_static/image2.png))</span></span>

## <a name="step-1-creating-the-batch-deleting-interface"></a><span data-ttu-id="86a43-120">1\. Adım: toplu Işi silme arabirimi oluşturma</span><span class="sxs-lookup"><span data-stu-id="86a43-120">Step 1: Creating the Batch Deleting Interface</span></span>

<span data-ttu-id="86a43-121">[Onay kutusu öğreticisinin GridView sütununda bir GridView ekleme](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) arabirimini zaten oluşturduğumuz için, onu sıfırdan oluşturmak yerine `BatchDelete.aspx` kopyalamanız yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="86a43-121">Since we already created the batch deleting interface in the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, we can simply copy it to `BatchDelete.aspx` rather than creating it from scratch.</span></span> <span data-ttu-id="86a43-122">`BatchData` klasöründeki `BatchDelete.aspx` sayfasını ve `EnhancedGridView` klasöründeki `CheckBoxField.aspx` sayfasını açarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="86a43-122">Start by opening the `BatchDelete.aspx` page in the `BatchData` folder and the `CheckBoxField.aspx` page in the `EnhancedGridView` folder.</span></span> <span data-ttu-id="86a43-123">`CheckBoxField.aspx` sayfasında, kaynak görünümüne gidin ve Şekil 2 ' de gösterildiği gibi, `<asp:Content>` etiketleri arasındaki biçimlendirmeyi kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="86a43-123">From the `CheckBoxField.aspx` page, go to the Source view and copy the markup between the `<asp:Content>` tags as shown in Figure 2.</span></span>

<span data-ttu-id="86a43-124">[CheckBoxField. aspx ' in bildirim temelli Işaretlemesini panoya kopyalamak ![](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="86a43-124">[![Copy the Declarative Markup of CheckBoxField.aspx to the Clipboard](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span></span>

<span data-ttu-id="86a43-125">**Şekil 2**: `CheckBoxField.aspx` bildirim temelli işaretlemesini panoya kopyalama ([tam boyutlu görüntüyü görüntülemek için tıklayın](batch-deleting-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="86a43-125">**Figure 2**: Copy the Declarative Markup of `CheckBoxField.aspx` to the Clipboard ([Click to view full-size image](batch-deleting-cs/_static/image4.png))</span></span>

<span data-ttu-id="86a43-126">Sonra, `BatchDelete.aspx` ' deki kaynak görünümüne gidin ve Pano içeriğini `<asp:Content>` etiketleri içine yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="86a43-126">Next, go to the Source view in `BatchDelete.aspx` and paste the contents of the clipboard within the `<asp:Content>` tags.</span></span> <span data-ttu-id="86a43-127">Ayrıca, kodu `CheckBoxField.aspx.cs` arka plan kod sınıfı içinden `BatchDelete.aspx.cs` (`DeleteSelectedProducts` düğme s `Click` olay işleyicisi, `ToggleCheckState` yöntemi ve `Click` ve `CheckAll` düğmeleri için `UncheckAll` olay işleyicileri) içine kopyalayın ve yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="86a43-127">Also copy and paste the code from within the code-behind class in `CheckBoxField.aspx.cs` to within the code-behind class in `BatchDelete.aspx.cs` (the `DeleteSelectedProducts` Button s `Click` event handler, the `ToggleCheckState` method, and the `Click` event handlers for the `CheckAll` and `UncheckAll` Buttons).</span></span> <span data-ttu-id="86a43-128">Bu içeriğin üzerine kopyaladıktan sonra, `BatchDelete.aspx` sayfa arka plan kod sınıfı aşağıdaki kodu içermelidir:</span><span class="sxs-lookup"><span data-stu-id="86a43-128">After copying over this content, the `BatchDelete.aspx` page s code-behind class should contain the following code:</span></span>

[!code-csharp[Main](batch-deleting-cs/samples/sample1.cs)]

<span data-ttu-id="86a43-129">Bildirim temelli biçimlendirme ve kaynak kodu üzerine kopyaladıktan sonra, bir tarayıcıdan görüntüleyerek `BatchDelete.aspx` test etmek biraz zaman ayırın.</span><span class="sxs-lookup"><span data-stu-id="86a43-129">After copying over the declarative markup and source code, take a moment to test `BatchDelete.aspx` by viewing it through a browser.</span></span> <span data-ttu-id="86a43-130">Ürün adı, kategori ve fiyat onay kutusu ile birlikte her satır için GridView 'da ilk on ürünün listelendiği bir GridView görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="86a43-130">You should see a GridView listing the first ten products in a GridView with each row listing the product s name, category, and price along with a checkbox.</span></span> <span data-ttu-id="86a43-131">Üç düğme olmalıdır: tümünü Işaretleyin, tümünün Işaretini kaldırın ve seçili ürünleri silin.</span><span class="sxs-lookup"><span data-stu-id="86a43-131">There should be three buttons: Check All, Uncheck All, and Delete Selected Products.</span></span> <span data-ttu-id="86a43-132">Tümünü Işaretle düğmesine tıklamak tüm onay kutularını seçer, ancak tümünün Işaretini kaldır tüm onay kutularını temizler.</span><span class="sxs-lookup"><span data-stu-id="86a43-132">Clicking the Check All button selects all checkboxes, while Uncheck All clears all checkboxes.</span></span> <span data-ttu-id="86a43-133">Seçili ürünleri Sil ' i tıklatmak seçili ürünlerin `ProductID` değerlerini listeleyen bir ileti görüntüler, ancak ürünleri gerçekten silmez.</span><span class="sxs-lookup"><span data-stu-id="86a43-133">Clicking Delete Selected Products displays a message that lists the `ProductID` values of the selected products, but does not actually delete the products.</span></span>

<span data-ttu-id="86a43-134">[CheckBoxField. aspx ' den arabirim ![Batchsilmesini. aspx ' e taşındı](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="86a43-134">[![The Interface from CheckBoxField.aspx has been Moved to BatchDeleting.aspx](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span></span>

<span data-ttu-id="86a43-135">**Şekil 3**: `CheckBoxField.aspx` arabirimi `BatchDeleting.aspx` taşındı ([tam boyutlu görüntüyü görüntülemek için tıklayın](batch-deleting-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="86a43-135">**Figure 3**: The Interface from `CheckBoxField.aspx` has been Moved to `BatchDeleting.aspx` ([Click to view full-size image](batch-deleting-cs/_static/image6.png))</span></span>

## <a name="step-2-deleting-the-checked-products-using-transactions"></a><span data-ttu-id="86a43-136">2\. Adım: Işlemleri kullanarak denetlenen ürünleri silme</span><span class="sxs-lookup"><span data-stu-id="86a43-136">Step 2: Deleting the Checked Products Using Transactions</span></span>

<span data-ttu-id="86a43-137">Toplu iş silme arabirimi `BatchDeleting.aspx`' ye başarıyla kopyalanırsa, seçili ürünleri Sil düğmesinin, `ProductsBLL` sınıfındaki `DeleteProductsWithTransaction` yöntemi kullanılarak denetlenen ürünleri silmesi için kodu güncelleştirme işlemi devam etmektedir.</span><span class="sxs-lookup"><span data-stu-id="86a43-137">With the batch deleting interface successfully copied over to `BatchDeleting.aspx`, all that remains is to update the code so that the Delete Selected Products button deletes the checked products using the `DeleteProductsWithTransaction` method in the `ProductsBLL` class.</span></span> <span data-ttu-id="86a43-138">[Bir işlem öğreticisindeki sarmalama veritabanı değişikliklerine](wrapping-database-modifications-within-a-transaction-cs.md) eklenen bu yöntem, `ProductID` değerlerinin `List<T>` giriş olarak kabul eder ve karşılık gelen her `ProductID` bir işlemin kapsamı içinde siler.</span><span class="sxs-lookup"><span data-stu-id="86a43-138">This method, added in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial, accepts as its input a `List<T>` of `ProductID` values and deletes each corresponding `ProductID` within the scope of a transaction.</span></span>

<span data-ttu-id="86a43-139">`DeleteSelectedProducts` Button s `Click` olay işleyicisi şu anda her bir GridView satırında yinelemek için aşağıdaki `foreach` döngüsünü kullanır:</span><span class="sxs-lookup"><span data-stu-id="86a43-139">The `DeleteSelectedProducts` Button s `Click` event handler currently uses the following `foreach` loop to iterate through each GridView row:</span></span>

[!code-csharp[Main](batch-deleting-cs/samples/sample2.cs)]

<span data-ttu-id="86a43-140">Her satır için `ProductSelector` onay kutusu Web denetimine program aracılığıyla başvurulur.</span><span class="sxs-lookup"><span data-stu-id="86a43-140">For each row, the `ProductSelector` CheckBox Web control is programmatically referenced.</span></span> <span data-ttu-id="86a43-141">İşaretliyse, satır s `ProductID` `DataKeys` koleksiyonundan alınır ve `DeleteResults` Label s `Text` özelliği, satırın silinmek üzere seçili olduğunu belirten bir ileti içerecek şekilde güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="86a43-141">If it is checked, the row s `ProductID` is retrieved from the `DataKeys` collection and the `DeleteResults` Label s `Text` property is updated to include a message indicating that the row was selected for deletion.</span></span>

<span data-ttu-id="86a43-142">Yukarıdaki kod, `ProductsBLL` sınıf s `Delete` yöntemine yapılan çağrı geçersiz kılınan bir kaydı gerçekten silmez. Bu silme mantığı uygulanmıştı, kod ürünleri silecek ancak atomik bir işlem içinde değil.</span><span class="sxs-lookup"><span data-stu-id="86a43-142">The above code does not actually delete any records as the call to the `ProductsBLL` class s `Delete` method is commented out. Were this delete logic to be applied, the code would delete the products but not within an atomic operation.</span></span> <span data-ttu-id="86a43-143">Yani, dizideki ilk birkaç silme işlemi başarılı oldu, ancak daha sonra bir başarısız oldu (Belki de bir yabancı anahtar kısıtlaması ihlali nedeniyle), bir özel durum oluşturulur ancak zaten silinmiş olan ürünler silinmiş olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="86a43-143">That is, if the first few deletes in the sequence succeeded, but a later one failed (perhaps due to a foreign key constraint violation), an exception would be thrown but those products already deleted would remain deleted.</span></span>

<span data-ttu-id="86a43-144">Kararlılığını güvence altına almak için bunun yerine `ProductsBLL` Class s `DeleteProductsWithTransaction` metodunu kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="86a43-144">In order to assure atomicity, we need to instead use the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="86a43-145">Bu yöntem `ProductID` değerleri listesini kabul ettiğinden, önce bu listeyi kılavuzdan derleyip sonra bir parametre olarak iletmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="86a43-145">Because this method accepts a list of `ProductID` values, we need to first compile this list from the grid and then pass it as a parameter.</span></span> <span data-ttu-id="86a43-146">Önce `int`türünde bir `List<T>` örneği oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="86a43-146">We first create an instance of a `List<T>` of type `int`.</span></span> <span data-ttu-id="86a43-147">`foreach` döngüsünde, seçilen ürünlerin `ProductID` değerlerini bu `List<T>`eklemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="86a43-147">Within the `foreach` loop we need to add the selected products `ProductID` values to this `List<T>`.</span></span> <span data-ttu-id="86a43-148">Döngüden sonra bu `List<T>` `ProductsBLL` sınıf s `DeleteProductsWithTransaction` metoduna geçirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="86a43-148">After the loop this `List<T>` must be passed to the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="86a43-149">`DeleteSelectedProducts` Button s `Click` olay işleyicisini aşağıdaki kodla güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="86a43-149">Update the `DeleteSelectedProducts` Button s `Click` event handler with the following code:</span></span>

[!code-csharp[Main](batch-deleting-cs/samples/sample3.cs)]

<span data-ttu-id="86a43-150">Güncelleştirilmiş kod, `int` (`productIDsToDelete`) türünde bir `List<T>` oluşturur ve silinecek `ProductID` değerleriyle doldurur.</span><span class="sxs-lookup"><span data-stu-id="86a43-150">The updated code creates a `List<T>` of type `int` (`productIDsToDelete`) and populates it with the `ProductID` values to delete.</span></span> <span data-ttu-id="86a43-151">`foreach` döngüsünden sonra, en az bir ürün seçilirse `ProductsBLL` sınıf s `DeleteProductsWithTransaction` metodu çağrılır ve bu liste geçirilir.</span><span class="sxs-lookup"><span data-stu-id="86a43-151">After the `foreach` loop, if there is at least one product selected, the `ProductsBLL` class s `DeleteProductsWithTransaction` method is called and passed this list.</span></span> <span data-ttu-id="86a43-152">`DeleteResults` etiketi de görüntülenir ve veriler GridView 'a yeniden bağlanır (böylece yeni silinen kayıtlar kılavuzda satır olarak görünmez).</span><span class="sxs-lookup"><span data-stu-id="86a43-152">The `DeleteResults` Label is also displayed and the data rebound to the GridView (so that the newly-deleted records no longer appear as rows in the grid).</span></span>

<span data-ttu-id="86a43-153">Şekil 4 ' te, bir dizi satır silinmek üzere seçildikten sonra GridView gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="86a43-153">Figure 4 shows the GridView after a number of rows have been selected for deletion.</span></span> <span data-ttu-id="86a43-154">Şekil 5 ' te, seçili ürünleri Sil düğmesine tıklandıktan hemen sonra ekran gösterilir.</span><span class="sxs-lookup"><span data-stu-id="86a43-154">Figure 5 shows the screen immediately after the Delete Selected Products button has been clicked.</span></span> <span data-ttu-id="86a43-155">Şekil 5 ' te, silinen kayıtların `ProductID` değerlerinin GridView 'un altındaki etikette görüntülendiğini ve bu satırların artık GridView 'da olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="86a43-155">Note that in Figure 5 the `ProductID` values of the deleted records are displayed in the Label beneath the GridView and those rows are no longer in the GridView.</span></span>

<span data-ttu-id="86a43-156">[![seçili ürünler silinecek](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="86a43-156">[![The Selected Products Will Be Deleted](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span></span>

<span data-ttu-id="86a43-157">**Şekil 4**: Seçili Ürünler silinecek ([tam boyutlu görüntüyü görüntülemek için tıklayın](batch-deleting-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="86a43-157">**Figure 4**: The Selected Products Will Be Deleted ([Click to view full-size image](batch-deleting-cs/_static/image8.png))</span></span>

<span data-ttu-id="86a43-158">[![silinen ürünlerin ProductID değerleri GridView 'un altında listelenmiştir](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="86a43-158">[![The Deleted Products ProductID Values are Listed Beneath the GridView](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span></span>

<span data-ttu-id="86a43-159">**Şekil 5**: silinen ürünler `ProductID` değerler GridView 'un altında listelenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](batch-deleting-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="86a43-159">**Figure 5**: The Deleted Products `ProductID` Values are Listed Beneath the GridView ([Click to view full-size image](batch-deleting-cs/_static/image10.png))</span></span>

> [!NOTE]
> <span data-ttu-id="86a43-160">`DeleteProductsWithTransaction` yöntemi kararlılığını test etmek için `Order Details` tablosundaki bir ürün için el ile bir giriş ekleyin ve ardından bu ürünü (diğer kişilerle birlikte) silmeyi deneyin.</span><span class="sxs-lookup"><span data-stu-id="86a43-160">To test the `DeleteProductsWithTransaction` method s atomicity, manually add an entry for a product in the `Order Details` table and then attempt to delete that product (along with others).</span></span> <span data-ttu-id="86a43-161">Ürünü ilişkili bir siparişle silmeye çalışırken bir yabancı anahtar kısıtlaması ihlali alırsınız, ancak seçilen diğer ürün silme işlemlerinin nasıl geri alınacağını aklınızda bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86a43-161">You will receive a foreign key constraint violation when attempting to delete the product with an associated order, but note how the other selected products deletions are rolled back.</span></span>

## <a name="summary"></a><span data-ttu-id="86a43-162">Özet</span><span class="sxs-lookup"><span data-stu-id="86a43-162">Summary</span></span>

<span data-ttu-id="86a43-163">Batch silme arabirimi oluşturmak, CheckBox sütunuyla bir GridView eklemeyi ve tıklandığı zaman bir düğme web denetimini, tıklatıldığında seçili satırların tümünü tek atomik bir işlem olarak silecek şekilde içerir.</span><span class="sxs-lookup"><span data-stu-id="86a43-163">Creating a batch deleting interface involves adding a GridView with a column of checkboxes and a Button Web control that, when clicked, will delete all of the selected rows as a single atomic operation.</span></span> <span data-ttu-id="86a43-164">Bu öğreticide, iki önceki öğreticide bir [GridView sütunu ekleyerek](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) ve [bir Işlem Içindeki veritabanı değişikliklerini sarmalayarak](wrapping-database-modifications-within-a-transaction-cs.md), bu tür bir arabirimi piecing ile birlikte geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="86a43-164">In this tutorial we built such an interface by piecing together work done in two previous tutorials, [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) and [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md).</span></span> <span data-ttu-id="86a43-165">İlk öğreticide, CheckBox 'ları içeren bir GridView oluşturduğumuz ve ikinci bölümünde, bir `List<T>` `ProductID` değerleri geçirildiğinde bir işlemin kapsamı içinde silinen bir yöntemi uyguladık.</span><span class="sxs-lookup"><span data-stu-id="86a43-165">In the first tutorial we created a GridView with a column of checkboxes and in the latter we implemented a method in the BLL that, when passed a `List<T>` of `ProductID` values, deleted them all within the scope of a transaction.</span></span>

<span data-ttu-id="86a43-166">Sonraki öğreticide, toplu ekleme işlemi gerçekleştirmek için bir arabirim oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="86a43-166">In the next tutorial we'll create an interface for performing batch inserts.</span></span>

<span data-ttu-id="86a43-167">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="86a43-167">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="86a43-168">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="86a43-168">About the Author</span></span>

<span data-ttu-id="86a43-169">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="86a43-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="86a43-170">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="86a43-170">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="86a43-171">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="86a43-171">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="86a43-172">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="86a43-172">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="86a43-173">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="86a43-173">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="86a43-174">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="86a43-174">Special Thanks To</span></span>

<span data-ttu-id="86a43-175">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="86a43-175">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="86a43-176">Bu öğreticide lider gözden geçirenler, Giesenow ve Teresa Murphy olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="86a43-176">Lead reviewers for this tutorial were Hilton Giesenow and Teresa Murphy.</span></span> <span data-ttu-id="86a43-177">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="86a43-177">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="86a43-178">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="86a43-178">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="86a43-179">[Önceki](batch-updating-cs.md)
> [İleri](batch-inserting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="86a43-179">[Previous](batch-updating-cs.md)
[Next](batch-inserting-cs.md)</span></span>
