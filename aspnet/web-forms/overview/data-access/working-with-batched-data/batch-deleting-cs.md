---
uid: web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
title: Toplu silme (C#) | Microsoft Docs
author: rick-anderson
description: Tek bir işlemde birden çok veritabanı kaydı silmeyi öğrenin. Kullanıcı arabirimi katmanda daha önceki bir tut oluşturulmuş bir geliştirilmiş GridView ekleriz...
ms.author: riande
ms.date: 06/26/2007
ms.assetid: ac6916d0-a5ab-4218-9760-7ba9e72d258c
msc.legacyurl: /web-forms/overview/data-access/working-with-batched-data/batch-deleting-cs
msc.type: authoredcontent
ms.openlocfilehash: c5b4d3c21fad9000ae50ecb35a5d94d176a135ee
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57069570"
---
<a name="batch-deleting-c"></a><span data-ttu-id="93f60-104">Toplu Silme (C#)</span><span class="sxs-lookup"><span data-stu-id="93f60-104">Batch Deleting (C#)</span></span>
====================
<span data-ttu-id="93f60-105">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="93f60-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="93f60-106">[Kodu indir](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) veya [PDF olarak indirin](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="93f60-106">[Download Code](http://download.microsoft.com/download/3/9/f/39f92b37-e92e-4ab3-909e-b4ef23d01aa3/ASPNET_Data_Tutorial_65_CS.zip) or [Download PDF](batch-deleting-cs/_static/datatutorial65cs1.pdf)</span></span>

> <span data-ttu-id="93f60-107">Tek bir işlemde birden çok veritabanı kaydı silmeyi öğrenin.</span><span class="sxs-lookup"><span data-stu-id="93f60-107">Learn how to delete multiple database records in a single operation.</span></span> <span data-ttu-id="93f60-108">Kullanıcı arabirimi katmanında bir önceki öğreticide oluşturulan bir Gelişmiş GridView bağlı ekleriz.</span><span class="sxs-lookup"><span data-stu-id="93f60-108">In the User Interface Layer we build upon an enhanced GridView created in an earlier tutorial.</span></span> <span data-ttu-id="93f60-109">Veri erişim katmanındaki biz tüm silme işlemleri başarılı olması veya tüm silme işlemleri geri alınacak emin olmak için bir işlem içinde birden çok silme işlemleri kaydır.</span><span class="sxs-lookup"><span data-stu-id="93f60-109">In the Data Access Layer we wrap the multiple Delete operations within a transaction to ensure that all deletions succeed or all deletions are rolled back.</span></span>


## <a name="introduction"></a><span data-ttu-id="93f60-110">Giriş</span><span class="sxs-lookup"><span data-stu-id="93f60-110">Introduction</span></span>

<span data-ttu-id="93f60-111">[Önceki öğretici](batch-updating-cs.md) toplu düzenleme tam olarak düzenlenebilir GridView kullanarak arabirimi oluşturmak nasıl incelediniz.</span><span class="sxs-lookup"><span data-stu-id="93f60-111">The [preceding tutorial](batch-updating-cs.md) explored how to create a batch editing interface using a fully-editable GridView.</span></span> <span data-ttu-id="93f60-112">Burada kullanıcıların yaygın olarak düzenlemekte olduğunuz birçok kaydı tek seferde durumlarda arabirimini düzenleme toplu çok daha az Geri göndermeler ve klavye ve fare bağlamı gerektirir anahtarları, böylece son kullanıcı s verimliliğini artırma.</span><span class="sxs-lookup"><span data-stu-id="93f60-112">In situations where users are commonly editing many records at once, a batch editing interface will require far fewer postbacks and keyboard-to-mouse context switches, thereby improving the end user s efficiency.</span></span> <span data-ttu-id="93f60-113">Bu teknik benzer şekilde tek bir seferde birçok kayıtları silmek kullanıcılar için yaygın olduğu sayfaları için faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="93f60-113">This technique is similarly useful for pages where it is common for users to delete many records in one go.</span></span>

<span data-ttu-id="93f60-114">Bir çevrimiçi e-posta istemcisi kullanan herkesin zaten arabirimleri silme en yaygın batch biriyle alışkın olduğu: bir onay kutusu her satırda bir karşılık gelen silmek tüm seçili öğeleri içeren bir kılavuz düğmesine (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="93f60-114">Anyone who has used an online email client is already familiar with one of the most common batch deleting interfaces: a checkbox in each row in a grid with a corresponding Delete All Checked Items button (see Figure 1).</span></span> <span data-ttu-id="93f60-115">Bu öğretici çok kısa olduğundan ediyoruz ve tüm önceki öğreticilerde, web tabanlı bir arabirim hem kayıtları bir dizi tek bir atomik işlem olarak silmek için bir yöntem oluşturmanın zor bir iş zaten bitti.</span><span class="sxs-lookup"><span data-stu-id="93f60-115">This tutorial is rather short because we ve already done all of the hard work in previous tutorials in creating both the web-based interface and a method to delete a series of records as a single atomic operation.</span></span> <span data-ttu-id="93f60-116">İçinde [onay kutularından oluşan GridView sütunu ekleme](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) sütunu bulunan onay kutularını ve içinde GridView oluşturduğumuz öğretici [veritabanı değişikliklerini bir işlemin içinde sarmalama](wrapping-database-modifications-within-a-transaction-cs.md) bir yöntemde oluşturduğumuz Öğreticisi bir işlem silmek için kullanacağınız BLL bir `List<T>` , `ProductID` değerleri.</span><span class="sxs-lookup"><span data-stu-id="93f60-116">In the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial we created a GridView with a column of checkboxes and in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial we created a method in the BLL that would use a transaction to delete a `List<T>` of `ProductID` values.</span></span> <span data-ttu-id="93f60-117">Bu öğreticide, biz sınayabilmesi ve örnek siliniyor çalışma toplu oluşturmak için önceki bizim deneyimleri birleştirin.</span><span class="sxs-lookup"><span data-stu-id="93f60-117">In this tutorial, we will build upon and merge our previous experiences to create a working batch deleting example.</span></span>


<span data-ttu-id="93f60-118">[![Bir onay kutusu her bir satır içerir](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="93f60-118">[![Each Row Includes a Checkbox](batch-deleting-cs/_static/image1.gif)](batch-deleting-cs/_static/image1.png)</span></span>

<span data-ttu-id="93f60-119">**Şekil 1**: Bir onay kutusu her bir satır içerir ([tam boyutlu görüntüyü görmek için tıklatın](batch-deleting-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="93f60-119">**Figure 1**: Each Row Includes a Checkbox ([Click to view full-size image](batch-deleting-cs/_static/image2.png))</span></span>


## <a name="step-1-creating-the-batch-deleting-interface"></a><span data-ttu-id="93f60-120">1. Adım: Arabirimi siliniyor toplu işi oluşturma</span><span class="sxs-lookup"><span data-stu-id="93f60-120">Step 1: Creating the Batch Deleting Interface</span></span>

<span data-ttu-id="93f60-121">Zaten arabiriminde silme batch oluşturduğumuz bu yana [onay kutularından oluşan GridView sütunu ekleme](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) Öğreticisi, biz yalnızca kopyalayabilir kendisine `BatchDelete.aspx` sıfırdan oluşturmak yerine.</span><span class="sxs-lookup"><span data-stu-id="93f60-121">Since we already created the batch deleting interface in the [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) tutorial, we can simply copy it to `BatchDelete.aspx` rather than creating it from scratch.</span></span> <span data-ttu-id="93f60-122">Başlangıç açarak `BatchDelete.aspx` sayfasını `BatchData` klasörü ve `CheckBoxField.aspx` sayfasını `EnhancedGridView` klasör.</span><span class="sxs-lookup"><span data-stu-id="93f60-122">Start by opening the `BatchDelete.aspx` page in the `BatchData` folder and the `CheckBoxField.aspx` page in the `EnhancedGridView` folder.</span></span> <span data-ttu-id="93f60-123">Gelen `CheckBoxField.aspx` sayfasında kaynak görünümüne gidin ve biçimlendirme arasında kopyalama `<asp:Content>` etiketleri Şekil 2'de gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="93f60-123">From the `CheckBoxField.aspx` page, go to the Source view and copy the markup between the `<asp:Content>` tags as shown in Figure 2.</span></span>


<span data-ttu-id="93f60-124">[![Bildirim temelli biçimlerini CheckBoxField.aspx Panoya Kopyala](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="93f60-124">[![Copy the Declarative Markup of CheckBoxField.aspx to the Clipboard](batch-deleting-cs/_static/image2.gif)](batch-deleting-cs/_static/image3.png)</span></span>

<span data-ttu-id="93f60-125">**Şekil 2**: Bildirim temelli biçimlerini kopyalama `CheckBoxField.aspx` panoya ([tam boyutlu görüntüyü görmek için tıklatın](batch-deleting-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="93f60-125">**Figure 2**: Copy the Declarative Markup of `CheckBoxField.aspx` to the Clipboard ([Click to view full-size image](batch-deleting-cs/_static/image4.png))</span></span>


<span data-ttu-id="93f60-126">Ardından, Kaynak Görünümü'nde Git `BatchDelete.aspx` ve içinde Pano'nun içindekileri yapıştırın `<asp:Content>` etiketler.</span><span class="sxs-lookup"><span data-stu-id="93f60-126">Next, go to the Source view in `BatchDelete.aspx` and paste the contents of the clipboard within the `<asp:Content>` tags.</span></span> <span data-ttu-id="93f60-127">Kodu arka plan kod sınıfının içinde de kopyalayıp `CheckBoxField.aspx.cs` için arka plan kod sınıfı içinde `BatchDelete.aspx.cs` ( `DeleteSelectedProducts` s düğmesi `Click` olay işleyicisi `ToggleCheckState` yöntemi ve `Click` olay işleyicileri için `CheckAll` ve `UncheckAll` düğmeler).</span><span class="sxs-lookup"><span data-stu-id="93f60-127">Also copy and paste the code from within the code-behind class in `CheckBoxField.aspx.cs` to within the code-behind class in `BatchDelete.aspx.cs` (the `DeleteSelectedProducts` Button s `Click` event handler, the `ToggleCheckState` method, and the `Click` event handlers for the `CheckAll` and `UncheckAll` Buttons).</span></span> <span data-ttu-id="93f60-128">Bu içerik üzerinde kopyaladıktan sonra `BatchDelete.aspx` sayfası s arka plan kod sınıfı aşağıdaki kodu içermelidir:</span><span class="sxs-lookup"><span data-stu-id="93f60-128">After copying over this content, the `BatchDelete.aspx` page s code-behind class should contain the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample1.cs)]

<span data-ttu-id="93f60-129">Kaynak kodu ve bildirim temelli biçimlendirme kopyaladıktan sonra test etmek için bir dakikanızı ayırarak `BatchDelete.aspx` bir tarayıcıdan görüntüleyerek.</span><span class="sxs-lookup"><span data-stu-id="93f60-129">After copying over the declarative markup and source code, take a moment to test `BatchDelete.aspx` by viewing it through a browser.</span></span> <span data-ttu-id="93f60-130">GridView s ürün adı, kategori ve bir onay kutusu birlikte fiyat listesi her satırın ilk on ürünleri listeleme GridView görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="93f60-130">You should see a GridView listing the first ten products in a GridView with each row listing the product s name, category, and price along with a checkbox.</span></span> <span data-ttu-id="93f60-131">Üç düğme olmalıdır: Tümünü İşaretle tümünün işaretini kaldır ve seçili ürünlerin silin.</span><span class="sxs-lookup"><span data-stu-id="93f60-131">There should be three buttons: Check All, Uncheck All, and Delete Selected Products.</span></span> <span data-ttu-id="93f60-132">Tüm onay kutularının işaretini kaldırın tüm temizler sırada denetle düğmesine tıklayarak tüm onay kutusunu seçer.</span><span class="sxs-lookup"><span data-stu-id="93f60-132">Clicking the Check All button selects all checkboxes, while Uncheck All clears all checkboxes.</span></span> <span data-ttu-id="93f60-133">Seçili ürünlerin Sil tıklayarak listeleyen bir ileti görüntüler `ProductID` seçili ürünlerin değerleri gerçekten ürünleri silmez ancak.</span><span class="sxs-lookup"><span data-stu-id="93f60-133">Clicking Delete Selected Products displays a message that lists the `ProductID` values of the selected products, but does not actually delete the products.</span></span>


<span data-ttu-id="93f60-134">[![CheckBoxField.aspx arabiriminden için BatchDeleting.aspx taşındı](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="93f60-134">[![The Interface from CheckBoxField.aspx has been Moved to BatchDeleting.aspx](batch-deleting-cs/_static/image3.gif)](batch-deleting-cs/_static/image5.png)</span></span>

<span data-ttu-id="93f60-135">**Şekil 3**: Arabirimden `CheckBoxField.aspx` taşındı `BatchDeleting.aspx` ([tam boyutlu görüntüyü görmek için tıklatın](batch-deleting-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="93f60-135">**Figure 3**: The Interface from `CheckBoxField.aspx` has been Moved to `BatchDeleting.aspx` ([Click to view full-size image](batch-deleting-cs/_static/image6.png))</span></span>


## <a name="step-2-deleting-the-checked-products-using-transactions"></a><span data-ttu-id="93f60-136">2. Adım: İşlemleri kullanarak işaretli ürün siliniyor</span><span class="sxs-lookup"><span data-stu-id="93f60-136">Step 2: Deleting the Checked Products Using Transactions</span></span>

<span data-ttu-id="93f60-137">Başarıyla üzerinden kopyalanmasını arabirimi siliniyor batch ile `BatchDeleting.aspx`, tüm kalan olduğunu ürün seçildi Sil düğmesini kullanarak işaretli ürünleri siler. böylece kodu güncelleştirmeye `DeleteProductsWithTransaction` yönteminde `ProductsBLL` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="93f60-137">With the batch deleting interface successfully copied over to `BatchDeleting.aspx`, all that remains is to update the code so that the Delete Selected Products button deletes the checked products using the `DeleteProductsWithTransaction` method in the `ProductsBLL` class.</span></span> <span data-ttu-id="93f60-138">Eklenen bu yöntem, [veritabanı değişikliklerini bir işlemin içinde sarmalama](wrapping-database-modifications-within-a-transaction-cs.md) öğreticide, girdi olarak kabul eden bir `List<T>` , `ProductID` değerleri ve karşılık gelen her siler `ProductID` kapsamında bir işlem.</span><span class="sxs-lookup"><span data-stu-id="93f60-138">This method, added in the [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md) tutorial, accepts as its input a `List<T>` of `ProductID` values and deletes each corresponding `ProductID` within the scope of a transaction.</span></span>

<span data-ttu-id="93f60-139">`DeleteSelectedProducts` s düğmesi `Click` olay işleyicisi aşağıdaki kullanmakta `foreach` döngü her GridView satır yineleme yapmak için:</span><span class="sxs-lookup"><span data-stu-id="93f60-139">The `DeleteSelectedProducts` Button s `Click` event handler currently uses the following `foreach` loop to iterate through each GridView row:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample2.cs)]

<span data-ttu-id="93f60-140">Her satır için `ProductSelector` onay kutusu Web denetimi programlı olarak başvuruluyor.</span><span class="sxs-lookup"><span data-stu-id="93f60-140">For each row, the `ProductSelector` CheckBox Web control is programmatically referenced.</span></span> <span data-ttu-id="93f60-141">İşaretlenirse, satır s `ProductID` alınır `DataKeys` koleksiyonu ve `DeleteResults` etiket s `Text` özelliği, satır silme işlemi için seçildi belirten bir ileti içerecek şekilde güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="93f60-141">If it is checked, the row s `ProductID` is retrieved from the `DataKeys` collection and the `DeleteResults` Label s `Text` property is updated to include a message indicating that the row was selected for deletion.</span></span>

<span data-ttu-id="93f60-142">Yukarıdaki kod gerçekte herhangi bir kayıt çağrısı olarak silmez `ProductsBLL` s sınıfı `Delete` yöntemi dışında bırakılır. Olan bu silme mantığı uygulanması, kodun ürünleri siler ancak atomik bir işlem içinde değil.</span><span class="sxs-lookup"><span data-stu-id="93f60-142">The above code does not actually delete any records as the call to the `ProductsBLL` class s `Delete` method is commented out. Were this delete logic to be applied, the code would delete the products but not within an atomic operation.</span></span> <span data-ttu-id="93f60-143">Diğer bir deyişle, bir özel durum dizideki ilk birkaç silme başarılı oldu, ancak daha sonraki bir (belki de bir yabancı anahtar kısıtlaması ihlali nedeniyle) başarısız oldu, ancak bu ürünlerin zaten silinmiş silinmiş olarak kalır.</span><span class="sxs-lookup"><span data-stu-id="93f60-143">That is, if the first few deletes in the sequence succeeded, but a later one failed (perhaps due to a foreign key constraint violation), an exception would be thrown but those products already deleted would remain deleted.</span></span>

<span data-ttu-id="93f60-144">Kararlılık güvence altına almak için kullanmayı gerekiyor `ProductsBLL` s sınıfı `DeleteProductsWithTransaction` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="93f60-144">In order to assure atomicity, we need to instead use the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="93f60-145">Bu yöntem bir listesini kabul ettiğinden `ProductID` değerleri ihtiyacımız ilk kılavuz bu listeden derlemek ve ardından bunu bir parametre olarak geçiriyoruz.</span><span class="sxs-lookup"><span data-stu-id="93f60-145">Because this method accepts a list of `ProductID` values, we need to first compile this list from the grid and then pass it as a parameter.</span></span> <span data-ttu-id="93f60-146">İlk örneğini oluşturacağız bir `List<T>` türü `int`.</span><span class="sxs-lookup"><span data-stu-id="93f60-146">We first create an instance of a `List<T>` of type `int`.</span></span> <span data-ttu-id="93f60-147">İçinde `foreach` ihtiyacımız seçili ürünlerin eklemek için döngü `ProductID` bu değerleri `List<T>`.</span><span class="sxs-lookup"><span data-stu-id="93f60-147">Within the `foreach` loop we need to add the selected products `ProductID` values to this `List<T>`.</span></span> <span data-ttu-id="93f60-148">Döngü sonra bu `List<T>` geçirilmelidir `ProductsBLL` s sınıfı `DeleteProductsWithTransaction` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="93f60-148">After the loop this `List<T>` must be passed to the `ProductsBLL` class s `DeleteProductsWithTransaction` method.</span></span> <span data-ttu-id="93f60-149">Güncelleştirme `DeleteSelectedProducts` s düğmesi `Click` olay işleyicisi aşağıdaki kod ile:</span><span class="sxs-lookup"><span data-stu-id="93f60-149">Update the `DeleteSelectedProducts` Button s `Click` event handler with the following code:</span></span>


[!code-csharp[Main](batch-deleting-cs/samples/sample3.cs)]

<span data-ttu-id="93f60-150">Güncelleştirilmiş kod oluşturur bir `List<T>` türü `int` (`productIDsToDelete`) ve onunla doldurur `ProductID` silmek için değerler.</span><span class="sxs-lookup"><span data-stu-id="93f60-150">The updated code creates a `List<T>` of type `int` (`productIDsToDelete`) and populates it with the `ProductID` values to delete.</span></span> <span data-ttu-id="93f60-151">Sonra `foreach` seçilmedi, en az bir ürün varsa, döngü `ProductsBLL` s sınıfı `DeleteProductsWithTransaction` yöntemi çağrılır ve bu listesi geçirildi.</span><span class="sxs-lookup"><span data-stu-id="93f60-151">After the `foreach` loop, if there is at least one product selected, the `ProductsBLL` class s `DeleteProductsWithTransaction` method is called and passed this list.</span></span> <span data-ttu-id="93f60-152">`DeleteResults` Veri DataSet'e GridView'a (yeni silinen kayıtlar artık ızgaradaki satırların olarak görünecek biçimde) ve etiket de görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="93f60-152">The `DeleteResults` Label is also displayed and the data rebound to the GridView (so that the newly-deleted records no longer appear as rows in the grid).</span></span>

<span data-ttu-id="93f60-153">Şekil 4, satır sayısı silinmek üzere seçilen sonra GridView gösterir.</span><span class="sxs-lookup"><span data-stu-id="93f60-153">Figure 4 shows the GridView after a number of rows have been selected for deletion.</span></span> <span data-ttu-id="93f60-154">Şekil 5, ürün seçildi Sil düğmesini hemen tıklatıldıktan sonra ekran gösterir.</span><span class="sxs-lookup"><span data-stu-id="93f60-154">Figure 5 shows the screen immediately after the Delete Selected Products button has been clicked.</span></span> <span data-ttu-id="93f60-155">Şekil 5'te unutmayın `ProductID` silinen kayıtlar değerlerini GridView altına etiketi gösterilir ve bu satırların artık içinde GridView.</span><span class="sxs-lookup"><span data-stu-id="93f60-155">Note that in Figure 5 the `ProductID` values of the deleted records are displayed in the Label beneath the GridView and those rows are no longer in the GridView.</span></span>


<span data-ttu-id="93f60-156">[![Seçili ürünlerin silinecek](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="93f60-156">[![The Selected Products Will Be Deleted](batch-deleting-cs/_static/image4.gif)](batch-deleting-cs/_static/image7.png)</span></span>

<span data-ttu-id="93f60-157">**Şekil 4**: Seçili ürün silinecek ([tam boyutlu görüntüyü görmek için tıklatın](batch-deleting-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="93f60-157">**Figure 4**: The Selected Products Will Be Deleted ([Click to view full-size image](batch-deleting-cs/_static/image8.png))</span></span>


<span data-ttu-id="93f60-158">[![Silinen ürünlerin ProductID GridView altında listelenen değerler](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="93f60-158">[![The Deleted Products ProductID Values are Listed Beneath the GridView](batch-deleting-cs/_static/image5.gif)](batch-deleting-cs/_static/image9.png)</span></span>

<span data-ttu-id="93f60-159">**Şekil 5**: Silinen ürünlerin `ProductID` GridView altında listelenen değerler ([tam boyutlu görüntüyü görmek için tıklatın](batch-deleting-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="93f60-159">**Figure 5**: The Deleted Products `ProductID` Values are Listed Beneath the GridView ([Click to view full-size image](batch-deleting-cs/_static/image10.png))</span></span>


> [!NOTE]
> <span data-ttu-id="93f60-160">Test etmek için `DeleteProductsWithTransaction` metodu s kararlılık, el ile bir ürün için bir giriş ekleyin `Order Details` tablo ve ardından bu ürünü (birlikte diğerleri) silmeyi deneyin.</span><span class="sxs-lookup"><span data-stu-id="93f60-160">To test the `DeleteProductsWithTransaction` method s atomicity, manually add an entry for a product in the `Order Details` table and then attempt to delete that product (along with others).</span></span> <span data-ttu-id="93f60-161">Bir yabancı anahtar kısıtlaması ihlali ürünle birlikte ilişkili bir sipariş silin, ancak diğer seçili ürünlerin silme işlemleri geri alınacak nasıl unutmayın çalışırken alırsınız.</span><span class="sxs-lookup"><span data-stu-id="93f60-161">You will receive a foreign key constraint violation when attempting to delete the product with an associated order, but note how the other selected products deletions are rolled back.</span></span>


## <a name="summary"></a><span data-ttu-id="93f60-162">Özet</span><span class="sxs-lookup"><span data-stu-id="93f60-162">Summary</span></span>

<span data-ttu-id="93f60-163">Sütunu onay kutularından oluşan GridView ekleme arabirimi silinirken bir toplu iş oluşturmayı içerir ve düğmesi Web denetimi, tıklandığında, tek bir atomik işlem olarak seçili tüm satırları siler.</span><span class="sxs-lookup"><span data-stu-id="93f60-163">Creating a batch deleting interface involves adding a GridView with a column of checkboxes and a Button Web control that, when clicked, will delete all of the selected rows as a single atomic operation.</span></span> <span data-ttu-id="93f60-164">Bu öğreticide böyle bir arabirim tarafından iki önceki öğreticilerde, çalışmanın birlikte eklemekten oluşturduk [onay kutularından oluşan GridView sütunu ekleme](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) ve [veritabanı değişikliklerini bir işlemin içinde sarmalama](wrapping-database-modifications-within-a-transaction-cs.md).</span><span class="sxs-lookup"><span data-stu-id="93f60-164">In this tutorial we built such an interface by piecing together work done in two previous tutorials, [Adding a GridView Column of Checkboxes](../enhancing-the-gridview/adding-a-gridview-column-of-checkboxes-cs.md) and [Wrapping Database Modifications within a Transaction](wrapping-database-modifications-within-a-transaction-cs.md).</span></span> <span data-ttu-id="93f60-165">İlk öğreticide GridView onay kutularından oluşan bir sütun oluşturduk ve BLL yönteminde uyguladık ikinci, geçirildiğinde bir `List<T>` , `ProductID` değerleri, bunları tüm bir işlem kapsamında silindi.</span><span class="sxs-lookup"><span data-stu-id="93f60-165">In the first tutorial we created a GridView with a column of checkboxes and in the latter we implemented a method in the BLL that, when passed a `List<T>` of `ProductID` values, deleted them all within the scope of a transaction.</span></span>

<span data-ttu-id="93f60-166">Sonraki öğreticide batch ekler gerçekleştirmek için bir arabirim oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="93f60-166">In the next tutorial we'll create an interface for performing batch inserts.</span></span>

<span data-ttu-id="93f60-167">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="93f60-167">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="93f60-168">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="93f60-168">About the Author</span></span>

<span data-ttu-id="93f60-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="93f60-169">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="93f60-170">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="93f60-170">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="93f60-171">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="93f60-171">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="93f60-172">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="93f60-172">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="93f60-173">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="93f60-173">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="93f60-174">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="93f60-174">Special Thanks To</span></span>

<span data-ttu-id="93f60-175">Bu öğretici serisinde, birçok yararlı Gözden Geçiren tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="93f60-175">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="93f60-176">Bu öğretici için müşteri adayı gözden geçirenler Hilton Giesenow ve Teresa Murphy yoktu.</span><span class="sxs-lookup"><span data-stu-id="93f60-176">Lead reviewers for this tutorial were Hilton Giesenow and Teresa Murphy.</span></span> <span data-ttu-id="93f60-177">Yaklaşan My MSDN makaleleri gözden geçirme ilgileniyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="93f60-177">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="93f60-178">Bu durumda, bir satır bana bırak [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="93f60-178">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="93f60-179">[Önceki](batch-updating-cs.md)
> [İleri](batch-inserting-cs.md)</span><span class="sxs-lookup"><span data-stu-id="93f60-179">[Previous](batch-updating-cs.md)
[Next](batch-inserting-cs.md)</span></span>
