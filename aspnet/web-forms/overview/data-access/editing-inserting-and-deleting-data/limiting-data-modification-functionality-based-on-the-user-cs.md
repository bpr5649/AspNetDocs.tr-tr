---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
title: Veri değişikliği işlevselliğini sınırlama (C#) kullanıcı tabanlı | Microsoft Docs
author: rick-anderson
description: Verileri düzenleme olanağı tanıyan bir web uygulamasında, farklı kullanıcı hesapları, farklı veri düzenleme ayrıcalıklara sahip olmayabilir. Bu öğreticide inceleyeceğiz nasıl t...
ms.author: riande
ms.date: 07/17/2006
ms.assetid: 2b251c82-77cf-4e36-baa9-b648eddaa394
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/limiting-data-modification-functionality-based-on-the-user-cs
msc.type: authoredcontent
ms.openlocfilehash: 8f54f8ef593363f9428b663051cc71b8ef4a2e67
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57068373"
---
<a name="limiting-data-modification-functionality-based-on-the-user-c"></a><span data-ttu-id="aa5fd-104">Kullanıcıya Bağlı Olarak Veri Değişikliği İşlevselliğini Sınırlama (C#)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-104">Limiting Data Modification Functionality Based on the User (C#)</span></span>
====================
<span data-ttu-id="aa5fd-105">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="aa5fd-106">[Örnek uygulamayı indirin](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) veya [PDF olarak indirin](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-106">[Download Sample App](http://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_23_CS.exe) or [Download PDF](limiting-data-modification-functionality-based-on-the-user-cs/_static/datatutorial23cs1.pdf)</span></span>

> <span data-ttu-id="aa5fd-107">Verileri düzenleme olanağı tanıyan bir web uygulamasında, farklı kullanıcı hesapları, farklı veri düzenleme ayrıcalıklara sahip olmayabilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-107">In a web application that allows users to edit data, different user accounts may have different data-editing privileges.</span></span> <span data-ttu-id="aa5fd-108">Bu öğreticide ziyaret kullanıcıya bağlı veri değişikliği özellikleri dinamik olarak ayarlamak nasıl inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-108">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span>


## <a name="introduction"></a><span data-ttu-id="aa5fd-109">Giriş</span><span class="sxs-lookup"><span data-stu-id="aa5fd-109">Introduction</span></span>

<span data-ttu-id="aa5fd-110">Web uygulamalarını birkaç kullanıcı hesaplarını ve farklı seçenekler, raporlar ve oturum açmış kullanıcıya bağlı işlevler sağlar.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-110">A number of web applications support user accounts and provide different options, reports, and functionality based on the logged in user.</span></span> <span data-ttu-id="aa5fd-111">Örneğin, öğreticilerimizden ile belki - kendi şirket adı gibi tedarikçi bilgilerle birlikte ürünlerini - adlarını ve birim başına miktarı hakkında site ve güncelleştirme genel bilgiler oturum açmak için tedarikçi şirketlerden kullanıcıların istiyoruz, Adres, s kişi bilgileri ve benzeri.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-111">For example, with our tutorials we might want to allow users from the supplier companies to log on to the site and update general information about their products - their name and quantity per unit, perhaps - along with supplier information, such as their company name, address, the contact person s information, and so on.</span></span> <span data-ttu-id="aa5fd-112">Ayrıca, biz Şirketimiz kişilerden için oturum açın ve ürün bilgileri, stoktaki birim düzeyi yeniden sıralama vb. gibi güncelleştirme bazı kullanıcı hesapları eklemek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-112">Furthermore, we might want to include some user accounts for people from our company so that they can log on and update product information like units on stock, reorder level, and so forth.</span></span> <span data-ttu-id="aa5fd-113">Web uygulamamız da (oturum kişiler) ziyaret etmek anonim kullanıcılar izin verebilir ancak bunları veri görüntülemek için sınırlandırır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-113">Our web application might also allow anonymous users to visit (people who have not logged on), but would limit them to just viewing data.</span></span> <span data-ttu-id="aa5fd-114">Böyle bir kullanıcı hesabı sistem ile yerinde, ekleme, düzenleme ve silme özellikleri şu anda oturum açmış kullanıcı için uygun sunmak için ASP.NET sayfalarımızın biz veri Web denetimleri tercih etmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-114">With such a user account system in place, we would want the data Web controls in our ASP.NET pages to offer the inserting, editing, and deleting capabilities appropriate for the currently logged on user.</span></span>

<span data-ttu-id="aa5fd-115">Bu öğreticide ziyaret kullanıcıya bağlı veri değişikliği özellikleri dinamik olarak ayarlamak nasıl inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-115">In this tutorial we'll examine how to dynamically adjust the data modification capabilities based on the visiting user.</span></span> <span data-ttu-id="aa5fd-116">Özellikle, düzenlenebilir bir DetailsView sağlayıcısı tarafından sağlanan olduğu ürünleri listeler GridView yanı sıra, üreticiler bilgileri görüntüleyen bir sayfa oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-116">In particular, we'll create a page that displays the suppliers information in an editable DetailsView along with a GridView that lists the products provided by the supplier.</span></span> <span data-ttu-id="aa5fd-117">Bizim şirketten sayfasını ziyaret ederek kullanıcı ise yapabilirler: herhangi bir sağlayıcı s bilgi; görüntüleyin kullanıcının adresini Düzenle; bilgileri için sağlayıcı tarafından sağlanan herhangi bir ürünü ve düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-117">If the user visiting the page is from our company, they can: view any supplier s information; edit their address; and edit the information for any product provided by the supplier.</span></span> <span data-ttu-id="aa5fd-118">Ancak, kullanıcı belirli bir şirketten ise yalnızca yapabilir görüntüleyin ve kendi adres bilgilerini düzenlemek ve yalnızca kullanımdan olarak işaretlenen değil ürünlerini düzenleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-118">If, however, the user is from a particular company, they can only view and edit their own address information and can only edit their products that have not been marked as discontinued.</span></span>


<span data-ttu-id="aa5fd-119">[![Bir kullanıcıdan şirket portalımız tedarikçi s bilgileri düzenleyebilirsiniz](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-119">[![A User from Our Company Can Edit Any Supplier s Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image2.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image1.png)</span></span>

<span data-ttu-id="aa5fd-120">**Şekil 1**: Bir kullanıcıdan bilgi Mız şirket olabilir Düzenle herhangi tedarikçi s ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-120">**Figure 1**: A User from Our Company Can Edit Any Supplier s Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image3.png))</span></span>


<span data-ttu-id="aa5fd-121">[![Bir kullanıcıdan bir belirli tedarikçi Can yalnızca görüntüleme ve düzenleme bilgilerine](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-121">[![A User from a Particular Supplier Can Only View and Edit their Information](limiting-data-modification-functionality-based-on-the-user-cs/_static/image5.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image4.png)</span></span>

<span data-ttu-id="aa5fd-122">**Şekil 2**: Bir kullanıcıdan bir belirli tedarikçi olabilir yalnızca görüntüleme ve düzenleme bilgilerine ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-122">**Figure 2**: A User from a Particular Supplier Can Only View and Edit their Information ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image6.png))</span></span>


<span data-ttu-id="aa5fd-123">Let s başlayın!</span><span class="sxs-lookup"><span data-stu-id="aa5fd-123">Let s get started!</span></span>

> [!NOTE]
> <span data-ttu-id="aa5fd-124">ASP.NET 2.0 s üyelik sistemi oluşturma, yönetme ve kullanıcı hesapları doğrulanıyor için standartlaştırılmış, Genişletilebilir bir platform sağlar.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-124">ASP.NET 2.0 s membership system provides a standardized, extensible platform for creating, managing, and validating user accounts.</span></span> <span data-ttu-id="aa5fd-125">Üyelik Sistemi incelemesini bu öğreticileri kapsamı dışında olduğundan, bu öğreticide bunun yerine "üyelik belirli bir üretici veya Şirketimiz oldukları seçmek anonim ziyaretçiler vererek fakes".</span><span class="sxs-lookup"><span data-stu-id="aa5fd-125">Since an examination of the membership system is beyond the scope of these tutorials, this tutorial instead "fakes" membership by allowing anonymous visitors to choose whether they are from a particular supplier or from our company.</span></span> <span data-ttu-id="aa5fd-126">Üyelik hakkında daha fazla bilgi için bkz my [İnceleme ASP.NET 2.0 s üyelik, roller ve profil](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) makale serisi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-126">For more on membership, refer to my [Examining ASP.NET 2.0 s Membership, Roles, and Profile](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx) article series.</span></span>


## <a name="step-1-allowing-the-user-to-specify-their-access-rights"></a><span data-ttu-id="aa5fd-127">1. Adım: Kullanıcı erişim haklarını belirtmek izin verme</span><span class="sxs-lookup"><span data-stu-id="aa5fd-127">Step 1: Allowing the User to Specify their Access Rights</span></span>

<span data-ttu-id="aa5fd-128">Gerçek web uygulamasında, bir kullanıcı s hesabı bilgilerini Şirketimiz için veya belirli bir üretici için çalışan ve kullanıcı siteye oturum açtıktan sonra bu bilgileri ASP.NET sayfalarımızın programlı olarak erişilebilir olup olmadığını içerir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-128">In a real-world web application, a user s account information would include whether they worked for our company or for a particular supplier, and this information would be programmatically accessible from our ASP.NET pages once the user has logged on to the site.</span></span> <span data-ttu-id="aa5fd-129">Bu bilgiler, kullanıcı düzeyi hesabı bilgilerini profil sistemi aracılığıyla veya bazı özel araçlarla olarak ASP.NET 2.0 s rolleri sistem yakalanan.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-129">This information could be captured through ASP.NET 2.0 s roles system, as user-level account information through the profile system, or through some custom means.</span></span>

<span data-ttu-id="aa5fd-130">Bu öğreticinin amacı, oturum açmış kullanıcıya bağlı veri değiştirme özelliklerini ayarlayarak göstermektir ve gösterimi ASP.NET 2.0 s üyelik, roller ve profil sistemleri için tasarlanmamıştır olduğundan, bir çok basit mekanizması belirlemek için kullanacağız Özellikleri sayfası - içinden kullanıcı belirtebilirsiniz, görüntüleyebilir ve tedarikçileri bilgi veya hiçbirini, alternatif olarak, hangi Düzenle gerektiğini bir DropDownList ziyaret kullanıcı için belirli tedarikçi s bilgileri görüntüleyebilir ve düzenleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-130">Since the aim of this tutorial is to demonstrate adjusting the data modification capabilities based on the logged on user, and is not meant to showcase ASP.NET 2.0 s membership, roles, and profile systems, we'll use a very simply mechanism to determine the capabilities for the user visiting the page - a DropDownList from which the user can indicate if they should be able to view and edit any of the suppliers information or, alternatively, what particular supplier s information they can view and edit.</span></span> <span data-ttu-id="aa5fd-131">Kullanıcı Filiz görüntüleyebilir ve düzenleme tüm sağlayıcı bilgileri (varsayılan) olduğunu gösteriyorsa, kendisi tüm Üreticiler sayfasında, herhangi tedarikçi s adresi bilgileri düzenleyin ve seçili sağlayıcısı tarafından sağlanan herhangi bir ürün için birim başına miktarı ve adını düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-131">If the user indicates that she can view and edit all supplier information (the default), she can page through all suppliers, edit any supplier s address information, and edit the name and quantity per unit for any product provided by the selected supplier.</span></span> <span data-ttu-id="aa5fd-132">Kullanıcının kendisi yalnızca görüntüleyebilir ve belirli tedarikçi, ancak sonra kendisi yalnızca ayrıntıları ve ürünleri için bir üretici görüntüleyebilir ve yalnızca düzenleme güncelleştirmesi adı ve miktar olan bu ürünlere yönelik birim bilgileri başına gösteriyorsa *değil* kullanımdan kaldırıldı.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-132">If the user indicates that she can only view and edit a particular supplier, however, then she can only view the details and products for that one supplier and can only update the name and quantity per unit information for those products that are *not* discontinued.</span></span>

<span data-ttu-id="aa5fd-133">Bu öğreticide ilk adımımız, bu DropDownList oluşturmak ve sistemde Tedarikçiler ile doldurmak için ise.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-133">Our first step in this tutorial, then, is to create this DropDownList and populate it with the suppliers in the system.</span></span> <span data-ttu-id="aa5fd-134">Açık `UserLevelAccess.aspx` sayfasını `EditInsertDelete` klasöründe bir DropDownList ekleyin, `ID` özelliği `Suppliers`ve bu DropDownList adlı yeni bir ObjectDataSource bağlama `AllSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-134">Open the `UserLevelAccess.aspx` page in the `EditInsertDelete` folder, add a DropDownList whose `ID` property is set to `Suppliers`, and bind this DropDownList to a new ObjectDataSource named `AllSuppliersDataSource`.</span></span>


<span data-ttu-id="aa5fd-135">[![AllSuppliersDataSource adlı yeni bir ObjectDataSource oluşturma](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-135">[![Create a New ObjectDataSource Named AllSuppliersDataSource](limiting-data-modification-functionality-based-on-the-user-cs/_static/image8.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image7.png)</span></span>

<span data-ttu-id="aa5fd-136">**Şekil 3**: Adlı yeni bir ObjectDataSource oluşturma `AllSuppliersDataSource` ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-136">**Figure 3**: Create a New ObjectDataSource Named `AllSuppliersDataSource` ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image9.png))</span></span>


<span data-ttu-id="aa5fd-137">Tüm Üreticiler dahil etmek için bu DropDownList istiyoruz olduğundan, çağrılacak ObjectDataSource yapılandırma `SuppliersBLL` s sınıfı `GetSuppliers()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-137">Since we want this DropDownList to include all suppliers, configure the ObjectDataSource to invoke the `SuppliersBLL` class s `GetSuppliers()` method.</span></span> <span data-ttu-id="aa5fd-138">ObjectDataSource s de emin `Update()` yöntemi eşlenmiş durumda `SuppliersBLL` s sınıfı `UpdateSupplierAddress` yöntemi, bu ObjectDataSource da kullanılacak ekleyeceğiz 2. adımda DetailsView tarafından.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-138">Also ensure that the ObjectDataSource s `Update()` method is mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method, as this ObjectDataSource will also be used by the DetailsView we'll be adding in Step 2.</span></span>

<span data-ttu-id="aa5fd-139">ObjectDataSource sihirbazını tamamladıktan sonra yapılandırarak adımları tamamlamak `Suppliers` DropDownList bunu gösterir şekilde `CompanyName` veri alanı `SupplierID` değeri olarak her veri alanı `ListItem`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-139">After completing the ObjectDataSource wizard, complete the steps by configuring the `Suppliers` DropDownList such that it shows the `CompanyName` data field and uses the `SupplierID` data field as the value for each `ListItem`.</span></span>


<span data-ttu-id="aa5fd-140">[![Üreticiler DropDownList CompanyName ve SupplierID veri alanlarını kullanmak için yapılandırma](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-140">[![Configure the Suppliers DropDownList to Use the CompanyName and SupplierID Data Fields](limiting-data-modification-functionality-based-on-the-user-cs/_static/image11.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image10.png)</span></span>

<span data-ttu-id="aa5fd-141">**Şekil 4**: Yapılandırma `Suppliers` kullanılacak DropDownList `CompanyName` ve `SupplierID` veri alanlarını ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-141">**Figure 4**: Configure the `Suppliers` DropDownList to Use the `CompanyName` and `SupplierID` Data Fields ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image12.png))</span></span>


<span data-ttu-id="aa5fd-142">Bu noktada, DropDownList veritabanında tedarikçileri şirket adlarını listeler.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-142">At this point, the DropDownList lists the company names of the suppliers in the database.</span></span> <span data-ttu-id="aa5fd-143">Ancak, biz de DropDownList "Tüm Üreticiler Göster/Düzenle" seçeneğine eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-143">However, we also need to include a "Show/Edit ALL Suppliers" option to the DropDownList.</span></span> <span data-ttu-id="aa5fd-144">Bunu gerçekleştirmek için ayarlanmış `Suppliers` DropDownList s `AppendDataBoundItems` özelliğini `true` ve ardından eklemek bir `ListItem` olan `Text` özelliği "Tüm Üreticiler Göster/Düzenle" ve değeri `-1`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-144">To accomplish this, set the `Suppliers` DropDownList s `AppendDataBoundItems` property to `true` and then add a `ListItem` whose `Text` property is "Show/Edit ALL Suppliers" and whose value is `-1`.</span></span> <span data-ttu-id="aa5fd-145">Bu bildirim temelli işaretleme veya tasarımcı aracılığıyla doğrudan özellikler penceresine gidip DropDownList s üç noktaya tıklayarak eklenebilir `Items` özelliği.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-145">This can be added directly through the declarative markup or through the Designer by going to the Properties window and clicking on the ellipses in the DropDownList s `Items` property.</span></span>

> [!NOTE]
> <span data-ttu-id="aa5fd-146">Kiracıurl [ *ana/ayrıntı filtreleme ile bir DropDownList* ](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) Tümünü Seç öğesi bir sınırlama DropDownList ekleme hakkında daha ayrıntılı bir açıklaması için öğretici.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-146">Refer back to the [*Master/Detail Filtering With a DropDownList*](../masterdetail/master-detail-filtering-with-a-dropdownlist-cs.md) tutorial for a more detailed discussion on adding a Select All item to a databound DropDownList.</span></span>


<span data-ttu-id="aa5fd-147">Sonra `AppendDataBoundItems` özelliğini ayarlayın ve `ListItem` eklediğiniz DropDownList s bildirim temelli biçimlendirme gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="aa5fd-147">After the `AppendDataBoundItems` property has been set and the `ListItem` added, the DropDownList s declarative markup should look like:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample1.aspx)]

<span data-ttu-id="aa5fd-148">Şekil 5, bir tarayıcıdan görüntülendiğinde geçerli ilerlememizin ekran görüntüsü gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-148">Figure 5 shows a screen shot of our current progress, when viewed through a browser.</span></span>


<span data-ttu-id="aa5fd-149">[![Tüm ListItem yanı sıra, her bir sağlayıcı için bir Göster tedarikçileri DropDownList içerir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-149">[![The Suppliers DropDownList Contains a Show ALL ListItem, Plus One for Each Supplier](limiting-data-modification-functionality-based-on-the-user-cs/_static/image14.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image13.png)</span></span>

<span data-ttu-id="aa5fd-150">**Şekil 5**: `Suppliers` DropDownList içeren bir Tümünü Göster `ListItem`, artı bir her üretici için ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-150">**Figure 5**: The `Suppliers` DropDownList Contains a Show ALL `ListItem`, Plus One for Each Supplier ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image15.png))</span></span>


<span data-ttu-id="aa5fd-151">Kullanıcı Seçimi hemen değiştirildikten sonra kullanıcı arabirimini güncelleştirmek istiyoruz, ayarlanması `Suppliers` DropDownList s `AutoPostBack` özelliğini `true`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-151">Since we want to update the user interface immediately after the user has changed their selection, set the `Suppliers` DropDownList s `AutoPostBack` property to `true`.</span></span> <span data-ttu-id="aa5fd-152">2. adımda DropDownList seçim temel alınarak supplier(s) bilgilerini gösteren bir DetailsView denetimi oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-152">In Step 2 we'll create a DetailsView control that will show the information for the supplier(s) based on the DropDownList selection.</span></span> <span data-ttu-id="aa5fd-153">Ardından, adım 3'te bu DropDownList s için bir olay işleyicisi oluşturacağız `SelectedIndexChanged` içinde ekleyeceğiz DetailsView için uygun üretici bilgilerini bağlayan bir kod üzerinde seçili sağlayıcı tabanlı olay.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-153">Then, in Step 3, we'll create an event handler for this DropDownList s `SelectedIndexChanged` event, in which we'll add code that binds the appropriate supplier information to the DetailsView based upon the selected supplier.</span></span>

## <a name="step-2-adding-a-detailsview-control"></a><span data-ttu-id="aa5fd-154">2. Adım: Bir DetailsView denetimi ekleme</span><span class="sxs-lookup"><span data-stu-id="aa5fd-154">Step 2: Adding a DetailsView Control</span></span>

<span data-ttu-id="aa5fd-155">Sağlayıcı bilgileri görüntülemek için bir DetailsView kullanın s olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-155">Let s use a DetailsView to show supplier information.</span></span> <span data-ttu-id="aa5fd-156">Kimler görüntüleyebilir veya tüm Üreticiler Düzenle kullanıcıdan DetailsView, disk belleği, kullanıcının aynı anda sağlayıcı bilgileri bir kaydı adım izin destekler.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-156">For the user who can view and edit all suppliers, the DetailsView will support paging, allowing the user to step through the supplier information one record at a time.</span></span> <span data-ttu-id="aa5fd-157">Kullanıcı için belirli bir üretici çalışırsa, ancak DetailsView yalnızca belirli üretici s bilgileri gösterir ve disk belleği arabirimi dahil edilmez.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-157">If the user works for a particular supplier, however, the DetailsView will show only that particular supplier s information and will not include a paging interface.</span></span> <span data-ttu-id="aa5fd-158">Her iki durumda da kullanıcının tedarikçi s Adres, şehir ve ülke alanları düzenlemesine izin vermek DetailsView gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-158">In either case, the DetailsView needs to allow the user to edit the supplier s address, city, and country fields.</span></span>

<span data-ttu-id="aa5fd-159">Sayfanın bir DetailsView eklemek `Suppliers` DropDownList, ayarla, `ID` özelliğini `SupplierDetails`ve öğeyi `AllSuppliersDataSource` ObjectDataSource önceki adımda oluşturulan.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-159">Add a DetailsView to the page beneath the `Suppliers` DropDownList, set its `ID` property to `SupplierDetails`, and bind it to the `AllSuppliersDataSource` ObjectDataSource created in the previous step.</span></span> <span data-ttu-id="aa5fd-160">Ardından, DetailsView s akıllı etiketinde etkinleştirme sayfalama ve düzenlemeyi etkinleştir onay kutularını işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-160">Next, check the Enable Paging and Enable Editing checkboxes from the DetailsView s smart tag.</span></span>

> [!NOTE]
> <span data-ttu-id="aa5fd-161">T don akıllı DetailsView s Düzenlemeyi Etkinleştir seçeneği görürseniz ObjectDataSource s eşleşmiyor çünkü s etiketlemek `Update()` yönteme `SuppliersBLL` s sınıfı `UpdateSupplierAddress` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-161">If you don t see an Enable Editing option in the DetailsView s smart tag it s because you did not map the ObjectDataSource s `Update()` method to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span> <span data-ttu-id="aa5fd-162">Geri dönüp bu yapılandırma değişikliği, düzenlemeyi etkinleştir seçeneği DetailsView s akıllı etiket görünmesi gereken yapmak için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-162">Take a moment to go back and make this configuration change, after which the Enable Editing option should appear in the DetailsView s smart tag.</span></span>


<span data-ttu-id="aa5fd-163">Bu yana `SuppliersBLL` s sınıfı `UpdateSupplierAddress` yöntemi yalnızca dört parametre - kabul `supplierID`, `address`, `city`, ve `country` -DetailsView s BoundFields değiştirin böylece `CompanyName` ve `Phone` BoundFields salt okunurdur.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-163">Since the `SuppliersBLL` class s `UpdateSupplierAddress` method only accepts four parameters - `supplierID`, `address`, `city`, and `country` - modify the DetailsView s BoundFields so that the `CompanyName` and `Phone` BoundFields are read-only.</span></span> <span data-ttu-id="aa5fd-164">Ayrıca, kaldırma `SupplierID` BoundField toptan.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-164">Additionally, remove the `SupplierID` BoundField altogether.</span></span> <span data-ttu-id="aa5fd-165">Son olarak, `AllSuppliersDataSource` ObjectDataSource şu anda sahip kendi `OldValuesParameterFormatString` özelliğini `original_{0}`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-165">Finally, the `AllSuppliersDataSource` ObjectDataSource currently has its `OldValuesParameterFormatString` property set to `original_{0}`.</span></span> <span data-ttu-id="aa5fd-166">Bu özellik ayarı bildirim temelli söz dizimi özelliği tamamen kaldırmak veya varsayılan değere ayarlamak için bir dakikanızı ayırın `{0}`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-166">Take a moment to remove this property setting from the declarative syntax altogether, or set it to the default value, `{0}`.</span></span>

<span data-ttu-id="aa5fd-167">Yapılandırdıktan sonra `SupplierDetails` DetailsView ve `AllSuppliersDataSource` ObjectDataSource, biz aşağıdaki bildirim temelli biçimlendirme olacaktır:</span><span class="sxs-lookup"><span data-stu-id="aa5fd-167">After configuring the `SupplierDetails` DetailsView and `AllSuppliersDataSource` ObjectDataSource, we will have the following declarative markup:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample2.aspx)]

<span data-ttu-id="aa5fd-168">Bu noktada DetailsView aracılığıyla belleğine alınabilen ve s seçili sağlayıcı adresi bilgilerini, yapılan seçim bağımsız olarak güncelleştirilebilir `Suppliers` DropDownList (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-168">At this point the DetailsView can be paged through and the selected supplier s address information can be updated, regardless of the selection made in the `Suppliers` DropDownList (see Figure 6).</span></span>


<span data-ttu-id="aa5fd-169">[![Tüm Üreticiler bilgileri görüntüleyebilir ve adresini güncelleştirildi](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-169">[![Any Suppliers Information Can Be Viewed, and Its Address Updated](limiting-data-modification-functionality-based-on-the-user-cs/_static/image17.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image16.png)</span></span>

<span data-ttu-id="aa5fd-170">**Şekil 6**: Tüm Üreticiler bilgileri görüntülenebilir ve kendi adres güncelleştirilmiş ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-170">**Figure 6**: Any Suppliers Information Can Be Viewed, and Its Address Updated ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image18.png))</span></span>


## <a name="step-3-displaying-only-the-selected-supplier-s-information"></a><span data-ttu-id="aa5fd-171">3. Adım: Yalnızca seçili sağlayıcı s bilgileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="aa5fd-171">Step 3: Displaying Only the Selected Supplier s Information</span></span>

<span data-ttu-id="aa5fd-172">Sayfamızı bilgi olup belirli bir üretici gelen seçildi bağımsız olarak tüm Üreticiler için şu anda görüntüler `Suppliers` DropDownList.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-172">Our page currently displays the information for all suppliers regardless of whether a particular supplier has been selected from the `Suppliers` DropDownList.</span></span> <span data-ttu-id="aa5fd-173">Yalnızca seçili sağlayıcı Tedarikçi bilgilerini görüntülemek için biz sayfamızı, belirli bir üretici hakkındaki bilgileri alır bir başka bir ObjectDataSource eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-173">In order to display just the supplier information for the selected supplier we need to add another ObjectDataSource to our page, one that retrieves information about a particular supplier.</span></span>

<span data-ttu-id="aa5fd-174">Adlandırma Ekle sayfası için yeni ObjectDataSource `SingleSupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-174">Add a new ObjectDataSource to the page, naming it `SingleSupplierDataSource`.</span></span> <span data-ttu-id="aa5fd-175">Akıllı etiketinde, veri kaynağı yapılandırma bağlantısına tıklayın ve bu kullanın `SuppliersBLL` s sınıfı `GetSupplierBySupplierID(supplierID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-175">From its smart tag, click the Configure Data Source link and have it use the `SuppliersBLL` class s `GetSupplierBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="aa5fd-176">Olduğu gibi `AllSuppliersDataSource` ObjectDataSource, sahip `SingleSupplierDataSource` ObjectDataSource s `Update()` yöntemi eşlenen `SuppliersBLL` s sınıfı `UpdateSupplierAddress` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-176">As with the `AllSuppliersDataSource` ObjectDataSource, have the `SingleSupplierDataSource` ObjectDataSource s `Update()` method mapped to the `SuppliersBLL` class s `UpdateSupplierAddress` method.</span></span>


<span data-ttu-id="aa5fd-177">[![SingleSupplierDataSource ObjectDataSource GetSupplierBySupplierID(supplierID) yöntemi kullanmak üzere yapılandırma](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-177">[![Configure the SingleSupplierDataSource ObjectDataSource to Use the GetSupplierBySupplierID(supplierID) Method](limiting-data-modification-functionality-based-on-the-user-cs/_static/image20.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image19.png)</span></span>

<span data-ttu-id="aa5fd-178">**Şekil 7**: Yapılandırma `SingleSupplierDataSource` kullanılacak ObjectDataSource `GetSupplierBySupplierID(supplierID)` yöntemi ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-178">**Figure 7**: Configure the `SingleSupplierDataSource` ObjectDataSource to Use the `GetSupplierBySupplierID(supplierID)` Method ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image21.png))</span></span>


<span data-ttu-id="aa5fd-179">Ardından, biz yeniden parametre kaynağını belirtmek için istemde `GetSupplierBySupplierID(supplierID)` metodu s `supplierID` giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-179">Next, we re prompted to specify the parameter source for the `GetSupplierBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="aa5fd-180">Bilgi DropDownList, kullanım seçili sağlayıcı için gösterilecek istediğinden `Suppliers` DropDownList s `SelectedValue` parametre kaynağı olarak özelliği.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-180">Since we want to show the information for the supplier selected from the DropDownList, use the `Suppliers` DropDownList s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="aa5fd-181">[![Üreticiler DropDownList satýrýnSupplierID parametre kaynağı kullanın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-181">[![Use the Suppliers DropDownList as the supplierID Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image23.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image22.png)</span></span>

<span data-ttu-id="aa5fd-182">**Şekil 8**: Kullanım `Suppliers` DropDownList olarak `supplierID` parametre kaynağı ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-182">**Figure 8**: Use the `Suppliers` DropDownList as the `supplierID` Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image24.png))</span></span>


<span data-ttu-id="aa5fd-183">Eklenen bile bu ikinci ObjectDataSource ile DetailsView denetimi şu anda her zaman kullanmak üzere yapılandırılmış `AllSuppliersDataSource` ObjectDataSource.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-183">Even with this second ObjectDataSource added, the DetailsView control is currently configured to always use the `AllSuppliersDataSource` ObjectDataSource.</span></span> <span data-ttu-id="aa5fd-184">DetailsView bağlı olarak tarafından kullanılan veri kaynağı ayarlamak için mantığı eklemek ihtiyacımız `Suppliers` DropDownList öğe seçildi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-184">We need to add logic to adjust the data source used by the DetailsView depending on the `Suppliers` DropDownList item selected.</span></span> <span data-ttu-id="aa5fd-185">Bunu yapmak için oluşturun bir `SelectedIndexChanged` tedarikçileri DropDownList için olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-185">To accomplish this, create a `SelectedIndexChanged` event handler for the Suppliers DropDownList.</span></span> <span data-ttu-id="aa5fd-186">Bu en bir kolayca DropDownList Tasarımcısı'nda çift tıklayarak oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-186">This can most easily be created by double-clicking the DropDownList in the Designer.</span></span> <span data-ttu-id="aa5fd-187">Bu olay işleyicisi, hangi veri kaynağının kullanılacağını belirlemek gereken ve DetailsView verileri yeniden bağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-187">This event handler needs to determine what data source to use and must rebind the data to the DetailsView.</span></span> <span data-ttu-id="aa5fd-188">Bu, aşağıdaki kod ile gerçekleştirilir:</span><span class="sxs-lookup"><span data-stu-id="aa5fd-188">This is accomplished with the following code:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample3.cs)]

<span data-ttu-id="aa5fd-189">Olay işleyicisi, "Tüm Üreticiler Göster/Düzenle" seçeneğini seçili olmadığını belirleyerek başlar.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-189">The event handler begins by determining whether the "Show/Edit ALL Suppliers" option was selected.</span></span> <span data-ttu-id="aa5fd-190">Bu durumda, bu ayarlar `SupplierDetails` DetailsView s `DataSourceID` için `AllSuppliersDataSource` ve ayarlayarak kullanıcı tedarikçileri kümesindeki ilk kaydı döndürür `PageIndex` özelliğinin 0.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-190">If it was, it sets the `SupplierDetails` DetailsView s `DataSourceID` to `AllSuppliersDataSource` and returns the user to the first record in the set of suppliers by setting the `PageIndex` property to 0.</span></span> <span data-ttu-id="aa5fd-191">Ancak, belirli bir üretici DropDownList, DetailsView s kullanıcının seçtiği ise `DataSourceID` atandığı `SingleSuppliersDataSource`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-191">If, however, the user has selected a particular supplier from the DropDownList, the DetailsView s `DataSourceID` is assigned to `SingleSuppliersDataSource`.</span></span> <span data-ttu-id="aa5fd-192">Bağımsız olarak hangi veri kaynağı kullanılır, `SuppliersDetails` modu salt okunur moda geri dönüldü ve veri DetailsView için yapılan bir çağrıyla DataSet'e `SuppliersDetails` denetim s `DataBind()` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-192">Regardless of what data source is used, the `SuppliersDetails` mode is reverted back to the read-only mode and the data is rebound to the DetailsView by a call to the `SuppliersDetails` control s `DataBind()` method.</span></span>

<span data-ttu-id="aa5fd-193">"Tüm Üreticiler Göster/Düzenle" seçeneği belirtildi, bu durumda disk belleği arabirimi aracılığıyla sağlayıcıların tümünü görüntülenebilir sürece bu olay işleyicisi ile yerinde DetailsView denetiminde seçili tedarikçi, artık gösterir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-193">With this event handler in place, the DetailsView control now shows the selected supplier, unless the "Show/Edit ALL Suppliers" option was selected, in which case all of the suppliers can be viewed through the paging interface.</span></span> <span data-ttu-id="aa5fd-194">Şekil 9, "Tüm Üreticiler Göster/Düzenle" seçeneği seçili sayfada gösterilir; disk belleği arabirimi mevcut olduğunu ziyaret edin ve herhangi bir sağlayıcı güncelleştirmek kullanıcının unutmayın.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-194">Figure 9 shows the page with the "Show/Edit ALL Suppliers" option selected; note that the paging interface is present, allowing the user to visit and update any supplier.</span></span> <span data-ttu-id="aa5fd-195">Şekil 10 sayfada seçilen Ma Ahmet sağlayıcı ile gösterilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-195">Figure 10 shows the page with the Ma Maison supplier selected.</span></span> <span data-ttu-id="aa5fd-196">Yalnızca master Ahmet s bilgileri, bu durumda görüntülenebilir ve düzenlenebilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-196">Only Ma Maison s information is viewable and editable in this case.</span></span>


<span data-ttu-id="aa5fd-197">[![Tüm Üreticiler bilgileri görüntülenebilir ve düzenlenebilir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-197">[![All of the Suppliers Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image26.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image25.png)</span></span>

<span data-ttu-id="aa5fd-198">**Şekil 9**: Tüm Üreticiler bilgileri görüntülenebilir ve düzenlenen ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-198">**Figure 9**: All of the Suppliers Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image27.png))</span></span>


<span data-ttu-id="aa5fd-199">[![Yalnızca seçili sağlayıcı s bilgileri görüntülenebilir ve düzenlenebilir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-199">[![Only the Selected Supplier s Information Can Be Viewed and Edited](limiting-data-modification-functionality-based-on-the-user-cs/_static/image29.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image28.png)</span></span>

<span data-ttu-id="aa5fd-200">**Şekil 10**: Yalnızca seçili sağlayıcı s bilgi Viewed ve düzenlenen ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-200">**Figure 10**: Only the Selected Supplier s Information Can Be Viewed and Edited ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image30.png))</span></span>


> [!NOTE]
> <span data-ttu-id="aa5fd-201">Bu öğretici için DropDownList ve DetailsView denetimi s `EnableViewState` ayarlanmalıdır `true` (varsayılan) çünkü DropDownList s `SelectedIndex` ve DetailsView s `DataSourceID` Geri göndermeler arasında özellik s değişiklikleri anımsanacak.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-201">For this tutorial, both the DropDownList and DetailsView control s `EnableViewState` must be set to `true` (the default) because the DropDownList s `SelectedIndex` and the DetailsView s `DataSourceID` property s changes must be remembered across postbacks.</span></span>


## <a name="step-4-listing-the-suppliers-products-in-an-editable-gridview"></a><span data-ttu-id="aa5fd-202">4. Adım: Düzenlenebilir bir GridView tedarikçileri ürünleri listeleme</span><span class="sxs-lookup"><span data-stu-id="aa5fd-202">Step 4: Listing the Suppliers Products in an Editable GridView</span></span>

<span data-ttu-id="aa5fd-203">DetailsView tam sonraki adımımız seçili sağlayıcı tarafından sağlanan bu ürünlerin listeleyen bir düzenlenebilir GridView eklemektir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-203">With the DetailsView complete, our next step is to include an editable GridView that lists those products provided by the selected supplier.</span></span> <span data-ttu-id="aa5fd-204">Düzenlemeler yalnızca bu GridView sağlamalıdır `ProductName` ve `QuantityPerUnit` alanları.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-204">This GridView should allow edits to only the `ProductName` and `QuantityPerUnit` fields.</span></span> <span data-ttu-id="aa5fd-205">Ayrıca, bu sayfasını ziyaret ederek kullanıcı belirli bir tedarikçiden varsa bu ürünlerin güncelleştirmeleri yalnızca sağlamalıdır *değil* kullanımdan kaldırıldı.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-205">Moreover, if the user visiting the page is from a particular supplier, it should only allow updates to those products that are *not* discontinued.</span></span> <span data-ttu-id="aa5fd-206">İlk olarak bir aşırı yüklemesini eklemek için gereken bunu sağlamak için `ProductsBLL` s sınıfı `UpdateProducts` alır yöntemi yalnızca `ProductID`, `ProductName`, ve `QuantityPerUnit` alanları girdi olarak.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-206">To accomplish this we'll need to first add an overload of the `ProductsBLL` class s `UpdateProducts` method that takes in just the `ProductID`, `ProductName`, and `QuantityPerUnit` fields as inputs.</span></span> <span data-ttu-id="aa5fd-207">Biz bu nedenle izin eklenmesi kod burada yalnızca bakmak s ve bu süreçte birçok öğreticilerde önceden basamaklı `ProductsBLL`:</span><span class="sxs-lookup"><span data-stu-id="aa5fd-207">We ve stepped through this process beforehand in numerous tutorials, so let s just look at the code here, which should be added to `ProductsBLL`:</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample4.cs)]

<span data-ttu-id="aa5fd-208">Oluşturulan, bu aşırı yükleme ile biz re GridView denetiminde ve onun ilişkili ObjectDataSource eklemek için hazır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-208">With this overload created, we re ready to add the GridView control and its associated ObjectDataSource.</span></span> <span data-ttu-id="aa5fd-209">Sayfaya yeni GridView ekleyin, kendi `ID` özelliğini `ProductsBySupplier`ve adlı yeni bir ObjectDataSource kullanacak şekilde yapılandırma `ProductsBySupplierDataSource`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-209">Add a new GridView to the page, set its `ID` property to `ProductsBySupplier`, and configure it to use a new ObjectDataSource named `ProductsBySupplierDataSource`.</span></span> <span data-ttu-id="aa5fd-210">Seçili sağlayıcı tarafından bu ürünlerin listelemek için bu GridView istiyoruz beri kullanın `ProductsBLL` s sınıfı `GetProductsBySupplierID(supplierID)` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-210">Since we want this GridView to list those products by the selected supplier, use the `ProductsBLL` class s `GetProductsBySupplierID(supplierID)` method.</span></span> <span data-ttu-id="aa5fd-211">Ayrıca harita `Update()` yeni yönteme `UpdateProduct` oluşturduğumuz aşırı yükleme.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-211">Also map the `Update()` method to the new `UpdateProduct` overload we just created.</span></span>


<span data-ttu-id="aa5fd-212">[![Yeni oluşturduğunuz UpdateProduct aşırı yüklemesini kullanın ObjectDataSource yapılandırın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-212">[![Configure the ObjectDataSource to Use the UpdateProduct Overload Just Created](limiting-data-modification-functionality-based-on-the-user-cs/_static/image32.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image31.png)</span></span>

<span data-ttu-id="aa5fd-213">**Şekil 11**: ObjectDataSource kullanılacak yapılandırma `UpdateProduct` aşırı yükleme, yeni oluşturduğunuz ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-213">**Figure 11**: Configure the ObjectDataSource to Use the `UpdateProduct` Overload Just Created ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image33.png))</span></span>


<span data-ttu-id="aa5fd-214">Biz re parametre kaynağını seçmeniz istenir `GetProductsBySupplierID(supplierID)` metodu s `supplierID` giriş parametresi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-214">We re prompted to select the parameter source for the `GetProductsBySupplierID(supplierID)` method s `supplierID` input parameter.</span></span> <span data-ttu-id="aa5fd-215">Ürün kullanımı gibi DetailsView seçili sağlayıcı için gösterilecek istediğinden `SuppliersDetails` DetailsView denetiminde s `SelectedValue` parametre kaynağı olarak özelliği.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-215">Since we want to show the products for the supplier selected in the DetailsView, use the `SuppliersDetails` DetailsView control s `SelectedValue` property as the parameter source.</span></span>


<span data-ttu-id="aa5fd-216">[![SuppliersDetails DetailsView s SelectedValue özelliği parametre kaynağı olarak kullanın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-216">[![Use the SuppliersDetails DetailsView s SelectedValue Property as the Parameter Source](limiting-data-modification-functionality-based-on-the-user-cs/_static/image35.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image34.png)</span></span>

<span data-ttu-id="aa5fd-217">**Şekil 12**: Kullanım `SuppliersDetails` DetailsView s `SelectedValue` parametre kaynağı olarak özelliği ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-217">**Figure 12**: Use the `SuppliersDetails` DetailsView s `SelectedValue` Property as the Parameter Source ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image36.png))</span></span>


<span data-ttu-id="aa5fd-218">GridView'a döndürerek, kaldırmak dışında GridView alanların tümünü `ProductName`, `QuantityPerUnit`, ve `Discontinued`, işaretlenmesi `Discontinued` CheckBoxField salt okunur.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-218">Returning to the GridView, remove all of the GridView fields except for `ProductName`, `QuantityPerUnit`, and `Discontinued`, marking the `Discontinued` CheckBoxField as read-only.</span></span> <span data-ttu-id="aa5fd-219">Ayrıca, akıllı etiket s GridView düzenlemeyi etkinleştir seçeneğini denetleyin.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-219">Also, check the Enable Editing option from the GridView s smart tag.</span></span> <span data-ttu-id="aa5fd-220">Bu değişiklikleri yaptıktan sonra bildirim temelli biçimlendirme GridView ve ObjectDataSource aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="aa5fd-220">After these changes have been made, the declarative markup for the GridView and ObjectDataSource should look similar to the following:</span></span>


[!code-aspx[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample5.aspx)]

<span data-ttu-id="aa5fd-221">Bizim önceki ObjectDataSources, bu s ile `OldValuesParameterFormatString` özelliği `original_{0}`, neden olacak sorunları s ürün adı veya birim başına miktarı güncellemeye çalışırken.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-221">As with our previous ObjectDataSources, this one s `OldValuesParameterFormatString` property is set to `original_{0}`, which will cause problems when attempting to update a product s name or quantity per unit.</span></span> <span data-ttu-id="aa5fd-222">Bu özelliği tamamen bildirim temelli söz dizimi kaldırın veya varsayılan, ayarına `{0}`.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-222">Remove this property from the declarative syntax altogether or set it to its default, `{0}`.</span></span>

<span data-ttu-id="aa5fd-223">Bu yapılandırma tamamlandı, sayfamız şimdi GridView içinde seçili sağlayıcı tarafından sağlanan olduğu ürünleri listeler. (bkz. Şekil 13).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-223">With this configuration complete, our page now lists the products provided by the supplier selected in the GridView (see Figure 13).</span></span> <span data-ttu-id="aa5fd-224">Şu anda *herhangi* s ürün adı veya birim başına miktar güncelleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-224">Currently *any* product s name or quantity per unit can be updated.</span></span> <span data-ttu-id="aa5fd-225">Ancak Biz bu işlevselliğin artık üretilmeyen ürünler için belirli bir sağlayıcı ile ilişkili kullanıcılar için kullanılamaz, bizim sayfa mantıksal güncelleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-225">However, we need to update our page logic so that such functionality is prohibited for discontinued products for users associated with a particular supplier.</span></span> <span data-ttu-id="aa5fd-226">Biz, adım 5'te bu son parçası üstesinden.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-226">We'll tackle this final piece in Step 5.</span></span>


<span data-ttu-id="aa5fd-227">[![Seçili sağlayıcısı tarafından sağlanan ürünleri görüntülenir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-227">[![The Products Provided by the Selected Supplier are Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image38.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image37.png)</span></span>

<span data-ttu-id="aa5fd-228">**Şekil 13**: Seçili sağlayıcısı tarafından sağlanan ürünleri görüntülenir ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-228">**Figure 13**: The Products Provided by the Selected Supplier are Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image39.png))</span></span>


> [!NOTE]
> <span data-ttu-id="aa5fd-229">Ek olarak bu düzenlenebilir GridView `Suppliers` DropDownList s `SelectedIndexChanged` GridView bir salt okunur duruma döndürmek için olay işleyicisi güncelleştirilmelidir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-229">With the addition of this editable GridView the `Suppliers` DropDownList s `SelectedIndexChanged` event handler should be updated to return the GridView to a read-only state.</span></span> <span data-ttu-id="aa5fd-230">Farklı bir sağlayıcı, ürün bilgilerini düzenleme sırasında ortasında seçiliyse, aksi takdirde, yeni sağlayıcı için GridView karşılık gelen dizin de düzenlenemez.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-230">Otherwise, if a different supplier is selected while in the middle of editing product information, the corresponding index in the GridView for the new supplier will also be editable.</span></span> <span data-ttu-id="aa5fd-231">Bunu önlemek için GridView s ayarlamanız yeterlidir `EditIndex` özelliğini `-1` içinde `SelectedIndexChanged` olay işleyicisi.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-231">To prevent this, simply set the GridView s `EditIndex` property to `-1` in the `SelectedIndexChanged` event handler.</span></span>


<span data-ttu-id="aa5fd-232">Ayrıca, s görünüm durumu GridView (varsayılan davranış) etkin önemli olduğunu hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-232">Also, recall that it is important that the GridView s view state be enabled (the default behavior).</span></span> <span data-ttu-id="aa5fd-233">GridView s ayarlarsanız `EnableViewState` özelliğini `false`, eş zamanlı kullanıcıların yanlışlıkla silme veya düzenleme kayıtları riskiyle karşılaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-233">If you set the GridView s `EnableViewState` property to `false`, you run the risk of having concurrent users unintentionally deleting or editing records.</span></span> <span data-ttu-id="aa5fd-234">Bkz: [uyarısı: Eşzamanlılık sorun ASP.NET 2.0 GridViews/DetailsView/FormViews ile düzenleme desteği ve/veya silme ve Whose görünüm durumu devre dışı](http://scottonwriting.net/sowblog/posts/10054.aspx) daha fazla bilgi için.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-234">See [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/posts/10054.aspx) for more information.</span></span>

## <a name="step-5-disallow-editing-for-discontinued-products-when-showedit-all-suppliers-is-not-selected"></a><span data-ttu-id="aa5fd-235">5. Adım: Kullanımdan ürünleri olduğunda göster/Düzenle tüm Üreticiler seçili için düzenleme izin vermeyin.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-235">Step 5: Disallow Editing for Discontinued Products When Show/Edit ALL Suppliers is Not Selected</span></span>

<span data-ttu-id="aa5fd-236">Sırada `ProductsBySupplier` GridView tam işlevsel, şu anda çok fazla erişim belirli bir tedarikçiden olan kullanıcılarla verir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-236">While the `ProductsBySupplier` GridView is fully functional, it currently grants too much access to those users who are from a particular supplier.</span></span> <span data-ttu-id="aa5fd-237">İş kurallarımızın bu kullanıcılar artık üretilmeyen ürünler güncelleştiremezsiniz olmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-237">Per our business rules, such users should not be able to update discontinued products.</span></span> <span data-ttu-id="aa5fd-238">Bunu zorunlu kılmak için biz gizle (devre dışı bırakmak bu sayfa bir kullanıcı tarafından bir tedarikçiden ziyaret edildiğinde artık üretilmeyen ürünler GridView satırlardaki Düzenle düğmesini veya).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-238">To enforce this, we can hide (or disable) the Edit button in those GridView rows with discontinued products when the page is being visited by a user from a supplier.</span></span>

<span data-ttu-id="aa5fd-239">GridView s için bir olay işleyicisi oluşturun `RowDataBound` olay.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-239">Create an event handler for the GridView s `RowDataBound` event.</span></span> <span data-ttu-id="aa5fd-240">Kullanıcı, bu öğreticide, üreticiler DropDownList s denetleyerek belirlenebilir belirli bir sağlayıcı ile ilişkili olup olmadığını belirlemek ihtiyacımız bu olay işleyicisinde `SelectedValue` özellik - varsa, s -1, ardından kullanıcı bir şey diğer belirli bir sağlayıcı ile ilişkili.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-240">In this event handler we need to determine whether or not the user is associated with a particular supplier, which, for this tutorial, can be determined by checking the Suppliers DropDownList s `SelectedValue` property - if it s something other than -1, then the user is associated with a particular supplier.</span></span> <span data-ttu-id="aa5fd-241">Bu kullanıcılar için daha sonra ürün kullanımdan olup olmadığını belirlemek ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-241">For such users, we then need to determine whether or not the product is discontinued.</span></span> <span data-ttu-id="aa5fd-242">Biz gerçek bir başvuru alın `ProductRow` örneği, GridView satır bağlanan `e.Row.DataItem` bölümünde açıklandığı gibi özellik [ *GridView s altbilgi özeti bilgilerini görüntüleme* ](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-242">We can grab a reference to the actual `ProductRow` instance bound to the GridView row via the `e.Row.DataItem` property, as discussed in the [*Displaying Summary Information in the GridView s Footer*](../custom-formatting/displaying-summary-information-in-the-gridview-s-footer-cs.md) tutorial.</span></span> <span data-ttu-id="aa5fd-243">Ürün kullanımdan kaldırılmıştır, Düzenle düğmesini GridView s önceki öğreticide açıklanan teknikleri kullanarak CommandField programlı bir başvuru almak [ *ekleme istemci tarafı doğrulama zaman silme* ](adding-client-side-confirmation-when-deleting-cs.md).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-243">If the product is discontinued, we can grab a programmatic reference to the Edit button in the GridView s CommandField using the techniques discussed in the previous tutorial, [*Adding Client-Side Confirmation When Deleting*](adding-client-side-confirmation-when-deleting-cs.md).</span></span> <span data-ttu-id="aa5fd-244">Biz size ardından gizleyebilir veya düğmeyi devre dışı bir başvurusu oluşturduktan sonra.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-244">Once we have a reference we can then hide or disable the button.</span></span>


[!code-csharp[Main](limiting-data-modification-functionality-based-on-the-user-cs/samples/sample6.cs)]

<span data-ttu-id="aa5fd-245">Bu sayfa bir kullanıcı olarak belirli bir tedarikçiden üretilmeyen bu ürünlerin ziyaret olmadığı durumlarda düzenlenemez, bu olay ile işleyici, yerinde bu ürünler için Düzenle düğmesini gizlidir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-245">With this event handler in place, when visiting this page as a user from a specific supplier those products that are discontinued are not editable, as the Edit button is hidden for these products.</span></span> <span data-ttu-id="aa5fd-246">Örneğin, Chef Acı s Baharat karışımı New Orleans Cajun Delights üretici için kullanımdan kaldırılan bir üründür.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-246">For example, Chef Anton s Gumbo Mix is a discontinued product for the New Orleans Cajun Delights supplier.</span></span> <span data-ttu-id="aa5fd-247">Bu belirli bir sağlayıcı için sayfasını ziyaret ederek, bu ürün için Düzenle düğmesini görüş gizli (bkz. Şekil 14).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-247">When visiting the page for this particular supplier, the Edit button for this product is hidden from sight (see Figure 14).</span></span> <span data-ttu-id="aa5fd-248">Ancak, "Göster/Düzenle tüm Üreticiler" kullanarak ziyaret ederken Düzenle düğmesi kullanılabilir (bkz: Şekil 15) olur.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-248">However, when visiting using the "Show/Edit ALL Suppliers," the Edit button is available (see Figure 15).</span></span>


<span data-ttu-id="aa5fd-249">[![Tedarikçi belirli kullanıcılar için Chef Acı s Baharat karışımı Düzenle düğmesi gizlenir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-249">[![For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden](limiting-data-modification-functionality-based-on-the-user-cs/_static/image41.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image40.png)</span></span>

<span data-ttu-id="aa5fd-250">**Şekil 14**: Tedarikçi belirli kullanıcılar için Chef Acı s Baharat karışımı Düzenle düğmesi gizlenir ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-250">**Figure 14**: For Supplier-Specific Users the Edit Button for Chef Anton s Gumbo Mix is Hidden ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image42.png))</span></span>


<span data-ttu-id="aa5fd-251">[![Chef Acı s Baharat karışımı Düzenle düğmesini göster/Düzenle tüm Üreticiler kullanıcılar için görüntülenir](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-251">[![For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed](limiting-data-modification-functionality-based-on-the-user-cs/_static/image44.png)](limiting-data-modification-functionality-based-on-the-user-cs/_static/image43.png)</span></span>

<span data-ttu-id="aa5fd-252">**Şekil 15**: Chef Acı s Baharat karışımı Düzenle düğmesini göster/Düzenle tüm Üreticiler kullanıcılar için görüntülenen ([tam boyutlu görüntüyü görmek için tıklatın](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span><span class="sxs-lookup"><span data-stu-id="aa5fd-252">**Figure 15**: For Show/Edit ALL Suppliers Users, the Edit Button for Chef Anton s Gumbo Mix is Displayed ([Click to view full-size image](limiting-data-modification-functionality-based-on-the-user-cs/_static/image45.png))</span></span>


## <a name="checking-for-access-rights-in-the-business-logic-layer"></a><span data-ttu-id="aa5fd-253">İş mantığı katmanı erişim haklarını denetleme</span><span class="sxs-lookup"><span data-stu-id="aa5fd-253">Checking for Access Rights in the Business Logic Layer</span></span>

<span data-ttu-id="aa5fd-254">Bu öğreticide ASP.NET sayfası bakımından hangi bilgileri kullanıcının görebileceği tüm mantığı işler ve hangi ürünleri kendisinin güncelleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-254">In this tutorial the ASP.NET page handles all logic with regards to what information the user can see and what products he can update.</span></span> <span data-ttu-id="aa5fd-255">İdeal olarak, bu mantık ayrıca iş mantığı katmanı mevcut olacaktır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-255">Ideally, this logic would also be present at the Business Logic Layer.</span></span> <span data-ttu-id="aa5fd-256">Örneğin, `SuppliersBLL` s sınıfı `GetSuppliers()` (tüm Üreticiler döndüren) yöntemi, o anda oturum açmış kullanıcı olduğundan emin olmak için bir onay içerebilir *değil* belirli bir sağlayıcı ile ilişkili.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-256">For example, the `SuppliersBLL` class s `GetSuppliers()` method (which returns all suppliers) might include a check to ensure that the currently logged on user is *not* associated with a specific supplier.</span></span> <span data-ttu-id="aa5fd-257">Benzer şekilde, `UpdateSupplierAddress` yöntemi, o anda oturum açmış kullanıcı ya da Şirketimiz için çalışan (ve bu nedenle tüm Üreticiler adres bilgilerini güncelleştirmesine) emin olmak için bir onay içerebilir veya verisini güncelleştiriliyor sağlayıcı ile ilişkilendirilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-257">Likewise, the `UpdateSupplierAddress` method could include a check to ensure that the currently logged on user either worked for our company (and therefore can update all suppliers address information) or is associated with the supplier whose data is being updated.</span></span>

<span data-ttu-id="aa5fd-258">Müşterilerimize öğreticide s kullanıcı haklarını bir DropDownList BLL sınıfları erişemiyor sayfasında belirlenir çünkü tür BLL katmanı denetimler içermiyordu.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-258">I did not include such BLL-layer checks here because in our tutorial the user s rights are determined by a DropDownList on the page, which the BLL classes cannot access.</span></span> <span data-ttu-id="aa5fd-259">Üyelik sistemini veya (Windows kimlik doğrulaması gibi), ASP.NET tarafından sağlanan çıkış-hazır kimlik doğrulama düzenleri birini kullanırken, şu anda oturum açmış kullanıcının s ve rolleri bilgileri böylece erişim yapmadan BLL erişilebilir hakları sunu ve BLL katmanları olası denetler.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-259">When using the membership system or one of the out-of-the box authentication schemes provided by ASP.NET (such as Windows authentication), the currently logged on user s information and roles information can be accessed from the BLL, thereby making such access rights checks possible at both the presentation and BLL layers.</span></span>

## <a name="summary"></a><span data-ttu-id="aa5fd-260">Özet</span><span class="sxs-lookup"><span data-stu-id="aa5fd-260">Summary</span></span>

<span data-ttu-id="aa5fd-261">Kullanıcı hesapları sağlamak en siteler üzerinde oturum açmış olan kullanıcının dayalı veri değişikliği arabirimini özelleştirme gerekir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-261">Most sites that provide user accounts need to customize the data modification interface based upon the logged in user.</span></span> <span data-ttu-id="aa5fd-262">Yönetici olmayan kullanıcılar yalnızca güncelleştiriliyor veya kendilerini oluşturan kayıtları silmek için sınırlı olabilir ancak yönetim kullanıcılarının herhangi bir kayıt silip mümkün olabilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-262">Administrative users may be able to delete and edit any record, whereas non-administrative users may be limited to only updating or deleting records they created themselves.</span></span> <span data-ttu-id="aa5fd-263">Her senaryo, veri Web denetimleri, ObjectDataSource, olabilir ve iş mantığı katmanı sınıfları eklemek veya oturum açmış kullanıcıya dayanarak bazı işlevlere reddetmek için genişletilebilir.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-263">Whatever the scenario may be, the data Web controls, ObjectDataSource, and Business Logic Layer classes can be extended to add or deny certain functionality based on the logged on user.</span></span> <span data-ttu-id="aa5fd-264">Bu öğreticide Şirketimiz için çalışan veya kullanıcı belirli bir sağlayıcı ile ilişkili olmasına bağlı olarak görüntülenebilir ve düzenlenebilir verileri sınırlamak nasıl gördük.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-264">In this tutorial we saw how to limit the viewable and editable data depending on whether the user was associated with a particular supplier or if they worked for our company.</span></span>

<span data-ttu-id="aa5fd-265">Bu öğreticiyi bizim inceleme, ekleme, güncelleştirme ve silme FormView GridView ve DetailsView denetimlerini kullanarak verileri sonlandırır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-265">This tutorial concludes our examination of inserting, updating, and deleting data using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="aa5fd-266">Sonraki öğretici ile başlayarak, sayfalama ve sıralama desteği eklemek için uygulamamızla açacağım.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-266">Starting with the next tutorial, we'll turn our attention to adding paging and sorting support.</span></span>

<span data-ttu-id="aa5fd-267">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="aa5fd-267">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="aa5fd-268">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="aa5fd-268">About the Author</span></span>

<span data-ttu-id="aa5fd-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar yedi ASP/ASP.NET kitaplardan ve poshbeauty.com sitesinin [4GuysFromRolla.com](http://www.4guysfromrolla.com), Microsoft Web teknolojileriyle beri 1998'de çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-269">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="aa5fd-270">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="aa5fd-270">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="aa5fd-271">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 2.0 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-271">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="aa5fd-272">He adresinden ulaşılabilir [ mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-272">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="aa5fd-273">veya kendi blog hangi bulunabilir [ http://ScottOnWriting.NET ](http://ScottOnWriting.NET).</span><span class="sxs-lookup"><span data-stu-id="aa5fd-273">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="aa5fd-274">[Önceki](adding-client-side-confirmation-when-deleting-cs.md)
> [İleri](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span><span class="sxs-lookup"><span data-stu-id="aa5fd-274">[Previous](adding-client-side-confirmation-when-deleting-cs.md)
[Next](an-overview-of-inserting-updating-and-deleting-data-vb.md)</span></span>
