---
uid: web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
title: Veri ekleme, güncelleştirme ve silmeye genel bakış (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, bir ObjectDataSource 'un Insert (), Update () ve Delete () yöntemlerini BLL sınıflarının yöntemlerine ve configu... ile nasıl eşleneceğini öğreneceksiniz.
ms.author: riande
ms.date: 07/17/2006
ms.assetid: b651dc58-93c7-4f83-a74e-3b99f6d60848
msc.legacyurl: /web-forms/overview/data-access/editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs
msc.type: authoredcontent
ms.openlocfilehash: e26b8e841f86272a158b0c09b62ab2790d01d191
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78592745"
---
# <a name="an-overview-of-inserting-updating-and-deleting-data-c"></a><span data-ttu-id="3acd3-103">Veri ekleme, güncelleştirme ve silmeye genel bakış (C#)</span><span class="sxs-lookup"><span data-stu-id="3acd3-103">An Overview of Inserting, Updating, and Deleting Data (C#)</span></span>

<span data-ttu-id="3acd3-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="3acd3-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="3acd3-105">[Örnek uygulamayı indirin](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) veya [PDF 'yi indirin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="3acd3-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_16_CS.exe) or [Download PDF](an-overview-of-inserting-updating-and-deleting-data-cs/_static/datatutorial16cs1.pdf)</span></span>

> <span data-ttu-id="3acd3-106">Bu öğreticide, bir ObjectDataSource 'un Insert (), Update () ve Delete () yöntemlerini BLL sınıflarının yöntemlerine eşlemeyi ve veri değiştirme özellikleri sağlamak için GridView, DetailsView ve FormView denetimlerini yapılandırmayı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-106">In this tutorial we'll see how to map an ObjectDataSource's Insert(), Update(), and Delete() methods to the methods of BLL classes, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="introduction"></a><span data-ttu-id="3acd3-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="3acd3-107">Introduction</span></span>

<span data-ttu-id="3acd3-108">Son birkaç öğreticilerde, GridView, DetailsView ve FormView denetimlerini kullanarak verileri bir ASP.NET sayfasında görüntülemeyi inceledik.</span><span class="sxs-lookup"><span data-stu-id="3acd3-108">Over the past several tutorials we've examined how to display data in an ASP.NET page using the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="3acd3-109">Bu denetimler yalnızca bunlara verilen verilerle çalışır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-109">These controls simply work with data supplied to them.</span></span> <span data-ttu-id="3acd3-110">Genellikle, bu denetimler, ObjectDataSource gibi bir veri kaynağı denetimi kullanılarak verilere erişir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-110">Commonly, these controls access data through the use of a data source control, such as the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-111">ObjectDataSource 'un ASP.NET sayfası ve temel alınan veriler arasında bir ara sunucu olarak nasıl davranması gerektiğini gördük.</span><span class="sxs-lookup"><span data-stu-id="3acd3-111">We've seen how the ObjectDataSource acts as a proxy between the ASP.NET page and the underlying data.</span></span> <span data-ttu-id="3acd3-112">Bir GridView 'un verileri görüntülemesi gerektiğinde, onun ObjectDataSource 'un `Select()` yöntemini çağırır. Bu, uygun veri erişim katmanının (DAL) TableAdapter ' de bir yöntemi çağıran ve bu da Northwind veritabanına `SELECT` bir sorgu gönderen Iş mantığı katmanımızda (BLL) bir yöntemi çağıran Iş mantığı katmanımız bir yöntemi çağırır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-112">When a GridView needs to display data, it invokes its ObjectDataSource's `Select()` method, which in turn invokes a method from our Business Logic Layer (BLL), which calls a method in the appropriate Data Access Layer's (DAL) TableAdapter, which in turn sends a `SELECT` query to the Northwind database.</span></span>

<span data-ttu-id="3acd3-113">[İlk öğreticimizde](../introduction/creating-a-data-access-layer-cs.md)dal içinde TableAdapters oluşturduğumuzda, Visual Studio temel veritabanı tablosundan veri ekleme, güncelleştirme ve silme yöntemlerini otomatik olarak eklemiştir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-113">Recall that when we created the TableAdapters in the DAL in [our first tutorial](../introduction/creating-a-data-access-layer-cs.md), Visual Studio automatically added methods for inserting, updating, and deleting data from the underlying database table.</span></span> <span data-ttu-id="3acd3-114">Ayrıca, [bir Iş mantığı katmanı oluşturmak](../introduction/creating-a-business-logic-layer-cs.md) için bu VERI değişikliği dal yöntemlerine çağrılan BLL 'de Yöntemler tasarlıyoruz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-114">Moreover, in [Creating a Business Logic Layer](../introduction/creating-a-business-logic-layer-cs.md) we designed methods in the BLL that called down into these data modification DAL methods.</span></span>

<span data-ttu-id="3acd3-115">`Select()` metoduna ek olarak, ObjectDataSource da `Insert()`, `Update()`ve `Delete()` yöntemlerine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-115">In addition to its `Select()` method, the ObjectDataSource also has `Insert()`, `Update()`, and `Delete()` methods.</span></span> <span data-ttu-id="3acd3-116">`Select()` yöntemi gibi, bu üç yöntem temel bir nesne içindeki yöntemlerle eşleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-116">Like the `Select()` method, these three methods can be mapped to methods in an underlying object.</span></span> <span data-ttu-id="3acd3-117">Veri eklemek, güncelleştirmek veya silmek için yapılandırıldığında, GridView, DetailsView ve FormView denetimleri, temel alınan verileri değiştirmek için bir kullanıcı arabirimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-117">When configured to insert, update, or delete data, the GridView, DetailsView, and FormView controls provide a user interface for modifying the underlying data.</span></span> <span data-ttu-id="3acd3-118">Bu Kullanıcı arabirimi, ObjectDataSource 'un temel nesnenin ilişkili yöntemlerini çağıran `Insert()`, `Update()`ve `Delete()` yöntemlerini çağırır (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="3acd3-118">This user interface calls the `Insert()`, `Update()`, and `Delete()` methods of the ObjectDataSource, which then invoke the underlying object's associated methods (see Figure 1).</span></span>

<span data-ttu-id="3acd3-119">[ObjectDataSource 'un Insert (), Update () ve Delete () yöntemleri, BLL 'e bir proxy olarak görev yapar ![](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-119">[![The ObjectDataSource's Insert(), Update(), and Delete() Methods Serve as a Proxy into the BLL](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image2.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image1.png)</span></span>

<span data-ttu-id="3acd3-120">**Şekil 1**: ObjectDataSource 'un `Insert()`, `Update()`ve `Delete()` yöntemleri BLL 'e bir proxy olarak görev yapar ([tam boyutlu görüntüyü görüntülemek için tıklatın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-120">**Figure 1**: The ObjectDataSource's `Insert()`, `Update()`, and `Delete()` Methods Serve as a Proxy into the BLL ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image3.png))</span></span>

<span data-ttu-id="3acd3-121">Bu öğreticide, ObjectDataSource 'un `Insert()`, `Update()`ve `Delete()` yöntemlerini BLL içindeki sınıf yöntemlerine nasıl eşleneceğini ve veri değiştirme özellikleri sağlamak için GridView, DetailsView ve FormView denetimlerini nasıl yapılandıracağınızı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-121">In this tutorial we'll see how to map the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods to methods of classes in the BLL, as well as how to configure the GridView, DetailsView, and FormView controls to provide data modification capabilities.</span></span>

## <a name="step-1-creating-the-insert-update-and-delete-tutorials-web-pages"></a><span data-ttu-id="3acd3-122">Adım 1: ekleme, güncelleştirme ve silme öğreticileri Web sayfalarını oluşturma</span><span class="sxs-lookup"><span data-stu-id="3acd3-122">Step 1: Creating the Insert, Update, and Delete Tutorials Web Pages</span></span>

<span data-ttu-id="3acd3-123">Verileri ekleme, güncelleştirme ve silme konusunda keşfetmeye başlamadan önce, Web sitesi projemizdeki Bu öğretici ve sonraki birkaç işlem için gereken ASP.NET sayfalarını oluşturmak için biraz zaman atalım.</span><span class="sxs-lookup"><span data-stu-id="3acd3-123">Before we start exploring how to insert, update, and delete data, let's first take a moment to create the ASP.NET pages in our website project that we'll need for this tutorial and the next several ones.</span></span> <span data-ttu-id="3acd3-124">`EditInsertDelete`adlı yeni bir klasör ekleyerek başlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-124">Start by adding a new folder named `EditInsertDelete`.</span></span> <span data-ttu-id="3acd3-125">Ardından, aşağıdaki ASP.NET sayfalarını bu klasöre ekleyerek her bir sayfayı `Site.master` ana sayfasıyla ilişkilendirdiğinizden emin olun:</span><span class="sxs-lookup"><span data-stu-id="3acd3-125">Next, add the following ASP.NET pages to that folder, making sure to associate each page with the `Site.master` master page:</span></span>

- `Default.aspx`
- `Basics.aspx`
- `DataModificationEvents.aspx`
- `ErrorHandling.aspx`
- `UIValidation.aspx`
- `CustomizedUI.aspx`
- `OptimisticConcurrency.aspx`
- `ConfirmationOnDelete.aspx`
- `UserLevelAccess.aspx`

![Veri değişikliği ile Ilgili öğreticiler için ASP.NET sayfaları ekleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image4.png)

<span data-ttu-id="3acd3-127">**Şekil 2**: veri değişikliği Ile ilgili öğreticiler Için ASP.NET sayfaları ekleme</span><span class="sxs-lookup"><span data-stu-id="3acd3-127">**Figure 2**: Add the ASP.NET Pages for the Data Modification-Related Tutorials</span></span>

<span data-ttu-id="3acd3-128">Diğer klasörlerde olduğu gibi, `EditInsertDelete` klasöründeki `Default.aspx` öğreticileri bölümündeki öğreticilerin listelecektir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-128">Like in the other folders, `Default.aspx` in the `EditInsertDelete` folder will list the tutorials in its section.</span></span> <span data-ttu-id="3acd3-129">`SectionLevelTutorialListing.ascx` Kullanıcı denetiminin bu işlevselliği sağladığını hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-129">Recall that the `SectionLevelTutorialListing.ascx` User Control provides this functionality.</span></span> <span data-ttu-id="3acd3-130">Bu nedenle, bu kullanıcı denetimini Çözüm Gezgini sayfanın Tasarım görünümü üzerine sürükleyerek `Default.aspx` ekleyin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-130">Therefore, add this User Control to `Default.aspx` by dragging it from the Solution Explorer onto the page's Design view.</span></span>

<span data-ttu-id="3acd3-131">[SectionLevelTutorialListing. ascx Kullanıcı denetimini default. aspx öğesine eklemek ![](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-131">[![Add the SectionLevelTutorialListing.ascx User Control to Default.aspx](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image6.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image5.png)</span></span>

<span data-ttu-id="3acd3-132">**Şekil 3**: `Default.aspx` `SectionLevelTutorialListing.ascx` Kullanıcı denetimini ekleme ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-132">**Figure 3**: Add the `SectionLevelTutorialListing.ascx` User Control to `Default.aspx` ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image7.png))</span></span>

<span data-ttu-id="3acd3-133">Son olarak, sayfaları `Web.sitemap` dosyasına girdi olarak ekleyin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-133">Lastly, add the pages as entries to the `Web.sitemap` file.</span></span> <span data-ttu-id="3acd3-134">Özel olarak, özelleştirilmiş biçimlendirme `<siteMapNode>`sonra aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="3acd3-134">Specifically, add the following markup after the Customized Formatting `<siteMapNode>`:</span></span>

[!code-xml[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample1.xml)]

<span data-ttu-id="3acd3-135">`Web.sitemap`güncelleştirildikten sonra Öğreticiler Web sitesini bir tarayıcıdan görüntülemek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-135">After updating `Web.sitemap`, take a moment to view the tutorials website through a browser.</span></span> <span data-ttu-id="3acd3-136">Sol taraftaki menü artık öğreticilerin düzenlenmesine, eklemeye ve silinmesine yönelik öğeler içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-136">The menu on the left now includes items for the editing, inserting, and deleting tutorials.</span></span>

![Site Haritası artık öğreticilerin düzenlenmesine, eklemeye ve silinmesine yönelik girdiler Içerir](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image8.png)

<span data-ttu-id="3acd3-138">**Şekil 4**: site haritası artık öğreticilerin düzenlenmesine, eklemeye ve silinmesine yönelik girdiler içerir</span><span class="sxs-lookup"><span data-stu-id="3acd3-138">**Figure 4**: The Site Map Now Includes Entries for the Editing, Inserting, and Deleting Tutorials</span></span>

## <a name="step-2-adding-and-configuring-the-objectdatasource-control"></a><span data-ttu-id="3acd3-139">2\. Adım: ObjectDataSource denetimini ekleme ve yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3acd3-139">Step 2: Adding and Configuring the ObjectDataSource Control</span></span>

<span data-ttu-id="3acd3-140">GridView, DetailsView ve FormView her biri veri değiştirme özelliklerine ve düzenine göre farklılık gösterdiğinden her birini ayrı ayrı inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="3acd3-140">Since the GridView, DetailsView, and FormView each differ in their data modification capabilities and layout, let's examine each one individually.</span></span> <span data-ttu-id="3acd3-141">Ancak, her bir denetimin kendi ObjectDataSource 'u kullanmasını sağlamak yerine, yalnızca üç denetim örneklerinin paylaştığı tek bir ObjectDataSource oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="3acd3-141">Rather than have each control using its own ObjectDataSource, however, let's just create a single ObjectDataSource that all three control examples can share.</span></span>

<span data-ttu-id="3acd3-142">`Basics.aspx` sayfasını açın, araç kutusu ' ndan tasarımcı üzerine bir ObjectDataSource sürükleyin ve akıllı etiketinden veri kaynağını Yapılandır bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-142">Open the `Basics.aspx` page, drag an ObjectDataSource from the Toolbox onto the Designer, and click the Configure Data Source link from its smart tag.</span></span> <span data-ttu-id="3acd3-143">`ProductsBLL`, ekleme, ekleme ve silme yöntemleri sağlayan tek BLL sınıfı olduğundan, bu sınıfı kullanmak için ObjectDataSource 'u yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-143">Since the `ProductsBLL` is the only BLL class that provides editing, inserting, and deleting methods, configure the ObjectDataSource to use this class.</span></span>

<span data-ttu-id="3acd3-144">[![, ObjectDataSource 'ı ProductsBLL sınıfını kullanacak şekilde yapılandırma](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-144">[![Configure the ObjectDataSource to Use the ProductsBLL Class](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image10.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image9.png)</span></span>

<span data-ttu-id="3acd3-145">**Şekil 5**: ObjectDataSource 'ı `ProductsBLL` sınıfını kullanacak şekilde yapılandırma ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-145">**Figure 5**: Configure the ObjectDataSource to Use the `ProductsBLL` Class ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image11.png))</span></span>

<span data-ttu-id="3acd3-146">Sonraki ekranda, uygun sekmeyi seçerek ve açılan listeden yöntemi seçerek `ProductsBLL` sınıfının hangi yöntemlerin `Select()`, `Insert()`, `Update()`ve `Delete()` eşleştirildiği belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-146">In the next screen we can specify what methods of the `ProductsBLL` class are mapped to the ObjectDataSource's `Select()`, `Insert()`, `Update()`, and `Delete()` by selecting the appropriate tab and choosing the method from the drop-down list.</span></span> <span data-ttu-id="3acd3-147">Şekil 6 ' da şu anda tanıdık gelmelidir, ObjectDataSource 'un `Select()` yöntemini `ProductsBLL` sınıfının `GetProducts()` yöntemiyle eşler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-147">Figure 6, which should look familiar by now, maps the ObjectDataSource's `Select()` method to the `ProductsBLL` class's `GetProducts()` method.</span></span> <span data-ttu-id="3acd3-148">`Insert()`, `Update()`ve `Delete()` yöntemleri en üstteki listeden uygun sekme seçilerek yapılandırılabilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-148">The `Insert()`, `Update()`, and `Delete()` methods can be configured by selecting the appropriate tab from the list along the top.</span></span>

<span data-ttu-id="3acd3-149">[![, ObjectDataSource 'un tüm ürünleri döndürmesini](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-149">[![Have the ObjectDataSource Return All of the Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image13.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image12.png)</span></span>

<span data-ttu-id="3acd3-150">**Şekil 6**: ObjectDataSource 'un tüm ürünleri döndürmesini sağlamak ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-150">**Figure 6**: Have the ObjectDataSource Return All of the Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image14.png))</span></span>

<span data-ttu-id="3acd3-151">Şekil 7, 8 ve 9, ObjectDataSource 'un GÜNCELLEŞTIRME, ekleme ve SILME sekmelerini gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-151">Figures 7, 8, and 9 show the ObjectDataSource's UPDATE, INSERT, and DELETE tabs.</span></span> <span data-ttu-id="3acd3-152">`Insert()`, `Update()`ve `Delete()` yöntemlerinin sırasıyla `ProductsBLL` sınıfının `UpdateProduct`, `AddProduct`ve `DeleteProduct` yöntemlerini çağırması için bu sekmeleri yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-152">Configure these tabs so that the `Insert()`, `Update()`, and `Delete()` methods invoke the `ProductsBLL` class's `UpdateProduct`, `AddProduct`, and `DeleteProduct` methods, respectively.</span></span>

<span data-ttu-id="3acd3-153">[![ObjectDataSource 'un Update () yöntemini ProductBLL sınıfının UpdateProduct yöntemiyle eşleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-153">[![Map the ObjectDataSource's Update() Method to the ProductBLL Class's UpdateProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image16.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image15.png)</span></span>

<span data-ttu-id="3acd3-154">**Şekil 7**: ObjectDataSource 'un `Update()` yöntemini `ProductBLL` sınıfının `UpdateProduct` yöntemiyle eşleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-154">**Figure 7**: Map the ObjectDataSource's `Update()` Method to the `ProductBLL` Class's `UpdateProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image17.png))</span></span>

<span data-ttu-id="3acd3-155">[![ObjectDataSource 'un Insert () metodunu ProductBLL sınıfının AddProduct yöntemine eşleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-155">[![Map the ObjectDataSource's Insert() Method to the ProductBLL Class's AddProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image19.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image18.png)</span></span>

<span data-ttu-id="3acd3-156">**Şekil 8**: ObjectDataSource 'un `Insert()` yöntemini `ProductBLL` sınıfının Add `Product` yöntemine eşleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-156">**Figure 8**: Map the ObjectDataSource's `Insert()` Method to the `ProductBLL` Class's Add `Product` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image20.png))</span></span>

<span data-ttu-id="3acd3-157">[![ObjectDataSource 'un Delete () yöntemini ProductBLL sınıfının DeleteProduct yöntemine eşleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-157">[![Map the ObjectDataSource's Delete() Method to the ProductBLL Class's DeleteProduct Method](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image22.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image21.png)</span></span>

<span data-ttu-id="3acd3-158">**Şekil 9**: ObjectDataSource 'un `Delete()` yöntemini `ProductBLL` sınıfının `DeleteProduct` yöntemiyle eşleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-158">**Figure 9**: Map the ObjectDataSource's `Delete()` Method to the `ProductBLL` Class's `DeleteProduct` Method ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image23.png))</span></span>

<span data-ttu-id="3acd3-159">GÜNCELLEŞTIRME, ekleme ve SILME sekmelerindeki açılan listelerin bu yöntemlerin zaten seçili olduğunu fark etmiş olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-159">You may have noticed that the drop-down lists in the UPDATE, INSERT, and DELETE tabs already had these methods selected.</span></span> <span data-ttu-id="3acd3-160">Bu, `ProductsBLL`yöntemlerini süsleden `DataObjectMethodAttribute` kullanımı için teşekkürler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-160">This is thanks to our use of the `DataObjectMethodAttribute` that decorates the methods of `ProductsBLL`.</span></span> <span data-ttu-id="3acd3-161">Örneğin, DeleteProduct yöntemi aşağıdaki imzaya sahiptir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-161">For example, the DeleteProduct method has the following signature:</span></span>

[!code-csharp[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample2.cs)]

<span data-ttu-id="3acd3-162">`DataObjectMethodAttribute` özniteliği, her yöntemin, seçme, ekleme, güncelleştirme veya silme için olup olmadığını ve varsayılan değer olup olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-162">The `DataObjectMethodAttribute` attribute indicates the purpose of each method whether it is for selecting, inserting, updating, or deleting and whether or not it's the default value.</span></span> <span data-ttu-id="3acd3-163">BLL sınıflarınızı oluştururken bu öznitelikleri atlarsanız, GÜNCELLEŞTIRME, ekleme ve SILME sekmelerinden yöntemleri el ile seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-163">If you omitted these attributes when creating your BLL classes, you'll need to manually select the methods from the UPDATE, INSERT, and DELETE tabs.</span></span>

<span data-ttu-id="3acd3-164">Uygun `ProductsBLL` yöntemlerinin ObjectDataSource 'un `Insert()`, `Update()`ve `Delete()` yöntemlerine eşlendiğinden emin olduktan sonra, Sihirbazı tamamladıktan sonra son ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-164">After ensuring that the appropriate `ProductsBLL` methods are mapped to the ObjectDataSource's `Insert()`, `Update()`, and `Delete()` methods, click Finish to complete the wizard.</span></span>

## <a name="examining-the-objectdatasources-markup"></a><span data-ttu-id="3acd3-165">ObjectDataSource 'un Işaretlemesini İnceleme</span><span class="sxs-lookup"><span data-stu-id="3acd3-165">Examining the ObjectDataSource's Markup</span></span>

<span data-ttu-id="3acd3-166">ObjectDataSource 'u Sihirbazı aracılığıyla yapılandırdıktan sonra, oluşturulan bildirim işaretlemesini incelemek için kaynak görünümüne gidin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-166">After configuring the ObjectDataSource through its wizard, go to the Source view to examine the generated declarative markup.</span></span> <span data-ttu-id="3acd3-167">`<asp:ObjectDataSource>` etiketi, temel alınan nesneyi ve çağrılacak yöntemleri belirtir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-167">The `<asp:ObjectDataSource>` tag specifies the underlying object and the methods to invoke.</span></span> <span data-ttu-id="3acd3-168">Ayrıca, `ProductsBLL` sınıfının `AddProduct`, `UpdateProduct`ve `DeleteProduct` yöntemlerine yönelik giriş parametreleriyle eşlenen `DeleteParameters`, `UpdateParameters`ve `InsertParameters` vardır:</span><span class="sxs-lookup"><span data-stu-id="3acd3-168">Additionally, there are `DeleteParameters`, `UpdateParameters`, and `InsertParameters` that map to the input parameters for the `ProductsBLL` class's `AddProduct`, `UpdateProduct`, and `DeleteProduct` methods:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample3.aspx)]

<span data-ttu-id="3acd3-169">ObjectDataSource, ObjectDataSource, bir giriş parametresi bekleyen bir Select yöntemi çağırmak üzere yapılandırıldığında (örneğin, `GetProductsByCategoryID(categoryID)`) bir `SelectParameter` liste gibi, ilişkili yöntemlerin her bir giriş parametresi için bir parametre içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-169">The ObjectDataSource includes a parameter for each of the input parameters for its associated methods, just like a list of `SelectParameter` s is present when the ObjectDataSource is configured to call a select method that expects an input parameter (such as `GetProductsByCategoryID(categoryID)`).</span></span> <span data-ttu-id="3acd3-170">Kısa süre içinde, bu `DeleteParameters`, `UpdateParameters`ve `InsertParameters` değerleri, ObjectDataSource 'un `Insert()`, `Update()`veya `Delete()` yöntemi çağırmadan önce GridView, DetailsView ve FormView tarafından otomatik olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-170">As we'll see shortly, values for these `DeleteParameters`, `UpdateParameters`, and `InsertParameters` are set automatically by the GridView, DetailsView, and FormView prior to invoking the ObjectDataSource's `Insert()`, `Update()`, or `Delete()` method.</span></span> <span data-ttu-id="3acd3-171">Bu değerler, gelecekteki öğreticide tartıştığımız için gerektiğinde programlama yoluyla da ayarlanabilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-171">These values can also be set programmatically as needed, as we'll discuss in a future tutorial.</span></span>

<span data-ttu-id="3acd3-172">ObjectDataSource 'a yapılandırmak için Sihirbazı kullanmanın bir yan etkisi, Visual Studio 'Nun [OldValuesParameterFormatString özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) `original_{0}`olarak ayarlamadır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-172">One side effect of using the wizard to configure to ObjectDataSource is that Visual Studio sets the [OldValuesParameterFormatString property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.objectdatasource.oldvaluesparameterformatstring(VS.80).aspx) to `original_{0}`.</span></span> <span data-ttu-id="3acd3-173">Bu özellik değeri, düzenlenmekte olan verilerin orijinal değerlerini dahil etmek için kullanılır ve iki senaryoda faydalıdır:</span><span class="sxs-lookup"><span data-stu-id="3acd3-173">This property value is used to include the original values of the data being edited and is useful in two scenarios:</span></span>

- <span data-ttu-id="3acd3-174">Bir kayıt düzenlenirken, kullanıcılar birincil anahtar değerini değiştirebilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-174">If, when editing a record, users are able to change the primary key value.</span></span> <span data-ttu-id="3acd3-175">Bu durumda, özgün birincil anahtar değerine sahip kaydın bulunabilmesi ve değerinin uygun şekilde güncelleştirilmesini sağlamak için hem yeni birincil anahtar değeri hem de orijinal birincil anahtar değeri sağlanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-175">In this case, both the new primary key value and the original primary key value must be provided so that the record with the original primary key value can be found and have its value updated accordingly.</span></span>
- <span data-ttu-id="3acd3-176">İyimser eşzamanlılık kullanılırken.</span><span class="sxs-lookup"><span data-stu-id="3acd3-176">When using optimistic concurrency.</span></span> <span data-ttu-id="3acd3-177">İyimser eşzamanlılık, iki eşzamanlı kullanıcının başka bir değişiklik yaptığı değişikliğin üzerine yazılmayacağı ve gelecekteki öğreticinin konusu olduğundan emin olmak için kullanılan bir tekniktir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-177">Optimistic concurrency is a technique to ensure that two simultaneous users don't overwrite one another's changes, and is the topic for a future tutorial.</span></span>

<span data-ttu-id="3acd3-178">`OldValuesParameterFormatString` özelliği, orijinal değerler için temeldeki nesnenin Update ve DELETE metotlarındaki giriş parametrelerinin adını gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-178">The `OldValuesParameterFormatString` property indicates the name of the input parameters in the underlying object's update and delete methods for the original values.</span></span> <span data-ttu-id="3acd3-179">İyimser eşzamanlılık keşfettiğimiz zaman bu özelliği ve amacını daha ayrıntılı olarak ele alacağız.</span><span class="sxs-lookup"><span data-stu-id="3acd3-179">We'll discuss this property and its purpose in greater detail when we explore optimistic concurrency.</span></span> <span data-ttu-id="3acd3-180">Ancak, BLL 'nin yöntemleri özgün değerleri beklemediği ve bu nedenle bu özelliği kaldırdığımızdan önemli olduğundan, şimdi kullanıma sundum.</span><span class="sxs-lookup"><span data-stu-id="3acd3-180">I bring it up now, however, because our BLL's methods do not expect the original values and therefore it's important that we remove this property.</span></span> <span data-ttu-id="3acd3-181">`OldValuesParameterFormatString` özelliği varsayılandan farklı bir değere (`{0}`) ayrıldığınızda, ObjectDataSource bir veri Web denetimi, hem `UpdateParameters` hem de `DeleteParameters` belirtilen ve özgün değer parametrelerine geçiş yapmayı deneyeceğinden, ObjectDataSource 'un `Update()` veya `Delete()` yöntemlerini çağırmayı denediğinde bir hataya neden olur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-181">Leaving the `OldValuesParameterFormatString` property set to anything other than the default (`{0}`) will cause an error when a data Web control attempts to invoke the ObjectDataSource's `Update()` or `Delete()` methods because the ObjectDataSource will attempt to pass in both the `UpdateParameters` or `DeleteParameters` specified as well as original value parameters.</span></span>

<span data-ttu-id="3acd3-182">Bu juncture 'de böyle bir kaymayın yoksa, bu özelliği ve yardımcı programını gelecekteki bir öğreticide inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-182">If this isn't terribly clear at this juncture, don't worry, we'll examine this property and its utility in a future tutorial.</span></span> <span data-ttu-id="3acd3-183">Şimdilik, bu özellik bildirimini bildirime dayalı sözdiziminden kaldırmak ya da değeri varsayılan değer ({0}) olarak ayarlamanız yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-183">For now, just be certain to either remove this property declaration entirely from the declarative syntax or set the value to the default value ({0}).</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-184">Tasarım görünümü Özellikler penceresi `OldValuesParameterFormatString` özellik değerini yalnızca bir temizlerseniz, özellik bildirime dayalı sözdiziminde kalır, ancak boş bir dizeye ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-184">If you simply clear out the `OldValuesParameterFormatString` property value from the Properties window in the Design view, the property will still exist in the declarative syntax, but be set to an empty string.</span></span> <span data-ttu-id="3acd3-185">Bu, ne yazık ki yukarıda açıklanan soruna neden olur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-185">This, unfortunately, will still result in the same problem discussed above.</span></span> <span data-ttu-id="3acd3-186">Bu nedenle, özelliği bildirime dayalı sözdiziminden tamamen kaldırın ya da Özellikler penceresi, değeri varsayılan olan `{0}`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-186">Therefore, either remove the property altogether from the declarative syntax or, from the Properties window, set the value to the default, `{0}`.</span></span>

## <a name="step-3-adding-a-data-web-control-and-configuring-it-for-data-modification"></a><span data-ttu-id="3acd3-187">3\. Adım: veri Web denetimi ekleme ve veri değişikliği için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3acd3-187">Step 3: Adding a Data Web Control and Configuring It for Data Modification</span></span>

<span data-ttu-id="3acd3-188">ObjectDataSource, sayfaya eklendikten ve yapılandırıldıktan sonra verileri göstermek için sayfaya veri Web denetimleri eklemeye hazırız ve son kullanıcının bunu değiştirmesi için bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-188">Once the ObjectDataSource has been added to the page and configured, we're ready to add data Web controls to the page to both display the data and provide a means for the end user to modify it.</span></span> <span data-ttu-id="3acd3-189">Bu veri Web denetimleri, veri değiştirme özellikleri ve yapılandırmasında farklılık gösterdiği için GridView, DetailsView ve FormView 'e ayrı olarak bakacağız.</span><span class="sxs-lookup"><span data-stu-id="3acd3-189">We'll look at the GridView, DetailsView, and FormView separately, as these data Web controls differ in their data modification capabilities and configuration.</span></span>

<span data-ttu-id="3acd3-190">Bu makalenin geri kalanında göreceğiniz gibi, GridView, DetailsView ve FormView denetimleri aracılığıyla basit düzenlemeler, ekleme ve silme desteğinin eklenmesi, birkaç onay kutusunun denetlenmesi açısından oldukça basittir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-190">As we'll see in the remainder of this article, adding very basic editing, inserting, and deleting support through the GridView, DetailsView, and FormView controls is really as simple as checking a couple of checkboxes.</span></span> <span data-ttu-id="3acd3-191">Gerçek dünyada, bu tür işlevselliği yalnızca noktadan daha fazlasını sağlayan çok sayıda alt tzellikleri ve uç durumu vardır ve tıklamaları yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-191">There are many subtleties and edge cases in the real-world that make providing such functionality more involved than just point and click.</span></span> <span data-ttu-id="3acd3-192">Ancak, bu öğretici yalnızca uyarlaması veri değiştirme özelliklerine odaklanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-192">This tutorial, however, focuses solely on proving simplistic data modification capabilities.</span></span> <span data-ttu-id="3acd3-193">Gelecekteki öğreticiler, gerçek dünyada bir ayarda ortaya çıkabilecek kaygıları inceler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-193">Future tutorials will examine concerns that will undoubtedly arise in a real-world setting.</span></span>

## <a name="deleting-data-from-the-gridview"></a><span data-ttu-id="3acd3-194">GridView 'dan verileri silme</span><span class="sxs-lookup"><span data-stu-id="3acd3-194">Deleting Data from the GridView</span></span>

<span data-ttu-id="3acd3-195">Araç kutusundan Tasarımcı üzerine bir GridView sürükleyip başlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-195">Start by dragging a GridView from the Toolbox onto the Designer.</span></span> <span data-ttu-id="3acd3-196">Ardından, GridView 'un akıllı etiketindeki aşağı açılan listeden seçerek ObjectDataSource 'u GridView 'a bağlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-196">Next, bind the ObjectDataSource to the GridView by selecting it from the drop-down list in the GridView's smart tag.</span></span> <span data-ttu-id="3acd3-197">Bu noktada, GridView 'un bildirim temelli biçimlendirme şu şekilde olacaktır:</span><span class="sxs-lookup"><span data-stu-id="3acd3-197">At this point the GridView's declarative markup will be:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample4.aspx)]

<span data-ttu-id="3acd3-198">GridView 'un akıllı etiketiyle ObjectDataSource 'a bağlanması iki avantaja sahiptir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-198">Binding the GridView to the ObjectDataSource through its smart tag has two benefits:</span></span>

- <span data-ttu-id="3acd3-199">ObjectDataSource tarafından döndürülen alanların her biri için BoundFields ve CheckBoxFields otomatik olarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-199">BoundFields and CheckBoxFields are automatically created for each of the fields returned by the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-200">Üstelik, BoundField ve CheckBoxField 'ın özellikleri, temel alınan alanın meta verilerine göre ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-200">Moreover, the BoundField and CheckBoxField's properties are set based on the underlying field's metadata.</span></span> <span data-ttu-id="3acd3-201">Örneğin, `ProductID`, `CategoryName`ve `SupplierName` alanları `ProductsDataTable` salt okuma olarak işaretlenir ve bu nedenle, düzenlenirken güncelleştirilemez.</span><span class="sxs-lookup"><span data-stu-id="3acd3-201">For example, the `ProductID`, `CategoryName`, and `SupplierName` fields are marked as read-only in the `ProductsDataTable` and therefore shouldn't be updatable when editing.</span></span> <span data-ttu-id="3acd3-202">Buna uyum sağlamak için, bu BoundFields ' [ReadOnly özellikleri](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) `true`olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-202">To accommodate this, these BoundFields' [ReadOnly properties](https://msdn.microsoft.com/library/system.web.ui.webcontrols.boundfield.readonly(VS.80).aspx) are set to `true`.</span></span>
- <span data-ttu-id="3acd3-203">[DataKeyNames özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) , temel alınan nesnenin birincil anahtar alanları ' na atanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-203">The [DataKeyNames property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.gridview.datakeynames(VS.80).aspx) is assigned to the primary key field(s) of the underlying object.</span></span> <span data-ttu-id="3acd3-204">Bu özellik, verileri düzenlenmek veya silmek için GridView kullanılırken gereklidir. Bu özellik, her kaydı benzersiz bir şekilde tanımlayan alanı (veya alan kümesini) gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-204">This is essential when using the GridView for editing or deleting data, as this property indicates the field (or set of fields) that unique identifies each record.</span></span> <span data-ttu-id="3acd3-205">`DataKeyNames` özelliği hakkında daha fazla bilgi için, [ayrıntı ayrıntısı görünümü öğreticisiyle seçilebilir bir ana GridView kullanarak ana/ayrıntı](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-205">For more information on the `DataKeyNames` property, refer back to the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="3acd3-206">GridView, Özellikler penceresi veya bildirime dayalı sözdizimi aracılığıyla ObjectDataSource 'a bağlanabilir ancak bunu yapmak uygun BoundField ve `DataKeyNames` işaretlemesini el ile eklemenizi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-206">While the GridView can be bound to the ObjectDataSource through the Properties window or declarative syntax, doing so requires you to manually add the appropriate BoundField and `DataKeyNames` markup.</span></span>

<span data-ttu-id="3acd3-207">GridView denetimi, satır düzeyinde Düzenle ve silme için yerleşik destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-207">The GridView control provides built-in support for row-level editing and deleting.</span></span> <span data-ttu-id="3acd3-208">Bir GridView 'yi silmeyi desteklemek için yapılandırmak, silme düğmelerinin bir sütununu ekler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-208">Configuring a GridView to support deleting adds a column of Delete buttons.</span></span> <span data-ttu-id="3acd3-209">Son Kullanıcı belirli bir satır için Sil düğmesine tıkladığında, bir geri gönderme ve GridView aşağıdaki adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-209">When the end user clicks the Delete button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="3acd3-210">ObjectDataSource 'un `DeleteParameters` değerleri atandı</span><span class="sxs-lookup"><span data-stu-id="3acd3-210">The ObjectDataSource's `DeleteParameters` value(s) are assigned</span></span>
2. <span data-ttu-id="3acd3-211">ObjectDataSource 'un `Delete()` yöntemi çağrıldı, belirtilen kayıt siliniyor</span><span class="sxs-lookup"><span data-stu-id="3acd3-211">The ObjectDataSource's `Delete()` method is invoked, deleting the specified record</span></span>
3. <span data-ttu-id="3acd3-212">GridView, `Select()` yöntemini çağırarak kendisini ObjectDataSource 'a yeniden bağlar</span><span class="sxs-lookup"><span data-stu-id="3acd3-212">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="3acd3-213">`DeleteParameters` atanan değerler, silme düğmesine tıklanmış olan satırın `DataKeyNames` alan değerlerdir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-213">The values assigned to the `DeleteParameters` are the values of the `DataKeyNames` field(s) for the row whose Delete button was clicked.</span></span> <span data-ttu-id="3acd3-214">Bu nedenle, bir GridView 'ın `DataKeyNames` özelliğinin doğru şekilde ayarlanması çok önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-214">Therefore it's vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="3acd3-215">Eksik ise `DeleteParameters` adım 1 ' de bir `null` değere atanır. Bu işlem, adım 2 ' de silinen kayıtlarla sonuçlanmaz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-215">If it's missing, the `DeleteParameters` will be assigned a `null` value in Step 1, which in turn will not result in any deleted records in Step 2.</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-216">`DataKeys` koleksiyonu, GridView s denetim durumunda depolanır, yani GridView s görünüm durumu devre dışı bırakılsa bile `DataKeys` değerlerinin geri gönderme üzerinden anımsanacak anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-216">The `DataKeys` collection is stored in the GridView s control state, meaning that the `DataKeys` values will be remembered across postback even if the GridView s view state has been disabled.</span></span> <span data-ttu-id="3acd3-217">Ancak, görüntüleme durumunun, Düzenle veya silmeyi destekleyen GridViews için etkin kalacağı (varsayılan davranış) çok önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-217">However, it is very important that view state remains enabled for GridViews that support editing or deleting (the default behavior).</span></span> <span data-ttu-id="3acd3-218">GridView s `EnableViewState` özelliğini `false`olarak ayarlarsanız, düzenleme ve silme davranışı tek bir kullanıcı için ince çalışır, ancak verileri silen eşzamanlı kullanıcılar varsa, bu eş zamanlı kullanıcıların, istemediğiniz kayıtları yanlışlıkla silmesine veya düzenlemesine olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-218">If you set the GridView s `EnableViewState` property to `false`, the editing and deleting behavior will work fine for a single user, but if there are concurrent users deleting data, there exists the possibility that these concurrent users may accidentally delete or edit records that they didn't intend.</span></span> <span data-ttu-id="3acd3-219">Daha fazla bilgi için bkz. blog Girişmi, [Uyarı: ASP.NET 2,0 GridViews/DetailsView/formviews ile, görüntüleme ve/veya silme ve görüntüleme durumunu devre dışı bırakma desteği ve/veya silmeyi destekleyen ve](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx)</span><span class="sxs-lookup"><span data-stu-id="3acd3-219">See my blog entry, [WARNING: Concurrency Issue with ASP.NET 2.0 GridViews/DetailsView/FormViews that Support Editing and/or Deleting and Whose View State is Disabled](http://scottonwriting.net/sowblog/archive/2006/10/03/163215.aspx), for more information.</span></span>

<span data-ttu-id="3acd3-220">Aynı uyarı, Ayrıntılar görünümleri ve form görünümleri için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-220">This same warning also applies to DetailsViews and FormViews.</span></span>

<span data-ttu-id="3acd3-221">GridView 'a silme özellikleri eklemek için akıllı etiketine gitmeniz ve silmeyi etkinleştir onay kutusunu işaretlemeniz yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-221">To add deleting capabilities to a GridView, simply go to its smart tag and check the Enable Deleting checkbox.</span></span>

![Silmeyi etkinleştir onay kutusunu işaretleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image24.png)

<span data-ttu-id="3acd3-223">**Şekil 10**: silmeyi etkinleştir onay kutusunu işaretleyin</span><span class="sxs-lookup"><span data-stu-id="3acd3-223">**Figure 10**: Check the Enable Deleting Checkbox</span></span>

<span data-ttu-id="3acd3-224">Akıllı etiketteki silmeyi etkinleştir onay kutusunun işaretlenmesi GridView 'a bir CommandField ekler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-224">Checking the Enable Deleting checkbox from the smart tag adds a CommandField to the GridView.</span></span> <span data-ttu-id="3acd3-225">CommandField, GridView 'da aşağıdaki görevlerden birini veya birkaçını gerçekleştirmeye yönelik düğmeler içeren bir sütun oluşturur: bir kayıt seçme, bir kaydı düzenlemeyle ve bir kaydı silme.</span><span class="sxs-lookup"><span data-stu-id="3acd3-225">The CommandField renders a column in the GridView with buttons for performing one or more of the following tasks: selecting a record, editing a record, and deleting a record.</span></span> <span data-ttu-id="3acd3-226">[Ayrıntı ayrıntısı görünümü öğreticisiyle seçilebilir bir Master GridView kullanarak ana/ayrıntı](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) içindeki kayıtları seçerken daha önce CommandField ' i bir eylemde gördünüz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-226">We previously saw the CommandField in action with selecting records in the [Master/Detail Using a Selectable Master GridView with a Details DetailView](../masterdetail/master-detail-using-a-selectable-master-gridview-with-a-details-detailview-cs.md) tutorial.</span></span>

<span data-ttu-id="3acd3-227">CommandField, CommandField 'da hangi düğme serilerinin görüntülendiğini belirten bir dizi `ShowXButton` özelliği içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-227">The CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="3acd3-228">Silmeyi etkinleştir onay kutusunu işaretleyerek `ShowDeleteButton` özelliği `true` GridView 'un Columns koleksiyonuna eklenmiş olan bir CommandField.</span><span class="sxs-lookup"><span data-stu-id="3acd3-228">By checking the Enable Deleting checkbox a CommandField whose `ShowDeleteButton` property is `true` has been added to the GridView's Columns collection.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample5.aspx)]

<span data-ttu-id="3acd3-229">Bu noktada, GridView 'a silme desteği eklemekle karşılaşıyoruz!</span><span class="sxs-lookup"><span data-stu-id="3acd3-229">At this point, believe it or not, we're done with adding deleting support to the GridView!</span></span> <span data-ttu-id="3acd3-230">Şekil 11 ' de gösterildiği gibi, bu sayfayı bir tarayıcı aracılığıyla ziyaret ettiğinizde silme düğmelerinin bir sütunu bulunur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-230">As Figure 11 shows, when visiting this page through a browser a column of Delete buttons is present.</span></span>

<span data-ttu-id="3acd3-231">[![CommandField, silme düğmelerinin bir sütununu ekler](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-231">[![The CommandField Adds a Column of Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image26.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image25.png)</span></span>

<span data-ttu-id="3acd3-232">**Şekil 11**: CommandField, silme düğmelerinin bir sütununu ekler ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-232">**Figure 11**: The CommandField Adds a Column of Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image27.png))</span></span>

<span data-ttu-id="3acd3-233">Bu öğreticiyi baştan sona oluşturuyorsanız, bu sayfayı test ederken Sil düğmesine tıkladığınızda bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-233">If you've been building this tutorial from the ground up on your own, when testing this page clicking the Delete button will raise an exception.</span></span> <span data-ttu-id="3acd3-234">Bu özel durumların neden ortaya çıkarıldığına ve bunları nasıl düzelteceğinizi öğrenmek için okumaya devam edin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-234">Continue reading to learn as to why these exceptions were raised and how to fix them.</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-235">Bu öğreticiye eşlik eden indirmeyi kullanarak takip ediyorsanız, bu sorunlar için zaten bir hesaba katılmış demektir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-235">If you're following along using the download accompanying this tutorial, these problems have already been accounted for.</span></span> <span data-ttu-id="3acd3-236">Ancak, oluşabilecek sorunları ve uygun geçici çözümleri belirlemenize yardımcı olmak için aşağıda listelenen ayrıntıları okumanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-236">However, I encourage you to read through the details listed below to help identify problems that may arise and suitable workarounds.</span></span>

<span data-ttu-id="3acd3-237">Bir ürünü silmeye çalışırken, iletisi "ObjectDataSource ' ObjectDataSource1 ' şuna benzer bir özel durum alırsınız *: ProductID, orijinal\_ProductID*,", `OldValuesParameterFormatString` özelliğini ObjectDataSource 'tan kaldırmayı unutmuş olabilirsiniz. Bu özellik, "".</span><span class="sxs-lookup"><span data-stu-id="3acd3-237">If, when attempting to delete a product, you get an exception whose message is similar to "*ObjectDataSource 'ObjectDataSource1' could not find a non-generic method 'DeleteProduct' that has parameters: productID, original\_ProductID*," you likely forgot to remove the `OldValuesParameterFormatString` property from the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-238">`OldValuesParameterFormatString` özelliği belirtildiğinde, ObjectDataSource `productID` ve `original_ProductID` giriş parametrelerini `DeleteProduct` yöntemine geçirmeye çalışır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-238">With the `OldValuesParameterFormatString` property specified, the ObjectDataSource attempts to pass in both `productID` and `original_ProductID` input parameters to the `DeleteProduct` method.</span></span> <span data-ttu-id="3acd3-239">Ancak `DeleteProduct`, bu nedenle özel durum yalnızca tek bir giriş parametresini kabul eder.</span><span class="sxs-lookup"><span data-stu-id="3acd3-239">`DeleteProduct`, however, only accepts a single input parameter, hence the exception.</span></span> <span data-ttu-id="3acd3-240">`OldValuesParameterFormatString` özelliğini kaldırma (veya `{0}`olarak ayarlama), ObjectDataSource 'un özgün giriş parametresini geçirmeye kalkışmasını söyler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-240">Removing the `OldValuesParameterFormatString` property (or setting it to `{0}`) instructs the ObjectDataSource to not attempt to pass in the original input parameter.</span></span>

<span data-ttu-id="3acd3-241">[![OldValuesParameterFormatString özelliğinin temizlendiğinden emin olun](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-241">[![Ensure That the OldValuesParameterFormatString Property Has Been Cleared Out](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image29.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image28.png)</span></span>

<span data-ttu-id="3acd3-242">**Şekil 12**: `OldValuesParameterFormatString` özelliğinin temizlendiğinden emin olun ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-242">**Figure 12**: Ensure That the `OldValuesParameterFormatString` Property Has Been Cleared Out ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image30.png))</span></span>

<span data-ttu-id="3acd3-243">`OldValuesParameterFormatString` özelliğini kaldırmış olsanız bile, şu iletiyle bir ürün silmeye çalışırken bir özel durum alacaksınız: "*Delete IFADESINI başvuru kısıtlaması ile çakıştı ' FK\_Order\_ayrıntılar\_Ürünler '* ." Northwind veritabanı, `Order Details` ve `Products` tablo arasında bir yabancı anahtar kısıtlaması içerir, yani `Order Details` tablosunda bu için bir veya daha fazla kayıt varsa, bir ürünün sistemden silinemeyeceği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-243">Even if you had removed the `OldValuesParameterFormatString` property, you still will get an exception when trying to delete a product with the message: "*The DELETE statement conflicted with the REFERENCE constraint 'FK\_Order\_Details\_Products'*." The Northwind database contains a foreign key constraint between the `Order Details` and `Products` table, meaning that a product cannot be deleted from the system if there are one or more records for it in the `Order Details` table.</span></span> <span data-ttu-id="3acd3-244">Northwind veritabanındaki her üründe `Order Details`en az bir kayıt olduğundan, ürünün ilişkili sipariş ayrıntıları kayıtlarını ilk silene kadar hiçbir ürünü silemiyoruz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-244">Since every product in the Northwind database has at least one record in `Order Details`, we cannot delete any products until we first delete the product's associated order details records.</span></span>

<span data-ttu-id="3acd3-245">[Yabancı anahtar kısıtlaması ![ürünlerin silinmesini yasaklar](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-245">[![A Foreign Key Constraint Prohibits the Deletion of Products](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image32.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image31.png)</span></span>

<span data-ttu-id="3acd3-246">**Şekil 13**: yabancı anahtar kısıtlaması ürünlerin silinmesini yasaklar ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-246">**Figure 13**: A Foreign Key Constraint Prohibits the Deletion of Products ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image33.png))</span></span>

<span data-ttu-id="3acd3-247">Öğreticimiz için `Order Details` tablosundan yalnızca tüm kayıtları silelim.</span><span class="sxs-lookup"><span data-stu-id="3acd3-247">For our tutorial, let's just delete all of the records from the `Order Details` table.</span></span> <span data-ttu-id="3acd3-248">Gerçek dünyada bir uygulamada şunlardan birini yapmanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-248">In a real-world application we'd need to either:</span></span>

- <span data-ttu-id="3acd3-249">Sipariş ayrıntıları bilgilerini yönetmek için başka bir ekrana sahip</span><span class="sxs-lookup"><span data-stu-id="3acd3-249">Have another screen to manage order details information</span></span>
- <span data-ttu-id="3acd3-250">`DeleteProduct` yöntemini, belirtilen ürünün sıra ayrıntılarını silme mantığını içerecek şekilde artırmak</span><span class="sxs-lookup"><span data-stu-id="3acd3-250">Augment the `DeleteProduct` method to include logic to delete the specified product's order details</span></span>
- <span data-ttu-id="3acd3-251">TableAdapter tarafından belirtilen ürünün sıra ayrıntılarının silinmesini dahil etmek için kullanılan SQL sorgusunu değiştirin</span><span class="sxs-lookup"><span data-stu-id="3acd3-251">Modify the SQL query used by the TableAdapter to include deletion of the specified product's order details</span></span>

<span data-ttu-id="3acd3-252">Yabancı anahtar kısıtlamasını aşmak için `Order Details` tablodaki tüm kayıtları silelim.</span><span class="sxs-lookup"><span data-stu-id="3acd3-252">Let's just delete all of the records from the `Order Details` table to circumvent the foreign key constraint.</span></span> <span data-ttu-id="3acd3-253">Visual Studio 'daki Sunucu Gezgini gidin, `NORTHWND.MDF` düğümüne sağ tıklayın ve yeni sorgu ' yı seçin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-253">Go to the Server Explorer in Visual Studio, right-click on the `NORTHWND.MDF` node, and choose New Query.</span></span> <span data-ttu-id="3acd3-254">Ardından, sorgu penceresinde şu SQL ifadesini çalıştırın: `DELETE FROM [Order Details]`</span><span class="sxs-lookup"><span data-stu-id="3acd3-254">Then, in the query window, run the following SQL statement: `DELETE FROM [Order Details]`</span></span>

<span data-ttu-id="3acd3-255">[Tüm kayıtları Sipariş Ayrıntıları tablosundan silmek ![](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-255">[![Delete All Records from the Order Details Table](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image35.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image34.png)</span></span>

<span data-ttu-id="3acd3-256">**Şekil 14**: `Order Details` tablosundan tüm kayıtları silme ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-256">**Figure 14**: Delete All Records from the `Order Details` Table ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image36.png))</span></span>

<span data-ttu-id="3acd3-257">`Order Details` tablosu kapatıldıktan sonra Sil düğmesine tıklandığında ürün hatasız olarak silinir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-257">After clearing out the `Order Details` table clicking on the Delete button will delete the product without error.</span></span> <span data-ttu-id="3acd3-258">Sil düğmesine tıkladığınızda ürün silinmez, GridView 'ın `DataKeyNames` özelliğinin birincil anahtar alanı (`ProductID`) olarak ayarlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="3acd3-258">If clicking on the Delete button does not delete the product, check to ensure that the GridView's `DataKeyNames` property is set to the primary key field (`ProductID`).</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-259">Sil düğmesine tıkladığınızda geri gönderme işlemi başarılı olur ve kayıt silinir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-259">When clicking on the Delete button a postback ensues and the record is deleted.</span></span> <span data-ttu-id="3acd3-260">Bu, yanlışlıkla yanlış satırın silme düğmesine tıklamasından dolayı tehlikeli olabilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-260">This can be dangerous since it is easy to accidentally click on the wrong row's Delete button.</span></span> <span data-ttu-id="3acd3-261">Gelecekte bir öğreticide, bir kayıt silinirken istemci tarafı onayı ekleme hakkında bilgi edineceksiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-261">In a future tutorial we'll see how to add a client-side confirmation when deleting a record.</span></span>

## <a name="editing-data-with-the-gridview"></a><span data-ttu-id="3acd3-262">GridView ile verileri düzenlemeyle</span><span class="sxs-lookup"><span data-stu-id="3acd3-262">Editing Data with the GridView</span></span>

<span data-ttu-id="3acd3-263">GridView denetimi, silme işlemiyle birlikte yerleşik satır düzeyinde yapılandırma desteği de sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-263">Along with deleting, the GridView control also provides built-in row-level editing support.</span></span> <span data-ttu-id="3acd3-264">Düzenlemeyi desteklemek için GridView yapılandırmak, düzenleme düğmelerinin bir sütununu ekler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-264">Configuring a GridView to support editing adds a column of Edit buttons.</span></span> <span data-ttu-id="3acd3-265">Son kullanıcının perspektifinden, bir satırın düzenleme düğmesine tıklamak, bu satırın düzenlenebilir hale gelmesine neden olur. Bu, hücreleri var olan değerleri içeren metin kutularına açıp Düzenle ve Iptal düğmeleri ile değiştirin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-265">From the end user's perspective, clicking a row's Edit button causes that row to become editable, turning the cells into textboxes containing the existing values and replacing the Edit button with Update and Cancel buttons.</span></span> <span data-ttu-id="3acd3-266">İstenen değişiklikler yapıldıktan sonra, Son Kullanıcı değişiklikleri yürütmek için Güncelleştir düğmesine tıklayabilir veya Iptal düğmesine tıklayarak bunları atabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-266">After making their desired changes, the end user can click the Update button to commit the changes or the Cancel button to discard them.</span></span> <span data-ttu-id="3acd3-267">Her iki durumda da Güncelleştir ' e tıkladıktan sonra GridView ' ı Iptal ettikten sonra, önceden düzenlenen durumuna geri döner.</span><span class="sxs-lookup"><span data-stu-id="3acd3-267">In either case, after clicking Update or Cancel the GridView returns to its pre-editing state.</span></span>

<span data-ttu-id="3acd3-268">Sayfa geliştiricisi olarak bakıldığında, Son Kullanıcı belirli bir satır için Düzenle düğmesine tıkladığında, geri gönderme ve GridView aşağıdaki adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-268">From our perspective as the page developer, when the end user clicks the Edit button for a particular row, a postback ensues and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="3acd3-269">GridView 'ın `EditItemIndex` özelliği, Düzenle düğmesine tıklandığı satırın dizinine atanır</span><span class="sxs-lookup"><span data-stu-id="3acd3-269">The GridView's `EditItemIndex` property is assigned to the index of the row whose Edit button was clicked</span></span>
2. <span data-ttu-id="3acd3-270">GridView, `Select()` yöntemini çağırarak kendisini ObjectDataSource 'a yeniden bağlar</span><span class="sxs-lookup"><span data-stu-id="3acd3-270">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>
3. <span data-ttu-id="3acd3-271">`EditItemIndex` eşleşen satır dizini "düzenleme modunda" işlenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-271">The row index that matches the `EditItemIndex` is rendered in "edit mode."</span></span> <span data-ttu-id="3acd3-272">Bu modda, Düzenle düğmesi güncelleştir ve Iptal düğmeleri ve `ReadOnly` özellikleri false olan BoundFields (varsayılan), `Text` özellikleri veri alanlarının değerlerine atanmış olan TextBox Web denetimleri olarak işlenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-272">In this mode, the Edit button is replaced by Update and Cancel buttons and BoundFields whose `ReadOnly` properties are False (the default) are rendered as TextBox Web controls whose `Text` properties are assigned to the data fields' values.</span></span>

<span data-ttu-id="3acd3-273">Bu noktada, biçimlendirme tarayıcıya döndürülür ve son kullanıcının satır verilerinde herhangi bir değişiklik yapmasına izin verilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-273">At this point the markup is returned to the browser, allowing the end user to make any changes to the row's data.</span></span> <span data-ttu-id="3acd3-274">Kullanıcı Update düğmesine tıkladığında bir geri gönderme gerçekleşir ve GridView aşağıdaki adımları gerçekleştirir:</span><span class="sxs-lookup"><span data-stu-id="3acd3-274">When the user clicks the Update button, a postback occurs and the GridView performs the following steps:</span></span>

1. <span data-ttu-id="3acd3-275">ObjectDataSource 'un `UpdateParameters` değerlere, son kullanıcı tarafından, GridView 'un düzenlenme arabirimine girilen değerler atanır</span><span class="sxs-lookup"><span data-stu-id="3acd3-275">The ObjectDataSource's `UpdateParameters` value(s) are assigned the values entered by the end user into the GridView's editing interface</span></span>
2. <span data-ttu-id="3acd3-276">ObjectDataSource 'un `Update()` yöntemi çağrıldı, belirtilen kayıt güncelleştiriliyor</span><span class="sxs-lookup"><span data-stu-id="3acd3-276">The ObjectDataSource's `Update()` method is invoked, updating the specified record</span></span>
3. <span data-ttu-id="3acd3-277">GridView, `Select()` yöntemini çağırarak kendisini ObjectDataSource 'a yeniden bağlar</span><span class="sxs-lookup"><span data-stu-id="3acd3-277">The GridView rebinds itself to the ObjectDataSource by invoking its `Select()` method</span></span>

<span data-ttu-id="3acd3-278">Adım 1 ' deki `UpdateParameters` atanan birincil anahtar değerleri `DataKeyNames` özelliğinde belirtilen değerlerden gelir, ancak birincil olmayan anahtar değerleri düzenlenen satır için metin kutusu Web denetimlerinde bulunan metinden gelir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-278">The primary key values assigned to the `UpdateParameters` in Step 1 come from the values specified in the `DataKeyNames` property, whereas the non-primary key values come from the text in the TextBox Web controls for the edited row.</span></span> <span data-ttu-id="3acd3-279">Silme sırasında, GridView 'un `DataKeyNames` özelliğinin doğru şekilde ayarlanması çok önemlidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-279">As with deleting, it is vital that a GridView's `DataKeyNames` property be correctly set.</span></span> <span data-ttu-id="3acd3-280">Eksik ise `UpdateParameters` birincil anahtar değerine, 1. adımda bir `null` değeri atanır. Bu, sırasıyla adım 2 ' de güncelleştirilmiş kayıtlar oluşmasına neden olmaz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-280">If it's missing, the `UpdateParameters` primary key value will be assigned a `null` value in Step 1, which in turn will not result in any updated records in Step 2.</span></span>

<span data-ttu-id="3acd3-281">Düzen işlevselliği, GridView 'un akıllı etiketindeki Düzenle etkinleştir onay kutusunu işaretleyerek etkinleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-281">Editing functionality can be activated by simply checking the Enable Editing checkbox in the GridView's smart tag.</span></span>

![Düzenle etkinleştir onay kutusunu işaretleyin](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image37.png)

<span data-ttu-id="3acd3-283">**Şekil 15**: Düzenle etkinleştir onay kutusunu işaretleyin</span><span class="sxs-lookup"><span data-stu-id="3acd3-283">**Figure 15**: Check the Enable Editing Checkbox</span></span>

<span data-ttu-id="3acd3-284">Düzenle etkinleştir onay kutusunun işaretlenmesi bir CommandField (gerekliyse) ekler ve `ShowEditButton` özelliğini `true`olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-284">Checking the Enable Editing checkbox will add a CommandField (if needed) and set its `ShowEditButton` property to `true`.</span></span> <span data-ttu-id="3acd3-285">Daha önce gördüğümüz gibi, CommandField, CommandField 'da hangi düğme serilerinin görüntülendiğini belirten bir dizi `ShowXButton` özellik içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-285">As we saw earlier, the CommandField contains a number of `ShowXButton` properties that indicate what series of buttons are displayed in the CommandField.</span></span> <span data-ttu-id="3acd3-286">Düzenlemenizi etkinleştir onay kutusunun işaretlenmesi, `ShowEditButton` özelliğini var olan CommandField öğesine ekler:</span><span class="sxs-lookup"><span data-stu-id="3acd3-286">Checking the Enable Editing checkbox adds the `ShowEditButton` property to the existing CommandField:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample6.aspx)]

<span data-ttu-id="3acd3-287">Bu, ilkel düzenlemesi desteği eklemek için gereklidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-287">That's all there is to adding rudimentary editing support.</span></span> <span data-ttu-id="3acd3-288">Figure16 gösterdiği gibi, düzen arabirimi her bir BoundField 'ın `ReadOnly` özelliği `false` olarak ayarlanmış olan (varsayılan) bir metin kutusu olarak işlenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-288">As Figure16 shows, the editing interface is rather crude each BoundField whose `ReadOnly` property is set to `false` (the default) is rendered as a TextBox.</span></span> <span data-ttu-id="3acd3-289">Bu, diğer tablolara yönelik anahtarlar olan `CategoryID` ve `SupplierID`gibi alanları içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-289">This includes fields like `CategoryID` and `SupplierID`, which are keys to other tables.</span></span>

<span data-ttu-id="3acd3-290">[Chai s Düzenle düğmesine tıklamak ![satırı düzenleme modunda görüntüler](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-290">[![Clicking Chai s Edit Button Displays the Row in Edit Mode](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image39.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image38.png)</span></span>

<span data-ttu-id="3acd3-291">**Şekil 16**: Chai s Düzenle düğmesine tıkladığınızda satır düzenleme modunda görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-291">**Figure 16**: Clicking Chai s Edit Button Displays the Row in Edit Mode ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image40.png))</span></span>

<span data-ttu-id="3acd3-292">Kullanıcıların yabancı anahtar değerlerini doğrudan düzenlemesini isteme ek olarak, düzenleme arabiriminin arabirimi aşağıdaki yollarla desteklenmez:</span><span class="sxs-lookup"><span data-stu-id="3acd3-292">In addition to asking users to edit foreign key values directly, the editing interface's interface is lacking in the following ways:</span></span>

- <span data-ttu-id="3acd3-293">Kullanıcı, veritabanında var olmayan bir `CategoryID` veya `SupplierID` girerse, `UPDATE` yabancı anahtar kısıtlamasını ihlal eder ve bir özel durum ortaya çıkar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-293">If the user enters a `CategoryID` or `SupplierID` that does not exist in the database, the `UPDATE` will violate a foreign key constraint, causing an exception to be raised.</span></span>
- <span data-ttu-id="3acd3-294">Düzen arabirimi herhangi bir doğrulama içermez.</span><span class="sxs-lookup"><span data-stu-id="3acd3-294">The editing interface doesn't include any validation.</span></span> <span data-ttu-id="3acd3-295">Gerekli bir değer (`ProductName`gibi) sağlamazsanız veya sayısal bir değerin beklenildiği bir dize değeri girebilirsiniz (örneğin, "çok fazla!" gibi)</span><span class="sxs-lookup"><span data-stu-id="3acd3-295">If you don't provide a required value (such as `ProductName`), or enter a string value where a numeric value is expected (such as entering "Too much!"</span></span> <span data-ttu-id="3acd3-296">`UnitPrice` metin kutusuna) bir özel durum oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-296">into the `UnitPrice` textbox), an exception will be thrown.</span></span> <span data-ttu-id="3acd3-297">Gelecekteki bir öğreticide, düzenlenen Kullanıcı arabirimine doğrulama denetimleri eklemeyi inceleyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-297">A future tutorial will examine how to add validation controls to the editing user interface.</span></span>
- <span data-ttu-id="3acd3-298">Şu anda, salt okuma olmayan *Tüm* ürün alanları GridView 'a eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-298">Currently, *all* product fields that are not read-only must be included in the GridView.</span></span> <span data-ttu-id="3acd3-299">GridView 'dan bir alanı kaldırdığımızda, verileri güncelleştirirken `UnitPrice`söyleyin, GridView, veritabanı kaydının `UnitPrice` bir `NULL` değere değiştirecek `UnitPrice` `UpdateParameters` değerini ayarlayamaz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-299">If we were to remove a field from the GridView, say `UnitPrice`, when updating the data the GridView would not set the `UnitPrice` `UpdateParameters` value, which would change the database record's `UnitPrice` to a `NULL` value.</span></span> <span data-ttu-id="3acd3-300">Benzer şekilde, `ProductName`gibi gerekli bir alan GridView 'tan kaldırılırsa, güncelleştirme aynı "*ProductName ' sütunu, yukarıda bahsedilen null değerlere izin*vermiyor" olarak da başarısız olur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-300">Similarly, if a required field, such as `ProductName`, is removed from the GridView, the update will fail with the same "*Column 'ProductName' does not allow nulls*" exception mentioned above.</span></span>
- <span data-ttu-id="3acd3-301">Düzen arabirimi biçimlendirmesi, istenen kadar çok bırakır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-301">The editing interface formatting leaves a lot to be desired.</span></span> <span data-ttu-id="3acd3-302">`UnitPrice` dört ondalık noktayla gösterilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-302">The `UnitPrice` is shown with four decimal points.</span></span> <span data-ttu-id="3acd3-303">İdeal olarak `CategoryID` ve `SupplierID` değerleri, sistemdeki kategorileri ve tedarikçileri listeleyen DropDownLists içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-303">Ideally the `CategoryID` and `SupplierID` values would contain DropDownLists that list the categories and suppliers in the system.</span></span>

<span data-ttu-id="3acd3-304">Bunlar şimdilik ile canlı olarak sunduğumuz tüm eksiketler, ancak gelecekteki öğreticilerde değinilecek.</span><span class="sxs-lookup"><span data-stu-id="3acd3-304">These are all shortcomings that we'll have to live with for now, but will be addressed in future tutorials.</span></span>

## <a name="inserting-editing-and-deleting-data-with-the-detailsview"></a><span data-ttu-id="3acd3-305">DetailsView ile veri ekleme, düzenlememe ve silme</span><span class="sxs-lookup"><span data-stu-id="3acd3-305">Inserting, Editing, and Deleting Data with the DetailsView</span></span>

<span data-ttu-id="3acd3-306">Önceki öğreticilerde gördüğünüze göre, DetailsView denetimi aynı anda bir kayıt görüntüler ve GridView gibi, görüntülenmekte olan kaydın düzenlenmesine ve silinmesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-306">As we've seen in earlier tutorials, the DetailsView control displays one record at a time and, like the GridView, allows for editing and deleting of the currently displayed record.</span></span> <span data-ttu-id="3acd3-307">Son kullanıcının her ikisi de bir DetailsView 'dan öğe düzenlemeyle ve silinirken ve ASP.NET taraftan iş akışının bulunduğu deneyimle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-307">Both the end user's experience with editing and deleting items from a DetailsView and the workflow from the ASP.NET side is identical to that of the GridView.</span></span> <span data-ttu-id="3acd3-308">DetailsView, GridView 'tan farklı olduğunda, yerleşik ekleme desteği de sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-308">Where the DetailsView differs from the GridView is that it also provides built-in inserting support.</span></span>

<span data-ttu-id="3acd3-309">GridView 'un veri değiştirme yeteneklerini göstermek için, var olan GridView 'un üzerindeki `Basics.aspx` sayfasına bir DetailsView ekleyerek başlayın ve DetailsView 'un akıllı etiketi aracılığıyla mevcut ObjectDataSource 'a bağlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-309">To demonstrate the data modification capabilities of the GridView, start by adding a DetailsView to the `Basics.aspx` page above the existing GridView and bind it to the existing ObjectDataSource through the DetailsView's smart tag.</span></span> <span data-ttu-id="3acd3-310">Ardından, DetailsView 'un `Height` ve `Width` özelliklerini temizleyin ve akıllı etiketteki disk belleğini etkinleştir seçeneğini işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-310">Next, clear out the DetailsView's `Height` and `Width` properties, and check the Enable Paging option from the smart tag.</span></span> <span data-ttu-id="3acd3-311">Düzenle, ekleme ve silme desteğini etkinleştirmek için, akıllı etiketteki düzenlemenizi etkinleştir, ekleme ve onay kutularını silmeyi etkinleştir ' i kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-311">To enable editing, inserting, and deleting support, simply check the Enable Editing, Enable Inserting, and Enable Deleting checkboxes in the smart tag.</span></span>

![DetailsView 'u Düzenle, ekleniyor ve silmeyi destekleyecek şekilde yapılandırma](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image41.png)

<span data-ttu-id="3acd3-313">**Şekil 17**: DetailsView 'u Düzenle, ekleniyor ve silmeyi destekleyecek şekilde yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3acd3-313">**Figure 17**: Configure the DetailsView to Support Editing, Inserting, and Deleting</span></span>

<span data-ttu-id="3acd3-314">GridView 'da olduğu gibi, Düzenle, ekleme veya silme desteği eklemek, aşağıdaki bildirime dayalı sözdizimi gösterdiği gibi, DetailsView öğesine bir CommandField ekler:</span><span class="sxs-lookup"><span data-stu-id="3acd3-314">As with the GridView, adding editing, inserting, or deleting support adds a CommandField to the DetailsView, as the following declarative syntax shows:</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample7.aspx)]

<span data-ttu-id="3acd3-315">DetailsView için, CommandField 'ın varsayılan olarak Columns koleksiyonunun sonunda göründüğünü unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-315">Note that for the DetailsView the CommandField appears at the end of the Columns collection by default.</span></span> <span data-ttu-id="3acd3-316">DetailsView 'un alanları satır olarak işlendiği için, CommandField, DetailsView 'un alt kısmındaki INSERT, Edit ve DELETE düğmeleriyle bir satır olarak görünür.</span><span class="sxs-lookup"><span data-stu-id="3acd3-316">Since the DetailsView's fields are rendered as rows, the CommandField appears as a row with Insert, Edit, and Delete buttons at the bottom of the DetailsView.</span></span>

<span data-ttu-id="3acd3-317">[DetailsView 'u Düzenle, ekleniyor ve silmeyi destekleyecek şekilde yapılandırma ![](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-317">[![Configure the DetailsView to Support Editing, Inserting, and Deleting](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image43.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image42.png)</span></span>

<span data-ttu-id="3acd3-318">**Şekil 18**: DetailsView 'ı düzenlemesini, eklemeyi ve silmeyi destekleyecek şekilde yapılandırma ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-318">**Figure 18**: Configure the DetailsView to Support Editing, Inserting, and Deleting ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image44.png))</span></span>

<span data-ttu-id="3acd3-319">Sil düğmesine tıklamak GridView ile aynı olay dizisini başlatır: geri gönderme; ardından DetailsView, `DataKeyNames` değerlerine göre ObjectDataSource 'un `DeleteParameters` yerleştirerek ve, ObjectDataSource 'un, gerçekten de ürünü veritabanından kaldıran `Delete()` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-319">Clicking on the Delete button starts the same sequence of events as with the GridView: a postback; followed by the DetailsView populating its ObjectDataSource's `DeleteParameters` based on the `DataKeyNames` values; and completed with a call its ObjectDataSource's `Delete()` method, which actually removes the product from the database.</span></span> <span data-ttu-id="3acd3-320">DetailsView 'da düzenlemenin yanı sıra GridView ile aynı şekilde de bir daha kullanılır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-320">Editing in the DetailsView also works in a fashion identical to that of the GridView.</span></span>

<span data-ttu-id="3acd3-321">Ekleme için son kullanıcıya, tıklandığı zaman "ekleme modunda" DetailsView 'u oluşturduğu yeni bir düğme sunulur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-321">For inserting, the end user is presented with a New button that, when clicked, renders the DetailsView in "insert mode."</span></span> <span data-ttu-id="3acd3-322">"INSERT Mode" ile yeni düğme INSERT ve Cancel düğmeleriyle ve yalnızca `InsertVisible` özelliği `true` (varsayılan) olarak ayarlanmış olan BoundFields ile değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-322">With "insert mode" the New button is replaced by Insert and Cancel buttons and only those BoundFields whose `InsertVisible` property is set to `true` (the default) are displayed.</span></span> <span data-ttu-id="3acd3-323">`ProductID`gibi otomatik artış alanları olarak tanımlanan bu veri alanları, DetailsView 'un, akıllı etiket aracılığıyla veri kaynağına bağlanırken `false` [olarak ayarlanmış.](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx)</span><span class="sxs-lookup"><span data-stu-id="3acd3-323">Those data fields identified as auto-increment fields, such as `ProductID`, have their [InsertVisible property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.datacontrolfield.insertvisible(VS.80).aspx) set to `false` when binding the DetailsView to the data source through the smart tag.</span></span>

<span data-ttu-id="3acd3-324">Bir veri kaynağını akıllı etiket aracılığıyla bir DetailsView 'a bağlarken, Visual Studio `InsertVisible` özelliğini yalnızca otomatik artış alanları için `false` olarak ayarlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-324">When binding a data source to a DetailsView through the smart tag, Visual Studio sets the `InsertVisible` property to `false` only for auto-increment fields.</span></span> <span data-ttu-id="3acd3-325">`CategoryName` ve `SupplierName`gibi salt okuma alanları, `InsertVisible` özelliği açıkça `false`olarak ayarlanmadığı takdirde "ekleme modu" Kullanıcı arabiriminde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-325">Read-only fields, like `CategoryName` and `SupplierName`, will be displayed in the "insert mode" user interface unless their `InsertVisible` property is explicitly set to `false`.</span></span> <span data-ttu-id="3acd3-326">Bu iki alanın `InsertVisible` özelliklerini, DetailsView 'un bildirime dayalı sözdizimi aracılığıyla veya akıllı etiketteki alanları Düzenle bağlantısı aracılığıyla `false`olarak ayarlamak için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-326">Take a moment to set these two fields' `InsertVisible` properties to `false`, either through the DetailsView's declarative syntax or through the Edit Fields link in the smart tag.</span></span> <span data-ttu-id="3acd3-327">Şekil 19 `InsertVisible` özelliklerini `false` olarak ayarlamayı gösterir alanları Düzenle bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-327">Figure 19 shows setting the `InsertVisible` properties to `false` by clicking on the Edit Fields link.</span></span>

<span data-ttu-id="3acd3-328">[![Northwind Traders artık Acme Tea sunuyor](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-328">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image46.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image45.png)</span></span>

<span data-ttu-id="3acd3-329">**Şekil 19**: Northwind Traders artık Acme Tea sunuyor ([tam boyutlu görüntüyü görüntülemek için tıklatın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-329">**Figure 19**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image47.png))</span></span>

<span data-ttu-id="3acd3-330">`InsertVisible` özelliklerini ayarladıktan sonra, bir tarayıcıda `Basics.aspx` sayfasını görüntüleyin ve yeni düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-330">After setting the `InsertVisible` properties, view the `Basics.aspx` page in a browser and click the New button.</span></span> <span data-ttu-id="3acd3-331">Şekil 20 ' de ürün hatlarımıza yeni bir beiçecek, Acme Tea eklendiğinde DetailsView gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-331">Figure 20 shows the DetailsView when adding a new beverage, Acme Tea, to our product line.</span></span>

<span data-ttu-id="3acd3-332">[![Northwind Traders artık Acme Tea sunuyor](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-332">[![Northwind Traders Now Offers Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image49.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image48.png)</span></span>

<span data-ttu-id="3acd3-333">**Şekil 20**: Northwind Traders artık Acme Tea sunuyor ([tam boyutlu görüntüyü görüntülemek için tıklatın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-333">**Figure 20**: Northwind Traders Now Offers Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image50.png))</span></span>

<span data-ttu-id="3acd3-334">Acme Tea 'nın ayrıntılarını girdikten ve Ekle düğmesine tıkladıktan sonra, `Products` veritabanı tablosuna bir geri gönderme ve yeni kayıt eklenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-334">After entering the details for Acme Tea and clicking the Insert button, a postback ensues and the new record is added to the `Products` database table.</span></span> <span data-ttu-id="3acd3-335">Bu DetailsView, ürünleri veritabanı tablosunda bulundukları sırayla listelediğinden, yeni ürünü görmek için son ürünün sayfasına ihtiyacımız olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-335">Since this DetailsView lists the products in order with which they exist in the database table, we must page to the last product in order to see the new product.</span></span>

<span data-ttu-id="3acd3-336">[Acme Tea için ![ayrıntıları](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-336">[![Details for Acme Tea](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image52.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image51.png)</span></span>

<span data-ttu-id="3acd3-337">**Şekil 21**: Acme Tea ayrıntıları ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-337">**Figure 21**: Details for Acme Tea ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image53.png))</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-338">DetailsView 'un [CurrentMode özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) , görüntülenmekte olan arabirimi gösterir ve şu değerlerden biri olabilir: `Edit`, `Insert`veya `ReadOnly`.</span><span class="sxs-lookup"><span data-stu-id="3acd3-338">The DetailsView's [CurrentMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.currentmode(VS.80).aspx) indicates the interface being displayed and can be one of the following values: `Edit`, `Insert`, or `ReadOnly`.</span></span> <span data-ttu-id="3acd3-339">[DefaultMode özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) , DetailsView 'un bir düzenleme veya ekleme işlemi tamamlandıktan sonra geri döndürdüğü modu gösterir ve kalıcı olarak düzenleme veya ekleme modunda olan bir DetailsView görüntülemek için faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-339">The [DefaultMode property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.detailsview.defaultmode(VS.80).aspx) indicates the mode the DetailsView returns to after an edit or insert has been completed and is useful for displaying a DetailsView that is permanently in edit or insert mode.</span></span>

<span data-ttu-id="3acd3-340">Ve sonra, DetailsView 'un ekleme ve düzenlenme özellikleri GridView ile aynı kısıtlamalardan daha da etkilenebilir: Kullanıcı, bir TextBox aracılığıyla var olan `CategoryID` ve `SupplierID` değerlerini girmelidir; arabirimin herhangi bir doğrulama mantığı yoktur; `NULL` değerlere izin verilmeyen veya veritabanı düzeyinde belirtilen varsayılan değere sahip olmayan tüm ürün alanları ekleme arabirimine eklenmelidir ve bu şekilde devam etmelidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-340">The point and click inserting and editing capabilities of the DetailsView suffer from the same limitations as the GridView: the user must enter existing `CategoryID` and `SupplierID` values through a textbox; the interface lacks any validation logic; all product fields that do not allow `NULL` values or don't have a default value specified at the database level must be included in the inserting interface, and so on.</span></span>

<span data-ttu-id="3acd3-341">Daha sonra GridView 'un Düzenle arabirimini genişletmenin ve geliştirmesinin İncelenme teknikleri, DetailsView denetiminin düzenlemesi ve ekleme arabirimlerini de uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-341">The techniques we will examine for extending and enhancing the GridView's editing interface in future articles can be applied to the DetailsView control's editing and inserting interfaces as well.</span></span>

## <a name="using-the-formview-for-a-more-flexible-data-modification-user-interface"></a><span data-ttu-id="3acd3-342">Daha esnek bir veri değişikliği Kullanıcı arabirimi için FormView kullanma</span><span class="sxs-lookup"><span data-stu-id="3acd3-342">Using the FormView for a More Flexible Data Modification User Interface</span></span>

<span data-ttu-id="3acd3-343">FormView, veri ekleme, düzenlemenin ve silmenin yerleşik desteğini sunar, ancak alanlar yerine şablonlar kullandığından, verileri sağlamak için GridView ve DetailsView denetimleri tarafından kullanılan bir yer yoktur. değişiklik arabirimi.</span><span class="sxs-lookup"><span data-stu-id="3acd3-343">The FormView offers built-in support for inserting, editing, and deleting data, but because it uses templates instead of fields there's no place to add the BoundFields or the CommandField used by the GridView and DetailsView controls to provide the data modification interface.</span></span> <span data-ttu-id="3acd3-344">Bunun yerine, bu arabirim yeni bir öğe eklerken veya var olan bir öğeyi yeni, Düzenle, Sil, Ekle, Güncelleştir ve Iptal düğmeleriyle birlikte düzenleyerek Kullanıcı girişinin toplanması için Web denetimlerini uygun şablonlara el ile eklenmelidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-344">Instead, this interface the Web controls for collecting user input when adding a new item or editing an existing one along with the New, Edit, Delete, Insert, Update, and Cancel buttons must be added manually to the appropriate templates.</span></span> <span data-ttu-id="3acd3-345">Neyse ki, Visual Studio, bir veri kaynağına FormView 'u akıllı etiketindeki açılan listeden bağladığınızda gerekli arabirimi otomatik olarak oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-345">Fortunately, Visual Studio will automatically create the needed interface when binding the FormView to a data source through the drop-down list in its smart tag.</span></span>

<span data-ttu-id="3acd3-346">Bu teknikleri anlamak için, `Basics.aspx` sayfasına bir FormView ekleyerek başlayın ve ardından FormView 'un akıllı etiketiyle onu zaten oluşturulan ObjectDataSource 'a bağlayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-346">To illustrate these techniques, start by adding a FormView to the `Basics.aspx` page and, from the FormView's smart tag, bind it to the ObjectDataSource already created.</span></span> <span data-ttu-id="3acd3-347">Bu, yeni, düzenleme, silme, ekleme, güncelleştirme ve Iptal düğmeleri için kullanıcının giriş ve düğme Web denetimlerini toplamak üzere metin kutusu Web denetimleriyle birlikte düzenlenecek bir `EditItemTemplate`, `InsertItemTemplate`ve `ItemTemplate` oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-347">This will generate an `EditItemTemplate`, `InsertItemTemplate`, and `ItemTemplate` for the FormView with TextBox Web controls for collecting the user's input and Button Web controls for the New, Edit, Delete, Insert, Update, and Cancel buttons.</span></span> <span data-ttu-id="3acd3-348">Ayrıca, FormView 'un `DataKeyNames` özelliği, ObjectDataSource tarafından döndürülen nesnenin birincil anahtar alanı (`ProductID`) olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-348">Additionally, the FormView's `DataKeyNames` property is set to the primary key field (`ProductID`) of the object returned by the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-349">Son olarak, FormView 'un akıllı etiketindeki disk belleğini etkinleştir seçeneğini işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="3acd3-349">Lastly, check the Enable Paging option in the FormView's smart tag.</span></span>

<span data-ttu-id="3acd3-350">Aşağıda, FormView 'un ObjectDataSource 'a bağlandıktan sonra FormView 'un `ItemTemplate` için bildirim temelli biçimlendirme gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-350">The following shows the declarative markup for the FormView's `ItemTemplate` after the FormView has been bound to the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-351">Varsayılan olarak, her Boolean değer alanı (`Discontinued`) devre dışı CheckBox Web denetiminin `Checked` özelliğine bağlandığında, Boole olmayan her bir değer ürün alanı bir etiket Web denetiminin `Text` özelliğine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-351">By default, each non-Boolean value product field is bound to the `Text` property of a Label Web control while each Boolean value field (`Discontinued`) is bound to the `Checked` property of a disabled CheckBox Web control.</span></span> <span data-ttu-id="3acd3-352">Yeni, Düzenle ve Sil düğmelerinin tıklandığı sırada belirli FormView davranışlarını tetiklemesi için, `CommandName` değerlerinin sırasıyla `New`, `Edit`ve `Delete`olarak ayarlanması zorunludur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-352">In order for the New, Edit, and Delete buttons to trigger certain FormView behavior when clicked, it is imperative that their `CommandName` values be set to `New`, `Edit`, and `Delete`, respectively.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample8.aspx)]

<span data-ttu-id="3acd3-353">Şekil 22, bir tarayıcıdan görüntülendiklerinde FormView 'un `ItemTemplate` gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-353">Figure 22 shows the FormView's `ItemTemplate` when viewed through a browser.</span></span> <span data-ttu-id="3acd3-354">Her ürün alanı, en alttaki yeni, Düzenle ve Sil düğmeleriyle listelenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-354">Each product field is listed with the New, Edit, and Delete buttons at the bottom.</span></span>

<span data-ttu-id="3acd3-355">[![, her ürün alanını yeni, Düzenle ve Sil düğmeleriyle birlikte listeler.](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-355">[![The Defaut FormView ItemTemplate Lists Each Product Field Along with New, Edit, and Delete Buttons](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image55.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image54.png)</span></span>

<span data-ttu-id="3acd3-356">**Şekil 22**: bu FormView `ItemTemplate`, her ürün alanını yeni, düzenleme ve silme düğmeleriyle birlikte listeler ([tam boyutlu görüntüyü görüntülemek için tıklatın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-356">**Figure 22**: The Defaut FormView `ItemTemplate` Lists Each Product Field Along with New, Edit, and Delete Buttons ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image56.png))</span></span>

<span data-ttu-id="3acd3-357">GridView ve DetailsView gibi, `CommandName` özelliği Delete olarak ayarlanmış olan Delete düğmesine veya herhangi bir Button, LinkButton veya ImageButton öğesine tıkladığınızda geri göndermeye neden olur, ObjectDataSource 'un `DeleteParameters`, FormView 'un `DataKeyNames` değerine göre doldurur ve ObjectDataSource 'un `Delete()` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-357">Like with the GridView and DetailsView, clicking the Delete button or any Button, LinkButton, or ImageButton whose `CommandName` property is set to Delete causes a postback, populates the ObjectDataSource's `DeleteParameters` based on the FormView's `DataKeyNames` value, and invokes the ObjectDataSource's `Delete()` method.</span></span>

<span data-ttu-id="3acd3-358">Düzenle düğmesine bir geri gönderme tıklandığında ve veriler, düzenleme arabirimini işlemeden sorumlu olan `EditItemTemplate`yeniden bağlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-358">When the Edit button is clicked a postback ensues and the data is rebound to the `EditItemTemplate`, which is responsible for rendering the editing interface.</span></span> <span data-ttu-id="3acd3-359">Bu arabirim, Update ve Cancel düğmeleriyle birlikte verileri düzenlemenin Web denetimlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-359">This interface includes the Web controls for editing data along with the Update and Cancel buttons.</span></span> <span data-ttu-id="3acd3-360">Visual Studio tarafından oluşturulan varsayılan `EditItemTemplate`, herhangi bir otomatik artış alanı (`ProductID`) için bir etiket, her Boole olmayan değer alanı için bir TextBox ve her bir Boole değeri alanı için bir onay kutusu içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-360">The default `EditItemTemplate` generated by Visual Studio contains a Label for any auto-increment fields (`ProductID`), a TextBox for each non-Boolean value field, and a CheckBox for each Boolean value field.</span></span> <span data-ttu-id="3acd3-361">Bu davranış, GridView ve DetailsView denetimlerinde otomatik olarak oluşturulan BoundFields 'e çok benzer.</span><span class="sxs-lookup"><span data-stu-id="3acd3-361">This behavior is very similar to the auto-generated BoundFields in the GridView and DetailsView controls.</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-362">FormView 'un `EditItemTemplate` otomatik nesli ile ilgili küçük bir sorun, `CategoryName` ve `SupplierName`gibi salt okunan alanlar için TextBox Web denetimleri işleyişleridir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-362">One small issue with the FormView's auto-generation of the `EditItemTemplate` is that it renders TextBox Web controls for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="3acd3-363">Bu kısa süre içinde nasıl hesaba başlayacağız.</span><span class="sxs-lookup"><span data-stu-id="3acd3-363">We'll see how to account for this shortly.</span></span>

<span data-ttu-id="3acd3-364">`EditItemTemplate` metin kutusu denetimleri, `Text` özelliğinin *iki yönlü veri bağlamayı*kullanarak karşılık gelen veri alanı değerine bağlanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-364">The TextBox controls in the `EditItemTemplate` have their `Text` property bound to the value of their corresponding data field using *two-way databinding*.</span></span> <span data-ttu-id="3acd3-365">`<%# Bind("dataField") %>`tarafından belirtilen iki yönlü veri bağlama, verileri şablona bağlarken ve kayıt ekleme veya düzenlemenin, ObjectDataSource 'un parametrelerini doldururken veri bağlamayı gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-365">Two-way databinding, denoted by `<%# Bind("dataField") %>`, performs databinding both when binding data to the template and when populating the ObjectDataSource's parameters for inserting or editing records.</span></span> <span data-ttu-id="3acd3-366">Diğer bir deyişle, Kullanıcı `ItemTemplate`Düzenle düğmesine tıkladığında `Bind()` yöntemi belirtilen veri alanı değerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="3acd3-366">That is, when the user clicks the Edit button from the `ItemTemplate`, the `Bind()` method returns the specified data field value.</span></span> <span data-ttu-id="3acd3-367">Kullanıcı değişikliklerini yaptıktan ve sonra Güncelleştir ' e tıkladıktan sonra, `Bind()` kullanılarak belirtilen veri alanlarına karşılık gelen değerler, ObjectDataSource 'un `UpdateParameters`uygulanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-367">After the user makes their changes and clicks Update, the values posted back that correspond to the data fields specified using `Bind()` are applied to the ObjectDataSource's `UpdateParameters`.</span></span> <span data-ttu-id="3acd3-368">Alternatif olarak, `<%# Eval("dataField") %>`belirtilen tek yönlü veri bağlama yalnızca verileri şablona bağlarken veri alanı değerlerini alır ve Kullanıcı tarafından girilen değerleri geri gönderme sırasında veri kaynağının *parametrelerine döndürmez.*</span><span class="sxs-lookup"><span data-stu-id="3acd3-368">Alternatively, one-way databinding, denoted by `<%# Eval("dataField") %>`, only retrieves the data field values when binding data to the template and does *not* return the user-entered values to the data source's parameters on postback.</span></span>

<span data-ttu-id="3acd3-369">Aşağıdaki bildirim temelli biçimlendirme FormView 'un `EditItemTemplate`gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-369">The following declarative markup shows the FormView's `EditItemTemplate`.</span></span> <span data-ttu-id="3acd3-370">`Bind()` yönteminin, burada veri bağlama sözdiziminde kullanıldığını ve Update ve Cancel düğme web denetimlerinin `CommandName` özelliklerinin uygun şekilde ayarlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-370">Note that the `Bind()` method is used in the databinding syntax here and that the Update and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample9.aspx)]

<span data-ttu-id="3acd3-371">`EditItemTemplate`, bu noktada, kullanmaya çalışmamız durumunda bir özel durumun oluşturulmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-371">Our `EditItemTemplate`, at this point, will cause an exception to be thrown if we attempt to use it.</span></span> <span data-ttu-id="3acd3-372">Sorun, `CategoryName` ve `SupplierName` alanlarının `EditItemTemplate`metin kutusu Web denetimleri olarak işlendiğine yönelik bir sorundur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-372">The problem is that the `CategoryName` and `SupplierName` fields are rendered as TextBox Web controls in the `EditItemTemplate`.</span></span> <span data-ttu-id="3acd3-373">Bu metin kutularını etiketlere değiştirmemiz veya onları tamamen kaldırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-373">We either need to change these TextBoxes to Labels or remove them altogether.</span></span> <span data-ttu-id="3acd3-374">Onları yalnızca `EditItemTemplate`tamamen silelim.</span><span class="sxs-lookup"><span data-stu-id="3acd3-374">Let's simply delete them entirely from the `EditItemTemplate`.</span></span>

<span data-ttu-id="3acd3-375">Şekil 23 ' te, bir tarayıcıda düzenlenecek düzen düğmesi tıklandıktan sonra bir tarayıcı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-375">Figure 23 shows the FormView in a browser after the Edit button has been clicked for Chai.</span></span> <span data-ttu-id="3acd3-376">`ItemTemplate` yalnızca `EditItemTemplate`kaldırdığımız için, gösterilen `SupplierName` ve `CategoryName` alanlarının artık mevcut olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-376">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them from the `EditItemTemplate`.</span></span> <span data-ttu-id="3acd3-377">Güncelleştirme düğmesine tıklandığında, FormView, GridView ve DetailsView denetimleriyle aynı adım sırası üzerinden ilerler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-377">When the Update button is clicked the FormView proceeds through the same sequence of steps as the GridView and DetailsView controls.</span></span>

<span data-ttu-id="3acd3-378">[Varsayılan olarak, EditItemTemplate her düzenlenebilir Ürün alanını bir TextBox veya onay kutusu olarak gösterir ![](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-378">[![By Default the EditItemTemplate Shows Each Editable Product Field as a TextBox or CheckBox](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image58.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image57.png)</span></span>

<span data-ttu-id="3acd3-379">**Şekil 23**: varsayılan olarak `EditItemTemplate` her düzenlenebilir Ürün alanını bir metin kutusu veya onay kutusu olarak gösterir ([tam boyutlu görüntüyü görüntülemek için tıklatın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-379">**Figure 23**: By Default the `EditItemTemplate` Shows Each Editable Product Field as a TextBox or CheckBox ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image59.png))</span></span>

<span data-ttu-id="3acd3-380">INSERT düğmesine tıklandığında FormView, geri gönderme `ItemTemplate`.</span><span class="sxs-lookup"><span data-stu-id="3acd3-380">When the Insert button is clicked the FormView's `ItemTemplate` a postback ensues.</span></span> <span data-ttu-id="3acd3-381">Ancak, yeni bir kayıt eklendikçe FormView 'a hiçbir veri bağlanmadı.</span><span class="sxs-lookup"><span data-stu-id="3acd3-381">However, no data is bound to the FormView because a new record is being added.</span></span> <span data-ttu-id="3acd3-382">`InsertItemTemplate` arabirimi, INSERT ve Cancel düğmeleriyle birlikte yeni bir kayıt eklemek için Web denetimlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-382">The `InsertItemTemplate` interface includes the Web controls for adding a new record along with the Insert and Cancel buttons.</span></span> <span data-ttu-id="3acd3-383">Visual Studio tarafından oluşturulan varsayılan `InsertItemTemplate`, her Boolean değer alanı için bir TextBox ve otomatik olarak oluşturulan `EditItemTemplate`arabirimine benzer şekilde her bir Boolean değer alanı için bir onay kutusu içerir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-383">The default `InsertItemTemplate` generated by Visual Studio contains a TextBox for each non-Boolean value field and a CheckBox for each Boolean value field, similar to the auto-generated `EditItemTemplate`'s interface.</span></span> <span data-ttu-id="3acd3-384">TextBox denetimleri, kendi `Text` özelliğine sahiptir ve iki yönlü veri bağlamayı kullanarak karşılık gelen veri alanı değerine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-384">The TextBox controls have their `Text` property bound to the value of their corresponding data field using two-way databinding.</span></span>

<span data-ttu-id="3acd3-385">Aşağıdaki bildirim temelli biçimlendirme FormView 'un `InsertItemTemplate`gösterir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-385">The following declarative markup shows the FormView's `InsertItemTemplate`.</span></span> <span data-ttu-id="3acd3-386">`Bind()` yönteminin, burada veri bağlama sözdiziminde kullanıldığını ve INSERT ve Cancel düğme web denetimlerinin `CommandName` özelliklerinin uygun şekilde ayarlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-386">Note that the `Bind()` method is used in the databinding syntax here and that the Insert and Cancel Button Web controls have their `CommandName` properties set accordingly.</span></span>

[!code-aspx[Main](an-overview-of-inserting-updating-and-deleting-data-cs/samples/sample10.aspx)]

<span data-ttu-id="3acd3-387">FormView 'un `InsertItemTemplate`otomatik olarak oluşturulmasını içeren bir alt ttidir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-387">There's a subtlety with the FormView's auto-generation of the `InsertItemTemplate`.</span></span> <span data-ttu-id="3acd3-388">Özellikle, metin kutusu Web denetimleri, `CategoryName` ve `SupplierName`gibi salt okunan alanlar için de oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="3acd3-388">Specifically, the TextBox Web controls are created even for those fields that are read-only, such as `CategoryName` and `SupplierName`.</span></span> <span data-ttu-id="3acd3-389">`EditItemTemplate`gibi, bu metin kutularını `InsertItemTemplate`kaldırdık.</span><span class="sxs-lookup"><span data-stu-id="3acd3-389">Like with the `EditItemTemplate`, we need to remove these TextBoxes from the `InsertItemTemplate`.</span></span>

<span data-ttu-id="3acd3-390">Şekil 24 ' te yeni bir ürün eklenirken bir tarayıcıda FormView gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-390">Figure 24 shows the FormView in a browser when adding a new product, Acme Coffee.</span></span> <span data-ttu-id="3acd3-391">`ItemTemplate` gösterilen `SupplierName` ve `CategoryName` alanlarının artık kaldırıldığımızda mevcut olmadığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="3acd3-391">Note that the `SupplierName` and `CategoryName` fields shown in the `ItemTemplate` are no longer present, as we just removed them.</span></span> <span data-ttu-id="3acd3-392">Ekle düğmesine tıklandığında, FormView, `Products` tabloya yeni bir kayıt ekleyerek DetailsView denetimiyle aynı adımlar dizisi üzerinden ilerler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-392">When the Insert button is clicked the FormView proceeds through the same sequence of steps as the DetailsView control, adding a new record to the `Products` table.</span></span> <span data-ttu-id="3acd3-393">Şekil 25 ' te, Acme Coffee ürünün ayrıntıları eklendikten sonra FormView 'da gösterilir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-393">Figure 25 shows Acme Coffee product's details in the FormView after it has been inserted.</span></span>

<span data-ttu-id="3acd3-394">[InsertItemTemplate ![, FormView 'un ekleme arabirimini belirler](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-394">[![The InsertItemTemplate Dictates the FormView's Inserting Interface](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image61.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image60.png)</span></span>

<span data-ttu-id="3acd3-395">**Şekil 24**: `InsertItemTemplate` FormView 'un ekleme arabirimini ([tam boyutlu görüntüyü görüntülemek Için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png)) belirler</span><span class="sxs-lookup"><span data-stu-id="3acd3-395">**Figure 24**: The `InsertItemTemplate` Dictates the FormView's Inserting Interface ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image62.png))</span></span>

<span data-ttu-id="3acd3-396">[Yeni ürünün ayrıntıları ![, Acme Coffee, FormView içinde görüntülenir](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span><span class="sxs-lookup"><span data-stu-id="3acd3-396">[![The Details for New Product, Acme Coffee, are Displayed in the FormView](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image64.png)](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image63.png)</span></span>

<span data-ttu-id="3acd3-397">**Şekil 25**: yeni ürünün "Acme Coffee" ayrıntıları FormView 'da görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span><span class="sxs-lookup"><span data-stu-id="3acd3-397">**Figure 25**: The Details for New Product, Acme Coffee, are Displayed in the FormView ([Click to view full-size image](an-overview-of-inserting-updating-and-deleting-data-cs/_static/image65.png))</span></span>

<span data-ttu-id="3acd3-398">Bir salt okunurdur, düzenledikten ve arabirimleri üç ayrı şablona ekleyerek, FormView bu arabirimler üzerinde DetailsView ve GridView 'dan daha fazla denetim sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-398">By separating out the read-only, editing, and inserting interfaces into three separate templates, the FormView allows for a finer degree of control over these interfaces than the DetailsView and GridView.</span></span>

> [!NOTE]
> <span data-ttu-id="3acd3-399">DetailsView gibi, FormView 'un `CurrentMode` özelliği, görüntülenmekte olan arabirimi ve `DefaultMode` özelliği, FormView 'un bir düzenleme veya ekleme işlemi tamamlandıktan sonra geri döndürdüğü modu belirtir.</span><span class="sxs-lookup"><span data-stu-id="3acd3-399">Like the DetailsView, the FormView's `CurrentMode` property indicates the interface being displayed and its `DefaultMode` property indicates the mode the FormView returns to after an edit or insert has been completed.</span></span>

## <a name="summary"></a><span data-ttu-id="3acd3-400">Özet</span><span class="sxs-lookup"><span data-stu-id="3acd3-400">Summary</span></span>

<span data-ttu-id="3acd3-401">Bu öğreticide GridView, DetailsView ve FormView kullanarak veri ekleme, düzenlemenin ve silmenin temellerini inceliyoruz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-401">In this tutorial we examined the basics of inserting, editing, and deleting data using the GridView, DetailsView, and FormView.</span></span> <span data-ttu-id="3acd3-402">Bu denetimlerin üçü de, veri Web denetimleri ve ObjectDataSource sayesinde ASP.NET sayfasında tek bir kod satırı yazmadan kullanılabilecek bazı yerleşik veri değiştirme özellikleri sağlar.</span><span class="sxs-lookup"><span data-stu-id="3acd3-402">All three of these controls provide some level of built-in data modification capabilities that can be utilized without writing a single line of code in the ASP.NET page thanks to the data Web controls and the ObjectDataSource.</span></span> <span data-ttu-id="3acd3-403">Ancak, basit nokta ve tıklama teknikleri bir oldukça büyük ve Naïve veri değişikliği Kullanıcı arabirimini işler.</span><span class="sxs-lookup"><span data-stu-id="3acd3-403">However, the simple point and click techniques render a fairly frail and naïve data modification user interface.</span></span> <span data-ttu-id="3acd3-404">Doğrulama sağlamak, programlı değerler eklemek, özel durumları düzgün bir şekilde işlemek, Kullanıcı arabirimini özelleştirmek ve bu şekilde devam etmek için, sonraki birkaç öğreticiyle ele alınacaktır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-404">To provide validation, inject programmatic values, gracefully handle exceptions, customize the user interface, and so on, we'll need to rely on a bevy of techniques that will be discussed over the next several tutorials.</span></span>

<span data-ttu-id="3acd3-405">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="3acd3-405">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="3acd3-406">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="3acd3-406">About the Author</span></span>

<span data-ttu-id="3acd3-407">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="3acd3-407">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="3acd3-408">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="3acd3-408">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="3acd3-409">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="3acd3-409">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="3acd3-410">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="3acd3-410">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="3acd3-411">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3acd3-411">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="3acd3-412">Next</span><span class="sxs-lookup"><span data-stu-id="3acd3-412">Next</span></span>](examining-the-events-associated-with-inserting-updating-and-deleting-cs.md)
