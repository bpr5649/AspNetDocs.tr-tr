---
uid: web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
title: DataList 'in düzenleyen arabirimine doğrulama denetimleri ekleme (C#) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide, daha fazla folipop Kullanıcı int düzenlemesi sağlamak için DataList 'in EditItemTemplate 'e doğrulama denetimleri eklemenin ne kadar kolay olduğunu görüyoruz.
ms.author: riande
ms.date: 10/30/2006
ms.assetid: 3ecc21c5-da0e-40ab-abb4-fac1e47398ad
msc.legacyurl: /web-forms/overview/data-access/editing-and-deleting-data-through-the-datalist/adding-validation-controls-to-the-datalist-s-editing-interface-cs
msc.type: authoredcontent
ms.openlocfilehash: e3c14b7098da832bd28f57026e81dcb7f7ba7130
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78594488"
---
# <a name="adding-validation-controls-to-the-datalists-editing-interface-c"></a><span data-ttu-id="9cc9e-103">DataList’in Düzenleme Arabirimine Doğrulama Denetimleri Ekleme (C#)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-103">Adding Validation Controls to the DataList's Editing Interface (C#)</span></span>

<span data-ttu-id="9cc9e-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="9cc9e-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9cc9e-105">[Örnek uygulamayı indirin](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) veya [PDF 'yi indirin](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-105">[Download Sample App](https://download.microsoft.com/download/9/c/1/9c1d03ee-29ba-4d58-aa1a-f201dcc822ea/ASPNET_Data_Tutorial_39_CS.exe) or [Download PDF](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/datatutorial39cs1.pdf)</span></span>

> <span data-ttu-id="9cc9e-106">Bu öğreticide, daha fazla folipop düzenlemesi Kullanıcı arabirimi sağlamak için DataList 'in EditItemTemplate 'e doğrulama denetimleri eklemenin ne kadar kolay olduğunu görüyoruz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-106">In this tutorial we'll see how easy it is to add validation controls to the DataList's EditItemTemplate in order to provide a more foolproof editing user interface.</span></span>

## <a name="introduction"></a><span data-ttu-id="9cc9e-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="9cc9e-107">Introduction</span></span>

<span data-ttu-id="9cc9e-108">DataList 'in bu öğreticilerde şu ana kadar, eksik ürün adı veya negatif fiyat gibi geçersiz kullanıcı girişi bir özel durumla sonuçlansa da, veri alanı, düzenlemenin düzenlemesi, hiçbir öngörülü Kullanıcı giriş doğrulaması içermez.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-108">In the DataList editing tutorials thus far, the DataLists editing interfaces have not included any proactive user input validation even though invalid user input such as a missing product name or negative price results in an exception.</span></span> <span data-ttu-id="9cc9e-109">[Önceki öğreticide](handling-bll-and-dal-level-exceptions-cs.md) , oluşturulan özel durumlarla ilgili bilgileri yakalamak ve düzgün şekilde göstermek Için, DataList s `UpdateCommand` olay işleyicisine özel durum işleme kodu eklemeyi inceledik.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-109">In the [preceding tutorial](handling-bll-and-dal-level-exceptions-cs.md) we examined how to add exception handling code to the DataList s `UpdateCommand` event handler in order to catch and gracefully display information about any exceptions that were raised.</span></span> <span data-ttu-id="9cc9e-110">Bununla birlikte, düzen arabirimi, bir kullanıcının ilk yere bu tür verileri girmesini engellemek için doğrulama denetimlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-110">Ideally, however, the editing interface would include validation controls to prevent a user from entering such invalid data in the first place.</span></span>

<span data-ttu-id="9cc9e-111">Bu öğreticide, daha fazla folipop düzenlemesi Kullanıcı arabirimi sağlamak için, DataList s `EditItemTemplate` doğrulama denetimleri eklemenin ne kadar kolay olduğunu görüyoruz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-111">In this tutorial we'll see how easy it is to add validation controls to the DataList s `EditItemTemplate` in order to provide a more foolproof editing user interface.</span></span> <span data-ttu-id="9cc9e-112">Özellikle, bu öğretici önceki öğreticide oluşturulan örneği alır ve uygun doğrulamayı dahil etmek için Düzenle arabirimini genişlettiğini.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-112">Specifically, this tutorial takes the example created in the preceding tutorial and augments the editing interface to include appropriate validation.</span></span>

## <a name="step-1-replicating-the-example-fromhandling-bll--and-dal-level-exceptions"></a><span data-ttu-id="9cc9e-113">Adım 1: örneği[BLL ve dal düzeyi özel durumları Işlemeye](handling-bll-and-dal-level-exceptions-cs.md) çoğaltma</span><span class="sxs-lookup"><span data-stu-id="9cc9e-113">Step 1: Replicating the Example from[Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md)</span></span>

<span data-ttu-id="9cc9e-114">[BLL ve dal düzeyi özel durumları işleme](handling-bll-and-dal-level-exceptions-cs.md) öğreticisinde, ürünlerin adlarını ve fiyatlarını iki sütunlu, düzenlenebilir bir DataList içinde listeleyen bir sayfa oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-114">In the [Handling BLL- and DAL-Level Exceptions](handling-bll-and-dal-level-exceptions-cs.md) tutorial we created a page that listed the names and prices of the products in a two-column, editable DataList.</span></span> <span data-ttu-id="9cc9e-115">Bu öğreticide bizim amamız,, doğrulama denetimlerini dahil etmek için DataList s Editing arabirimini artırmak içindir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-115">Our goal for this tutorial is to augment the DataList s editing interface to include validation controls.</span></span> <span data-ttu-id="9cc9e-116">Özellikle, doğrulama mantığımız şunları sağlayacak:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-116">In particular, our validation logic will:</span></span>

- <span data-ttu-id="9cc9e-117">Ürün adının sağlanması gerekiyor</span><span class="sxs-lookup"><span data-stu-id="9cc9e-117">Require that the product s name be provided</span></span>
- <span data-ttu-id="9cc9e-118">Fiyat için girilen değerin geçerli bir para birimi biçimi olduğundan emin olun</span><span class="sxs-lookup"><span data-stu-id="9cc9e-118">Ensure that the value entered for the price is a valid currency format</span></span>
- <span data-ttu-id="9cc9e-119">Negatif `UnitPrice` değeri geçersiz olduğundan, Fiyat için girilen değerin sıfıra eşit veya sıfırdan büyük olduğundan emin olun</span><span class="sxs-lookup"><span data-stu-id="9cc9e-119">Ensure that the value entered for the price is greater than or equal to zero, since a negative `UnitPrice` value is illegal</span></span>

<span data-ttu-id="9cc9e-120">Doğrulama eklemek için önceki örneği genişletmenin artırılmasına bakabilmeniz için önce, Bu öğreticinin `EditDeleteDataList` klasöründeki `ErrorHandling.aspx` sayfasından örneği çoğaltmamız gerekir `UIValidation.aspx`.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-120">Before we can look at augmenting the previous example to include validation, we first need to replicate the example from the `ErrorHandling.aspx` page in the `EditDeleteDataList` folder to the page for this tutorial, `UIValidation.aspx`.</span></span> <span data-ttu-id="9cc9e-121">Bunu elde etmek için `ErrorHandling.aspx` sayfa temelli biçimlendirme ve onun kaynak kodunu kopyalamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-121">To achieve this we need to copy over both the `ErrorHandling.aspx` page s declarative markup and its source code.</span></span> <span data-ttu-id="9cc9e-122">İlk olarak, aşağıdaki adımları gerçekleştirerek bildirim temelli biçimlendirmenin üzerine kopyalayın:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-122">First copy over the declarative markup by performing the following steps:</span></span>

1. <span data-ttu-id="9cc9e-123">Visual Studio 'da `ErrorHandling.aspx` sayfasını açın</span><span class="sxs-lookup"><span data-stu-id="9cc9e-123">Open the `ErrorHandling.aspx` page in Visual Studio</span></span>
2. <span data-ttu-id="9cc9e-124">Sayfa bildirim temelli işaretleme sayfasına gidin (sayfanın altındaki kaynak düğmesine tıklayın)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-124">Go to the page s declarative markup (click on the Source button at the bottom of the page)</span></span>
3. <span data-ttu-id="9cc9e-125">Şekil 1 ' de gösterildiği gibi, `<asp:Content>` metni ve `</asp:Content>` etiketleri (3 ile 32 arasındaki satırlar) kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-125">Copy the text within the `<asp:Content>` and `</asp:Content>` tags (lines 3 through 32), as shown in Figure 1.</span></span>

<span data-ttu-id="9cc9e-126">[&lt;ASP: Content&gt; Control Içindeki metni kopyalamak ![](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-126">[![Copy the Text Within the &lt;asp:Content&gt; Control](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image2.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image1.png)</span></span>

<span data-ttu-id="9cc9e-127">**Şekil 1**: `<asp:Content>` denetiminin içindeki metni kopyalama ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-127">**Figure 1**: Copy the Text Within the `<asp:Content>` Control ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image3.png))</span></span>

1. <span data-ttu-id="9cc9e-128">`UIValidation.aspx` sayfasını açın</span><span class="sxs-lookup"><span data-stu-id="9cc9e-128">Open the `UIValidation.aspx` page</span></span>
2. <span data-ttu-id="9cc9e-129">Sayfa bildirim temelli işaretleme sayfasına gidin</span><span class="sxs-lookup"><span data-stu-id="9cc9e-129">Go to the page s declarative markup</span></span>
3. <span data-ttu-id="9cc9e-130">`<asp:Content>` denetiminin içindeki metni yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-130">Paste the text within the `<asp:Content>` control.</span></span>

<span data-ttu-id="9cc9e-131">Kaynak kodu üzerine kopyalamak için `ErrorHandling.aspx.vb` sayfasını açın ve yalnızca `EditDeleteDataList_ErrorHandling` sınıfının *içindeki* metni kopyalayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-131">To copy over the source code, open the `ErrorHandling.aspx.vb` page and copy just the text *within* the `EditDeleteDataList_ErrorHandling` class.</span></span> <span data-ttu-id="9cc9e-132">`DisplayExceptionDetails` yöntemiyle birlikte üç olay işleyicisini (`Products_EditCommand`, `Products_CancelCommand`ve `Products_UpdateCommand`) kopyalayın, ancak sınıf bildirimini veya `using` deyimlerini **kopyalamayın.**</span><span class="sxs-lookup"><span data-stu-id="9cc9e-132">Copy the three event handlers (`Products_EditCommand`, `Products_CancelCommand`, and `Products_UpdateCommand`) along with the `DisplayExceptionDetails` method, but do **not** copy the class declaration or `using` statements.</span></span> <span data-ttu-id="9cc9e-133">Kopyalanmış *metni `UIValidation.aspx.vb`içindeki `EditDeleteDataList_UIValidation`* sınıfında yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-133">Paste the copied text *within* the `EditDeleteDataList_UIValidation` class in `UIValidation.aspx.vb`.</span></span>

<span data-ttu-id="9cc9e-134">`ErrorHandling.aspx` içerik ve kod üzerinden `UIValidation.aspx`' a taşıdıktan sonra, bir tarayıcıda sayfaları test etmek için bir dakikanızı ayırın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-134">After moving over the content and code from `ErrorHandling.aspx` to `UIValidation.aspx`, take a moment to test out the pages in a browser.</span></span> <span data-ttu-id="9cc9e-135">Aynı çıktıyı görmeniz ve bu iki sayfanın her birinde aynı işlevleri deneymelisiniz (bkz. Şekil 2).</span><span class="sxs-lookup"><span data-stu-id="9cc9e-135">You should see the same output and experience the same functionality in each of these two pages (see Figure 2).</span></span>

<span data-ttu-id="9cc9e-136">[Uıvalidation. aspx sayfası ![ErrorHandling. aspx içindeki Işlevselliği taklit eder](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-136">[![The UIValidation.aspx Page Mimics the Functionality in ErrorHandling.aspx](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image5.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image4.png)</span></span>

<span data-ttu-id="9cc9e-137">**Şekil 2**: `UIValidation.aspx` sayfası `ErrorHandling.aspx` işlevleri taklit eder ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-137">**Figure 2**: The `UIValidation.aspx` Page Mimics the Functionality in `ErrorHandling.aspx` ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image6.png))</span></span>

## <a name="step-2-adding-the-validation-controls-to-the-datalist-s-edititemtemplate"></a><span data-ttu-id="9cc9e-138">2\. Adım: doğrulama denetimlerini DataList s EditItemTemplate 'e ekleme</span><span class="sxs-lookup"><span data-stu-id="9cc9e-138">Step 2: Adding the Validation Controls to the DataList s EditItemTemplate</span></span>

<span data-ttu-id="9cc9e-139">Veri girişi formları oluştururken, kullanıcıların gerekli alanları girmesi ve tüm sağlanmış girişlerinin yasal, düzgün biçimli değerler olması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-139">When constructing data entry forms, it is important that users enter any required fields and that all their provided inputs are legal, properly-formatted values.</span></span> <span data-ttu-id="9cc9e-140">ASP.NET bir Kullanıcı girişinin geçerli olduğundan emin olmak için, tek bir giriş Web denetiminin değerini doğrulamak üzere tasarlanan beş yerleşik doğrulama denetimi sağlar:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-140">To help ensure that a user s inputs are valid, ASP.NET provides five built-in validation controls that are designed to validate the value of a single input Web control:</span></span>

- <span data-ttu-id="9cc9e-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) bir değer sağlanmış olmasını sağlar</span><span class="sxs-lookup"><span data-stu-id="9cc9e-141">[RequiredFieldValidator](https://msdn.microsoft.com/library/5hbw267h(VS.80).aspx) ensures that a value has been provided</span></span>
- <span data-ttu-id="9cc9e-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) bir değeri başka bir Web denetim değeri veya sabit bir değere göre doğrular ya da değer s biçiminin belirtilen veri türü için geçerli olmasını sağlar</span><span class="sxs-lookup"><span data-stu-id="9cc9e-142">[CompareValidator](https://msdn.microsoft.com/library/db330ayw(VS.80).aspx) validates a value against another Web control value or a constant value, or ensures that the value s format is legal for a specified data type</span></span>
- <span data-ttu-id="9cc9e-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) , bir değerin bir değer aralığı içinde olmasını sağlar</span><span class="sxs-lookup"><span data-stu-id="9cc9e-143">[RangeValidator](https://msdn.microsoft.com/library/f70d09xt.aspx) ensures that a value is within a range of values</span></span>
- <span data-ttu-id="9cc9e-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) bir değeri [normal bir ifadeye](http://en.wikipedia.org/wiki/Regular_expression) doğrular</span><span class="sxs-lookup"><span data-stu-id="9cc9e-144">[RegularExpressionValidator](https://msdn.microsoft.com/library/eahwtc9e.aspx) validates a value against a [regular expression](http://en.wikipedia.org/wiki/Regular_expression)</span></span>
- <span data-ttu-id="9cc9e-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) bir değeri özel, Kullanıcı tanımlı bir yönteme göre doğrular</span><span class="sxs-lookup"><span data-stu-id="9cc9e-145">[CustomValidator](https://msdn.microsoft.com/library/9eee01cx(VS.80).aspx) validates a value against a custom, user-defined method</span></span>

<span data-ttu-id="9cc9e-146">Bu beş denetim hakkında daha fazla bilgi için, [doğrulama denetimlerini ekleme ve ekleme arabirim](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) öğreticisine geri dönüp [ASP.net hızlı başlangıç öğreticilerinin](https://quickstarts.asp.net) [doğrulama denetimleri bölümüne](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) bakın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-146">For more information on these five controls refer back to the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) tutorial or check out the [Validation Controls section](https://quickstarts.asp.net/QuickStartv20/aspnet/doc/ctrlref/validation/default.aspx) of the [ASP.NET Quickstart Tutorials](https://quickstarts.asp.net).</span></span>

<span data-ttu-id="9cc9e-147">Öğreticimiz için bir RequiredFieldValidator kullanarak, girilen fiyatın 0 ' dan büyük veya sıfıra eşit bir değere sahip olduğundan ve geçerli bir para birimi biçiminde sunulduğundan emin olmak için bir RequiredFieldValidator kullanması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-147">For our tutorial we'll need to use a RequiredFieldValidator to ensure that a value for the product name has been supplied and a CompareValidator to ensure that the entered price has a value greater than or equal to 0 and is presented in a valid currency format.</span></span>

> [!NOTE]
> <span data-ttu-id="9cc9e-148">ASP.NET 1. x aynı beş doğrulama denetimine sahip olduğundan, ASP.NET 2,0, Internet Explorer 'a ek olarak tarayıcılar için ana iki istemci tarafı betik desteği ve bir sayfadaki doğrulama denetimlerini bölümleyebilme olanağı sunan bir dizi iyileştirme ekledi. doğrulama grupları.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-148">While ASP.NET 1.x had these same five validation controls, ASP.NET 2.0 has added a number of improvements, the main two being client-side script support for browsers in addition to Internet Explorer and the ability to partition validation controls on a page into validation groups.</span></span> <span data-ttu-id="9cc9e-149">2,0 sürümündeki yeni doğrulama denetimi özellikleri hakkında daha fazla bilgi için, [ASP.NET 2,0 ' de doğrulama denetimlerinin nasıl dağlamadiğini](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx)inceleyin.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-149">For more information on the new validation control features in 2.0, refer to [Dissecting the Validation Controls in ASP.NET 2.0](http://aspnet.4guysfromrolla.com/articles/112305-1.aspx).</span></span>

<span data-ttu-id="9cc9e-150">Gerekli doğrulama denetimlerini DataList s `EditItemTemplate`ekleyerek başlayalım.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-150">Let s start by adding the necessary validation controls to the DataList s `EditItemTemplate`.</span></span> <span data-ttu-id="9cc9e-151">Bu görev tasarımcı aracılığıyla DataList 'in akıllı etiketindeki Şablonları Düzenle bağlantısına tıklayarak ya da bildirime dayalı sözdizimi aracılığıyla gerçekleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-151">This task can be performed through the Designer by clicking on the Edit Templates link from the DataList s smart tag, or through the declarative syntax.</span></span> <span data-ttu-id="9cc9e-152">Tasarım görünümü Şablonları Düzenle seçeneğini kullanarak süreç boyunca ilerme.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-152">Let s step through the process using the Edit Templates option from the Design view.</span></span> <span data-ttu-id="9cc9e-153">DataList s `EditItemTemplate`düzenlemeyi seçtikten sonra, araç kutusundan şablon düzenleme arabirimine sürükleyerek bir RequiredFieldValidator ekleyin ve bunu `ProductName` metin kutusundan sonra koyun.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-153">After choosing to edit the DataList s `EditItemTemplate`, add a RequiredFieldValidator by dragging it from the Toolbox into the template editing interface, placing it after the `ProductName` TextBox.</span></span>

<span data-ttu-id="9cc9e-154">[ProductName metin kutusu 'ndan sonra EditItemTemplate 'e bir RequiredFieldValidator eklemek ![](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-154">[![Add a RequiredFieldValidator to the EditItemTemplate After the ProductName TextBox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image8.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image7.png)</span></span>

<span data-ttu-id="9cc9e-155">**Şekil 3**: `ProductName` metin kutusuna `EditItemTemplate After` bir RequiredFieldValidator ekleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-155">**Figure 3**: Add a RequiredFieldValidator to the `EditItemTemplate After` the `ProductName` TextBox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image9.png))</span></span>

<span data-ttu-id="9cc9e-156">Tüm doğrulama denetimleri, tek bir ASP.NET Web denetiminin girişini doğrulayarak çalışır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-156">All validation controls work by validating the input of a single ASP.NET Web control.</span></span> <span data-ttu-id="9cc9e-157">Bu nedenle, yeni eklediğimiz bir RequiredFieldValidator `ProductName` metin kutusuna göre doğrulamanız gerekir; Bu işlem, doğrulama denetimi [`ControlToValidate` özelliği](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) uygun Web denetiminin `ID` (`ProductName`, bu örnekte) ayarlanarak yapılır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-157">Therefore, we need to indicate that the RequiredFieldValidator we just added should validate against the `ProductName` TextBox; this is done by setting the validation control s [`ControlToValidate` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.controltovalidate(VS.80).aspx) to the `ID` of the appropriate Web control (`ProductName`, in this instance).</span></span> <span data-ttu-id="9cc9e-158">Sonra, [`ErrorMessage` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) olarak ayarlayın \*için ürün adı ve [`Text` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-158">Next, set the [`ErrorMessage` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.errormessage(VS.80).aspx) to You must provide the product s name and the [`Text` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basevalidator.text(VS.80).aspx) to \*.</span></span> <span data-ttu-id="9cc9e-159">Sağlanırsa `Text` Özellik değeri, doğrulama başarısız olursa doğrulama denetimi tarafından görüntülenen metindir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-159">The `Text` property value, if provided, is the text that is displayed by the validation control if the validation fails.</span></span> <span data-ttu-id="9cc9e-160">Gerekli `ErrorMessage` Özellik değeri, ValidationSummary denetimi tarafından kullanılır; `Text` Özellik değeri atlanırsa, `ErrorMessage` özelliği değeri geçersiz giriş üzerinde doğrulama denetimi tarafından görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-160">The `ErrorMessage` property value, which is required, is used by the ValidationSummary control; if the `Text` property value is omitted, the `ErrorMessage` property value is displayed by the validation control on invalid input.</span></span>

<span data-ttu-id="9cc9e-161">Bu üç RequiredFieldValidator özelliğini ayarladıktan sonra, ekranınızın Şekil 4 ' e benzer olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-161">After setting these three properties of the RequiredFieldValidator, your screen should look similar to Figure 4.</span></span>

<span data-ttu-id="9cc9e-162">[![ControlToValidate, ErrorMessage ve Text özelliklerini ayarlama](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-162">[![Set the RequiredFieldValidator s ControlToValidate, ErrorMessage, and Text Properties](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image11.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image10.png)</span></span>

<span data-ttu-id="9cc9e-163">**Şekil 4**: RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`ve `Text` özelliklerini ayarlayın ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-163">**Figure 4**: Set the RequiredFieldValidator s `ControlToValidate`, `ErrorMessage`, and `Text` Properties ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image12.png))</span></span>

<span data-ttu-id="9cc9e-164">RequiredFieldValidator `EditItemTemplate`eklendiğinde, her şey, ürün için fiyat metin kutusu için gerekli doğrulamayı eklemektir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-164">With the RequiredFieldValidator added to the `EditItemTemplate`, all that remains is to add the necessary validation for the product s price TextBox.</span></span> <span data-ttu-id="9cc9e-165">Kayıt düzenlenirken `UnitPrice` isteğe bağlı olduğundan, bir RequiredFieldValidator eklemesi gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-165">Since the `UnitPrice` is optional when editing a record, we don t need to add a RequiredFieldValidator.</span></span> <span data-ttu-id="9cc9e-166">Ancak, sağlanan `UnitPrice`, bir para birimi olarak düzgün biçimlendirildiğinden ve 0 ' dan büyük veya buna eşit olduğundan emin olmak için bir CompareValidator eklemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-166">We do, however, need to add a CompareValidator to ensure that the `UnitPrice`, if supplied, is properly formatted as a currency and is greater than or equal to 0.</span></span>

<span data-ttu-id="9cc9e-167">`EditItemTemplate` CompareValidator ekleyin ve `ControlToValidate` özelliğini `UnitPrice`olarak ayarlayın, `ErrorMessage` özelliği, sıfıra eşit veya daha büyük olmalı ve para birimi sembolünü ve `Text` özelliğini \*öğesine içermemelidir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-167">Add the CompareValidator into the `EditItemTemplate` and set its `ControlToValidate` property to `UnitPrice`, its `ErrorMessage` property to The price must be greater than or equal to zero and cannot include the currency symbol, and its `Text` property to \*.</span></span> <span data-ttu-id="9cc9e-168">`UnitPrice` değerin 0 ' dan büyük veya 0 ' a eşit olması gerektiğini belirtmek için, CompareValidator s [`Operator` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) `GreaterThanEqual`, [`ValueToCompare` özelliğine](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) 0 ve [`Type` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) `Currency`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-168">To indicate that the `UnitPrice` value must be greater than or equal to 0, set the CompareValidator s [`Operator` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.operator(VS.80).aspx) to `GreaterThanEqual`, its [`ValueToCompare` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.comparevalidator.valuetocompare(VS.80).aspx) to 0, and its [`Type` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.basecomparevalidator.type.aspx) to `Currency`.</span></span>

<span data-ttu-id="9cc9e-169">Bu iki doğrulama denetimi eklendikten sonra, DataList s `EditItemTemplate` bildirim temelli sözdizimi şuna benzer olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-169">After adding these two validation controls, the DataList s `EditItemTemplate` s declarative syntax should look similar to the following:</span></span>

[!code-aspx[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample1.aspx)]

<span data-ttu-id="9cc9e-170">Bu değişiklikleri yaptıktan sonra sayfayı bir tarayıcıda açın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-170">After making these changes, open the page in a browser.</span></span> <span data-ttu-id="9cc9e-171">Bir ürünü düzenlenirken adı atlamaya veya geçersiz bir fiyat değeri girmeye çalışırsanız, TextBox ' ın yanında bir yıldız işareti görünür.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-171">If you attempt to omit the name or enter an invalid price value when editing a product, an asterisk appears next to the textbox.</span></span> <span data-ttu-id="9cc9e-172">Şekil 5 ' te gösterildiği gibi, $19,95 gibi para birimi sembolünü içeren bir fiyat değeri geçersiz sayılır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-172">As Figure 5 shows, a price value that includes the currency symbol such as $19.95 is considered invalid.</span></span> <span data-ttu-id="9cc9e-173">CompareValidator s `Currency` `Type`, basamak ayırıcılarına (kültür ayarlarına bağlı olarak virgüller veya noktalar gibi), önde gelen artı veya eksi işaretiyle izin verir, ancak para birimi simgesine izin *vermez* .</span><span class="sxs-lookup"><span data-stu-id="9cc9e-173">The CompareValidator s `Currency` `Type` allows for digit separators (such as commas or periods, depending on the culture settings) and a leading plus or minus sign, but does *not* permit a currency symbol.</span></span> <span data-ttu-id="9cc9e-174">Bu davranış, Düzenle arabirimi olarak Kullanıcı tarafından, `UnitPrice` para birimi biçimini kullanarak şu anda bir şekilde işler.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-174">This behavior may perplex users as the editing interface currently renders the `UnitPrice` using the currency format.</span></span>

<span data-ttu-id="9cc9e-175">[![, geçersiz girişi olan metin kutularının yanında bir yıldız Işareti görünür](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-175">[![An Asterisk Appears Next to the Textboxes with Invalid Input](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image14.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image13.png)</span></span>

<span data-ttu-id="9cc9e-176">**Şekil 5**: geçersiz giriş metin kutularının yanında bir yıldız işareti görünür ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-176">**Figure 5**: An Asterisk Appears Next to the Textboxes with Invalid Input ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image15.png))</span></span>

<span data-ttu-id="9cc9e-177">Doğrulama olduğu gibi çalışırken, kullanıcının kabul edilebilir olmayan bir kaydı düzenlenirken para birimi sembolünü el ile kaldırması gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-177">While the validation works as-is, the user has to manually remove the currency symbol when editing a record, which is not acceptable.</span></span> <span data-ttu-id="9cc9e-178">Üstelik, düzen arabiriminde geçersiz girişler varsa, tıklatıldığında, bir geri gönderme Işlemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-178">Moreover, if there are invalid inputs in the editing interface neither the Update nor Cancel buttons, when clicked, will invoke a postback.</span></span> <span data-ttu-id="9cc9e-179">İdeal olarak, Iptal düğmesi, Kullanıcı girişlerinin geçerliliğini ne olursa olsun, DataList 'i önceden düzenlenen durumuna döndürür.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-179">Ideally, the Cancel button would return the DataList to its pre-editing state regardless of the validity of the user s inputs.</span></span> <span data-ttu-id="9cc9e-180">Ayrıca, DataList s `UpdateCommand` olay işleyicisinde ürün bilgilerini güncelleştirmeden önce sayfa verilerinin geçerli olduğundan emin olunması gerekir, çünkü doğrulama denetimleri istemci tarafı mantığı, tarayıcıları JavaScript desteklemeyen veya desteğinin devre dışı bırakıldığı kullanıcılar tarafından atlanabilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-180">Also, we need to ensure that the page s data is valid before updating the product information in the DataList s `UpdateCommand` event handler, as the validation controls client-side logic can be bypassed by users whose browsers either don t support JavaScript or have its support disabled.</span></span>

## <a name="removing-the-currency-symbol-from-the-edititemtemplate-s-unitprice-textbox"></a><span data-ttu-id="9cc9e-181">EditItemTemplate s UnitPrice metin kutusundan para birimi sembolünü kaldırma</span><span class="sxs-lookup"><span data-stu-id="9cc9e-181">Removing the Currency Symbol from the EditItemTemplate s UnitPrice TextBox</span></span>

<span data-ttu-id="9cc9e-182">CompareValidator s `Currency``Type`kullanılırken, doğrulanan giriş herhangi bir para birimi sembolü içermemelidir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-182">When using the CompareValidator s `Currency``Type`, the input being validated must not include any currency symbols.</span></span> <span data-ttu-id="9cc9e-183">Bu tür simgelerin varlığı, CompareValidator girişi geçersiz olarak işaretlamasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-183">The presence of such symbols causes the CompareValidator to mark the input as invalid.</span></span> <span data-ttu-id="9cc9e-184">Ancak, düzen arabirimimiz Şu anda `UnitPrice` metin kutusunda bir para birimi simgesi içermektedir, yani Kullanıcı, değişiklikleri kaydetmeden önce para birimi sembolünü açıkça kaldırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-184">However, our editing interface currently includes a currency symbol in the `UnitPrice` TextBox, meaning the user must explicitly remove the currency symbol before saving their changes.</span></span> <span data-ttu-id="9cc9e-185">Bu sorunu gidermek için üç seçenek vardır:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-185">To remedy this we have three options:</span></span>

1. <span data-ttu-id="9cc9e-186">`EditItemTemplate`, `UnitPrice` metin kutusu değerinin para birimi olarak biçimlendirilmemesi için yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-186">Configure the `EditItemTemplate` so that the `UnitPrice` TextBox value is not formatted as a currency.</span></span>
2. <span data-ttu-id="9cc9e-187">CompareValidator öğesini kaldırarak ve düzgün şekilde biçimlendirilen bir para birimi değerini denetleyen bir RegularExpressionValidator ile değiştirerek kullanıcının bir para birimi simgesi girmesine izin verin.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-187">Allow the user to enter a currency symbol by removing the CompareValidator and replacing it with a RegularExpressionValidator that checks for a properly formatted currency value.</span></span> <span data-ttu-id="9cc9e-188">Buradaki zorluk, bir para birimi değerini doğrulamak için normal ifadenin CompareValidator kadar basit olmadığını ve kültür ayarlarını eklemek isteseyk kod yazmayı gerektirmektir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-188">The challenge here is that the regular expression to validate a currency value is not as straightforward as the CompareValidator and would require writing code if we wanted to incorporate culture settings.</span></span>
3. <span data-ttu-id="9cc9e-189">Doğrulama denetimini tamamen kaldırın ve GridView s `RowUpdating` olay işleyicisinde özel sunucu tarafı doğrulama mantığına güvenin.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-189">Remove the validation control altogether and rely on custom server-side validation logic in the GridView s `RowUpdating` event handler.</span></span>

<span data-ttu-id="9cc9e-190">Bu öğretici için 1. seçenek ile başlayalım.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-190">Let s go with option 1 for this tutorial.</span></span> <span data-ttu-id="9cc9e-191">Şu anda `UnitPrice`, `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`metin kutusu için veri bağlama ifadesi nedeniyle bir para birimi değeri olarak biçimlendirilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-191">Currently the `UnitPrice` is formatted as a currency value due to the databinding expression for the TextBox in the `EditItemTemplate`: `<%# Eval("UnitPrice", "{0:c}") %>`.</span></span> <span data-ttu-id="9cc9e-192">`Eval` ifadesini `Eval("UnitPrice", "{0:n2}")`olarak değiştirin, bu sonucu iki basamaklı bir sayı olarak biçimlendirir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-192">Change the `Eval` statement to `Eval("UnitPrice", "{0:n2}")`, which formats the result as a number with two digits of precision.</span></span> <span data-ttu-id="9cc9e-193">Bu, doğrudan bildirim temelli söz dizimi aracılığıyla veya DataList s `EditItemTemplate``UnitPrice` metin kutusundan DataBindings düzenle bağlantısına tıklayarak yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-193">This can be done directly through the declarative syntax or by clicking on the Edit DataBindings link from the `UnitPrice` TextBox in the DataList s `EditItemTemplate`.</span></span>

<span data-ttu-id="9cc9e-194">Bu değişiklik ile, düzenleme arabirimindeki biçimlendirilen Fiyat, Grup ayırıcısı olarak virgül ve ondalık ayırıcı olarak bir nokta, ancak para birimi sembolünü devre dışı bırakır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-194">With this change, the formatted price in the editing interface includes commas as the group separator and a period as the decimal separator, but leaves off the currency symbol.</span></span>

> [!NOTE]
> <span data-ttu-id="9cc9e-195">Para birimi biçimi düzenlenebilir arabirimden kaldırılırken, para birimi sembolünü metin kutusu dışına metin olarak yerleştirmek yararlı buldum.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-195">When removing the currency format from the editable interface, I find it helpful to put the currency symbol as text outside the TextBox.</span></span> <span data-ttu-id="9cc9e-196">Bu, kullanıcıya para birimi sembolünü sağlamamaları gerekmeyen bir ipucu görevi görür.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-196">This serves as a hint to the user that they do not need to provide the currency symbol.</span></span>

## <a name="fixing-the-cancel-button"></a><span data-ttu-id="9cc9e-197">Iptal düğmesini Düzeltme</span><span class="sxs-lookup"><span data-stu-id="9cc9e-197">Fixing the Cancel Button</span></span>

<span data-ttu-id="9cc9e-198">Varsayılan olarak, doğrulama Web denetimleri, istemci tarafında doğrulama gerçekleştirmek için JavaScript yayar.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-198">By default, the validation Web controls emit JavaScript to perform validation on the client-side.</span></span> <span data-ttu-id="9cc9e-199">Bir düğme, LinkButton veya ImageButton tıklandığında, geri gönderme gerçekleşmeden önce sayfadaki doğrulama denetimleri istemci tarafında denetlenir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-199">When a Button, LinkButton, or ImageButton is clicked, the validation controls on the page are checked on the client-side before the postback occurs.</span></span> <span data-ttu-id="9cc9e-200">Geçersiz veriler varsa, geri gönderme iptal edilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-200">If there is any invalid data, the postback is cancelled.</span></span> <span data-ttu-id="9cc9e-201">Ancak bazı düğmeler için, verilerin geçerliliği imse olabilir; Böyle bir durumda, geri gönderimin geçersiz veriler nedeniyle iptal edilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-201">For certain Buttons, though, the validity of the data might be immaterial; in such a case, having the postback cancelled due to invalid data is a nuisance.</span></span>

<span data-ttu-id="9cc9e-202">Iptal düğmesi böyle bir örnektir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-202">The Cancel button is such an example.</span></span> <span data-ttu-id="9cc9e-203">Kullanıcının ürün adını atlayarak geçersiz veriler girdiğini düşünün ve sonra ürünü kaydetmek ve Iptal düğmesine isabet etmek istemiyorum.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-203">Imagine that a user enters invalid data, such as omitting the product s name, and then decides she doesn t want to save the product after all and hits the Cancel button.</span></span> <span data-ttu-id="9cc9e-204">Şu anda, Iptal düğmesi sayfadaki doğrulama denetimlerini tetikler, bu da ürün adının eksik olduğunu ve geri göndermeyi önler.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-204">Currently, the Cancel button triggers the validation controls on the page, which report that the product name is missing and prevent the postback.</span></span> <span data-ttu-id="9cc9e-205">Kullanıcı, `ProductName` metin kutusuna bazı metinleri yazarak yalnızca, düzen işlemini iptal eder.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-205">Our user has to type some text into the `ProductName` TextBox just to cancel out of the editing process.</span></span>

<span data-ttu-id="9cc9e-206">Neyse ki Button, LinkButton ve ImageButton, düğmenin tıklanmasının (varsayılan olarak `True`) gerekip gerekmediğini gösterebilen bir [`CausesValidation` özelliğine](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-206">Fortunately, the Button, LinkButton, and ImageButton have a [`CausesValidation` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.button.causesvalidation.aspx) that can indicate whether or not clicking the Button should initiate the validation logic (defaults to `True`).</span></span> <span data-ttu-id="9cc9e-207">Iptal düğmesine `CausesValidation` özelliğini `False`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-207">Set the Cancel Button s `CausesValidation` property to `False`.</span></span>

## <a name="ensuring-the-inputs-are-valid-in-the-updatecommand-event-handler"></a><span data-ttu-id="9cc9e-208">Girdilerin UpdateCommand olay Işleyicide geçerli olduğundan emin olma</span><span class="sxs-lookup"><span data-stu-id="9cc9e-208">Ensuring the Inputs are Valid in the UpdateCommand Event Handler</span></span>

<span data-ttu-id="9cc9e-209">Doğrulama denetimleri tarafından oluşturulan istemci tarafı komut dosyası nedeniyle, bir Kullanıcı geçersiz giriş girerse, doğrulama denetimleri, `CausesValidation` özellikleri `True` (varsayılan) olan ImageButton veya ImageButton denetimleriyle başlatılan geri göndermeler iptal eder.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-209">Due to the client-side script emitted by the validation controls, if a user enters invalid input the validation controls cancel any postbacks initiated by Button, LinkButton, or ImageButton controls whose `CausesValidation` properties are `True` (the default).</span></span> <span data-ttu-id="9cc9e-210">Ancak, bir Kullanıcı, kötü bir tarayıcıyla veya JavaScript desteğinin devre dışı bırakıldığı bir tarayıcı ile ziyaret ediyorsanız, istemci tarafı doğrulama denetimleri yürütülmez.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-210">However, if a user is visiting with an antiquated browser or one whose JavaScript support has been disabled, the client-side validation checks will not execute.</span></span>

<span data-ttu-id="9cc9e-211">Tüm ASP.NET doğrulama denetimleri, geri gönderme sonrasında doğrulama mantığını hemen yineler ve [`Page.IsValid` özelliği](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx)aracılığıyla sayfa s girişlerinin genel geçerliliğini raporlar.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-211">All of the ASP.NET validation controls repeat their validation logic immediately upon postback and report the overall validity of the page s inputs via the [`Page.IsValid` property](https://msdn.microsoft.com/library/system.web.ui.page.isvalid.aspx).</span></span> <span data-ttu-id="9cc9e-212">Ancak, sayfa akışı `Page.IsValid`değerine göre hiçbir şekilde kesintiye uğramaz veya durdurulmaz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-212">However, the page flow is not interrupted or stopped in any way based on the value of `Page.IsValid`.</span></span> <span data-ttu-id="9cc9e-213">Geliştirici olarak, `Page.IsValid` özelliğinin geçerli giriş verilerini varsayan kodla devam etmeden önce `True` bir değere sahip olduğundan emin olmak bizim sorumluluğunuzdadır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-213">As developers, it is our responsibility to ensure that the `Page.IsValid` property has a value of `True` before proceeding with code that assumes valid input data.</span></span>

<span data-ttu-id="9cc9e-214">Bir kullanıcının JavaScript devre dışı olması durumunda sayfamızı ziyaret eder, bir ürünü düzenler, çok pahalı bir fiyat değeri girer ve Güncelleştir düğmesine tıkladığında, istemci tarafı doğrulaması atlanır ve geri gönderme işlemi yapılır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-214">If a user has JavaScript disabled, visits our page, edits a product, enters a price value of Too expensive, and clicks the Update button, the client-side validation will be bypassed and a postback will ensue.</span></span> <span data-ttu-id="9cc9e-215">Geri göndermede, ASP.NET Page s `UpdateCommand` olay işleyicisi yürütülür ve bir özel durum, bir `Decimal`çok pahalı bir şekilde ayrıştırılmaya çalışıldığında oluşur.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-215">On postback, the ASP.NET page s `UpdateCommand` event handler executes and an exception is raised when attempting to parse Too expensive to a `Decimal`.</span></span> <span data-ttu-id="9cc9e-216">Özel durum işleme yaptığımız için, böyle bir özel durum düzgün şekilde işlenecektir, ancak yalnızca `Page.IsValid` `True`bir değere sahipse, yalnızca `UpdateCommand` olay işleyicisine devam ederek, geçersiz verilerin ilk yerinde gezinmelerini engelleyebiliriz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-216">Since we have exception handling, such an exception will be handled gracefully, but we could prevent the invalid data from slipping through in the first place by only proceeding with the `UpdateCommand` event handler if `Page.IsValid` has a value of `True`.</span></span>

<span data-ttu-id="9cc9e-217">Aşağıdaki kodu, `Try` bloğundan hemen önce `UpdateCommand` olay işleyicisinin başlangıcına ekleyin:</span><span class="sxs-lookup"><span data-stu-id="9cc9e-217">Add the following code to the start of the `UpdateCommand` event handler, immediately before the `Try` block:</span></span>

[!code-csharp[Main](adding-validation-controls-to-the-datalist-s-editing-interface-cs/samples/sample2.cs)]

<span data-ttu-id="9cc9e-218">Bu ek olarak, ürün yalnızca gönderilen veriler geçerliyse güncelleştirilmesini deneyecektir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-218">With this addition, the product will attempt to be updated only if the submitted data is valid.</span></span> <span data-ttu-id="9cc9e-219">Çoğu Kullanıcı, doğrulama denetimleri istemci tarafı betikleri nedeniyle geçersiz verileri geri gönderemeyecek, ancak tarayıcıları JavaScript 'ı desteklemeyen veya JavaScript desteği devre dışı olan kullanıcılar, istemci tarafı denetimlerini atlayabilir ve geçersiz veriler gönderebilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-219">Most users won't be able to postback invalid data due to the validation controls client-side scripts, but users whose browsers don t support JavaScript or that have JavaScript support disabled, can bypass the client-side checks and submit invalid data.</span></span>

> [!NOTE]
> <span data-ttu-id="9cc9e-220">Kurnaz okuyucusu GridView ile verileri güncelleştirirken, sayfa s arka plan kod sınıfımızda `Page.IsValid` özelliğini açıkça denetmamız gerekmedik.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-220">The astute reader will recall that when updating data with the GridView, we didn't need to explicitly check the `Page.IsValid` property in our page s code-behind class.</span></span> <span data-ttu-id="9cc9e-221">Bunun nedeni, GridView 'un `Page.IsValid` özelliğini bizimle danışmansı ve yalnızca bir `True`değeri döndürürse yalnızca güncelleştirme ile devam eder.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-221">This is because the GridView consults the `Page.IsValid` property for us and only proceeds with the update only if it returns a value of `True`.</span></span>

## <a name="step-3-summarizing-data-entry-problems"></a><span data-ttu-id="9cc9e-222">3\. Adım: veri girişi sorunlarını özetleme</span><span class="sxs-lookup"><span data-stu-id="9cc9e-222">Step 3: Summarizing Data Entry Problems</span></span>

<span data-ttu-id="9cc9e-223">ASP.NET, beş doğrulama denetimine ek olarak, geçersiz veri algılayan bu doğrulama denetimlerinin `ErrorMessage` s öğesini görüntüleyen bir [ValidationSummary denetimini](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx)içerir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-223">In addition to the five validation controls, ASP.NET includes the [ValidationSummary control](https://msdn.microsoft.com/library/f9h59855(VS.80).aspx), which displays the `ErrorMessage` s of those validation controls that detected invalid data.</span></span> <span data-ttu-id="9cc9e-224">Bu özet verileri Web sayfasında metin olarak veya kalıcı, istemci tarafı MessageBox aracılığıyla görüntülenebilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-224">This summary data can be displayed as text on the web page or through a modal, client-side messagebox.</span></span> <span data-ttu-id="9cc9e-225">Her türlü doğrulama sorununu özetleyen bir istemci tarafı MessageBox eklemek için bu öğreticiyi geliştirelim.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-225">Let s enhance this tutorial to include a client-side messagebox summarizing any validation problems.</span></span>

<span data-ttu-id="9cc9e-226">Bunu gerçekleştirmek için araç kutusu 'ndan tasarımcı üzerine bir ValidationSummary denetimi sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-226">To accomplish this, drag a ValidationSummary control from the Toolbox onto the Designer.</span></span> <span data-ttu-id="9cc9e-227">Yalnızca Özeti bir MessageBox olarak görüntüleyecek şekilde yapılandırdığımız için ValidationSummary denetiminin konumu oldukça önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-227">The location of the ValidationSummary control doesn t really matter, since we re going to configure it to only display the summary as a messagebox.</span></span> <span data-ttu-id="9cc9e-228">Denetim eklendikten sonra, [`ShowSummary` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) `False` ve [`ShowMessageBox` özelliğini](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) `True`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-228">After adding the control, set its [`ShowSummary` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showsummary(VS.80).aspx) to `False` and its [`ShowMessageBox` property](https://msdn.microsoft.com/library/system.web.ui.webcontrols.validationsummary.showmessagebox(VS.80).aspx) to `True`.</span></span> <span data-ttu-id="9cc9e-229">Bu ek olarak, herhangi bir doğrulama hatası istemci tarafı MessageBox içinde özetlenir (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="9cc9e-229">With this addition, any validation errors are summarized in a client-side messagebox (see Figure 6).</span></span>

<span data-ttu-id="9cc9e-230">[![doğrulama hataları, Istemci tarafı MessageBox içinde özetlenir](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-230">[![The Validation Errors are Summarized in a Client-Side Messagebox](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image17.png)](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image16.png)</span></span>

<span data-ttu-id="9cc9e-231">**Şekil 6**: doğrulama hataları, Istemci tarafı MessageBox 'da özetlenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9cc9e-231">**Figure 6**: The Validation Errors are Summarized in a Client-Side Messagebox ([Click to view full-size image](adding-validation-controls-to-the-datalist-s-editing-interface-cs/_static/image18.png))</span></span>

## <a name="summary"></a><span data-ttu-id="9cc9e-232">Özet</span><span class="sxs-lookup"><span data-stu-id="9cc9e-232">Summary</span></span>

<span data-ttu-id="9cc9e-233">Bu öğreticide, Kullanıcı girdilerimizin güncelleştirme iş akışında kullanmayı denemeden önce geçerli olduğundan emin olmak için doğrulama denetimlerini kullanarak özel durumlar olasılığını nasıl azaltabiliriz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-233">In this tutorial we saw how to reduce the likelihood of exceptions by using validation controls to proactively ensure that our users inputs are valid before attempting to use them in the updating workflow.</span></span> <span data-ttu-id="9cc9e-234">ASP.NET, belirli bir Web denetimi girişini incelemek ve giriş s geçerliliğini raporlamak için tasarlanan beş doğrulama Web denetimi sağlar.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-234">ASP.NET provides five validation Web controls that are designed to inspect a particular Web control s input and report back on the input s validity.</span></span> <span data-ttu-id="9cc9e-235">Bu öğreticide, ürün adının sağlandığından ve fiyatın sıfıra eşit veya sıfırdan büyük bir para birimi biçimine sahip olduğundan emin olmak için, bu beş bu beş denetimin iki denetimini kullandık.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-235">In this tutorial we used two of those five controls the RequiredFieldValidator and the CompareValidator to ensure that the product s name was supplied and that the price had a currency format with a value greater than or equal to zero.</span></span>

<span data-ttu-id="9cc9e-236">DataList s Editing arabirimine doğrulama denetimleri eklemek, araç kutusundan `EditItemTemplate` sürüklemek ve çok sayıda özelliği ayarlamak kadar basittir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-236">Adding validation controls to the DataList s editing interface is as simple as dragging them onto the `EditItemTemplate` from the Toolbox and setting a handful of properties.</span></span> <span data-ttu-id="9cc9e-237">Varsayılan olarak, doğrulama denetimleri istemci tarafı doğrulama betiğini otomatik olarak yayar; Ayrıca, toplu sonucu `Page.IsValid` özelliğinde depolayarak, geri gönderme sırasında sunucu tarafı doğrulaması da sağlar.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-237">By default, the validation controls automatically emit client-side validation script; they also provide server-side validation on postback, storing the cumulative result in the `Page.IsValid` property.</span></span> <span data-ttu-id="9cc9e-238">Bir Button, LinkButton veya ImageButton tıklandığında istemci tarafı doğrulamayı atlamak için düğme s `CausesValidation` özelliğini `False`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-238">To bypass the client-side validation when a Button, LinkButton, or ImageButton is clicked, set the button s `CausesValidation` property to `False`.</span></span> <span data-ttu-id="9cc9e-239">Ayrıca, geri göndermede gönderilen verilerle herhangi bir görev yapmadan önce, `Page.IsValid` özelliğinin `True`döndürdüğünden emin olun.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-239">Also, before performing any tasks with the data submitted on postback, ensure that the `Page.IsValid` property returns `True`.</span></span>

<span data-ttu-id="9cc9e-240">Şimdiye kadar incelediğimiz tüm DataList Editing öğreticileri, ürün adı ve diğeri için bir metin kutusu olan çok basit bir Düzenle arabirimine sahipti.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-240">All of the DataList editing tutorials we ve examined so far have had very simple editing interfaces a TextBox for the product s name and another for the price.</span></span> <span data-ttu-id="9cc9e-241">Ancak, düzen arabirimi, DropDownLists, takvimler, RadioButtons, CheckBox 'lar vb. gibi farklı Web denetimlerinin bir karışımını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-241">The editing interface, however, can contain a mix of different Web controls, such as DropDownLists, Calendars, RadioButtons, CheckBoxes, and so on.</span></span> <span data-ttu-id="9cc9e-242">Bir sonraki öğreticimizde, çeşitli Web denetimleri kullanan bir arabirim oluşturmaya bakacağız.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-242">In our next tutorial we'll look at building an interface that uses a variety of Web controls.</span></span>

<span data-ttu-id="9cc9e-243">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="9cc9e-243">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="9cc9e-244">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="9cc9e-244">About the Author</span></span>

<span data-ttu-id="9cc9e-245">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-245">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9cc9e-246">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-246">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9cc9e-247">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-247">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="9cc9e-248">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-248">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="9cc9e-249">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-249">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

## <a name="special-thanks-to"></a><span data-ttu-id="9cc9e-250">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="9cc9e-250">Special Thanks To</span></span>

<span data-ttu-id="9cc9e-251">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-251">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9cc9e-252">Bu öğreticiye yönelik müşteri adayı gözden geçirenler dennıs Patterson, Ken ön PISA ve Liz Shulok.</span><span class="sxs-lookup"><span data-stu-id="9cc9e-252">Lead reviewers for this tutorial were Dennis Patterson, Ken Pespisa, and Liz Shulok.</span></span> <span data-ttu-id="9cc9e-253">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="9cc9e-253">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9cc9e-254">Öyleyse, benimitchell@4GuysFromRolla.combir satır bırakın [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-254">If so, drop me a line at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="9cc9e-255">[Önceki](handling-bll-and-dal-level-exceptions-cs.md)
> [İleri](customizing-the-datalist-s-editing-interface-cs.md)</span><span class="sxs-lookup"><span data-stu-id="9cc9e-255">[Previous](handling-bll-and-dal-level-exceptions-cs.md)
[Next](customizing-the-datalist-s-editing-interface-cs.md)</span></span>
