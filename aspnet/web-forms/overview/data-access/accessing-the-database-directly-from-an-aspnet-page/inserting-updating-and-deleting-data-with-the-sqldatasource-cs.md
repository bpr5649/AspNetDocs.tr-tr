---
uid: web-forms/overview/data-access/accessing-the-database-directly-from-an-aspnet-page/inserting-updating-and-deleting-data-with-the-sqldatasource-cs
title: SqlDataSource ile veri ekleme, güncelleştirme ve silme (C#) | Microsoft Docs
author: rick-anderson
description: Önceki öğreticilerde, ObjectDataSource denetiminin verileri ekleme, güncelleştirme ve silme için nasıl izin verileceğini öğrendik. SqlDataSource denetimi t 'yi destekliyor...
ms.author: riande
ms.date: 02/20/2007
ms.assetid: a526f0ec-779e-4a2b-a476-6604090d25ce
msc.legacyurl: /web-forms/overview/data-access/accessing-the-database-directly-from-an-aspnet-page/inserting-updating-and-deleting-data-with-the-sqldatasource-cs
msc.type: authoredcontent
ms.openlocfilehash: 495e0e81a67e6926e1c4fa92e29ebbda747cd418
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74610491"
---
# <a name="inserting-updating-and-deleting-data-with-the-sqldatasource-c"></a><span data-ttu-id="ce999-104">SqlDataSource ile Veri Ekleme, Güncelleştirme ve Silme (C#)</span><span class="sxs-lookup"><span data-stu-id="ce999-104">Inserting, Updating, and Deleting Data with the SqlDataSource (C#)</span></span>

<span data-ttu-id="ce999-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="ce999-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="ce999-106">[Örnek uygulamayı indirin](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_49_CS.exe) veya [PDF 'yi indirin](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/datatutorial49cs1.pdf)</span><span class="sxs-lookup"><span data-stu-id="ce999-106">[Download Sample App](https://download.microsoft.com/download/4/a/7/4a7a3b18-d80e-4014-8e53-a6a2427f0d93/ASPNET_Data_Tutorial_49_CS.exe) or [Download PDF](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/datatutorial49cs1.pdf)</span></span>

> <span data-ttu-id="ce999-107">Önceki öğreticilerde, ObjectDataSource denetiminin verileri ekleme, güncelleştirme ve silme için nasıl izin verileceğini öğrendik.</span><span class="sxs-lookup"><span data-stu-id="ce999-107">In previous tutorials we learned how the ObjectDataSource control allowed for inserting, updating, and deleting of data.</span></span> <span data-ttu-id="ce999-108">SqlDataSource denetimi aynı işlemleri destekler, ancak yaklaşım farklıdır ve bu öğretici, SqlDataSource 'un verileri eklemek, güncelleştirmek ve silmek için nasıl yapılandırılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="ce999-108">The SqlDataSource control supports the same operations, but the approach is different, and this tutorial shows how to configure the SqlDataSource to insert, update, and delete data.</span></span>

## <a name="introduction"></a><span data-ttu-id="ce999-109">Giriş</span><span class="sxs-lookup"><span data-stu-id="ce999-109">Introduction</span></span>

<span data-ttu-id="ce999-110">[Ekleme, güncelleştirme ve silme konusunda genel bir bakış](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md)Için, GridView denetimi yerleşik güncelleştirme ve silme özellikleri sağlarken, DetailsView ve FormView denetimleri, işlevselliği düzenlemenin ve silmenin yanı sıra destek ekleme olanağı içerir.</span><span class="sxs-lookup"><span data-stu-id="ce999-110">As discussed in [An Overview of Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md), the GridView control provides built-in updating and deleting capabilities, while the DetailsView and FormView controls include inserting support along with editing and deleting functionality.</span></span> <span data-ttu-id="ce999-111">Bu veri değiştirme özellikleri, bir kod satırı yazılması gerekmeden doğrudan bir veri kaynağı denetimine takılabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-111">These data modification capabilities can be plugged directly into a data source control without a line of code needing to be written.</span></span> <span data-ttu-id="ce999-112">GridView, DetailsView ve FormView denetimleriyle ekleme, güncelleştirme ve silme işlemlerini kolaylaştırmak için ObjectDataSource kullanılarak incelenen [, güncelleştirmeye ve silmeye genel bakış](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) .</span><span class="sxs-lookup"><span data-stu-id="ce999-112">[An Overview of Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md) examined using the ObjectDataSource to facilitate inserting, updating, and deleting with the GridView, DetailsView, and FormView controls.</span></span> <span data-ttu-id="ce999-113">Alternatif olarak, SqlDataSource, ObjectDataSource yerine kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-113">Alternatively, the SqlDataSource can be used in place of the ObjectDataSource.</span></span>

<span data-ttu-id="ce999-114">INSERT, Update veya delete eylemini gerçekleştirmek için çağrılacak nesne katmanı yöntemlerini belirtmemiz gereken ObjectDataSource ile ekleme, güncelleştirme ve silme işlemini desteklemeyi sağlayan bu işlemi geri çekin.</span><span class="sxs-lookup"><span data-stu-id="ce999-114">Recall that to support inserting, updating, and deleting, with the ObjectDataSource we needed to specify the object layer methods to invoke to perform the insert, update, or delete action.</span></span> <span data-ttu-id="ce999-115">SqlDataSource ile yürütmek için `INSERT`, `UPDATE`ve `DELETE` SQL deyimleri (veya saklı yordamlar) sağlamamız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-115">With the SqlDataSource, we need to provide `INSERT`, `UPDATE`, and `DELETE` SQL statements (or stored procedures) to execute.</span></span> <span data-ttu-id="ce999-116">Bu öğreticide göreceğiniz gibi, bu deyimler el ile oluşturulabilir veya SqlDataSource s veri kaynağı Yapılandırma Sihirbazı tarafından otomatik olarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-116">As we'll see in this tutorial, these statements can be created manually or can be automatically generated by the SqlDataSource s Configure Data Source wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-117">GridView, DetailsView ve FormView denetimlerinin ekleme, düzenlemesi ve silme yeteneklerini zaten tartıştığımız için, bu öğretici bu işlemleri desteklemek için SqlDataSource denetimini yapılandırmaya odaklanacaktır.</span><span class="sxs-lookup"><span data-stu-id="ce999-117">Since we ve already discussed the inserting, editing, and deleting capabilities of the GridView, DetailsView, and FormView controls, this tutorial will focus on configuring the SqlDataSource control to support these operations.</span></span> <span data-ttu-id="ce999-118">Bu özellikleri GridView, DetailsView ve FormView içinde uygulamaya yönelik olarak, [ekleme, güncelleştirme ve silme konusunda genel bir bakış](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md)Ile başlayan veri öğreticilerini düzenlemenin, eklemenin ve silmenin üzerine dönebilmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-118">If you need to brush up on implementing these features within the GridView, DetailsView, and FormView, return to the Editing, Inserting, and Deleting Data tutorials, starting with [An Overview of Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md).</span></span>

## <a name="step-1-specifyinginsertupdate-anddeletestatements"></a><span data-ttu-id="ce999-119">1\. Adım:`INSERT`,`UPDATE`ve`DELETE`deyimlerini belirtme</span><span class="sxs-lookup"><span data-stu-id="ce999-119">Step 1: Specifying`INSERT`,`UPDATE`, and`DELETE`Statements</span></span>

<span data-ttu-id="ce999-120">Son iki öğreticilerde gördüğünüz gibi, bir SqlDataSource denetiminden veri almak için iki özellik ayarlamanız gerekir:</span><span class="sxs-lookup"><span data-stu-id="ce999-120">As we ve seen in the past two tutorials, to retrieve data from a SqlDataSource control we need to set two properties:</span></span>

1. <span data-ttu-id="ce999-121">`ConnectionString`, sorgunun hangi veritabanına gönderileceğini belirtir ve</span><span class="sxs-lookup"><span data-stu-id="ce999-121">`ConnectionString`, which specifies what database to send the query to, and</span></span>
2. <span data-ttu-id="ce999-122">`SelectCommand`, sonuçları döndürmek için yürütülecek olan geçici SQL ifadesini veya saklı yordam adını belirten.</span><span class="sxs-lookup"><span data-stu-id="ce999-122">`SelectCommand`, which specifies the ad-hoc SQL statement or stored procedure name to execute to return the results.</span></span>

<span data-ttu-id="ce999-123">Parametreleri olan `SelectCommand` değerler için, parametre değerleri SqlDataSource s `SelectParameters` koleksiyonu aracılığıyla belirtilir ve sabit kodlanmış değerler, ortak parametre kaynak değerleri (QueryString alanları, oturum değişkenleri, Web denetim değerleri vb.) içerebilir veya program aracılığıyla atanabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-123">For `SelectCommand` values with parameters, the parameter values are specified via the SqlDataSource s `SelectParameters` collection and can include hard-coded values, common parameter source values (querystring fields, session variables, Web control values, and so on), or can be programmatically assigned.</span></span> <span data-ttu-id="ce999-124">SqlDataSource Control s `Select()` yöntemi programlı olarak veya bir veri Web denetiminden otomatik olarak çağrıldığında, veritabanına bir bağlantı oluşturulur, parametre değerleri sorguya atanır ve komut veritabanına shuttled kapalıdır.</span><span class="sxs-lookup"><span data-stu-id="ce999-124">When the SqlDataSource control s `Select()` method is invoked either programmatically or automatically from a data Web control a connection to the database is established, the parameter values are assigned to the query, and the command is shuttled off to the database.</span></span> <span data-ttu-id="ce999-125">Sonuçlar, denetim s `DataSourceMode` özelliğinin değerine bağlı olarak veri kümesi veya DataReader olarak döndürülür.</span><span class="sxs-lookup"><span data-stu-id="ce999-125">The results are then returned as either a DataSet or DataReader, depending on the value of the control s `DataSourceMode` property.</span></span>

<span data-ttu-id="ce999-126">Veri seçme ile birlikte, SqlDataSource denetimi `INSERT`, `UPDATE`ve `DELETE` SQL deyimlerini çok aynı şekilde sağlayarak veri eklemek, güncelleştirmek ve silmek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-126">Along with selecting data, the SqlDataSource control can be used to insert, update, and delete data by supplying `INSERT`, `UPDATE`, and `DELETE` SQL statements in much the same way.</span></span> <span data-ttu-id="ce999-127">Yürütülecek `INSERT`, `UPDATE`ve `DELETE` SQL deyimlerinin `InsertCommand`, `UpdateCommand`ve `DeleteCommand` özelliklerini atamanız yeterlidir.</span><span class="sxs-lookup"><span data-stu-id="ce999-127">Simply assign the `InsertCommand`, `UpdateCommand`, and `DeleteCommand` properties the `INSERT`, `UPDATE`, and `DELETE` SQL statements to execute.</span></span> <span data-ttu-id="ce999-128">Deyimlerde parametreler varsa (Bunlar her zaman için), bunları `InsertParameters`, `UpdateParameters`ve `DeleteParameters` koleksiyonlara dahil edin.</span><span class="sxs-lookup"><span data-stu-id="ce999-128">If the statements have parameters (as they most always will), include them in the `InsertParameters`, `UpdateParameters`, and `DeleteParameters` collections.</span></span>

<span data-ttu-id="ce999-129">Bir `InsertCommand`, `UpdateCommand`veya `DeleteCommand` değeri belirtilmişse, ilgili veri Web denetimi s akıllı etiketinde ekleme, yeniden Düzenle veya silmeyi etkinleştir seçeneğinin kullanılabilmesi için kullanılabilir hale gelir.</span><span class="sxs-lookup"><span data-stu-id="ce999-129">Once an `InsertCommand`, `UpdateCommand`, or `DeleteCommand` value has been specified, the Enable Inserting, Enable Editing, or Enable Deleting option in the corresponding data Web control s smart tag will become available.</span></span> <span data-ttu-id="ce999-130">Bunu göstermek için, [SqlDataSource denetim öğreticisi Ile sorgulama verilerinde](querying-data-with-the-sqldatasource-control-cs.md) oluşturduğumuz `Querying.aspx` sayfasından bir örnek alalım ve bunu silme yeteneklerini içerecek şekilde geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="ce999-130">To illustrate this, let s take an example from the `Querying.aspx` page we created in the [Querying Data with the SqlDataSource Control](querying-data-with-the-sqldatasource-control-cs.md) tutorial and augment it to include delete capabilities.</span></span>

<span data-ttu-id="ce999-131">`InsertUpdateDelete.aspx` ve `Querying.aspx` sayfalarını `SqlDataSource` klasöründen açarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="ce999-131">Start by opening the `InsertUpdateDelete.aspx` and `Querying.aspx` pages from the `SqlDataSource` folder.</span></span> <span data-ttu-id="ce999-132">Tasarımcı `Querying.aspx` sayfasında, ilk örnekteki SqlDataSource ve GridView ' i (`ProductsDataSource` ve `GridView1` denetimleri) seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-132">From the Designer on the `Querying.aspx` page, select the SqlDataSource and GridView from the first example (the `ProductsDataSource` and `GridView1` controls).</span></span> <span data-ttu-id="ce999-133">İki denetimi seçtikten sonra, Düzen menüsüne gidin ve Kopyala ' yı seçin (veya yalnızca CTRL + C ' ye basın).</span><span class="sxs-lookup"><span data-stu-id="ce999-133">After selecting the two controls, go to the Edit menu and choose Copy (or just hit Ctrl+C).</span></span> <span data-ttu-id="ce999-134">Sonra, `InsertUpdateDelete.aspx` tasarımcısına gidin ve denetimlere yapıştırın.</span><span class="sxs-lookup"><span data-stu-id="ce999-134">Next, go to the Designer of `InsertUpdateDelete.aspx` and paste in the controls.</span></span> <span data-ttu-id="ce999-135">İki denetimi `InsertUpdateDelete.aspx`üzerine taşıdıktan sonra, sayfayı bir tarayıcıda test edin.</span><span class="sxs-lookup"><span data-stu-id="ce999-135">After you have moved the two controls over to `InsertUpdateDelete.aspx`, test out the page in a browser.</span></span> <span data-ttu-id="ce999-136">`Products` veritabanı tablosundaki tüm kayıtlar için `ProductID`, `ProductName`ve `UnitPrice` sütunlarının değerlerini görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-136">You should see the values of the `ProductID`, `ProductName`, and `UnitPrice` columns for all of the records in the `Products` database table.</span></span>

<span data-ttu-id="ce999-137">[Tüm ürünlerin ![, ProductID tarafından sıralanan şekilde listelenmiştir](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image1.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-137">[![All of the Products are Listed, Ordered by ProductID](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image1.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image1.png)</span></span>

<span data-ttu-id="ce999-138">**Şekil 1**: tüm ürünler `ProductID` göre sıralanmıştır ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image2.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-138">**Figure 1**: All of the Products are Listed, Ordered by `ProductID` ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image2.png))</span></span>

## <a name="adding-the-sqldatasource-sdeletecommandanddeleteparametersproperties"></a><span data-ttu-id="ce999-139">SqlDataSource s`DeleteCommand`ve`DeleteParameters`özellikleri ekleniyor</span><span class="sxs-lookup"><span data-stu-id="ce999-139">Adding the SqlDataSource s`DeleteCommand`and`DeleteParameters`Properties</span></span>

<span data-ttu-id="ce999-140">Bu noktada, tek yapmanız gereken `Products` tablosundan tüm kayıtları döndüren bir SqlDataSource ve bu verileri işleyen bir GridView sunuyoruz.</span><span class="sxs-lookup"><span data-stu-id="ce999-140">At this point we have a SqlDataSource that simply returns all of the records from the `Products` table and a GridView that renders this data.</span></span> <span data-ttu-id="ce999-141">Amacınız, kullanıcının GridView aracılığıyla ürünleri silmesine izin vermek için bu örneği genişletmektir.</span><span class="sxs-lookup"><span data-stu-id="ce999-141">Our goal is to extend this example to allow for the user to delete products via the GridView.</span></span> <span data-ttu-id="ce999-142">Bunu gerçekleştirmek için, SqlDataSource Control s `DeleteCommand` ve `DeleteParameters` özelliklerinin değerlerini belirtmemiz ve sonra GridView 'ı silmeyi destekleyecek şekilde yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-142">To accomplish this we need to specify values for the SqlDataSource control s `DeleteCommand` and `DeleteParameters` properties and then configure the GridView to support deleting.</span></span>

<span data-ttu-id="ce999-143">`DeleteCommand` ve `DeleteParameters` özellikleri çeşitli yollarla belirtilebilir:</span><span class="sxs-lookup"><span data-stu-id="ce999-143">The `DeleteCommand` and `DeleteParameters` properties can be specified in a number of ways:</span></span>

- <span data-ttu-id="ce999-144">Bildirim temelli söz dizimi</span><span class="sxs-lookup"><span data-stu-id="ce999-144">Through the declarative syntax</span></span>
- <span data-ttu-id="ce999-145">Tasarımcıda Özellikler penceresi</span><span class="sxs-lookup"><span data-stu-id="ce999-145">From the Properties window in the Designer</span></span>
- <span data-ttu-id="ce999-146">Veri kaynağını yapılandırma Sihirbazı ' nda özel bir SQL ifadesini veya saklı yordam belirleme ekranını seçin</span><span class="sxs-lookup"><span data-stu-id="ce999-146">From the Specify a custom SQL statement or stored procedure screen in the Configure Data Source wizard</span></span>
- <span data-ttu-id="ce999-147">Veri kaynağını yapılandırma Sihirbazı ' nda bulunan görünüm tablosundan sütunları belirt ' in Gelişmiş düğmesi aracılığıyla, `DeleteCommand` ve `DeleteParameters` özelliklerde kullanılan `DELETE` SQL deyiminden ve parametre koleksiyonuna otomatik olarak otomatik olarak oluşturacak</span><span class="sxs-lookup"><span data-stu-id="ce999-147">Via the Advanced button in the Specify columns from a table of view screen in the Configure Data Source wizard, which will actually automatically generate the `DELETE` SQL statement and parameter collection used in the `DeleteCommand` and `DeleteParameters` properties</span></span>

<span data-ttu-id="ce999-148">Adım 2 ' de `DELETE` deyimin otomatik olarak nasıl oluşturulduğunu inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ce999-148">We'll examine how to automatically have the `DELETE` statement created in Step 2.</span></span> <span data-ttu-id="ce999-149">Şimdilik, veri kaynağı Yapılandırma Sihirbazı ya da bildirime dayalı sözdizimi seçeneği de yalnızca aynı zamanda çalışabilse de tasarımcı 'daki Özellikler penceresi kullanalım.</span><span class="sxs-lookup"><span data-stu-id="ce999-149">For now, let s use the Properties window in the Designer, although the Configure Data Source wizard or declarative syntax option would work just as well.</span></span>

<span data-ttu-id="ce999-150">`InsertUpdateDelete.aspx`tasarımcıda `ProductsDataSource` SqlDataSource ' a tıklayın ve ardından Özellikler penceresi ' ı (Görünüm menüsünden Özellikler penceresi ' i seçin veya yalnızca F4 ' e basın).</span><span class="sxs-lookup"><span data-stu-id="ce999-150">From the Designer in `InsertUpdateDelete.aspx`, click on the `ProductsDataSource` SqlDataSource and then bring up the Properties window (from the View menu, choose Properties window, or simply hit F4).</span></span> <span data-ttu-id="ce999-151">Bir üç nokta kümesini getirecek olan DeleteQuery özelliğini seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-151">Select the DeleteQuery property, which will bring up a set of ellipses.</span></span>

![Özellikler penceresinden DeleteQuery özelliğini seçin](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image2.gif)

<span data-ttu-id="ce999-153">**Şekil 2**: Özellikler penceresinden DeleteQuery özelliğini seçin</span><span class="sxs-lookup"><span data-stu-id="ce999-153">**Figure 2**: Select the DeleteQuery Property from the Properties Window</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-154">SqlDataSource bir DeleteQuery özelliğine sahip değildir.</span><span class="sxs-lookup"><span data-stu-id="ce999-154">The SqlDataSource doesn t have a DeleteQuery property.</span></span> <span data-ttu-id="ce999-155">Bunun yerine, DeleteQuery `DeleteCommand` ve `DeleteParameters` özelliklerinin bir birleşimidir ve yalnızca pencere tasarımcı aracılığıyla görüntülenirken Özellikler penceresi listelenmiştir.</span><span class="sxs-lookup"><span data-stu-id="ce999-155">Rather, DeleteQuery is a combination of the `DeleteCommand` and `DeleteParameters` properties and is only listed in the Properties window when viewing the window through the Designer.</span></span> <span data-ttu-id="ce999-156">Kaynak görünümündeki Özellikler penceresi bakıyorsanız, bunun yerine `DeleteCommand` özelliğini bulacaksınız.</span><span class="sxs-lookup"><span data-stu-id="ce999-156">If you are looking at the Properties window in the Source view, you'll find the `DeleteCommand` property instead.</span></span>

<span data-ttu-id="ce999-157">DeleteQuery özelliğindeki üç nokta işaretine tıklayarak komut ve parametre Düzenleyicisi iletişim kutusunu açın (bkz. Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="ce999-157">Click the ellipses in the DeleteQuery property to bring up the Command and Parameter Editor dialog box (see Figure 3).</span></span> <span data-ttu-id="ce999-158">Bu iletişim kutusunda `DELETE` SQL ifadesini belirtebilir ve parametreleri belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ce999-158">From this dialog box you can specify the `DELETE` SQL statement and specify the parameters.</span></span> <span data-ttu-id="ce999-159">`DELETE` komut metin kutusuna aşağıdaki sorguyu girin (isterseniz el ile veya Sorgu Tasarımcısı kullanarak):</span><span class="sxs-lookup"><span data-stu-id="ce999-159">Enter the following query into the `DELETE` command textbox (either manually or using the Query Builder, if you prefer):</span></span>

[!code-sql[Main](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/samples/sample1.sql)]

<span data-ttu-id="ce999-160">Ardından, aşağıdaki parametre listesine `@ProductID` parametresini eklemek için parametreleri Yenile düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ce999-160">Next, click the Refresh Parameters button to add the `@ProductID` parameter to the list of parameters below.</span></span>

<span data-ttu-id="ce999-161">[![Özellikler penceresinden DeleteQuery özelliğini seçin](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image3.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-161">[![Select the DeleteQuery Property from the Properties Window](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image3.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image3.png)</span></span>

<span data-ttu-id="ce999-162">**Şekil 3**: Özellikler penceresinden DeleteQuery özelliğini seçin ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image4.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-162">**Figure 3**: Select the DeleteQuery Property from the Properties Window ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image4.png))</span></span>

<span data-ttu-id="ce999-163">Bu parametre için bir *değer sağlamadığınızda* (parametre kaynağını yok olarak bırakın).</span><span class="sxs-lookup"><span data-stu-id="ce999-163">Do *not* provide a value for this parameter (leave its Parameter source at None ).</span></span> <span data-ttu-id="ce999-164">GridView 'a silme desteğini eklediğimiz bir kez, GridView bu parametre değerini, Sil düğmesine tıklanmış olan satır için `DataKeys` koleksiyonunun değerini kullanarak otomatik olarak sağlayacaktır.</span><span class="sxs-lookup"><span data-stu-id="ce999-164">Once we add deleting support to the GridView, the GridView will automatically supply this parameter value, using the value of its `DataKeys` collection for the row whose Delete button was clicked.</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-165">`DELETE` sorgusunda kullanılan parametre adı, GridView, DetailsView veya FormView içindeki `DataKeyNames` değerinin adı ile aynı *olmalıdır* .</span><span class="sxs-lookup"><span data-stu-id="ce999-165">The parameter name used in the `DELETE` query *must* be the same as the name of the `DataKeyNames` value in the GridView, DetailsView, or FormView.</span></span> <span data-ttu-id="ce999-166">Diğer bir deyişle, `DELETE` deyimindeki parametresi, Products tablosundaki birincil anahtar sütun adı (ve bu nedenle GridView 'daki DataKeyNames değeri) `ProductID`olduğundan, `@ProductID` (yani, deyin, `@ID`) olarak adlandırılır.</span><span class="sxs-lookup"><span data-stu-id="ce999-166">That is, the parameter in the `DELETE` statement is purposefully named `@ProductID` (instead of, say, `@ID`), because the primary key column name in the Products table (and therefore the DataKeyNames value in the GridView) is `ProductID`.</span></span>

<span data-ttu-id="ce999-167">Parametre adı ve `DataKeyNames` değeri eşleşmiyorsa GridView, değeri otomatik olarak `DataKeys` koleksiyonundan atayamaz.</span><span class="sxs-lookup"><span data-stu-id="ce999-167">If the parameter name and `DataKeyNames` value doesn t match, the GridView cannot automatically assign the parameter the value from the `DataKeys` collection.</span></span>

<span data-ttu-id="ce999-168">Silme ile ilgili bilgileri komut ve parametre Düzenleyicisi iletişim kutusuna girdikten sonra, ortaya çıkan bildirim işaretlemesini incelemek için Tamam ' a tıklayın ve kaynak görünümüne gidin:</span><span class="sxs-lookup"><span data-stu-id="ce999-168">After entering the delete-related information into the Command and Parameter Editor dialog box click OK and go to the Source view to examine the resulting declarative markup:</span></span>

[!code-aspx[Main](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/samples/sample2.aspx)]

<span data-ttu-id="ce999-169">`DeleteCommand` özelliğinin yanı sıra `<DeleteParameters>` bölümünü ve `productID`adlı parametre nesnesini de bir yere göz önünde.</span><span class="sxs-lookup"><span data-stu-id="ce999-169">Note the addition of the `DeleteCommand` property as well as the `<DeleteParameters>` section and the Parameter object named `productID`.</span></span>

## <a name="configuring-the-gridview-for-deleting"></a><span data-ttu-id="ce999-170">GridView 'ı silmek için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ce999-170">Configuring the GridView for Deleting</span></span>

<span data-ttu-id="ce999-171">`DeleteCommand` özelliği eklendiğinde, GridView s akıllı etiketi şimdi silmeyi etkinleştir seçeneğini içerir.</span><span class="sxs-lookup"><span data-stu-id="ce999-171">With the `DeleteCommand` property added, the GridView s smart tag now contains the Enable Deleting option.</span></span> <span data-ttu-id="ce999-172">Devam edin ve bu onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="ce999-172">Go ahead and check this checkbox.</span></span> <span data-ttu-id="ce999-173">[Ekleme, güncelleştirme ve silme konusunda bir genel bakışta](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md)açıklandığı gibi, GridView 'un `ShowDeleteButton` özelliği `true`olarak ayarlanmış bir CommandField eklemesine neden olur.</span><span class="sxs-lookup"><span data-stu-id="ce999-173">As discussed in [An Overview of Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/an-overview-of-inserting-updating-and-deleting-data-cs.md), this causes the GridView to add a CommandField with its `ShowDeleteButton` property set to `true`.</span></span> <span data-ttu-id="ce999-174">Şekil 4 ' te gösterildiği gibi, sayfa bir tarayıcı ile ziyaret edildiğinde silme düğmesi de bulunur.</span><span class="sxs-lookup"><span data-stu-id="ce999-174">As Figure 4 shows, when the page is visited through a browser a Delete button is included.</span></span> <span data-ttu-id="ce999-175">Bazı ürünleri silerek bu sayfayı test edin.</span><span class="sxs-lookup"><span data-stu-id="ce999-175">Test this page out by deleting some products.</span></span>

<span data-ttu-id="ce999-176">[Her GridView satırı ![şimdi bir Sil düğmesi Içerir](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image4.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-176">[![Each GridView Row Now Includes a Delete Button](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image4.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image5.png)</span></span>

<span data-ttu-id="ce999-177">**Şekil 4**: her GridView satırı artık Sil düğmesini içerir ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-177">**Figure 4**: Each GridView Row Now Includes a Delete Button ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image6.png))</span></span>

<span data-ttu-id="ce999-178">Bir Delete düğmesine tıklandıktan sonra, GridView, `ProductID` parametresini, DELETE düğmesine tıklanan satıra ait `DataKeys` Collection değerinin değerine atar ve SqlDataSource s `Delete()` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="ce999-178">Upon clicking a Delete button, a postback occurs, the GridView assigns the `ProductID` parameter the value of the `DataKeys` collection value for the row whose Delete button was clicked, and invokes the SqlDataSource s `Delete()` method.</span></span> <span data-ttu-id="ce999-179">Ardından SqlDataSource denetimi veritabanına bağlanır ve `DELETE` ifadesini yürütür.</span><span class="sxs-lookup"><span data-stu-id="ce999-179">The SqlDataSource control then connects to the database and executes the `DELETE` statement.</span></span> <span data-ttu-id="ce999-180">GridView daha sonra SqlDataSource 'a yeniden bağlanır, geri dönüp geçerli ürün kümesini (artık tam silinen kaydı içermez) görüntüler.</span><span class="sxs-lookup"><span data-stu-id="ce999-180">The GridView then rebinds to the SqlDataSource, getting back and displaying the current set of products (which no longer includes the just-deleted record).</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-181">GridView, SqlDataSource parametrelerini doldurmak için `DataKeys` koleksiyonunu kullandığından, GridView s `DataKeyNames` özelliğinin birincil anahtarı oluşturan ve SqlDataSource s `SelectCommand` bu sütunları döndürdüğünden emin olun.</span><span class="sxs-lookup"><span data-stu-id="ce999-181">Since the GridView uses its `DataKeys` collection to populate the SqlDataSource parameters, it s vital that the GridView s `DataKeyNames` property be set to the column(s) that constitute the primary key and that the SqlDataSource s `SelectCommand` returns these columns.</span></span> <span data-ttu-id="ce999-182">Üstelik, SqlDataSource s `DeleteCommand` parametre adının `@ProductID`olarak ayarlanması önemlidir.</span><span class="sxs-lookup"><span data-stu-id="ce999-182">Moreover, it s important that the parameter name in the SqlDataSource s `DeleteCommand` is set to `@ProductID`.</span></span> <span data-ttu-id="ce999-183">`DataKeyNames` özelliği ayarlanmamışsa veya parametre `@ProductsID`adlandırılmadıysa, Sil düğmesine tıklamak geri göndermeye neden olur, ancak hiçbir kaydı aslında silmez.</span><span class="sxs-lookup"><span data-stu-id="ce999-183">If the `DataKeyNames` property is not set or the parameter is not named `@ProductsID`, clicking the Delete button will cause a postback, but won't actually delete any record.</span></span>

<span data-ttu-id="ce999-184">Şekil 5 ' te bu etkileşim grafiksel olarak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="ce999-184">Figure 5 depicts this interaction graphically.</span></span> <span data-ttu-id="ce999-185">Veri Web denetiminden ekleme, güncelleştirme ve silme ile ilişkili olayların zinciri hakkında daha ayrıntılı bir tartışma için [ekleme, güncelleştirme ve silme öğreticisi Ile Ilişkili olayları İnceleme](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) bölümüne geri bakın.</span><span class="sxs-lookup"><span data-stu-id="ce999-185">Refer back to the [Examining the Events Associated with Inserting, Updating, and Deleting](../editing-inserting-and-deleting-data/examining-the-events-associated-with-inserting-updating-and-deleting-cs.md) tutorial for a more detailed discussion on the chain of events associated with inserting, updating, and deleting from a data Web control.</span></span>

![GridView 'daki Sil düğmesine tıkladığınızda SqlDataSource s Delete () yöntemi çağırılır](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image5.gif)

<span data-ttu-id="ce999-187">**Şekil 5**: GridView 'Da Sil düğmesine tıkladığınızda SqlDataSource s `Delete()` yöntemi çağırılır</span><span class="sxs-lookup"><span data-stu-id="ce999-187">**Figure 5**: Clicking the Delete Button in the GridView Invokes the SqlDataSource s `Delete()` Method</span></span>

## <a name="step-2-automatically-generating-theinsertupdate-anddeletestatements"></a><span data-ttu-id="ce999-188">2\. Adım:`INSERT`,`UPDATE`ve`DELETE`deyimlerini otomatik olarak oluşturma</span><span class="sxs-lookup"><span data-stu-id="ce999-188">Step 2: Automatically Generating the`INSERT`,`UPDATE`, and`DELETE`Statements</span></span>

<span data-ttu-id="ce999-189">1\. adım incelendi `INSERT`, `UPDATE`ve `DELETE` SQL deyimleri Özellikler penceresi veya denetim tarafından bildirime dayalı sözdizimi aracılığıyla belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-189">As Step 1 examined, `INSERT`, `UPDATE`, and `DELETE` SQL statements can be specified through the Properties window or the control s declarative syntax.</span></span> <span data-ttu-id="ce999-190">Ancak, bu yaklaşım tek başına SQL deyimlerini el ile yazmanızı gerektirir ve bu, monotous ve hata durumunda olabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-190">However, this approach requires that we manually write out the SQL statements by hand, which can be monotonous and error-prone.</span></span> <span data-ttu-id="ce999-191">Neyse ki, veri kaynağı Yapılandırma Sihirbazı, görünüm ekranından sütunları belirt ' i kullanırken `INSERT`, `UPDATE`ve `DELETE` deyimlerinin otomatik olarak oluşturulmasını sağlayan bir seçenek sunar.</span><span class="sxs-lookup"><span data-stu-id="ce999-191">Fortunately, the Configure Data Source wizard provides an option to have the `INSERT`, `UPDATE`, and `DELETE` statements automatically generated when using the Specify columns from a table of view screen.</span></span>

<span data-ttu-id="ce999-192">Bu otomatik oluşturma seçeneğini keşfedelim.</span><span class="sxs-lookup"><span data-stu-id="ce999-192">Let s explore this automatic generation option.</span></span> <span data-ttu-id="ce999-193">`InsertUpdateDelete.aspx` tasarımcı 'ya bir DetailsView ekleyin ve `ID` özelliğini `ManageProducts`olarak ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="ce999-193">Add a DetailsView to the Designer in `InsertUpdateDelete.aspx` and set its `ID` property to `ManageProducts`.</span></span> <span data-ttu-id="ce999-194">Ardından, DetailsView 'un akıllı etiketinde yeni bir veri kaynağı oluşturmayı ve `ManageProductsDataSource`adlı bir SqlDataSource oluşturmayı seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-194">Next, from the DetailsView s smart tag, choose to create a new data source and create a SqlDataSource named `ManageProductsDataSource`.</span></span>

<span data-ttu-id="ce999-195">[![ManageProductsDataSource adlı yeni bir SqlDataSource oluşturma](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image6.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-195">[![Create a New SqlDataSource Named ManageProductsDataSource](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image6.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image7.png)</span></span>

<span data-ttu-id="ce999-196">**Şekil 6**: `ManageProductsDataSource` adlı yeni bir SqlDataSource oluşturun ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image8.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-196">**Figure 6**: Create a New SqlDataSource Named `ManageProductsDataSource` ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image8.png))</span></span>

<span data-ttu-id="ce999-197">Veri kaynağı Yapılandırma Sihirbazı ' ndan `NORTHWINDConnectionString` bağlantı dizesini kullanmayı ve Ileri ' yi tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ce999-197">From the Configure Data Source wizard, opt to use the `NORTHWINDConnectionString` connection string and click Next.</span></span> <span data-ttu-id="ce999-198">Select Ifadesini Yapılandır ekranında, bir tablodaki sütunları belirt veya görünümü görüntüle radyo düğmesini seçili bırakın ve açılan listeden `Products` tablosunu seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-198">From the Configure the Select Statement screen, leave the Specify columns from a table or view radio button selected and pick the `Products` table from the drop-down list.</span></span> <span data-ttu-id="ce999-199">Onay kutusu listesinden `ProductID`, `ProductName`, `UnitPrice`ve `Discontinued` sütunları seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-199">Select the `ProductID`, `ProductName`, `UnitPrice`, and `Discontinued` columns from the checkbox list.</span></span>

<span data-ttu-id="ce999-200">[Ürünler tablosunu kullanarak ![ProductID, ProductName, UnitPrice ve Discontinued sütunlarını döndürün](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image7.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-200">[![Using the Products Table, Return the ProductID, ProductName, UnitPrice, and Discontinued Columns](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image7.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image9.png)</span></span>

<span data-ttu-id="ce999-201">**Şekil 7**: `Products` tablosunu kullanarak `ProductID`, `ProductName`, `UnitPrice`ve `Discontinued` sütunları döndürün ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image10.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-201">**Figure 7**: Using the `Products` Table, Return the `ProductID`, `ProductName`, `UnitPrice`, and `Discontinued` Columns ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image10.png))</span></span>

<span data-ttu-id="ce999-202">Seçilen tablo ve sütunlara göre otomatik olarak `INSERT`, `UPDATE`ve `DELETE` deyimlerini oluşturmak için Gelişmiş düğmesine tıklayın ve `INSERT`, `UPDATE`ve `DELETE` deyimlerini oluştur onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="ce999-202">To automatically generate `INSERT`, `UPDATE`, and `DELETE` statements based on the selected table and columns, click the Advanced button and check the Generate `INSERT`, `UPDATE`, and `DELETE` statements checkbox.</span></span>

![INSERT, UPDATE ve DELETE deyimlerini oluştur onay kutusunu işaretleyin](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image8.gif)

<span data-ttu-id="ce999-204">**Şekil 8**: oluşturma `INSERT`, `UPDATE`ve `DELETE` deyimlerini denetle onay kutusu</span><span class="sxs-lookup"><span data-stu-id="ce999-204">**Figure 8**: Check the Generate `INSERT`, `UPDATE`, and `DELETE` statements Checkbox</span></span>

<span data-ttu-id="ce999-205">`INSERT`, `UPDATE`ve `DELETE` deyimlerini oluştur onay kutusu yalnızca seçili tabloda bir birincil anahtar varsa ve döndürülen sütunlar listesine birincil anahtar sütunu (veya sütunları) dahil edildiğinde kullanıma sunulacaktır.</span><span class="sxs-lookup"><span data-stu-id="ce999-205">The Generate `INSERT`, `UPDATE`, and `DELETE` statements checkbox will only be checkable if the table selected has a primary key and the primary key column (or columns) are included in the list of returned columns.</span></span> <span data-ttu-id="ce999-206">`INSERT`oluştur, `UPDATE`ve `DELETE` deyimler onay kutusu işaretlendikten sonra seçilebilir hale gelen iyimser eşzamanlılık kullan onay kutusunu, iyimser eşzamanlılık denetimi sağlamak için ortaya çıkan `UPDATE` ve `DELETE` deyimlerdeki `WHERE` yan tümceleri daha iyi hale gelir.</span><span class="sxs-lookup"><span data-stu-id="ce999-206">The Use optimistic concurrency checkbox, which becomes selectable once the Generate `INSERT`, `UPDATE`, and `DELETE` statements checkbox has been checked, will augment the `WHERE` clauses in the resulting `UPDATE` and `DELETE` statements to provide optimistic concurrency control.</span></span> <span data-ttu-id="ce999-207">Şimdilik bu onay kutusunu işaretlenmemiş olarak bırakın; sonraki öğreticide SqlDataSource denetimiyle iyimser eşzamanlılığı inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ce999-207">For now, leave this checkbox unchecked; we'll examine optimistic concurrency with the SqlDataSource control in the next tutorial.</span></span>

<span data-ttu-id="ce999-208">`INSERT`, `UPDATE`ve `DELETE` deyimlerini oluştur onay kutusunu işaretledikten sonra Tamam ' a tıklayarak, SELECT deyimini Yapılandır ekranına dönün, ardından Ileri ' ye tıklayın ve ardından son ' a tıklayarak veri kaynağı Yapılandırma Sihirbazı ' nı doldurun.</span><span class="sxs-lookup"><span data-stu-id="ce999-208">After checking the Generate `INSERT`, `UPDATE`, and `DELETE` statements checkbox, click OK to return to the Configure Select Statement screen, then click Next, and then Finish, to complete the Configure Data Source wizard.</span></span> <span data-ttu-id="ce999-209">Sihirbaz tamamlandıktan sonra Visual Studio, `ProductID`, `ProductName`ve `UnitPrice` sütunları ve `Discontinued` sütunu için bir CheckBoxField için DetailsView 'a BoundFields ekler.</span><span class="sxs-lookup"><span data-stu-id="ce999-209">Upon completing the wizard, Visual Studio will add BoundFields to the DetailsView for the `ProductID`, `ProductName`, and `UnitPrice` columns and a CheckBoxField for the `Discontinued` column.</span></span> <span data-ttu-id="ce999-210">DetailsView 'un akıllı etiketinde, bu sayfayı ziyaret eden kullanıcının ürünlerin içinden ilerleyebilmesi için sayfalama etkinleştir seçeneğini işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="ce999-210">From the DetailsView s smart tag, check the Enable Paging option so that the user visiting this page can step through the products.</span></span> <span data-ttu-id="ce999-211">Ayrıca DetailsView s `Width` ve `Height` özelliklerini de temizleyin.</span><span class="sxs-lookup"><span data-stu-id="ce999-211">Also clear out the DetailsView s `Width` and `Height` properties.</span></span>

<span data-ttu-id="ce999-212">Akıllı etiketin eklemeyi etkinleştir, Düzenle etkinleştir ve mevcut silme seçeneklerini etkinleştir seçeneklerini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="ce999-212">Notice that the smart tag has the Enable Inserting, Enable Editing, and Enable Deleting options available.</span></span> <span data-ttu-id="ce999-213">Bunun nedeni, SqlDataSource `InsertCommand`, `UpdateCommand`ve `DeleteCommand`için değerler içereceğinden aşağıdaki bildirime dayalı sözdizimidir:</span><span class="sxs-lookup"><span data-stu-id="ce999-213">This is because the SqlDataSource contains values for its `InsertCommand`, `UpdateCommand`, and `DeleteCommand`, as the following declarative syntax shows:</span></span>

[!code-aspx[Main](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/samples/sample3.aspx)]

<span data-ttu-id="ce999-214">SqlDataSource denetiminin `InsertCommand`, `UpdateCommand`ve `DeleteCommand` özellikleri için değerleri otomatik olarak nasıl ayarlandığını aklınızda edin.</span><span class="sxs-lookup"><span data-stu-id="ce999-214">Note how the SqlDataSource control has had values automatically set for its `InsertCommand`, `UpdateCommand`, and `DeleteCommand` properties.</span></span> <span data-ttu-id="ce999-215">`InsertCommand` ve `UpdateCommand` özelliklerinde başvurulan sütun kümesi `SELECT` deyimindekilerle dayanır.</span><span class="sxs-lookup"><span data-stu-id="ce999-215">The set of columns referenced in the `InsertCommand` and `UpdateCommand` properties are based on those in the `SELECT` statement.</span></span> <span data-ttu-id="ce999-216">Diğer bir deyişle, `InsertCommand` ve `UpdateCommand`*her* ürün sütununa sahip olmak yerine, yalnızca `SelectCommand` belirtilen sütunlar vardır (daha az `ProductID`ve [`IDENTITY`](http://www.sqlteam.com/item.asp?ItemID=102)bu, düzenleme sırasında değeri değiştirilemez ve eklendiğinde otomatik olarak atanır).</span><span class="sxs-lookup"><span data-stu-id="ce999-216">That is, rather than having *every* Products column in the `InsertCommand` and `UpdateCommand`, there are only those columns specified in the `SelectCommand` (less `ProductID`, which is omitted because it s an [`IDENTITY` column](http://www.sqlteam.com/item.asp?ItemID=102), whose value cannot be changed when edited and which is automatically assigned when inserting).</span></span> <span data-ttu-id="ce999-217">Ayrıca, `InsertCommand`, `UpdateCommand`ve `DeleteCommand` özelliklerindeki her bir parametre için `InsertParameters`, `UpdateParameters`ve `DeleteParameters` koleksiyonlarında karşılık gelen parametreler vardır.</span><span class="sxs-lookup"><span data-stu-id="ce999-217">Moreover, for each parameter in the `InsertCommand`, `UpdateCommand`, and `DeleteCommand` properties there are corresponding parameters in the `InsertParameters`, `UpdateParameters`, and `DeleteParameters` collections.</span></span>

<span data-ttu-id="ce999-218">DetailsView 'un veri değiştirme özelliklerini açmak için, akıllı etiketinde ekleme, Düzenle ve silmeyi etkinleştir seçeneklerini işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="ce999-218">To turn on the DetailsView s data modification features, check the Enable Inserting, Enable Editing, and Enable Deleting options in its smart tag.</span></span> <span data-ttu-id="ce999-219">Bu, `ShowInsertButton`, `ShowEditButton`ve `ShowDeleteButton` özellikleri `true`olarak ayarlanmış bir CommandField ekler.</span><span class="sxs-lookup"><span data-stu-id="ce999-219">This adds a CommandField with its `ShowInsertButton`, `ShowEditButton`, and `ShowDeleteButton` properties set to `true`.</span></span>

<span data-ttu-id="ce999-220">Tarayıcıdaki sayfayı ziyaret edin ve DetailsView 'a eklenen düzenleme, silme ve yeni düğmeleri aklınızda bulunur.</span><span class="sxs-lookup"><span data-stu-id="ce999-220">Visit the page in a browser and note the Edit, Delete, and New buttons included in the DetailsView.</span></span> <span data-ttu-id="ce999-221">Düzenle düğmesine tıkladığınızda, DetailsView, `ReadOnly` özelliği bir TextBox olarak `false` (varsayılan) ve CheckBoxField olarak bir CheckBox olarak ayarlanmış olan her bir BoundField görüntüleyen düzenleme moduna geçer.</span><span class="sxs-lookup"><span data-stu-id="ce999-221">Clicking the Edit button turns the DetailsView into edit mode, which displays each BoundField whose `ReadOnly` property is set to `false` (the default) as a TextBox, and the CheckBoxField as a checkbox.</span></span>

<span data-ttu-id="ce999-222">[DetailsView 'un varsayılan Düzenle arabirimini ![](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image9.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="ce999-222">[![The DetailsView s Default Editing Interface](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image9.gif)](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image11.png)</span></span>

<span data-ttu-id="ce999-223">**Şekil 9**: DetailsView 'un varsayılan düzenlenme arabirimi ([tam boyutlu görüntüyü görüntülemek için tıklayın](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="ce999-223">**Figure 9**: The DetailsView s Default Editing Interface ([Click to view full-size image](inserting-updating-and-deleting-data-with-the-sqldatasource-cs/_static/image12.png))</span></span>

<span data-ttu-id="ce999-224">Benzer şekilde, seçili olan ürünü silebilir veya sisteme yeni bir ürün ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ce999-224">Similarly, you can delete the currently selected product or add a new product to the system.</span></span> <span data-ttu-id="ce999-225">`InsertCommand` deyimleri yalnızca `ProductName`, `UnitPrice`ve `Discontinued` sütunları ile çalıştığından, diğer sütunlarda, ekleme sırasında veritabanı tarafından atanan `NULL` veya varsayılan değerleri vardır.</span><span class="sxs-lookup"><span data-stu-id="ce999-225">Since the `InsertCommand` statement only works with the `ProductName`, `UnitPrice`, and `Discontinued` columns, the other columns have either `NULL` or their default value assigned by the database upon insert.</span></span> <span data-ttu-id="ce999-226">ObjectDataSource ile tıpkı, `InsertCommand` `NULL` s öğesine izin vermeyi desteklemeyen ve varsayılan bir değere sahip olmayan herhangi bir veritabanı tablo sütunu eksikse, `INSERT` bildirisini yürütmeye çalışırken bir SQL hatası oluşur.</span><span class="sxs-lookup"><span data-stu-id="ce999-226">Just like with the ObjectDataSource, if the `InsertCommand` is missing any database table columns that don t allow `NULL` s and don t have a default value, a SQL error will occur when attempting to execute the `INSERT` statement.</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-227">DetailsView 'un ekleme ve düzenlemeyle ilgili hiçbir özelleştirme veya doğrulama düzeni yoktur.</span><span class="sxs-lookup"><span data-stu-id="ce999-227">The DetailsView s inserting and editing interfaces lack any sort of customization or validation.</span></span> <span data-ttu-id="ce999-228">Doğrulama denetimleri eklemek veya arabirimleri özelleştirmek için, BoundFields alanlarını TemplateFields 'e dönüştürmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-228">To add validation controls or to customize the interfaces, you need to convert the BoundFields to TemplateFields.</span></span> <span data-ttu-id="ce999-229">Daha fazla bilgi için, [Denetim Için doğrulama denetimleri ekleme ve arabirimleri](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) ekleme ve [veri değişikliği arabirimi](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) öğreticilerini özelleştirme bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="ce999-229">Refer to the [Adding Validation Controls to the Editing and Inserting Interfaces](../editing-inserting-and-deleting-data/adding-validation-controls-to-the-editing-and-inserting-interfaces-cs.md) and [Customizing the Data Modification Interface](../editing-inserting-and-deleting-data/customizing-the-data-modification-interface-cs.md) tutorials for more information.</span></span>

<span data-ttu-id="ce999-230">Ayrıca, güncelleştiren ve silmenin yanı sıra, DetailsView 'un yalnızca `DataKeyNames` özelliği yapılandırılmışsa bulunan geçerli ürün `DataKey` değerini kullandığını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="ce999-230">Also, keep in mind that for updating and deleting, the DetailsView uses the current product s `DataKey` value, which is only present if the `DataKeyNames` property is configured.</span></span> <span data-ttu-id="ce999-231">Düzenlemenin veya silmenin hiçbir etkisi yoksa, `DataKeyNames` özelliğinin ayarlandığından emin olun.</span><span class="sxs-lookup"><span data-stu-id="ce999-231">If editing or deleting appears to have no effect, ensure that the `DataKeyNames` property is set.</span></span>

## <a name="limitations-of-automatically-generating-sql-statements"></a><span data-ttu-id="ce999-232">Otomatik olarak SQL deyimlerini oluşturma sınırlamaları</span><span class="sxs-lookup"><span data-stu-id="ce999-232">Limitations of Automatically Generating SQL Statements</span></span>

<span data-ttu-id="ce999-233">`INSERT`, `UPDATE`ve `DELETE` deyimlerini oluştur seçeneği yalnızca bir tablodan sütun çekerken kullanılabilir olduğundan, daha karmaşık sorgularda, 1. adımda yaptığımız gibi kendi `INSERT`, `UPDATE`ve `DELETE` deyimlerini yazmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-233">Since the Generate `INSERT`, `UPDATE`, and `DELETE` statements option is only available when picking columns from a table, for more complex queries you will have to write your own `INSERT`, `UPDATE`, and `DELETE` statements like we did in Step 1.</span></span> <span data-ttu-id="ce999-234">Genellikle, SQL `SELECT` deyimleri, görüntüleme amacıyla bir veya daha fazla arama tablosundan veri getirmek için `JOIN` s kullanır (ürün bilgilerini görüntülerken `Categories` tablo s `CategoryName` alanı geri getirme gibi).</span><span class="sxs-lookup"><span data-stu-id="ce999-234">Commonly, SQL `SELECT` statements use `JOIN` s to bring back data from one or more lookup tables for display purposes (such as bringing back the `Categories` table s `CategoryName` field when displaying product information).</span></span> <span data-ttu-id="ce999-235">Aynı zamanda, kullanıcının temel tabloya (Bu durumda`Products`) veri düzenlemesine, güncelleştirmesine veya eklemesine izin vermek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ce999-235">At the same time, we might want to allow the user to edit, update, or insert data into the core table (`Products`, in this case).</span></span>

<span data-ttu-id="ce999-236">`INSERT`, `UPDATE`ve `DELETE` deyimleri el ile girilebileceği sırada, aşağıdaki zaman kazandıran ipucunu göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="ce999-236">While the `INSERT`, `UPDATE`, and `DELETE` statements can be entered manually, consider the following time-saving tip.</span></span> <span data-ttu-id="ce999-237">İlk olarak, `Products` tablosundan verileri geri çekmesini sağlamak için SqlDataSource 'u ayarlayın.</span><span class="sxs-lookup"><span data-stu-id="ce999-237">Initially setup the SqlDataSource so that it pulls back data just from the `Products` table.</span></span> <span data-ttu-id="ce999-238">`INSERT`, `UPDATE`ve `DELETE` deyimlerini otomatik olarak oluşturabilmeniz için, veri kaynağı Yapılandırma Sihirbazı ' nı bir tablo veya görünüm ekranından sütunları belirt ' i kullanın.</span><span class="sxs-lookup"><span data-stu-id="ce999-238">Use the Configure Data Source wizard s Specify columns from a table or view screen so that you can automatically generate the `INSERT`, `UPDATE`, and `DELETE` statements.</span></span> <span data-ttu-id="ce999-239">Ardından, Sihirbazı tamamladıktan sonra, Özellikler penceresi SelectQuery öğesini (veya alternatif olarak, veri kaynağını yapılandırma sihirbazına geri dönün, ancak özel bir SQL ifadesini veya saklı yordamı belirtin seçeneğini kullanın) seçin.</span><span class="sxs-lookup"><span data-stu-id="ce999-239">Then, after completing the wizard, choose to configure the SelectQuery from the Properties window (or, alternatively, go back to the Configure Data Source wizard, but use the Specify a custom SQL statement or stored procedure option).</span></span> <span data-ttu-id="ce999-240">Sonra `SELECT` ifadesini `JOIN` söz dizimini içerecek şekilde güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="ce999-240">Then update the `SELECT` statement to include the `JOIN` syntax.</span></span> <span data-ttu-id="ce999-241">Bu teknik, otomatik olarak oluşturulan SQL deyimlerinin zaman kazandıran avantajlarını sağlar ve daha özelleştirilmiş bir `SELECT` bildirimine izin verir.</span><span class="sxs-lookup"><span data-stu-id="ce999-241">This technique offers the time-saving benefits of the automatically generated SQL statements and allows for a more customized `SELECT` statement.</span></span>

<span data-ttu-id="ce999-242">`INSERT`, `UPDATE`ve `DELETE` deyimlerini otomatik olarak oluşturmanın diğer bir sınırlaması, `INSERT` ve `UPDATE` deyimlerdeki sütunlarda `SELECT` deyimi tarafından döndürülen sütunları temel alır.</span><span class="sxs-lookup"><span data-stu-id="ce999-242">Another limitation of automatically generating the `INSERT`, `UPDATE`, and `DELETE` statements is that the columns in the `INSERT` and `UPDATE` statements are based on the columns returned by the `SELECT` statement.</span></span> <span data-ttu-id="ce999-243">Bununla birlikte, daha fazla veya daha az alan güncelleştirmeniz veya eklemeniz gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-243">We may need to update or insert more or fewer fields, however.</span></span> <span data-ttu-id="ce999-244">Örneğin, 2. adımdaki örnekte, `UnitPrice` BoundField salt okunurdur.</span><span class="sxs-lookup"><span data-stu-id="ce999-244">For example, in the example from Step 2, maybe we want to have the `UnitPrice` BoundField be read-only.</span></span> <span data-ttu-id="ce999-245">Bu durumda, `UpdateCommand`görünmemelidir.</span><span class="sxs-lookup"><span data-stu-id="ce999-245">In that case, it shouldn't appear in the `UpdateCommand`.</span></span> <span data-ttu-id="ce999-246">Ya da GridView 'da görünmeyen bir tablo alanının değerini ayarlamak isteyebilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-246">Or we may want to set the value of a table field that does not appear in the GridView.</span></span> <span data-ttu-id="ce999-247">Örneğin, yeni bir kayıt eklenirken `QuantityPerUnit` değerini TODO olarak ayarlamak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ce999-247">For example, when adding a new record we may want the `QuantityPerUnit` value set to TODO .</span></span>

<span data-ttu-id="ce999-248">Bu tür özelleştirmeler gerekliyse, sihirbazda Özellikler penceresi, özel bir SQL deyimi veya saklı yordam belirt seçeneğini veya bildirim temelli sözdizimini kullanarak el ile yapmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ce999-248">If such customizations are required, you need to make them manually, either through the Properties window, the Specify a custom SQL statement or stored procedure option in the wizard, or via the declarative syntax.</span></span>

> [!NOTE]
> <span data-ttu-id="ce999-249">Veri Web denetiminde karşılık gelen alanları olmayan parametreler eklenirken, bu parametre değerlerinin bir şekilde değer atanması gerektiğini aklınızda bulundurun.</span><span class="sxs-lookup"><span data-stu-id="ce999-249">When adding parameters that do not have corresponding fields in the data Web control, keep in mind that these parameters values will need to be assigned values in some manner.</span></span> <span data-ttu-id="ce999-250">Bu değerler: doğrudan `InsertCommand` veya `UpdateCommand`sabit kodlanmış olabilir; önceden tanımlanmış bir kaynaktan gelebilir (QueryString, oturum durumu, sayfadaki Web denetimleri vb.); ya da, önceki öğreticide gördüğünüz gibi programlı bir şekilde atanabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-250">These values can be: hard-coded directly in the `InsertCommand` or `UpdateCommand`; can come from some pre-defined source (the querystring, session state, Web controls on the page, and so on); or can be assigned programmatically, as we saw in the preceding tutorial.</span></span>

## <a name="summary"></a><span data-ttu-id="ce999-251">Özet</span><span class="sxs-lookup"><span data-stu-id="ce999-251">Summary</span></span>

<span data-ttu-id="ce999-252">Veri Web denetimlerinin yerleşik ekleme, düzenlemesi ve silme yeteneklerini kullanabilmesi için, bağlandıkları veri kaynağı denetimi bu işlevselliği sunmalıdır.</span><span class="sxs-lookup"><span data-stu-id="ce999-252">In order for the data Web controls to utilize their built-in inserting, editing, and deleting capabilities, the data source control they are bound to must offer such functionality.</span></span> <span data-ttu-id="ce999-253">Bu, SqlDataSource için `INSERT`, `UPDATE`ve `DELETE` SQL deyimlerinin `InsertCommand`, `UpdateCommand`ve `DeleteCommand` özelliklerine atanması gerektiği anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="ce999-253">For the SqlDataSource, this means that `INSERT`, `UPDATE`, and `DELETE` SQL statements must be assigned to the `InsertCommand`, `UpdateCommand`, and `DeleteCommand` properties.</span></span> <span data-ttu-id="ce999-254">Bu özellikler ve karşılık gelen parametreler koleksiyonları el ile eklenebilir veya veri kaynağı Yapılandırma Sihirbazı aracılığıyla otomatik olarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="ce999-254">These properties, and the corresponding parameters collections, can be added manually or generated automatically through the Configure Data Source wizard.</span></span> <span data-ttu-id="ce999-255">Bu öğreticide her iki tekniği de inceledik.</span><span class="sxs-lookup"><span data-stu-id="ce999-255">In this tutorial we examined both techniques.</span></span>

<span data-ttu-id="ce999-256">Iyimser eşzamanlılık öğreticisini [uygulayan](../editing-inserting-and-deleting-data/implementing-optimistic-concurrency-cs.md) ObjectDataSource ile iyimser eşzamanlılık kullanmayı inceledik.</span><span class="sxs-lookup"><span data-stu-id="ce999-256">We examined using optimistic concurrency with the ObjectDataSource in the [Implementing Optimistic Concurrency](../editing-inserting-and-deleting-data/implementing-optimistic-concurrency-cs.md) tutorial.</span></span> <span data-ttu-id="ce999-257">Ayrıca, SqlDataSource denetimi iyimser eşzamanlılık desteği de sağlar.</span><span class="sxs-lookup"><span data-stu-id="ce999-257">The SqlDataSource control also provides optimistic concurrency support.</span></span> <span data-ttu-id="ce999-258">Adım 2 ' de belirtildiği gibi, `INSERT`, `UPDATE`ve `DELETE` deyimlerini otomatik olarak oluştururken, sihirbaz bir iyimser eşzamanlılık seçeneği sunar.</span><span class="sxs-lookup"><span data-stu-id="ce999-258">As noted in Step 2, when automatically generating the `INSERT`, `UPDATE`, and `DELETE` statements, the wizard offers a Use optimistic concurrency option.</span></span> <span data-ttu-id="ce999-259">Sonraki öğreticide göreceğiniz gibi, SqlDataSource ile iyimser eşzamanlılık kullanmak, `UPDATE` ve `DELETE` deyimlerdeki `WHERE` yan tümceleri değiştirerek verilerin sayfada son görüntülenmesinden bu yana değiştirilmemesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="ce999-259">As we'll see in the next tutorial, using optimistic concurrency with the SqlDataSource modifies the `WHERE` clauses in the `UPDATE` and `DELETE` statements to ensure that the values for the other columns haven't changed since the data was last displayed on the page.</span></span>

<span data-ttu-id="ce999-260">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="ce999-260">Happy Programming!</span></span>

## <a name="about-the-author"></a><span data-ttu-id="ce999-261">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="ce999-261">About the Author</span></span>

<span data-ttu-id="ce999-262">4GuysFromRolla.com 'in, [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yedi ASP/ASP. net books ve [](http://www.4guysfromrolla.com)'in yazarı, 1998 sürümünden bu yana Microsoft Web teknolojileriyle çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ce999-262">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of seven ASP/ASP.NET books and founder of [4GuysFromRolla.com](http://www.4guysfromrolla.com), has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="ce999-263">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="ce999-263">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="ce999-264">En son kitabı, [*24 saat içinde ASP.NET 2,0 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="ce999-264">His latest book is [*Sams Teach Yourself ASP.NET 2.0 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco).</span></span> <span data-ttu-id="ce999-265">mitchell@4GuysFromRolla.comadresinden erişilebilir [.](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="ce999-265">He can be reached at [mitchell@4GuysFromRolla.com.](mailto:mitchell@4GuysFromRolla.com)</span></span> <span data-ttu-id="ce999-266">ya da blog aracılığıyla [http://ScottOnWriting.NET](http://ScottOnWriting.NET)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ce999-266">or via his blog, which can be found at [http://ScottOnWriting.NET](http://ScottOnWriting.NET).</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ce999-267">[Önceki](using-parameterized-queries-with-the-sqldatasource-cs.md)
> [İleri](implementing-optimistic-concurrency-with-the-sqldatasource-cs.md)</span><span class="sxs-lookup"><span data-stu-id="ce999-267">[Previous](using-parameterized-queries-with-the-sqldatasource-cs.md)
[Next](implementing-optimistic-concurrency-with-the-sqldatasource-cs.md)</span></span>
