---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
title: ASP.NET 4 Entity Framework 4.0 Database First çalışmaya başlama ve Web Forms - 5. Bölüm | Microsoft Docs
author: tdykstra
description: Contoso University örnek web uygulaması, Entity Framework kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir. Örnek uygulamayı ediyor...
ms.author: riande
ms.date: 12/03/2010
ms.assetid: 24ad4379-3fb2-44dc-ba59-85fe0ffcb2ae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
msc.type: authoredcontent
ms.openlocfilehash: 3209ab3bca58e0dde90cf279732d177418b034e4
ms.sourcegitcommit: 24b1f6decbb17bb22a45166e5fdb0845c65af498
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/01/2019
ms.locfileid: "57069435"
---
<a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-5"></a><span data-ttu-id="5ab40-104">Entity Framework 4.0 Database First çalışmaya başlama ve ASP.NET 4 Web Forms - 5. Bölüm</span><span class="sxs-lookup"><span data-stu-id="5ab40-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 5</span></span>
====================
<span data-ttu-id="5ab40-105">tarafından [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="5ab40-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="5ab40-106">Contoso University örnek web uygulaması Entity Framework 4.0 ve Visual Studio 2010 kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="5ab40-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="5ab40-107">Öğretici serisi hakkında daha fazla bilgi için bkz: [serideki ilk öğreticide](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="5ab40-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>


## <a name="working-with-related-data-continued"></a><span data-ttu-id="5ab40-108">İlgili verileri ile çalışma, devam ettirildi</span><span class="sxs-lookup"><span data-stu-id="5ab40-108">Working with Related Data, Continued</span></span>

<span data-ttu-id="5ab40-109">Önceki öğreticide kullanmaya başladınız `EntityDataSource` ilgili verilerle çalışmak için denetimi.</span><span class="sxs-lookup"><span data-stu-id="5ab40-109">In the previous tutorial you began to use the `EntityDataSource` control to work with related data.</span></span> <span data-ttu-id="5ab40-110">Veri gezintisi özelliklerinde düzenlenebilir ve birden fazla hiyerarşi düzeyleri görüntülenen.</span><span class="sxs-lookup"><span data-stu-id="5ab40-110">You displayed multiple levels of hierarchy and edited data in navigation properties.</span></span> <span data-ttu-id="5ab40-111">Bu öğreticide ile ilgili verileri ekleyerek ve ilişkileri silme ve var olan bir varlığa yönelik bir ilişkisi olan yeni bir varlık ekleyerek çalışmaya devam ederler.</span><span class="sxs-lookup"><span data-stu-id="5ab40-111">In this tutorial you'll continue to work with related data by adding and deleting relationships and by adding a new entity that has a relationship to an existing entity.</span></span>

<span data-ttu-id="5ab40-112">Departmanlar için atanan kursları ekleyen bir sayfa oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="5ab40-112">You'll create a page that adds courses that are assigned to departments.</span></span> <span data-ttu-id="5ab40-113">Departmanlar zaten var ve aynı anda yeni bir kurs oluşturduğunuzda, var olan bir bölüm arasında ilişki kurmak.</span><span class="sxs-lookup"><span data-stu-id="5ab40-113">The departments already exist, and when you create a new course, at the same time you'll establish a relationship between it and an existing department.</span></span>

<span data-ttu-id="5ab40-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="5ab40-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span></span>

<span data-ttu-id="5ab40-115">(Seçtiğiniz iki varlık arasında ilişki ekleme) bir kurs alıştırma atayarak bir çoktan çoğa ilişki ile çalışan bir sayfa da oluşturursunuz veya bir kurs bir eğitmen kaldırma (iki varlık arasında ilişki kaldırma, seçin).</span><span class="sxs-lookup"><span data-stu-id="5ab40-115">You'll also create a page that works with a many-to-many relationship by assigning an instructor to a course (adding a relationship between two entities that you select) or removing an instructor from a course (removing a relationship between two entities that you select).</span></span> <span data-ttu-id="5ab40-116">Veritabanına eklenen yeni bir satır sonuçlanıyor bir eğitmen ve bir kurs arasına ilişki ekleme `CourseInstructor` ilişkilendirme tablosu; bir ilişki içerir satırdan silinmesi kaldırma `CourseInstructor` ilişkilendirme tablo.</span><span class="sxs-lookup"><span data-stu-id="5ab40-116">In the database, adding a relationship between an instructor and a course results in a new row being added to the `CourseInstructor` association table; removing a relationship involves deleting a row from the `CourseInstructor` association table.</span></span> <span data-ttu-id="5ab40-117">Ancak, varlık Çerçevesi'nde başvuruda bulunmadan Gezinti özelliklerini ayarlayarak bunu `CourseInstructor` açıkça tablo.</span><span class="sxs-lookup"><span data-stu-id="5ab40-117">However, you do this in the Entity Framework by setting navigation properties, without referring to the `CourseInstructor` table explicitly.</span></span>

<span data-ttu-id="5ab40-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="5ab40-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span></span>

## <a name="adding-an-entity-with-a-relationship-to-an-existing-entity"></a><span data-ttu-id="5ab40-119">Varolan bir varlık için varlık ilişkisi ekleme</span><span class="sxs-lookup"><span data-stu-id="5ab40-119">Adding an Entity with a Relationship to an Existing Entity</span></span>

<span data-ttu-id="5ab40-120">Adlı yeni bir web sayfası oluşturma *CoursesAdd.aspx* kullanan *Site.Master* ana sayfa ve eklemek için aşağıdaki biçimlendirme `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="5ab40-120">Create a new web page named *CoursesAdd.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample1.aspx)]

<span data-ttu-id="5ab40-121">Bu biçimlendirme oluşturur bir `EntityDataSource` sağlayan ekleme ve bir işleyici belirten kursları seçtiği denetim `Inserting` olay.</span><span class="sxs-lookup"><span data-stu-id="5ab40-121">This markup creates an `EntityDataSource` control that selects courses, that enables inserting, and that specifies a handler for the `Inserting` event.</span></span> <span data-ttu-id="5ab40-122">İşleyici, güncelleştirme için kullanacağınız `Department` yeni bir gezinti özelliği `Course` varlık oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-122">You'll use the handler to update the `Department` navigation property when a new `Course` entity is created.</span></span>

<span data-ttu-id="5ab40-123">Biçimlendirme ayrıca oluşturur bir `DetailsView` yeni eklemek için kullanılacak denetim `Course` varlıklar.</span><span class="sxs-lookup"><span data-stu-id="5ab40-123">The markup also creates a `DetailsView` control to use for adding new `Course` entities.</span></span> <span data-ttu-id="5ab40-124">İşaretleme için ilişkili alanları kullanan `Course` varlık özellikleri.</span><span class="sxs-lookup"><span data-stu-id="5ab40-124">The markup uses bound fields for `Course` entity properties.</span></span> <span data-ttu-id="5ab40-125">Girmek zorunda `CourseID` bir sistem tarafından oluşturulan Kimliği alanı olmadığından değer.</span><span class="sxs-lookup"><span data-stu-id="5ab40-125">You have to enter the `CourseID` value because this is not a system-generated ID field.</span></span> <span data-ttu-id="5ab40-126">Bunun yerine, bu kurs oluşturulduğunda el ile belirtilmelidir bir kurs sayıdır.</span><span class="sxs-lookup"><span data-stu-id="5ab40-126">Instead, it's a course number that must be specified manually when the course is created.</span></span>

<span data-ttu-id="5ab40-127">Bir şablon alan için kullandığınız `Department` gezinme özelliğinin Gezinti özellikleri kullanılamaz çünkü `BoundField` denetimleri.</span><span class="sxs-lookup"><span data-stu-id="5ab40-127">You use a template field for the `Department` navigation property because navigation properties cannot be used with `BoundField` controls.</span></span> <span data-ttu-id="5ab40-128">Şablon alanını bölümü seçmek için aşağı açılan listesini sağlar.</span><span class="sxs-lookup"><span data-stu-id="5ab40-128">The template field provides a drop-down list to select the department.</span></span> <span data-ttu-id="5ab40-129">Açılır listede bağlı `Departments` varlık kümesi kullanarak `Eval` yerine `Bind`, yeniden bunları güncelleştirmek için Gezinti özellikleri doğrudan bağlanamadığı için.</span><span class="sxs-lookup"><span data-stu-id="5ab40-129">The drop-down list is bound to the `Departments` entity set by using `Eval` rather than `Bind`, again because you cannot directly bind navigation properties in order to update them.</span></span> <span data-ttu-id="5ab40-130">İçin bir işleyici belirttiğiniz `DropDownList` denetimin `Init` olay güncelleştirmeleri kod tarafından denetim kullanmak için bir başvuru depolayabileceğiniz `DepartmentID` yabancı anahtar.</span><span class="sxs-lookup"><span data-stu-id="5ab40-130">You specify a handler for the `DropDownList` control's `Init` event so that you can store a reference to the control for use by the code that updates the `DepartmentID` foreign key.</span></span>

<span data-ttu-id="5ab40-131">İçinde *CoursesAdd.aspx.cs* kısmi sınıf bildiriminden hemen sonra bir başvuru tutmak için bir sınıf alanı eklemek `DepartmentsDropDownList` denetimi:</span><span class="sxs-lookup"><span data-stu-id="5ab40-131">In *CoursesAdd.aspx.cs* just after the partial-class declaration, add a class field to hold a reference to the `DepartmentsDropDownList` control:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample2.cs)]

<span data-ttu-id="5ab40-132">İçin bir işleyici eklemek `DepartmentsDropDownList` denetimin `Init` olay böylece denetimine bir başvuru depolayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="5ab40-132">Add a handler for the `DepartmentsDropDownList` control's `Init` event so that you can store a reference to the control.</span></span> <span data-ttu-id="5ab40-133">Bu, kullanıcı girilen değer almak ve güncelleştirmek için kullanın sağlar `DepartmentID` değerini `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-133">This lets you get the value the user has entered and use it to update the `DepartmentID` value of the `Course` entity.</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample3.cs)]

<span data-ttu-id="5ab40-134">İçin bir işleyici eklemek `DetailsView` denetimin `Inserting` olay:</span><span class="sxs-lookup"><span data-stu-id="5ab40-134">Add a handler for the `DetailsView` control's `Inserting` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample4.cs)]

<span data-ttu-id="5ab40-135">Kullanıcı tıkladığında `Insert`, `Inserting` yeni kayıt eklenmeden önce olayı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-135">When the user clicks `Insert`, the `Inserting` event is raised before the new record is inserted.</span></span> <span data-ttu-id="5ab40-136">İşleyici kodu alır `DepartmentID` gelen `DropDownList` için kullanılacak değeri ayarlamak için kullanır ve Denetim `DepartmentID` özelliği `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-136">The code in the handler gets the `DepartmentID` from the `DropDownList` control and uses it to set the value that will be used for the `DepartmentID` property of the `Course` entity.</span></span>

<span data-ttu-id="5ab40-137">Varlık Çerçevesi'Bu kursa ekleme ilgileniriz `Courses` ilişkilendirilen gezinme özelliğini `Department` varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-137">The Entity Framework will take care of adding this course to the `Courses` navigation property of the associated `Department` entity.</span></span> <span data-ttu-id="5ab40-138">Ayrıca bölümüne ekler `Department` gezinti özelliği `Course` varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-138">It also adds the department to the `Department` navigation property of the `Course` entity.</span></span>

<span data-ttu-id="5ab40-139">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="5ab40-139">Run the page.</span></span>

<span data-ttu-id="5ab40-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="5ab40-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span></span>

<span data-ttu-id="5ab40-141">Kimlik, başlık, KREDİLERİ, bir dizi girin ve bir bölüm seçin ve ardından tıklayın **Ekle**.</span><span class="sxs-lookup"><span data-stu-id="5ab40-141">Enter an ID, a title, a number of credits, and select a department, then click **Insert**.</span></span>

<span data-ttu-id="5ab40-142">Çalıştırma *Courses.aspx* sayfasında ve yeni kurs görmek için aynı bölüm seçin.</span><span class="sxs-lookup"><span data-stu-id="5ab40-142">Run the *Courses.aspx* page, and select the same department to see the new course.</span></span>

<span data-ttu-id="5ab40-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="5ab40-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span></span>

## <a name="working-with-many-to-many-relationships"></a><span data-ttu-id="5ab40-144">Çoktan çoğa ilişki ile çalışma</span><span class="sxs-lookup"><span data-stu-id="5ab40-144">Working with Many-to-Many Relationships</span></span>

<span data-ttu-id="5ab40-145">Arasındaki ilişkiyi `Courses` varlık kümesi ve `People` varlık bir çoktan çoğa ilişki kümesidir.</span><span class="sxs-lookup"><span data-stu-id="5ab40-145">The relationship between the `Courses` entity set and the `People` entity set is a many-to-many relationship.</span></span> <span data-ttu-id="5ab40-146">A `Course` varlığın yok adlı bir gezinti özelliği `People` sıfır, bir veya daha fazla ilgili içerebilir `Person` varlıklar (Bu kurs öğretmeyi atanan eğitmenler temsil eder).</span><span class="sxs-lookup"><span data-stu-id="5ab40-146">A `Course` entity has a navigation property named `People` that can contain zero, one, or more related `Person` entities (representing instructors assigned to teach that course).</span></span> <span data-ttu-id="5ab40-147">Ve `Person` varlığın yok adlı bir gezinti özelliği `Courses` sıfır, bir veya daha fazla ilgili içerebilir `Course` varlıklar (kursları temsil eden Bu eğitmen öğretmeyi atanır).</span><span class="sxs-lookup"><span data-stu-id="5ab40-147">And a `Person` entity has a navigation property named `Courses` that can contain zero, one, or more related `Course` entities (representing courses that instructor is assigned to teach).</span></span> <span data-ttu-id="5ab40-148">Birden çok kursları bir eğitmen öğretin ve bir kurs birden çok Eğitmenler tarafından verilen.</span><span class="sxs-lookup"><span data-stu-id="5ab40-148">One instructor might teach multiple courses, and one course might be taught by multiple instructors.</span></span> <span data-ttu-id="5ab40-149">Kılavuzun bu bölümünde ekleyecek ve arasındaki ilişkilerin silinebileceğini `Person` ve `Course` ilgili varlıkları Gezinti özelliklerini güncelleştirerek varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-149">In this section of the walkthrough, you'll add and remove relationships between `Person` and `Course` entities by updating the navigation properties of the related entities.</span></span>

<span data-ttu-id="5ab40-150">Adlı yeni bir web sayfası oluşturma *InstructorsCourses.aspx* kullanan *Site.Master* ana sayfa ve eklemek için aşağıdaki biçimlendirme `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="5ab40-150">Create a new web page named *InstructorsCourses.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample5.aspx)]

<span data-ttu-id="5ab40-151">Bu biçimlendirme oluşturur bir `EntityDataSource` denetim adını alır ve `PersonID` , `Person` eğitmen için varlıklar.</span><span class="sxs-lookup"><span data-stu-id="5ab40-151">This markup creates an `EntityDataSource` control that retrieves the name and `PersonID` of `Person` entities for instructors.</span></span> <span data-ttu-id="5ab40-152">A `DropDrownList` denetimin bağlı `EntityDataSource` denetimi.</span><span class="sxs-lookup"><span data-stu-id="5ab40-152">A `DropDrownList` control is bound to the `EntityDataSource` control.</span></span> <span data-ttu-id="5ab40-153">`DropDownList` Denetimi için bir işleyici belirtir `DataBound` olay.</span><span class="sxs-lookup"><span data-stu-id="5ab40-153">The `DropDownList` control specifies a handler for the `DataBound` event.</span></span> <span data-ttu-id="5ab40-154">Bu işleyici kursları görüntüle databind iki açılan listelere kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="5ab40-154">You'll use this handler to databind the two drop-down lists that display courses.</span></span>

<span data-ttu-id="5ab40-155">Biçimlendirme da aşağıdaki grubunun bir kurs için seçili eğitmen atamak için kullanılacak denetimleri oluşturur:</span><span class="sxs-lookup"><span data-stu-id="5ab40-155">The markup also creates the following group of controls to use for assigning a course to the selected instructor:</span></span>

- <span data-ttu-id="5ab40-156">A `DropDownList` atamak için bir kurs seçmek için denetim.</span><span class="sxs-lookup"><span data-stu-id="5ab40-156">A `DropDownList` control for selecting a course to assign.</span></span> <span data-ttu-id="5ab40-157">Bu denetim, şu anda seçili eğitmen için atanmamış kurslar ile doldurulur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-157">This control will be populated with courses that are currently not assigned to the selected instructor.</span></span>
- <span data-ttu-id="5ab40-158">A `Button` atama başlatmak için denetim.</span><span class="sxs-lookup"><span data-stu-id="5ab40-158">A `Button` control to initiate the assignment.</span></span>
- <span data-ttu-id="5ab40-159">A `Label` denetimi atama başarısız olursa bir hata iletisi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="5ab40-159">A `Label` control to display an error message if the assignment fails.</span></span>

<span data-ttu-id="5ab40-160">Son olarak, biçimlendirme, ayrıca bir kurs seçili Eğitmen kaldırmak için kullanılacak denetimler grubu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-160">Finally, the markup also creates a group of controls to use for removing a course from the selected instructor.</span></span>

<span data-ttu-id="5ab40-161">İçinde *InstructorsCourses.aspx.cs*, kullanarak bir ekleme deyimi:</span><span class="sxs-lookup"><span data-stu-id="5ab40-161">In *InstructorsCourses.aspx.cs*, add a using statement:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample6.cs)]

<span data-ttu-id="5ab40-162">Kursları görüntüleyen açılan listelerini doldurmak için bir yöntem ekleyin:</span><span class="sxs-lookup"><span data-stu-id="5ab40-162">Add a method for populating the two drop-down lists that display courses:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample7.cs)]

<span data-ttu-id="5ab40-163">Bu kod tüm kurslardan alır `Courses` varlık kümesi ve kurslardan alır `Courses` gezinti özelliği `Person` seçili eğitmen için varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-163">This code gets all courses from the `Courses` entity set and gets the courses from the `Courses` navigation property of the `Person` entity for the selected instructor.</span></span> <span data-ttu-id="5ab40-164">Bu eğitmen için hangi kursları atanma şeklini belirleyen ve açılır listede uygun şekilde doldurur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-164">It then determines which courses are assigned to that instructor and populates the drop-down lists accordingly.</span></span>

<span data-ttu-id="5ab40-165">İçin bir işleyici eklemek `Assign` düğmenin `Click` olay:</span><span class="sxs-lookup"><span data-stu-id="5ab40-165">Add a handler for the `Assign` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample8.cs)]

<span data-ttu-id="5ab40-166">Bu kod alır `Person` seçili Eğitmen varlığı alır `Course` seçili kursa, varlık ve seçili kursa ekler `Courses` Eğitmen gezinti özelliği `Person` varlık.</span><span class="sxs-lookup"><span data-stu-id="5ab40-166">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and adds the selected course to the `Courses` navigation property of the instructor's `Person` entity.</span></span> <span data-ttu-id="5ab40-167">Değişiklikleri veritabanına kaydeder ve sonuçları hemen görülebilir şekilde açılan listeler yeniden doldurur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-167">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="5ab40-168">İçin bir işleyici eklemek `Remove` düğmenin `Click` olay:</span><span class="sxs-lookup"><span data-stu-id="5ab40-168">Add a handler for the `Remove` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample9.cs)]

<span data-ttu-id="5ab40-169">Bu kod alır `Person` seçili Eğitmen varlığı alır `Course` seçili kursa, varlık ve seçili kursuna kaldırır `Person` varlığın `Courses` gezinme özelliği.</span><span class="sxs-lookup"><span data-stu-id="5ab40-169">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and removes the selected course from the `Person` entity's `Courses` navigation property.</span></span> <span data-ttu-id="5ab40-170">Değişiklikleri veritabanına kaydeder ve sonuçları hemen görülebilir şekilde açılan listeler yeniden doldurur.</span><span class="sxs-lookup"><span data-stu-id="5ab40-170">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="5ab40-171">Kodu `Page_Load` hata iletileri xenapp'i yöntemi görünür değildir rapor ve işleyicileri eklemek için herhangi bir hata olduğunda `DataBound` ve `SelectedIndexChanged` kursları açılan listeler doldurmak için Eğitmenler aşağı açılan listesinin olayları:</span><span class="sxs-lookup"><span data-stu-id="5ab40-171">Add code to the `Page_Load` method that makes sure the error messages are not visible when there's no error to report, and add handlers for the `DataBound` and `SelectedIndexChanged` events of the instructors drop-down list to populate the courses drop-down lists:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample10.cs)]

<span data-ttu-id="5ab40-172">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="5ab40-172">Run the page.</span></span>

<span data-ttu-id="5ab40-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="5ab40-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span></span>

<span data-ttu-id="5ab40-174">Bir eğitmen seçin.</span><span class="sxs-lookup"><span data-stu-id="5ab40-174">Select an instructor.</span></span> <span data-ttu-id="5ab40-175"><strong>Kurs atama</strong> aşağı açılan liste görüntüler Eğitmen öğretmek değildir, kursları ve <strong>kurs kaldırmak</strong> Eğitmen zaten atanan kursları aşağı açılan liste görüntüler.</span><span class="sxs-lookup"><span data-stu-id="5ab40-175">The <strong>Assign a Course</strong> drop-down list displays the courses that the instructor doesn't teach, and the <strong>Remove a Course</strong> drop-down list displays the courses that the instructor is already assigned to.</span></span> <span data-ttu-id="5ab40-176">İçinde <strong>kurs atama</strong> bölümünde bir kurs seçin ve ardından <strong>atama</strong>.</span><span class="sxs-lookup"><span data-stu-id="5ab40-176">In the <strong>Assign a Course</strong> section, select a course and then click <strong>Assign</strong>.</span></span> <span data-ttu-id="5ab40-177">Kursu taşır <strong>kurs kaldırmak</strong> aşağı açılan listesi.</span><span class="sxs-lookup"><span data-stu-id="5ab40-177">The course moves to the <strong>Remove a Course</strong> drop-down list.</span></span> <span data-ttu-id="5ab40-178">Kurs seçin <strong>kurs kaldırmak</strong> 'ye tıklayın <strong>Kaldır</strong><em>.</em></span><span class="sxs-lookup"><span data-stu-id="5ab40-178">Select a course in the <strong>Remove a Course</strong> section and click <strong>Remove</strong><em>.</em></span></span> <span data-ttu-id="5ab40-179">Kursu taşır <strong>kurs atama</strong> aşağı açılan listesi.</span><span class="sxs-lookup"><span data-stu-id="5ab40-179">The course moves to the <strong>Assign a Course</strong> drop-down list.</span></span>

<span data-ttu-id="5ab40-180">Şimdi, ilgili verilerle çalışmak için bazı daha yollarını öğrendiniz.</span><span class="sxs-lookup"><span data-stu-id="5ab40-180">You have now seen some more ways to work with related data.</span></span> <span data-ttu-id="5ab40-181">Aşağıdaki öğreticide devralma veri modelinde sürdürülebilirliği uygulamanızı geliştirmek için nasıl kullanılacağını öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="5ab40-181">In the following tutorial, you'll learn how to use inheritance in the data model to improve the maintainability of your application.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="5ab40-182">[Önceki](the-entity-framework-and-aspnet-getting-started-part-4.md)
> [İleri](the-entity-framework-and-aspnet-getting-started-part-6.md)</span><span class="sxs-lookup"><span data-stu-id="5ab40-182">[Previous](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-6.md)</span></span>
