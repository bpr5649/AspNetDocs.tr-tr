---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
title: Entity Framework 4,0 Database First ve ASP.NET 4 Web Forms-Bölüm 5 ' i kullanmaya başlama Microsoft Docs
author: tdykstra
description: Contoso Üniversitesi örnek Web uygulaması, Entity Framework kullanarak nasıl ASP.NET Web Forms uygulamalar oluşturacağınızı gösterir. Örnek uygulama...
ms.author: riande
ms.date: 12/03/2010
ms.assetid: 24ad4379-3fb2-44dc-ba59-85fe0ffcb2ae
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-5
msc.type: authoredcontent
ms.openlocfilehash: 75328e67abb4295b619cac5423a9eb970942fff7
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78528002"
---
# <a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-5"></a><span data-ttu-id="43d46-104">Entity Framework 4,0 Database First ve ASP.NET 4 Web Forms ile çalışmaya başlama-5. Bölüm</span><span class="sxs-lookup"><span data-stu-id="43d46-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 5</span></span>

<span data-ttu-id="43d46-105">[Tom Dykstra](https://github.com/tdykstra) tarafından</span><span class="sxs-lookup"><span data-stu-id="43d46-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="43d46-106">Contoso Üniversitesi örnek Web uygulaması, 4,0 ve Visual Studio 2010 Entity Framework kullanarak nasıl ASP.NET Web Forms uygulamalar oluşturacağınızı gösterir.</span><span class="sxs-lookup"><span data-stu-id="43d46-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="43d46-107">Öğretici serisi hakkında daha fazla bilgi için, [serideki ilk öğreticiye](the-entity-framework-and-aspnet-getting-started-part-1.md) bakın</span><span class="sxs-lookup"><span data-stu-id="43d46-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>

## <a name="working-with-related-data-continued"></a><span data-ttu-id="43d46-108">Ilgili verilerle çalışma, devam eden</span><span class="sxs-lookup"><span data-stu-id="43d46-108">Working with Related Data, Continued</span></span>

<span data-ttu-id="43d46-109">Önceki öğreticide, ilgili verilerle çalışmak için `EntityDataSource` denetimini kullanmaya başladığınızdan.</span><span class="sxs-lookup"><span data-stu-id="43d46-109">In the previous tutorial you began to use the `EntityDataSource` control to work with related data.</span></span> <span data-ttu-id="43d46-110">Gezinti özelliklerinde birden fazla hiyerarşi düzeyi ve düzenlenmiş veri görüntülendi.</span><span class="sxs-lookup"><span data-stu-id="43d46-110">You displayed multiple levels of hierarchy and edited data in navigation properties.</span></span> <span data-ttu-id="43d46-111">Bu öğreticide, ilişki ekleyerek ve silerek ve var olan bir varlığa ilişki olan yeni bir varlık ekleyerek ilgili verilerle çalışmaya devam edersiniz.</span><span class="sxs-lookup"><span data-stu-id="43d46-111">In this tutorial you'll continue to work with related data by adding and deleting relationships and by adding a new entity that has a relationship to an existing entity.</span></span>

<span data-ttu-id="43d46-112">Departmanlara atanan kurslar ekleyen bir sayfa oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-112">You'll create a page that adds courses that are assigned to departments.</span></span> <span data-ttu-id="43d46-113">Departmanlar zaten mevcut ve yeni bir kurs oluşturduğunuzda, bu ve mevcut bir departman arasında bir ilişki kurarsınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-113">The departments already exist, and when you create a new course, at the same time you'll establish a relationship between it and an existing department.</span></span>

<span data-ttu-id="43d46-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="43d46-114">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image1.png)</span></span>

<span data-ttu-id="43d46-115">Ayrıca, bir kursa bir eğitmen atayarak (seçtiğiniz iki varlık arasında bir ilişki ekleyerek) veya bir Kurstaki bir eğitmeni kaldırarak çoktan çoğa ilişki ile çalışacak bir sayfa oluşturacaksınız (iki varlık arasındaki ilişkiyi kaldırma seçin).</span><span class="sxs-lookup"><span data-stu-id="43d46-115">You'll also create a page that works with a many-to-many relationship by assigning an instructor to a course (adding a relationship between two entities that you select) or removing an instructor from a course (removing a relationship between two entities that you select).</span></span> <span data-ttu-id="43d46-116">Veritabanında, bir eğitmen ve kurs arasında bir ilişki eklemek `CourseInstructor` ilişkilendirme tablosuna yeni bir satır eklenmesine neden olur. bir ilişkinin kaldırılması `CourseInstructor` ilişkilendirme tablosundan bir satırı silmeyi içerir.</span><span class="sxs-lookup"><span data-stu-id="43d46-116">In the database, adding a relationship between an instructor and a course results in a new row being added to the `CourseInstructor` association table; removing a relationship involves deleting a row from the `CourseInstructor` association table.</span></span> <span data-ttu-id="43d46-117">Ancak bunu, `CourseInstructor` tablosuna açıkça başvurulmadan, gezinti özelliklerini ayarlayarak Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="43d46-117">However, you do this in the Entity Framework by setting navigation properties, without referring to the `CourseInstructor` table explicitly.</span></span>

<span data-ttu-id="43d46-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="43d46-118">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image3.png)</span></span>

## <a name="adding-an-entity-with-a-relationship-to-an-existing-entity"></a><span data-ttu-id="43d46-119">Mevcut bir varlığa Ilişki içeren bir varlık ekleme</span><span class="sxs-lookup"><span data-stu-id="43d46-119">Adding an Entity with a Relationship to an Existing Entity</span></span>

<span data-ttu-id="43d46-120">*Site. Master* ana sayfasını kullanan *CoursesAdd. aspx* adlı yeni bir web sayfası oluşturun ve `Content2`adlı `Content` denetimine aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-120">Create a new web page named *CoursesAdd.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample1.aspx)]

<span data-ttu-id="43d46-121">Bu biçimlendirme, ekleme sağlayan ve `Inserting` olayı için bir işleyici belirten kurslar seçen bir `EntityDataSource` denetimi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="43d46-121">This markup creates an `EntityDataSource` control that selects courses, that enables inserting, and that specifies a handler for the `Inserting` event.</span></span> <span data-ttu-id="43d46-122">Yeni bir `Course` varlık oluşturulduğunda `Department` gezinti özelliğini güncellemek için işleyiciyi kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-122">You'll use the handler to update the `Department` navigation property when a new `Course` entity is created.</span></span>

<span data-ttu-id="43d46-123">Biçimlendirme Ayrıca yeni `Course` varlıkları eklemek için kullanmak üzere bir `DetailsView` denetimi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="43d46-123">The markup also creates a `DetailsView` control to use for adding new `Course` entities.</span></span> <span data-ttu-id="43d46-124">Biçimlendirme `Course` varlık özellikleri için bağlantılı alanları kullanır.</span><span class="sxs-lookup"><span data-stu-id="43d46-124">The markup uses bound fields for `Course` entity properties.</span></span> <span data-ttu-id="43d46-125">Bu, sistem tarafından oluşturulan bir KIMLIK alanı olmadığından `CourseID` değerini girmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="43d46-125">You have to enter the `CourseID` value because this is not a system-generated ID field.</span></span> <span data-ttu-id="43d46-126">Bunun yerine, kurs oluşturulduğunda el ile belirtilmesi gereken bir kurs numarasıdır.</span><span class="sxs-lookup"><span data-stu-id="43d46-126">Instead, it's a course number that must be specified manually when the course is created.</span></span>

<span data-ttu-id="43d46-127">Gezinti özellikleri `BoundField` denetimleriyle kullanılamadığından `Department` gezinti özelliği için bir şablon alanı kullanırsınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-127">You use a template field for the `Department` navigation property because navigation properties cannot be used with `BoundField` controls.</span></span> <span data-ttu-id="43d46-128">Şablon alanı, departmanı seçmek için bir açılır liste sağlar.</span><span class="sxs-lookup"><span data-stu-id="43d46-128">The template field provides a drop-down list to select the department.</span></span> <span data-ttu-id="43d46-129">Aşağı açılan liste, `Bind`yerine `Eval` kullanılarak `Departments` varlık kümesine bağlanır, çünkü onları güncelleştirmek için doğrudan doğrudan bağlayamazsınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-129">The drop-down list is bound to the `Departments` entity set by using `Eval` rather than `Bind`, again because you cannot directly bind navigation properties in order to update them.</span></span> <span data-ttu-id="43d46-130">`DepartmentID` yabancı anahtarı güncelleştiren kodun kullanımı için bir başvuruyu depolayabilmeniz için `DropDownList` denetiminin `Init` olayı için bir işleyici belirtirsiniz.</span><span class="sxs-lookup"><span data-stu-id="43d46-130">You specify a handler for the `DropDownList` control's `Init` event so that you can store a reference to the control for use by the code that updates the `DepartmentID` foreign key.</span></span>

<span data-ttu-id="43d46-131">*CoursesAdd.aspx.cs* ' de, yalnızca kısmi sınıf bildiriminden sonra, `DepartmentsDropDownList` denetimine bir başvuru tutmak için bir sınıf alanı ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-131">In *CoursesAdd.aspx.cs* just after the partial-class declaration, add a class field to hold a reference to the `DepartmentsDropDownList` control:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample2.cs)]

<span data-ttu-id="43d46-132">Denetime bir başvuru depolayabilmeniz için `DepartmentsDropDownList` denetiminin `Init` olayı için bir işleyici ekleyin.</span><span class="sxs-lookup"><span data-stu-id="43d46-132">Add a handler for the `DepartmentsDropDownList` control's `Init` event so that you can store a reference to the control.</span></span> <span data-ttu-id="43d46-133">Bu, kullanıcının girdiği değeri almanıza ve `Course` varlığının `DepartmentID` değerini güncelleştirmek için kullanmasına olanak sağlar.</span><span class="sxs-lookup"><span data-stu-id="43d46-133">This lets you get the value the user has entered and use it to update the `DepartmentID` value of the `Course` entity.</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample3.cs)]

<span data-ttu-id="43d46-134">`DetailsView` denetiminin `Inserting` olayı için bir işleyici ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-134">Add a handler for the `DetailsView` control's `Inserting` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample4.cs)]

<span data-ttu-id="43d46-135">Kullanıcı `Insert`tıkladığında, yeni kayıt eklenmeden önce `Inserting` olayı oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="43d46-135">When the user clicks `Insert`, the `Inserting` event is raised before the new record is inserted.</span></span> <span data-ttu-id="43d46-136">İşleyicisindeki kod, `DropDownList` denetiminden `DepartmentID` alır ve `Course` varlığının `DepartmentID` özelliği için kullanılacak değeri ayarlamak için onu kullanır.</span><span class="sxs-lookup"><span data-stu-id="43d46-136">The code in the handler gets the `DepartmentID` from the `DropDownList` control and uses it to set the value that will be used for the `DepartmentID` property of the `Course` entity.</span></span>

<span data-ttu-id="43d46-137">Entity Framework, bu kursu ilişkili `Department` varlığının `Courses` gezinti özelliğine ekleme işlemini gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="43d46-137">The Entity Framework will take care of adding this course to the `Courses` navigation property of the associated `Department` entity.</span></span> <span data-ttu-id="43d46-138">Ayrıca, departmanı `Course` varlığının `Department` gezinti özelliğine de ekler.</span><span class="sxs-lookup"><span data-stu-id="43d46-138">It also adds the department to the `Department` navigation property of the `Course` entity.</span></span>

<span data-ttu-id="43d46-139">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="43d46-139">Run the page.</span></span>

<span data-ttu-id="43d46-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="43d46-140">[![Image02](the-entity-framework-and-aspnet-getting-started-part-5/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image5.png)</span></span>

<span data-ttu-id="43d46-141">Bir KIMLIK, başlık, bir kredi sayısı girip bir departman seçip **Ekle**' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="43d46-141">Enter an ID, a title, a number of credits, and select a department, then click **Insert**.</span></span>

<span data-ttu-id="43d46-142">*Kurslar. aspx* sayfasını çalıştırın ve yeni kursu görmek için aynı departmanı seçin.</span><span class="sxs-lookup"><span data-stu-id="43d46-142">Run the *Courses.aspx* page, and select the same department to see the new course.</span></span>

<span data-ttu-id="43d46-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="43d46-143">[![Image03](the-entity-framework-and-aspnet-getting-started-part-5/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image7.png)</span></span>

## <a name="working-with-many-to-many-relationships"></a><span data-ttu-id="43d46-144">Çoktan çoğa Ilişkilerle çalışma</span><span class="sxs-lookup"><span data-stu-id="43d46-144">Working with Many-to-Many Relationships</span></span>

<span data-ttu-id="43d46-145">`Courses` varlık kümesi ve `People` varlık kümesi arasındaki ilişki çoka çok ilişkidir.</span><span class="sxs-lookup"><span data-stu-id="43d46-145">The relationship between the `Courses` entity set and the `People` entity set is a many-to-many relationship.</span></span> <span data-ttu-id="43d46-146">`Course` varlık, sıfır, bir veya daha fazla ilgili `Person` varlığı içerebilen `People` adlı bir gezinti özelliğine sahiptir (Bu kursu öğretmede atanan eğitmenleri temsil eder).</span><span class="sxs-lookup"><span data-stu-id="43d46-146">A `Course` entity has a navigation property named `People` that can contain zero, one, or more related `Person` entities (representing instructors assigned to teach that course).</span></span> <span data-ttu-id="43d46-147">`Person` bir varlık, sıfır, bir veya daha fazla ilgili `Course` varlığı içerebilen `Courses` adlı bir gezinti özelliğine sahiptir (eğitmen 'in öğretmek için bu kursu temsil eder).</span><span class="sxs-lookup"><span data-stu-id="43d46-147">And a `Person` entity has a navigation property named `Courses` that can contain zero, one, or more related `Course` entities (representing courses that instructor is assigned to teach).</span></span> <span data-ttu-id="43d46-148">Bir eğitmen birden çok kurs öğretebilir ve bir kurs birden fazla eğitmen tarafından tada gelebilir.</span><span class="sxs-lookup"><span data-stu-id="43d46-148">One instructor might teach multiple courses, and one course might be taught by multiple instructors.</span></span> <span data-ttu-id="43d46-149">İzlenecek yolun bu bölümünde, ilgili varlıkların gezinti özelliklerini güncelleştirerek `Person` ve `Course` varlıkları arasında ilişkiler ekleyip kaldıracaksınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-149">In this section of the walkthrough, you'll add and remove relationships between `Person` and `Course` entities by updating the navigation properties of the related entities.</span></span>

<span data-ttu-id="43d46-150">*Site. Master* ana sayfasını kullanan *Komutctorskurslar. aspx* adlı yeni bir web sayfası oluşturun ve `Content2`adlı `Content` denetimine aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-150">Create a new web page named *InstructorsCourses.aspx* that uses the *Site.Master* master page, and add the following markup to the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample5.aspx)]

<span data-ttu-id="43d46-151">Bu biçimlendirme, Eğitmenler için `Person` varlıkların adını ve `PersonID` alan bir `EntityDataSource` denetimi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="43d46-151">This markup creates an `EntityDataSource` control that retrieves the name and `PersonID` of `Person` entities for instructors.</span></span> <span data-ttu-id="43d46-152">`DropDrownList` denetim `EntityDataSource` denetimine bağlanır.</span><span class="sxs-lookup"><span data-stu-id="43d46-152">A `DropDrownList` control is bound to the `EntityDataSource` control.</span></span> <span data-ttu-id="43d46-153">`DropDownList` denetimi `DataBound` olayı için bir işleyici belirtir.</span><span class="sxs-lookup"><span data-stu-id="43d46-153">The `DropDownList` control specifies a handler for the `DataBound` event.</span></span> <span data-ttu-id="43d46-154">Bu işleyiciyi, kursları görüntüleyen iki açılan listeyi bağlamak için kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="43d46-154">You'll use this handler to databind the two drop-down lists that display courses.</span></span>

<span data-ttu-id="43d46-155">Biçimlendirme Ayrıca seçili eğitmene bir kurs atamak için kullanılacak aşağıdaki denetim gruplarını oluşturur:</span><span class="sxs-lookup"><span data-stu-id="43d46-155">The markup also creates the following group of controls to use for assigning a course to the selected instructor:</span></span>

- <span data-ttu-id="43d46-156">Atanacak kursu seçmek için `DropDownList` bir denetim.</span><span class="sxs-lookup"><span data-stu-id="43d46-156">A `DropDownList` control for selecting a course to assign.</span></span> <span data-ttu-id="43d46-157">Bu denetim, seçili eğitmende Şu anda atanmamış kurslar ile doldurulur.</span><span class="sxs-lookup"><span data-stu-id="43d46-157">This control will be populated with courses that are currently not assigned to the selected instructor.</span></span>
- <span data-ttu-id="43d46-158">Atamayı başlatmak için bir `Button` denetimi.</span><span class="sxs-lookup"><span data-stu-id="43d46-158">A `Button` control to initiate the assignment.</span></span>
- <span data-ttu-id="43d46-159">Atama başarısız olursa bir hata iletisi göstermek için `Label` denetimi.</span><span class="sxs-lookup"><span data-stu-id="43d46-159">A `Label` control to display an error message if the assignment fails.</span></span>

<span data-ttu-id="43d46-160">Son olarak, biçimlendirme Ayrıca seçili eğitmenden bir kursu kaldırmak için kullanılacak bir denetim grubu oluşturur.</span><span class="sxs-lookup"><span data-stu-id="43d46-160">Finally, the markup also creates a group of controls to use for removing a course from the selected instructor.</span></span>

<span data-ttu-id="43d46-161">*InstructorsCourses.aspx.cs*içinde, bir using ifadesini ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-161">In *InstructorsCourses.aspx.cs*, add a using statement:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample6.cs)]

<span data-ttu-id="43d46-162">Kursları görüntüleyen iki açılan listeyi doldurmak için bir yöntem ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-162">Add a method for populating the two drop-down lists that display courses:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample7.cs)]

<span data-ttu-id="43d46-163">Bu kod `Courses` varlık kümesinden tüm kursları alır ve seçilen eğitmenin `Person` varlığının `Courses` gezinti özelliğinden kurslar alır.</span><span class="sxs-lookup"><span data-stu-id="43d46-163">This code gets all courses from the `Courses` entity set and gets the courses from the `Courses` navigation property of the `Person` entity for the selected instructor.</span></span> <span data-ttu-id="43d46-164">Daha sonra bu eğitmene hangi kursların atandığını belirler ve açılan listeleri buna göre doldurur.</span><span class="sxs-lookup"><span data-stu-id="43d46-164">It then determines which courses are assigned to that instructor and populates the drop-down lists accordingly.</span></span>

<span data-ttu-id="43d46-165">`Assign` düğmenin `Click` olayı için bir işleyici ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-165">Add a handler for the `Assign` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample8.cs)]

<span data-ttu-id="43d46-166">Bu kod, seçilen eğitmenin `Person` varlığını alır, seçili kurs için `Course` varlığını alır ve seçili kursu, eğitmenin `Person` varlığının `Courses` gezinti özelliğine ekler.</span><span class="sxs-lookup"><span data-stu-id="43d46-166">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and adds the selected course to the `Courses` navigation property of the instructor's `Person` entity.</span></span> <span data-ttu-id="43d46-167">Daha sonra değişiklikleri veritabanına kaydeder ve sonuçların hemen görünebilmesi için açılan listeleri yeniden doldurur.</span><span class="sxs-lookup"><span data-stu-id="43d46-167">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="43d46-168">`Remove` düğmenin `Click` olayı için bir işleyici ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-168">Add a handler for the `Remove` button's `Click` event:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample9.cs)]

<span data-ttu-id="43d46-169">Bu kod, seçilen eğitmenin `Person` varlığını alır, seçili kurs için `Course` varlığını alır ve seçilen kursu `Person` varlığın `Courses` gezinti özelliğinden kaldırır.</span><span class="sxs-lookup"><span data-stu-id="43d46-169">This code gets the `Person` entity for the selected instructor, gets the `Course` entity for the selected course, and removes the selected course from the `Person` entity's `Courses` navigation property.</span></span> <span data-ttu-id="43d46-170">Daha sonra değişiklikleri veritabanına kaydeder ve sonuçların hemen görünebilmesi için açılan listeleri yeniden doldurur.</span><span class="sxs-lookup"><span data-stu-id="43d46-170">It then saves the changes to the database and repopulates the drop-down lists so the results can be seen immediately.</span></span>

<span data-ttu-id="43d46-171">Raporlanacak hata olmadığında hata iletilerinin görünür olmadığından emin olan `Page_Load` yöntemine kod ekleyin ve kurslar açılan listelerini doldurmak için Eğitmenler açılan listesinin `DataBound` ve `SelectedIndexChanged` olaylarına yönelik işleyiciler ekleyin:</span><span class="sxs-lookup"><span data-stu-id="43d46-171">Add code to the `Page_Load` method that makes sure the error messages are not visible when there's no error to report, and add handlers for the `DataBound` and `SelectedIndexChanged` events of the instructors drop-down list to populate the courses drop-down lists:</span></span>

[!code-csharp[Main](the-entity-framework-and-aspnet-getting-started-part-5/samples/sample10.cs)]

<span data-ttu-id="43d46-172">Sayfayı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="43d46-172">Run the page.</span></span>

<span data-ttu-id="43d46-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="43d46-173">[![Image01](the-entity-framework-and-aspnet-getting-started-part-5/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-5/_static/image9.png)</span></span>

<span data-ttu-id="43d46-174">Bir eğitmen seçin.</span><span class="sxs-lookup"><span data-stu-id="43d46-174">Select an instructor.</span></span> <span data-ttu-id="43d46-175"><strong>Kurs atama</strong> açılan listesi, eğitmenin eğitim kurmadığı kursları görüntüler ve <strong>kursu kaldır</strong> açılır listesi, eğitmenin zaten atandığı kursları görüntüler.</span><span class="sxs-lookup"><span data-stu-id="43d46-175">The <strong>Assign a Course</strong> drop-down list displays the courses that the instructor doesn't teach, and the <strong>Remove a Course</strong> drop-down list displays the courses that the instructor is already assigned to.</span></span> <span data-ttu-id="43d46-176"><strong>Kurs ata</strong> bölümünde bir kurs seçin ve ardından <strong>ata</strong>' ya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="43d46-176">In the <strong>Assign a Course</strong> section, select a course and then click <strong>Assign</strong>.</span></span> <span data-ttu-id="43d46-177">Kurs, <strong>kursu kaldır</strong> açılır listesine gider.</span><span class="sxs-lookup"><span data-stu-id="43d46-177">The course moves to the <strong>Remove a Course</strong> drop-down list.</span></span> <span data-ttu-id="43d46-178"><strong>Kursu kaldır</strong> bölümünde bir kurs seçin ve Kaldır ' ı tıklatın<em>.</em></span><span class="sxs-lookup"><span data-stu-id="43d46-178">Select a course in the <strong>Remove a Course</strong> section and click <strong>Remove</strong><em>.</em></span></span> <span data-ttu-id="43d46-179">Kurs, <strong>Kurs ata</strong> açılır listesine gider.</span><span class="sxs-lookup"><span data-stu-id="43d46-179">The course moves to the <strong>Assign a Course</strong> drop-down list.</span></span>

<span data-ttu-id="43d46-180">Artık ilgili verilerle çalışmanın daha fazla yolunu gördünüz.</span><span class="sxs-lookup"><span data-stu-id="43d46-180">You have now seen some more ways to work with related data.</span></span> <span data-ttu-id="43d46-181">Aşağıdaki öğreticide, uygulamanızın bakımlılığını artırmak için veri modelinde devralmayı nasıl kullanacağınızı öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="43d46-181">In the following tutorial, you'll learn how to use inheritance in the data model to improve the maintainability of your application.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="43d46-182">[Önceki](the-entity-framework-and-aspnet-getting-started-part-4.md)
> [İleri](the-entity-framework-and-aspnet-getting-started-part-6.md)</span><span class="sxs-lookup"><span data-stu-id="43d46-182">[Previous](the-entity-framework-and-aspnet-getting-started-part-4.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-6.md)</span></span>
