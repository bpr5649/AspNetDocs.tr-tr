---
uid: web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
title: ASP.NET 4 Entity Framework 4.0 Database First çalışmaya başlama ve Web Forms - 2. Bölüm | Microsoft Docs
author: tdykstra
description: Contoso University örnek web uygulaması, Entity Framework kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir. Örnek uygulamayı ediyor...
ms.author: riande
ms.date: 12/03/2010
ms.assetid: fb63a326-a4ae-4b0c-a4f5-412327197216
msc.legacyurl: /web-forms/overview/older-versions-getting-started/getting-started-with-ef/the-entity-framework-and-aspnet-getting-started-part-2
msc.type: authoredcontent
ms.openlocfilehash: bd6a2e29e6f0df04e39be29160e2e08cc99c4706
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65126859"
---
# <a name="getting-started-with-entity-framework-40-database-first-and-aspnet-4-web-forms---part-2"></a><span data-ttu-id="ec667-104">Entity Framework 4.0 Database First çalışmaya başlama ve ASP.NET 4 Web Forms - 2. Bölüm</span><span class="sxs-lookup"><span data-stu-id="ec667-104">Getting Started with Entity Framework 4.0 Database First and ASP.NET 4 Web Forms - Part 2</span></span>

<span data-ttu-id="ec667-105">tarafından [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="ec667-105">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

> <span data-ttu-id="ec667-106">Contoso University örnek web uygulaması Entity Framework 4.0 ve Visual Studio 2010 kullanarak ASP.NET Web Forms uygulamalarının nasıl oluşturulacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="ec667-106">The Contoso University sample web application demonstrates how to create ASP.NET Web Forms applications using the Entity Framework 4.0 and Visual Studio 2010.</span></span> <span data-ttu-id="ec667-107">Öğretici serisi hakkında daha fazla bilgi için bkz: [serideki ilk öğreticide](the-entity-framework-and-aspnet-getting-started-part-1.md)</span><span class="sxs-lookup"><span data-stu-id="ec667-107">For information about the tutorial series, see [the first tutorial in the series](the-entity-framework-and-aspnet-getting-started-part-1.md)</span></span>

## <a name="the-entitydatasource-control"></a><span data-ttu-id="ec667-108">EntityDataSource denetimi</span><span class="sxs-lookup"><span data-stu-id="ec667-108">The EntityDataSource Control</span></span>

<span data-ttu-id="ec667-109">Önceki öğreticide bir veri modeli bir web sitesi ve bir veritabanı oluşturdunuz.</span><span class="sxs-lookup"><span data-stu-id="ec667-109">In the previous tutorial you created a web site, a database, and a data model.</span></span> <span data-ttu-id="ec667-110">Bu öğreticide çalıştığınız `EntityDataSource` bir Entity Framework veri modeli ile çalışmak üzere kolaylaştırmak için ASP.NET sağlayan denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-110">In this tutorial you work with the `EntityDataSource` control that ASP.NET provides in order to make it easy to work with an Entity Framework data model.</span></span> <span data-ttu-id="ec667-111">Oluşturacağınız bir `GridView` görüntülemek ve Öğrenci verileri düzenleme denetimi bir `DetailsView` yeni Öğrenci eklemek için Denetim ve `DropDownList` (Bu, ilgili kurslar görüntülemek için daha sonra kullanacağınız) bir bölümü seçmek için denetim.</span><span class="sxs-lookup"><span data-stu-id="ec667-111">You'll create a `GridView` control for displaying and editing student data, a `DetailsView` control for adding new students, and a `DropDownList` control for selecting a department (which you'll use later for displaying associated courses).</span></span>

<span data-ttu-id="ec667-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-112">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image2.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image1.png)</span></span>

<span data-ttu-id="ec667-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-113">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image4.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image3.png)</span></span>

<span data-ttu-id="ec667-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-114">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image6.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image5.png)</span></span>

<span data-ttu-id="ec667-115">Bu uygulamada, giriş doğrulaması veritabanını güncelleştiren sayfalara ekleme gerekmez ve bazı hata işleme bir üretim uygulamasında gerekli olacak kadar güçlü olmayacaktır unutmayın.</span><span class="sxs-lookup"><span data-stu-id="ec667-115">Note that in this application you won't be adding input validation to pages that update the database, and some of the error handling will not be as robust as would be required in a production application.</span></span> <span data-ttu-id="ec667-116">Entity Framework'ü odaklanan bir öğretici tutar ve uzun alma tutar.</span><span class="sxs-lookup"><span data-stu-id="ec667-116">That keeps the tutorial focused on the Entity Framework and keeps it from getting too long.</span></span> <span data-ttu-id="ec667-117">Bu özellikler, uygulamanıza ekleme hakkında daha fazla bilgi için bkz. [kullanıcı girişini doğrulama ASP.NET Web Pages'de](https://msdn.microsoft.com/library/7kh55542.aspx) ve [hata işleme ASP.NET sayfaları ve uygulamalarında](https://msdn.microsoft.com/library/w16865z6.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec667-117">For details about how to add these features to your application, see [Validating User Input in ASP.NET Web Pages](https://msdn.microsoft.com/library/7kh55542.aspx) and [Error Handling in ASP.NET Pages and Applications](https://msdn.microsoft.com/library/w16865z6.aspx).</span></span>

## <a name="adding-and-configuring-the-entitydatasource-control"></a><span data-ttu-id="ec667-118">Ekleme ve EntityDataSource denetimi yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ec667-118">Adding and Configuring the EntityDataSource Control</span></span>

<span data-ttu-id="ec667-119">Yapılandırarak başlarsınız bir `EntityDataSource` okunacak denetim `Person` varlıklardan `People` varlık kümesi.</span><span class="sxs-lookup"><span data-stu-id="ec667-119">You'll begin by configuring an `EntityDataSource` control to read `Person` entities from the `People` entity set.</span></span>

<span data-ttu-id="ec667-120">Visual Studio'nun sahip olduğundan emin olun ve proje ile çalışıyorsanız, 1. bölümünde oluşturduğunuz.</span><span class="sxs-lookup"><span data-stu-id="ec667-120">Make sure you have Visual Studio open and that you're working with the project you created in part 1.</span></span> <span data-ttu-id="ec667-121">Son değişiklik yaptığınız veya veri modelleri oluşturduğunuz proje oluşturulan yapmadıysanız, projeyi şimdi derleyin.</span><span class="sxs-lookup"><span data-stu-id="ec667-121">If you haven't built the project since you created the data model or since the last change you made to it, build the project now.</span></span> <span data-ttu-id="ec667-122">Proje oluşturulana kadar değişiklikleri veri modeline tasarımcıya kullanılabilir duruma getirilmez.</span><span class="sxs-lookup"><span data-stu-id="ec667-122">Changes to the data model are not made available to the designer until the project is built.</span></span>

<span data-ttu-id="ec667-123">Kullanarak yeni bir web sayfası oluşturma **ana sayfa kullanan Web formu** şablonunu ve adlandırın *Students.aspx*.</span><span class="sxs-lookup"><span data-stu-id="ec667-123">Create a new web page using the **Web Form using Master Page** template, and name it *Students.aspx*.</span></span>

<span data-ttu-id="ec667-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-124">[![Image23](the-entity-framework-and-aspnet-getting-started-part-2/_static/image8.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image7.png)</span></span>

<span data-ttu-id="ec667-125">Belirtin *Site.Master* ana sayfa olarak.</span><span class="sxs-lookup"><span data-stu-id="ec667-125">Specify *Site.Master* as the master page.</span></span> <span data-ttu-id="ec667-126">Bu öğreticiler için oluşturduğunuz tüm sayfalar, bu ana sayfanın kullanır.</span><span class="sxs-lookup"><span data-stu-id="ec667-126">All of the pages you create for these tutorials will use this master page.</span></span>

<span data-ttu-id="ec667-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-127">[![Image24](the-entity-framework-and-aspnet-getting-started-part-2/_static/image10.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image9.png)</span></span>

<span data-ttu-id="ec667-128">İçinde **kaynak** görüntüleme, ekleme bir `h2` için başlık `Content` adlı Denetim `Content2`aşağıdaki örnekte gösterildiği gibi:</span><span class="sxs-lookup"><span data-stu-id="ec667-128">In **Source** view, add an `h2` heading to the `Content` control named `Content2`, as shown in the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample1.aspx)]

<span data-ttu-id="ec667-129">Gelen **veri** sekmesinde **araç kutusu**, sürükleyin bir `EntityDataSource` denetlemek için sayfanın altındaki başlığı bırakma ve Kimliğine değiştirme `StudentsEntityDataSource`:</span><span class="sxs-lookup"><span data-stu-id="ec667-129">From the **Data** tab of the **Toolbox**, drag an `EntityDataSource` control to the page, drop it below the heading, and change the ID to `StudentsEntityDataSource`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample2.aspx)]

<span data-ttu-id="ec667-130">Geçiş **tasarım** görüntülemek, veri kaynağı denetimin akıllı etiket tıklayın ve ardından **veri kaynağı yapılandırma** başlatmak için **veri kaynağı yapılandırma** Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="ec667-130">Switch to **Design** view, click the data source control's smart tag, and then click **Configure Data Source** to launch the **Configure Data Source** wizard.</span></span>

<span data-ttu-id="ec667-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-131">[![Image01](the-entity-framework-and-aspnet-getting-started-part-2/_static/image12.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image11.png)</span></span>

<span data-ttu-id="ec667-132">İçinde **yapılandırma ObjectContext** seçme Sihirbazı adımı **SchoolEntities** değeri olarak **adlı bağlantı**seçip **SchoolEntities**olarak **DefaultContainerName** değeri.</span><span class="sxs-lookup"><span data-stu-id="ec667-132">In the **Configure ObjectContext** wizard step, select **SchoolEntities** as the value for **Named Connection**, and select **SchoolEntities** as the **DefaultContainerName** value.</span></span> <span data-ttu-id="ec667-133">Sonra **İleri**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ec667-133">Then click **Next**.</span></span>

<span data-ttu-id="ec667-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-134">[![Image02](the-entity-framework-and-aspnet-getting-started-part-2/_static/image14.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image13.png)</span></span>

<span data-ttu-id="ec667-135">Not: Bu noktada aşağıdaki iletişim kutusu alırsanız, devam etmeden önce projeyi derlemek sahip.</span><span class="sxs-lookup"><span data-stu-id="ec667-135">Note: If you get the following dialog box at this point, you have to build the project before proceeding.</span></span>

<span data-ttu-id="ec667-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-136">[![Image25](the-entity-framework-and-aspnet-getting-started-part-2/_static/image16.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image15.png)</span></span>

<span data-ttu-id="ec667-137">İçinde **yapılandırma veri seçimi** adım, select **kişiler** değeri olarak **EntitySetName**.</span><span class="sxs-lookup"><span data-stu-id="ec667-137">In the **Configure Data Selection** step, select **People** as the value for **EntitySetName**.</span></span> <span data-ttu-id="ec667-138">Altında **seçin**, emin **seçin bir** ll onay kutusu seçilidir.</span><span class="sxs-lookup"><span data-stu-id="ec667-138">Under **Select**, make sure the **Select A** ll check box is selected.</span></span> <span data-ttu-id="ec667-139">Ardından Update hizmetini etkinleştirmek ve silmek için seçenekleri seçin.</span><span class="sxs-lookup"><span data-stu-id="ec667-139">Then select the options to enable update and delete.</span></span> <span data-ttu-id="ec667-140">İşiniz bittiğinde tıklayın **son**.</span><span class="sxs-lookup"><span data-stu-id="ec667-140">When you're done, click **Finish**.</span></span>

<span data-ttu-id="ec667-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-141">[![Image03](the-entity-framework-and-aspnet-getting-started-part-2/_static/image18.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image17.png)</span></span>

## <a name="configuring-database-rules-to-allow-deletion"></a><span data-ttu-id="ec667-142">Silinmesine izin vermek için veritabanı kuralları yapılandırma</span><span class="sxs-lookup"><span data-stu-id="ec667-142">Configuring Database Rules to Allow Deletion</span></span>

<span data-ttu-id="ec667-143">Kullanıcıların öğrencilerden Sil olanak sağlayan bir sayfa oluşturma `Person` diğer tablolarla üç ilişki olan tablo (`Course`, `StudentGrade`, ve `OfficeAssignment`).</span><span class="sxs-lookup"><span data-stu-id="ec667-143">You'll be creating a page that lets users delete students from the `Person` table, which has three relationships with other tables (`Course`, `StudentGrade`, and `OfficeAssignment`).</span></span> <span data-ttu-id="ec667-144">Varsayılan olarak, veritabanı, bir satırda silmesini engeller `Person` başka tablolardan birinde ilişkili satırları varsa.</span><span class="sxs-lookup"><span data-stu-id="ec667-144">By default, the database will prevent you from deleting a row in `Person` if there are related rows in one of the other tables.</span></span> <span data-ttu-id="ec667-145">İlişkili satırları önce el ile silin veya veritabanı sildiğinizde otomatik olarak silmek üzere yapılandırabileceğiniz bir `Person` satır.</span><span class="sxs-lookup"><span data-stu-id="ec667-145">You can manually delete the related rows first, or you can configure the database to delete them automatically when you delete a `Person` row.</span></span> <span data-ttu-id="ec667-146">Bu öğreticide Öğrenci kayıtları için ilgili verileri otomatik olarak silmek için veritabanı yapılandıracaksınız.</span><span class="sxs-lookup"><span data-stu-id="ec667-146">For student records in this tutorial, you'll configure the database to delete the related data automatically.</span></span> <span data-ttu-id="ec667-147">İlişkili satırları Öğrenciler çünkü yalnızca `StudentGrade` tablo, üç ilişki yalnızca biri yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec667-147">Because students can have related rows only in the `StudentGrade` table, you need to configure only one of the three relationships.</span></span>

<span data-ttu-id="ec667-148">Kullanıyorsanız *School.mdf* bu öğreticiyle giden projesinden indirilen dosya, bu yapılandırma değişikliklerini yaptıktan zaten olduğundan, bu bölümü atlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec667-148">If you're using the *School.mdf* file that you downloaded from the project that goes with this tutorial, you can skip this section because these configuration changes have already been done.</span></span> <span data-ttu-id="ec667-149">Bir betik çalıştırarak veritabanı oluşturduysanız, aşağıdaki yordamlar gerçekleştirilerek veritabanını yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="ec667-149">If you created the database by running a script, configure the database by performing the following procedures.</span></span>

<span data-ttu-id="ec667-150">İçinde **Sunucu Gezgini**, 1. bölümünde oluşturduğunuz veritabanı diyagramı açın.</span><span class="sxs-lookup"><span data-stu-id="ec667-150">In **Server Explorer**, open the database diagram that you created in part 1.</span></span> <span data-ttu-id="ec667-151">Arasındaki ilişkiyi sağ `Person` ve `StudentGrade` (tablolar arasındaki çizgi) ve ardından **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="ec667-151">Right-click the relationship between `Person` and `StudentGrade` (the line between tables), and then select **Properties**.</span></span>

<span data-ttu-id="ec667-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-152">[![Image04](the-entity-framework-and-aspnet-getting-started-part-2/_static/image20.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image19.png)</span></span>

<span data-ttu-id="ec667-153">İçinde **özellikleri** penceresini genişletin **INSERT ve UPDATE tarifi** ve **DeleteRule** özelliğini **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="ec667-153">In the **Properties** window, expand **INSERT and UPDATE Specification** and set the **DeleteRule** property to **Cascade**.</span></span>

<span data-ttu-id="ec667-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-154">[![Image05](the-entity-framework-and-aspnet-getting-started-part-2/_static/image22.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image21.png)</span></span>

<span data-ttu-id="ec667-155">Kaydet ve diyagramı kapatın.</span><span class="sxs-lookup"><span data-stu-id="ec667-155">Save and close the diagram.</span></span> <span data-ttu-id="ec667-156">Veritabanını güncelleştirmek isteyip istemediğinizi tıklayın istenirse **Evet**.</span><span class="sxs-lookup"><span data-stu-id="ec667-156">If you're asked whether you want to update the database, click **Yes**.</span></span>

<span data-ttu-id="ec667-157">Modelin bellek veritabanına yaparsanız ile eşitlenmiş olan varlıklar tutar emin olmak için karşılık gelen kuralları veri modelindeki ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec667-157">To make sure that the model keeps entities that are in memory in sync with what the database is doing, you must set corresponding rules in the data model.</span></span> <span data-ttu-id="ec667-158">Açık *SchoolModel.edmx*, arasındaki ilişkilendirme çizgisi sağ `Person` ve `StudentGrade`ve ardından **özellikleri**.</span><span class="sxs-lookup"><span data-stu-id="ec667-158">Open *SchoolModel.edmx*, right-click the association line between `Person` and `StudentGrade`, and then select **Properties**.</span></span>

<span data-ttu-id="ec667-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-159">[![Image21](the-entity-framework-and-aspnet-getting-started-part-2/_static/image24.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image23.png)</span></span>

<span data-ttu-id="ec667-160">İçinde **özellikleri** penceresinde **End1 OnDelete** için **Cascade**.</span><span class="sxs-lookup"><span data-stu-id="ec667-160">In the **Properties** window, set **End1 OnDelete** to **Cascade**.</span></span>

<span data-ttu-id="ec667-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-161">[![Image22](the-entity-framework-and-aspnet-getting-started-part-2/_static/image26.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image25.png)</span></span>

<span data-ttu-id="ec667-162">Kaydet ve Kapat *SchoolModel.edmx* dosyasını bulun ve ardından projeyi yeniden derleyin.</span><span class="sxs-lookup"><span data-stu-id="ec667-162">Save and close the *SchoolModel.edmx* file, and then rebuild the project.</span></span>

<span data-ttu-id="ec667-163">Genel olarak, veritabanı değiştiğinde modelini eşitleme için birkaç seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="ec667-163">In general, when the database changes, you have several choices for how to sync up the model:</span></span>

- <span data-ttu-id="ec667-164">Belirli türde değişiklikler (örneğin, "ekleyerek veya yenileme tablolar, görünümler ve saklı yordamlar), sağ tıklayın tasarımcı ve Seç ' **veritabanından bir güncelleştirme modeli** Tasarımcı marka değişiklikleri otomatik olarak sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="ec667-164">For certain kinds of changes (such as adding or refreshing tables, views, or stored procedures), right-click in the designer and select **Update Model from Database** to have the designer make the changes automatically.</span></span>
- <span data-ttu-id="ec667-165">Veri modeli yeniden oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ec667-165">Regenerate the data model.</span></span>
- <span data-ttu-id="ec667-166">Bunun gibi el ile güncelleştirmeleri yapın.</span><span class="sxs-lookup"><span data-stu-id="ec667-166">Make manual updates like this one.</span></span>

<span data-ttu-id="ec667-167">Bu durumda, modeli yeniden ya da ilişki değişiklikten etkilenen tablolar yenilenir ancak ardından tekrar alan adı değişikliği yapmanız gerekir (gelen `FirstName` için `FirstMidName`).</span><span class="sxs-lookup"><span data-stu-id="ec667-167">In this case, you could have regenerated the model or refreshed the tables affected by the relationship change, but then you'd have to make the field-name change again (from `FirstName` to `FirstMidName`).</span></span>

## <a name="using-a-gridview-control-to-read-and-update-entities"></a><span data-ttu-id="ec667-168">Bir GridView denetimi kullanarak okuyun ve varlıklarını güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="ec667-168">Using a GridView Control to Read and Update Entities</span></span>

<span data-ttu-id="ec667-169">Bu bölümde kullanacaksınız bir `GridView` görüntülemek, güncelleştirmek veya silmek Öğrenciler için denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-169">In this section you'll use a `GridView` control to display, update, or delete students.</span></span>

<span data-ttu-id="ec667-170">Açın veya geçin *Students.aspx* geçin **tasarım** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ec667-170">Open or switch to *Students.aspx* and switch to **Design** view.</span></span> <span data-ttu-id="ec667-171">Gelen **veri** sekmesinde **araç kutusu**, sürükleyin bir `GridView` denetim sağındaki `EntityDataSource` denetlemek, adlandırın `StudentsGridView`akıllı etiket tıklayın ve ardından  **StudentsEntityDataSource** veri kaynağı olarak.</span><span class="sxs-lookup"><span data-stu-id="ec667-171">From the **Data** tab of the **Toolbox**, drag a `GridView` control to the right of the `EntityDataSource` control, name it `StudentsGridView`, click the smart tag, and then select **StudentsEntityDataSource** as the data source.</span></span>

<span data-ttu-id="ec667-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-172">[![Image06](the-entity-framework-and-aspnet-getting-started-part-2/_static/image28.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image27.png)</span></span>

<span data-ttu-id="ec667-173">Tıklayın **şemasını Yenile** (tıklayın **Evet** onaylamanız istenirse), ardından **etkinleştirme disk belleği**, **etkinleştirme sıralama**, **Düzenlemeyi etkinleştir**, ve **silmeyi etkinleştir**.</span><span class="sxs-lookup"><span data-stu-id="ec667-173">Click **Refresh Schema** (click **Yes** if you're prompted to confirm), then click **Enable Paging**, **Enable Sorting**, **Enable Editing**, and **Enable Deleting**.</span></span>

<span data-ttu-id="ec667-174">Tıklayın **sütunları Düzenle**.</span><span class="sxs-lookup"><span data-stu-id="ec667-174">Click **Edit Columns**.</span></span>

<span data-ttu-id="ec667-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-175">[![Image10](the-entity-framework-and-aspnet-getting-started-part-2/_static/image30.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image29.png)</span></span>

<span data-ttu-id="ec667-176">İçinde **seçili alanlar** kutusunda, silmek **Personıd**, **LastName**, ve **İşeAlmaTarihi**.</span><span class="sxs-lookup"><span data-stu-id="ec667-176">In the **Selected fields** box, delete **PersonID**, **LastName**, and **HireDate**.</span></span> <span data-ttu-id="ec667-177">Genellikle bir kayıt anahtarı kullanıcılara gösterme, işe alım tarihi Öğrenciler için uygun değil ve böylece, yalnızca ad alanı adı kısımlarını bir alana giriyorum.)</span><span class="sxs-lookup"><span data-stu-id="ec667-177">You typically don't display a record key to users, hire date is not relevant to students, and you'll put both parts of the name in one field, so you only need one of the name fields.)</span></span>

<span data-ttu-id="ec667-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-178">[![Image11](the-entity-framework-and-aspnet-getting-started-part-2/_static/image32.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image31.png)</span></span>

<span data-ttu-id="ec667-179">Seçin **FirstMidName** alan ve ardından **bu alanı bir TemplateField dönüştürün**.</span><span class="sxs-lookup"><span data-stu-id="ec667-179">Select the **FirstMidName** field and then click **Convert this field into a TemplateField**.</span></span>

<span data-ttu-id="ec667-180">İçin de aynısını yapın **EnrollmentDate**.</span><span class="sxs-lookup"><span data-stu-id="ec667-180">Do the same for **EnrollmentDate**.</span></span>

<span data-ttu-id="ec667-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-181">[![Image13](the-entity-framework-and-aspnet-getting-started-part-2/_static/image34.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image33.png)</span></span>

<span data-ttu-id="ec667-182">Tıklayın **Tamam** dönersiniz **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ec667-182">Click **OK** and then switch to **Source** view.</span></span> <span data-ttu-id="ec667-183">Kalan değişiklikleri doğrudan işaretlemede yapmak daha kolay olacaktır.</span><span class="sxs-lookup"><span data-stu-id="ec667-183">The remaining changes will be easier to do directly in markup.</span></span> <span data-ttu-id="ec667-184">`GridView` Denetimi aşağıdaki örnekte olduğu gibi biçimlendirme artık görünür.</span><span class="sxs-lookup"><span data-stu-id="ec667-184">The `GridView` control markup now looks like the following example.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample3.aspx)]

<span data-ttu-id="ec667-185">Komut alan bir şablon şu anda alanıdır sonra ilk sütun adı görüntüler.</span><span class="sxs-lookup"><span data-stu-id="ec667-185">The first column after the command field is a template field that currently displays the first name.</span></span> <span data-ttu-id="ec667-186">Aşağıdaki örnekteki gibi aramak bu şablonu alan için biçimlendirmeyi Değiştir:</span><span class="sxs-lookup"><span data-stu-id="ec667-186">Change the markup for this template field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample4.aspx)]

<span data-ttu-id="ec667-187">Görüntüleme modunda iki `Label` denetimler adı ve Soyadı görüntüler.</span><span class="sxs-lookup"><span data-stu-id="ec667-187">In display mode, two `Label` controls display the first and last name.</span></span> <span data-ttu-id="ec667-188">Adı ve Soyadı değiştirebilmeniz için düzenleme modunda iki metin kutuları sağlanır.</span><span class="sxs-lookup"><span data-stu-id="ec667-188">In edit mode, two text boxes are provided so you can change the first and last name.</span></span> <span data-ttu-id="ec667-189">Olduğu gibi `Label` denetimlerde görüntüleme modu, kullandığınız `Bind` ve `Eval` ifadeleri tam olarak istediğiniz veritabanına doğrudan bağlanmak veri kaynağı denetimleri ASP.NET ile.</span><span class="sxs-lookup"><span data-stu-id="ec667-189">As with the `Label` controls in display mode, you use `Bind` and `Eval` expressions exactly as you would with ASP.NET data source controls that connect directly to databases.</span></span> <span data-ttu-id="ec667-190">Tek fark, varlık özelliklerini veritabanı sütunlarını yerine belirlediniz.</span><span class="sxs-lookup"><span data-stu-id="ec667-190">The only difference is that you're specifying entity properties instead of database columns.</span></span>

<span data-ttu-id="ec667-191">Son sütun kayıt tarihi gösteren bir şablonu alandır.</span><span class="sxs-lookup"><span data-stu-id="ec667-191">The last column is a template field that displays the enrollment date.</span></span> <span data-ttu-id="ec667-192">Aşağıdaki örnekteki gibi aramak Bu alan için biçimlendirmeyi Değiştir:</span><span class="sxs-lookup"><span data-stu-id="ec667-192">Change the markup for this field to look like the following example:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample5.aspx)]

<span data-ttu-id="ec667-193">Hem de görüntüleme ve düzenleme modu, Biçim dizesinde "{0, d}" "kısa tarih" biçiminde görüntülenecek tarihi neden olur.</span><span class="sxs-lookup"><span data-stu-id="ec667-193">In both display and edit mode, the format string "{0,d}" causes the date to be displayed in the "short date" format.</span></span> <span data-ttu-id="ec667-194">(Bilgisayarınızda bu biçimden farklı bir şekilde Bu öğreticide gösterilen ekran görüntülerini görüntülemek için yapılandırılabilir.)</span><span class="sxs-lookup"><span data-stu-id="ec667-194">(Your computer might be configured to display this format differently from the screen images shown in this tutorial.)</span></span>

<span data-ttu-id="ec667-195">Bu alanların her biri şablon içinde Tasarımcı kullanılan fark bir `Bind` varsayılan, ancak ifadesi olarak değiştirdiniz bir `Eval` ifadesinde `ItemTemplate` öğeleri.</span><span class="sxs-lookup"><span data-stu-id="ec667-195">Notice that in each of these template fields, the designer used a `Bind` expression by default, but you've changed that to an `Eval` expression in the `ItemTemplate` elements.</span></span> <span data-ttu-id="ec667-196">`Bind` İfade verileri kullanılabilir kılar `GridView` kod verilere erişmek gerektiği durumlarda denetim özellikleri.</span><span class="sxs-lookup"><span data-stu-id="ec667-196">The `Bind` expression makes the data available in `GridView` control properties in case you need to access the data in code.</span></span> <span data-ttu-id="ec667-197">Bu sayfada, kullanabilmeniz için kodda, bu verileri erişmeye ihtiyacınız yoksa `Eval`, daha verimli olan.</span><span class="sxs-lookup"><span data-stu-id="ec667-197">In this page you don't need to access this data in code, so you can use `Eval`, which is more efficient.</span></span> <span data-ttu-id="ec667-198">Daha fazla bilgi için [veri denetimleri verilerinizden alma](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec667-198">For more information, see [Getting your data out of the data controls](https://weblogs.asp.net/davidfowler/archive/2008/12/12/getting-your-data-out-of-the-data-controls.aspx).</span></span>

## <a name="revising-entitydatasource-control-markup-to-improve-performance"></a><span data-ttu-id="ec667-199">Performansı artırmak için düzeltilmesi EntityDataSource denetimini biçimlendirme</span><span class="sxs-lookup"><span data-stu-id="ec667-199">Revising EntityDataSource Control Markup to Improve Performance</span></span>

<span data-ttu-id="ec667-200">Biçimlendirme için `EntityDataSource` denetlemek, Kaldır `ConnectionString` ve `DefaultContainerName` öznitelikleri ve bunlarla değiştirin bir `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="ec667-200">In the markup for the `EntityDataSource` control, remove the `ConnectionString` and `DefaultContainerName` attributes and replace them with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="ec667-201">Bu bir değişiklik yapmanız gerekir her oluşturduğunuzda, bir `EntityDataSource` denetimi sürece nesne bağlamı sınıfında sabit kodlanmış olan farklı bir bağlantı kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ec667-201">This is a change you should make every time you create an `EntityDataSource` control, unless you need to use a connection that is different from the one that's hard-coded in the object context class.</span></span> <span data-ttu-id="ec667-202">Kullanarak `ContextTypeName` özniteliği aşağıdaki faydaları sağlar:</span><span class="sxs-lookup"><span data-stu-id="ec667-202">Using the `ContextTypeName` attribute provides the following benefits:</span></span>

- <span data-ttu-id="ec667-203">Daha iyi performans.</span><span class="sxs-lookup"><span data-stu-id="ec667-203">Better performance.</span></span> <span data-ttu-id="ec667-204">Zaman `EntityDataSource` denetimi başlatır veri modelini kullanarak `ConnectionString` ve `DefaultContainerName` öznitelikleri her istekte meta verileri yüklemek için ek çalışma gerçekleştirir.</span><span class="sxs-lookup"><span data-stu-id="ec667-204">When the `EntityDataSource` control initializes the data model using the `ConnectionString` and `DefaultContainerName` attributes, it performs additional work to load metadata on every request.</span></span> <span data-ttu-id="ec667-205">Bu belirtirseniz gerekli değildir `ContextTypeName` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="ec667-205">This isn't necessary if you specify the `ContextTypeName` attribute.</span></span>
- <span data-ttu-id="ec667-206">Yavaş yükleniyor açıksa varsayılan olarak oluşturulan nesne bağlamı sınıfları (gibi `SchoolEntities` bu öğreticideki) Entity Framework 4. 0'ı.</span><span class="sxs-lookup"><span data-stu-id="ec667-206">Lazy loading is turned on by default in generated object context classes (such as `SchoolEntities` in this tutorial) in Entity Framework 4.0.</span></span> <span data-ttu-id="ec667-207">Bu, ihtiyacınız sağ Gezinti özellikleri ile ilgili verileri otomatik olarak yüklenmiş olduğundan anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="ec667-207">This means that navigation properties are loaded with related data automatically right when you need it.</span></span> <span data-ttu-id="ec667-208">Yavaş yükleniyor, bu öğreticinin ilerleyen bölümlerinde daha ayrıntılı olarak açıklanmıştır.</span><span class="sxs-lookup"><span data-stu-id="ec667-208">Lazy loading is explained in more detail later in this tutorial.</span></span>
- <span data-ttu-id="ec667-209">Nesne bağlamı sınıfı için uyguladığınız özelleştirmeler (Bu durumda, `SchoolEntities` sınıfı) kullanan denetimler için kullanılabilecek `EntityDataSource` denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-209">Any customizations that you've applied to the object context class (in this case, the `SchoolEntities` class) will be available to controls that use the `EntityDataSource` control.</span></span> <span data-ttu-id="ec667-210">Nesne bağlamı sınıfı özelleştirme, Bu öğretici serisinde kapsamında olmayan Gelişmiş bir konudur.</span><span class="sxs-lookup"><span data-stu-id="ec667-210">Customizing the object context class is an advanced topic that is not covered in this tutorial series.</span></span> <span data-ttu-id="ec667-211">Daha fazla bilgi için [Entity Framework oluşturulan türleri genişletme](https://msdn.microsoft.com/library/dd456844.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec667-211">For more information, see [Extending Entity Framework Generated Types](https://msdn.microsoft.com/library/dd456844.aspx).</span></span>

<span data-ttu-id="ec667-212">Biçimlendirme, artık (özelliklerin sırasını farklı olabilir) aşağıdaki örneğe benzer:</span><span class="sxs-lookup"><span data-stu-id="ec667-212">The markup will now resemble the following example (the order of the properties might be different):</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample6.aspx)]

<span data-ttu-id="ec667-213">`EnableFlattening` Olduğundan yabancı anahtar sütunu varlık özellikleri gösterilmeyen Entity Framework'ün önceki sürümlerinde gerekli bir özellik özniteliğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="ec667-213">The `EnableFlattening` attribute refers to a feature that was needed in earlier versions of the Entity Framework because foreign key columns were not exposed as entity properties.</span></span> <span data-ttu-id="ec667-214">Geçerli sürümü kullanmayı mümkün kılar *yabancı anahtar ilişkilerini*, yabancı anahtar özelliklerini başka bir deyişle, tüm çok-çok ilişkileri için sunulur.</span><span class="sxs-lookup"><span data-stu-id="ec667-214">The current version makes it possible to use *foreign key associations*, which means foreign key properties are exposed for all but many-to-many associations.</span></span> <span data-ttu-id="ec667-215">Varlıklarınızı yabancı anahtar özelliklerini ve Hayır varsa [karmaşık türler](https://msdn.microsoft.com/library/bb738472.aspx), bu öznitelik ayarlanırsa bırakabilirsiniz `False`.</span><span class="sxs-lookup"><span data-stu-id="ec667-215">If your entities have foreign key properties and no [complex types](https://msdn.microsoft.com/library/bb738472.aspx), you can leave this attribute set to `False`.</span></span> <span data-ttu-id="ec667-216">Varsayılan değer olduğundan, öznitelik biçimlendirmeden kaldırmayın `True`.</span><span class="sxs-lookup"><span data-stu-id="ec667-216">Don't remove the attribute from the markup, because the default value is `True`.</span></span> <span data-ttu-id="ec667-217">Daha fazla bilgi için [düzleştirme nesneleri (EntityDataSource)](https://msdn.microsoft.com/library/ee404746.aspx).</span><span class="sxs-lookup"><span data-stu-id="ec667-217">For more information, see [Flattening Objects (EntityDataSource)](https://msdn.microsoft.com/library/ee404746.aspx).</span></span>

<span data-ttu-id="ec667-218">Sayfayı çalıştırın ve öğrenciler ve Çalışanlar (yalnızca Öğrenciler için sonraki öğreticide filtre) listesini görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="ec667-218">Run the page and you see a list of students and employees (you'll filter for just students in the next tutorial).</span></span> <span data-ttu-id="ec667-219">Ad ve Soyadı birlikte görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ec667-219">The first name and last name are displayed together.</span></span>

<span data-ttu-id="ec667-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-220">[![Image07](the-entity-framework-and-aspnet-getting-started-part-2/_static/image36.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image35.png)</span></span>

<span data-ttu-id="ec667-221">Görüntü sıralamak için sütun adı'nı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ec667-221">To sort the display, click a column name.</span></span>

<span data-ttu-id="ec667-222">Tıklayın **Düzenle** herhangi bir satırdaki.</span><span class="sxs-lookup"><span data-stu-id="ec667-222">Click **Edit** in any row.</span></span> <span data-ttu-id="ec667-223">Metin kutuları, adı ve Soyadı değiştirebileceğiniz görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ec667-223">Text boxes are displayed where you can change the first and last name.</span></span>

<span data-ttu-id="ec667-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-224">[![Image08](the-entity-framework-and-aspnet-getting-started-part-2/_static/image38.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image37.png)</span></span>

<span data-ttu-id="ec667-225">**Sil** düğmesini de çalışır.</span><span class="sxs-lookup"><span data-stu-id="ec667-225">The **Delete** button also works.</span></span> <span data-ttu-id="ec667-226">Öğesini silmek için bir kayıt tarihi olan bir satır ve satır kaldırılır.</span><span class="sxs-lookup"><span data-stu-id="ec667-226">Click delete for a row that has an enrollment date and the row disappears.</span></span> <span data-ttu-id="ec667-227">(Kayıt tarihi olmayan sıralar Eğitmenler temsil eder ve bir başvuru bütünlüğü hatası alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec667-227">(Rows without an enrollment date represent instructors and you may get a referential integrity error.</span></span> <span data-ttu-id="ec667-228">Sonraki öğreticide, bu liste yalnızca öğrencileri de içerecek şekilde filtre.)</span><span class="sxs-lookup"><span data-stu-id="ec667-228">In the next tutorial you'll filter this list to include just students.)</span></span>

## <a name="displaying-data-from-a-navigation-property"></a><span data-ttu-id="ec667-229">Bir gezinme özelliği verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="ec667-229">Displaying Data from a Navigation Property</span></span>

<span data-ttu-id="ec667-230">Kaç tane Derslere bilmek istediğiniz varsayalım her Öğrenci, artık kaydedilmiştir.</span><span class="sxs-lookup"><span data-stu-id="ec667-230">Now suppose you want to know how many courses each student is enrolled in.</span></span> <span data-ttu-id="ec667-231">Entity Framework sağlar, bu bilgileri `StudentGrades` gezinti özelliği `Person` varlık.</span><span class="sxs-lookup"><span data-stu-id="ec667-231">The Entity Framework provides that information in the `StudentGrades` navigation property of the `Person` entity.</span></span> <span data-ttu-id="ec667-232">Veritabanı tasarımı atanmış bir sınıf zorunda kalmadan bir kursa kaydolmak bir öğrenci izin vermediğinden bu öğretici için bu satır olması kabul edilebilir `StudentGrade` kursun Kaydedilmekte aynı olup bir kurs ile ilişkili tablo satırı.</span><span class="sxs-lookup"><span data-stu-id="ec667-232">Because the database design does not allow a student to be enrolled in a course without having a grade assigned, for this tutorial you can assume that having a row in the `StudentGrade` table row that is associated with a course is the same as being enrolled in the course.</span></span> <span data-ttu-id="ec667-233">( `Courses` Gezinti özelliği için yalnızca eğitmenler.)</span><span class="sxs-lookup"><span data-stu-id="ec667-233">(The `Courses` navigation property is only for instructors.)</span></span>

<span data-ttu-id="ec667-234">Kullanırken `ContextTypeName` özniteliği `EntityDataSource` denetimi, Entity Framework otomatik olarak bilgileri alır bir gezinme özelliği için bu özelliğe eriştiğinde.</span><span class="sxs-lookup"><span data-stu-id="ec667-234">When you use the `ContextTypeName` attribute of the `EntityDataSource` control, the Entity Framework automatically retrieves information for a navigation property when you access that property.</span></span> <span data-ttu-id="ec667-235">Bu adlandırılır *yavaş Yükleniyor*.</span><span class="sxs-lookup"><span data-stu-id="ec667-235">This is called *lazy loading*.</span></span> <span data-ttu-id="ec667-236">Her zaman ek bilgi gerekmiyor veritabanı ayrı bir çağrıda sonuçlandığından ancak bu verimsiz olabilir.</span><span class="sxs-lookup"><span data-stu-id="ec667-236">However, this can be inefficient, because it results in a separate call to the database each time additional information is needed.</span></span> <span data-ttu-id="ec667-237">Tarafından döndürülen her varlık için bir gezinti özelliği verilerden ihtiyacınız varsa `EntityDataSource` denetimi, bu veritabanına bir çağrı içinde varlığın kendisinin yanı sıra ilgili verileri almak üzere daha verimli.</span><span class="sxs-lookup"><span data-stu-id="ec667-237">If you need data from the navigation property for every entity returned by the `EntityDataSource` control, it's more efficient to retrieve the related data along with the entity itself in a single call to the database.</span></span> <span data-ttu-id="ec667-238">Bu adlandırılır *istekli yükleme*, ve ayarlayarak istekli yükleme bir gezinme özelliği için belirttiğiniz `Include` özelliği `EntityDataSource` denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-238">This is called *eager loading*, and you specify eager loading for a navigation property by setting the `Include` property of the `EntityDataSource` control.</span></span>

<span data-ttu-id="ec667-239">İçinde *Students.aspx*kursları sayısı için her Öğrenci göstermek istiyorsunuz, bu nedenle istekli yükleme en iyi seçimdir.</span><span class="sxs-lookup"><span data-stu-id="ec667-239">In *Students.aspx*, you want to show the number of courses for every student, so eager loading is the best choice.</span></span> <span data-ttu-id="ec667-240">Tüm Öğrenciler görüntüleme ancak kursları sayısını gösteren yalnızca birkaç tanesi (hangi biçimlendirmeye ek olarak bazı kodları yazmaya gerektirir), için yavaş yükleniyor daha iyi bir seçenek olabilir.</span><span class="sxs-lookup"><span data-stu-id="ec667-240">If you were displaying all students but showing the number of courses only for a few of them (which would require writing some code in addition to the markup), lazy loading might be a better choice.</span></span>

<span data-ttu-id="ec667-241">Açın veya geçin *Students.aspx*, geçiş **tasarım** görüntülenecek `StudentsEntityDataSource`ve **özellikleri** penceresi kümesi **INCLUDE**özelliğini **StudentGrades**.</span><span class="sxs-lookup"><span data-stu-id="ec667-241">Open or switch to *Students.aspx*, switch to **Design** view, select `StudentsEntityDataSource`, and in the **Properties** window set the **Include** property to **StudentGrades**.</span></span> <span data-ttu-id="ec667-242">(Birden çok gezinti özellikleri almak istediyseniz, adlarını virgülle ayırarak belirtebilirsiniz; Örneğin, **StudentGrades, kursları**.)</span><span class="sxs-lookup"><span data-stu-id="ec667-242">(If you wanted to get multiple navigation properties, you could specify their names separated by commas — for example, **StudentGrades, Courses**.)</span></span>

<span data-ttu-id="ec667-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-243">[![Image19](the-entity-framework-and-aspnet-getting-started-part-2/_static/image40.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image39.png)</span></span>

<span data-ttu-id="ec667-244">Geçiş **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ec667-244">Switch to **Source** view.</span></span> <span data-ttu-id="ec667-245">İçinde `StudentsGridView` en son denetim `asp:TemplateField` öğesi, aşağıdaki yeni şablon alanı ekleyin:</span><span class="sxs-lookup"><span data-stu-id="ec667-245">In the `StudentsGridView` control, after the last `asp:TemplateField` element, add the following new template field:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample7.aspx)]

<span data-ttu-id="ec667-246">İçinde `Eval` ifade gezinme özelliğini başvurabilirsiniz `StudentGrades`.</span><span class="sxs-lookup"><span data-stu-id="ec667-246">In the `Eval` expression, you can reference the navigation property `StudentGrades`.</span></span> <span data-ttu-id="ec667-247">Bu özellik bir koleksiyonu içerdiğinden, sahip bir `Count` Öğrenci kaydolduğunu kursları sayısını görüntülemek için kullanabileceğiniz özellik.</span><span class="sxs-lookup"><span data-stu-id="ec667-247">Because this property contains a collection, it has a `Count` property that you can use to display the number of courses in which the student is enrolled.</span></span> <span data-ttu-id="ec667-248">Bir sonraki öğreticide, verileri içeren koleksiyonlar yerine tek bir varlık Gezinti özellikleri görüntülemek nasıl görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="ec667-248">In a later tutorial you'll see how to display data from navigation properties that contain single entities instead of collections.</span></span> <span data-ttu-id="ec667-249">(Kullanamazsınız Not `BoundField` Gezinti özellikleri verileri görüntülemek için öğeleri.)</span><span class="sxs-lookup"><span data-stu-id="ec667-249">(Note that you cannot use `BoundField` elements to display data from navigation properties.)</span></span>

<span data-ttu-id="ec667-250">Sayfayı çalıştırın ve Öğrenci kaç kursları kaydedilmiş göreceksiniz.</span><span class="sxs-lookup"><span data-stu-id="ec667-250">Run the page and you now see how many courses each student is enrolled in.</span></span>

<span data-ttu-id="ec667-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-251">[![Image20](the-entity-framework-and-aspnet-getting-started-part-2/_static/image42.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image41.png)</span></span>

## <a name="using-a-detailsview-control-to-insert-entities"></a><span data-ttu-id="ec667-252">Varlıkları eklemek için bir DetailsView denetimi kullanma</span><span class="sxs-lookup"><span data-stu-id="ec667-252">Using a DetailsView Control to Insert Entities</span></span>

<span data-ttu-id="ec667-253">Bir sayfa oluşturmak için sonraki adımdır bir `DetailsView` yeni öğrencileri ekleme olanak tanıyan bir denetim.</span><span class="sxs-lookup"><span data-stu-id="ec667-253">The next step is to create a page that has a `DetailsView` control that will let you add new students.</span></span> <span data-ttu-id="ec667-254">Tarayıcıyı kapatın ve ardından kullanarak yeni bir web sayfası oluşturma *Site.Master* ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="ec667-254">Close the browser and then create a new web page using the *Site.Master* master page.</span></span> <span data-ttu-id="ec667-255">Sayfayı adlandırın *StudentsAdd.aspx*, dönersiniz **kaynak** görünümü.</span><span class="sxs-lookup"><span data-stu-id="ec667-255">Name the page *StudentsAdd.aspx*, and then switch to **Source** view.</span></span>

<span data-ttu-id="ec667-256">İçin mevcut biçimlendirme değiştirmek için aşağıdaki işaretlemeyi ekleyin `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="ec667-256">Add the following markup to replace the existing markup for the `Content` control named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample8.aspx)]

<span data-ttu-id="ec667-257">Bu biçimlendirme oluşturur bir `EntityDataSource` , oluşturduğunuz bir benzer denetimi *Students.aspx*dışında ekleme sağlar.</span><span class="sxs-lookup"><span data-stu-id="ec667-257">This markup creates an `EntityDataSource` control that is similar to the one you created in *Students.aspx*, except it enables insertion.</span></span> <span data-ttu-id="ec667-258">Olduğu gibi `GridView` denetim, ilişkili alanlarını `DetailsView` denetimi kodlanmış varlık özellikleri oldukları dışında tam olarak, bir veritabanına doğrudan bağlanan veri denetimi için olduğu gibi.</span><span class="sxs-lookup"><span data-stu-id="ec667-258">As with the `GridView` control, the bound fields of the `DetailsView` control are coded exactly as they would be for a data control that connects directly to a database, except that they reference entity properties.</span></span> <span data-ttu-id="ec667-259">Bu durumda, `DetailsView` denetimi için varsayılan modu ayarladığınız yalnızca satır eklemek için kullanılan `Insert`.</span><span class="sxs-lookup"><span data-stu-id="ec667-259">In this case, the `DetailsView` control is used only for inserting rows, so you have set the default mode to `Insert`.</span></span>

<span data-ttu-id="ec667-260">Sayfayı çalıştırın ve yeni bir öğrenci eklemek.</span><span class="sxs-lookup"><span data-stu-id="ec667-260">Run the page and add a new student.</span></span>

<span data-ttu-id="ec667-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-261">[![Image09](the-entity-framework-and-aspnet-getting-started-part-2/_static/image44.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image43.png)</span></span>

<span data-ttu-id="ec667-262">Hiçbir şey yeni bir öğrenci ekledikten sonra ancak şimdi çalıştırırsanız olacağını *Students.aspx*, yeni bir öğrenci bilgi görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="ec667-262">Nothing will happen after you insert a new student, but if you now run *Students.aspx*, you'll see the new student information.</span></span>

## <a name="displaying-data-in-a-drop-down-list"></a><span data-ttu-id="ec667-263">Aşağı açılan listede verileri görüntüleme</span><span class="sxs-lookup"><span data-stu-id="ec667-263">Displaying Data in a Drop-Down List</span></span>

<span data-ttu-id="ec667-264">Aşağıdaki adımlarda databind gerekir bir `DropDownList` denetimi kullanılarak ayarlanan bir varlığa yönelik bir `EntityDataSource` denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-264">In the following steps you'll databind a `DropDownList` control to an entity set using an `EntityDataSource` control.</span></span> <span data-ttu-id="ec667-265">Öğreticinin bu bölümünde, bu liste ile olmaz.</span><span class="sxs-lookup"><span data-stu-id="ec667-265">In this part of the tutorial, you won't do much with this list.</span></span> <span data-ttu-id="ec667-266">Sonraki bölümlerinde, bölümle ilişkilendirilmiş kursları görüntülemek için bir bölüm seçin kullanıcıların listesi kullanacaksınız.</span><span class="sxs-lookup"><span data-stu-id="ec667-266">In subsequent parts, though, you'll use the list to let users select a department to display courses associated with the department.</span></span>

<span data-ttu-id="ec667-267">Adlı yeni bir web sayfası oluşturma *Courses.aspx*.</span><span class="sxs-lookup"><span data-stu-id="ec667-267">Create a new web page named *Courses.aspx*.</span></span> <span data-ttu-id="ec667-268">İçinde **kaynak** görüntülemek için bir başlığı ekleme `Content` adlı Denetim `Content2`:</span><span class="sxs-lookup"><span data-stu-id="ec667-268">In **Source** view, add a heading to the `Content` control that's named `Content2`:</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample9.aspx)]

<span data-ttu-id="ec667-269">İçinde **tasarım** görüntüleme, ekleme bir `EntityDataSource` denetimi sayfası daha önce yaptığınız gibi dışında bu zaman adlandırın, `DepartmentsEntityDataSource`.</span><span class="sxs-lookup"><span data-stu-id="ec667-269">In **Design** view, add an `EntityDataSource` control to the page as you did before, except this time name it `DepartmentsEntityDataSource`.</span></span> <span data-ttu-id="ec667-270">Seçin **Departmanlar** olarak **EntitySetName** değeri ve yalnızca belirli **DepartmentID** ve **adı** özellikleri.</span><span class="sxs-lookup"><span data-stu-id="ec667-270">Select **Departments** as the **EntitySetName** value, and select only the **DepartmentID** and **Name** properties.</span></span>

<span data-ttu-id="ec667-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-271">[![Image15](the-entity-framework-and-aspnet-getting-started-part-2/_static/image46.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image45.png)</span></span>

<span data-ttu-id="ec667-272">Gelen **standart** sekmesinde **araç kutusu**, sürükleyin bir `DropDownList` denetlemek sayfaya, adlandırın `DepartmentsDropDownList`, akıllı etiket tıklatın ve seçin **veri kaynağı Seç** için Başlangıç **veri kaynağı Yapılandırma Sihirbazı'nı**.</span><span class="sxs-lookup"><span data-stu-id="ec667-272">From the **Standard** tab of the **Toolbox**, drag a `DropDownList` control to the page, name it `DepartmentsDropDownList`, click the smart tag, and select **Choose Data Source** to start the **DataSource Configuration Wizard**.</span></span>

<span data-ttu-id="ec667-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-273">[![Image16](the-entity-framework-and-aspnet-getting-started-part-2/_static/image48.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image47.png)</span></span>

<span data-ttu-id="ec667-274">İçinde **veri kaynağı seçin** adım seçin **DepartmentsEntityDataSource** veri kaynağı olarak tıklayın **Yenile şema**ve ardından **adı** görüntülenecek veri alanı olarak ve **DepartmentID** değeri veri alanı olarak.</span><span class="sxs-lookup"><span data-stu-id="ec667-274">In the **Choose a Data Source** step, select **DepartmentsEntityDataSource** as the data source, click **Refresh Schema**, and then select **Name** as the data field to display and **DepartmentID** as the value data field.</span></span> <span data-ttu-id="ec667-275">**Tamam**'ı tıklatın.</span><span class="sxs-lookup"><span data-stu-id="ec667-275">Click **OK**.</span></span>

<span data-ttu-id="ec667-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-276">[![Image17](the-entity-framework-and-aspnet-getting-started-part-2/_static/image50.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image49.png)</span></span>

<span data-ttu-id="ec667-277">Diğer ASP.NET veri kaynağı denetimleri dışında varlıkları ve varlık özellikleri belirlediniz Entity Framework kullanarak denetimi databind için kullandığınız yöntem aynı olur.</span><span class="sxs-lookup"><span data-stu-id="ec667-277">The method you use to databind the control using the Entity Framework is the same as with other ASP.NET data source controls except you're specifying entities and entity properties.</span></span>

<span data-ttu-id="ec667-278">Geçiş **kaynak** görüntüleme ve ekleme "bir bölüm seçin:" hemen önce `DropDownList` denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-278">Switch to **Source** view and add "Select a department:" immediately before the `DropDownList` control.</span></span>

[!code-aspx[Main](the-entity-framework-and-aspnet-getting-started-part-2/samples/sample10.aspx)]

<span data-ttu-id="ec667-279">Bir anımsatıcı değiştirmek için biçimlendirme `EntityDataSource` değiştirerek bu noktada denetim `ConnectionString` ve `DefaultContainerName` ile öznitelikleri bir `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` özniteliği.</span><span class="sxs-lookup"><span data-stu-id="ec667-279">As a reminder, change the markup for the `EntityDataSource` control at this point by replacing the `ConnectionString` and `DefaultContainerName` attributes with a `ContextTypeName="ContosoUniversity.DAL.SchoolEntities"` attribute.</span></span> <span data-ttu-id="ec667-280">Genellikle, değiştirmeden önce veri kaynak denetimine bağlı veriye bağlı denetim oluşturduktan sonra bekle en iyisidir `EntityDataSource` değişikliği yaptıktan sonra Tasarımcı sizinle sağlamadığı için biçimlendirmeyi denetleyen bir **Yenile Şema** veriye bağlı denetim seçeneği.</span><span class="sxs-lookup"><span data-stu-id="ec667-280">It's often best to wait until after you've created the data-bound control that is linked to the data source control before you change the `EntityDataSource` control markup, because after you make the change, the designer will not provide you with a **Refresh Schema** option in the data-bound control.</span></span>

<span data-ttu-id="ec667-281">Sayfayı çalıştırın ve bir departman aşağı açılan listeden seçim yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ec667-281">Run the page and you can select a department from the drop-down list.</span></span>

<span data-ttu-id="ec667-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span><span class="sxs-lookup"><span data-stu-id="ec667-282">[![Image18](the-entity-framework-and-aspnet-getting-started-part-2/_static/image52.png)](the-entity-framework-and-aspnet-getting-started-part-2/_static/image51.png)</span></span>

<span data-ttu-id="ec667-283">Bu kullanmaya giriş tamamlar `EntityDataSource` denetimi.</span><span class="sxs-lookup"><span data-stu-id="ec667-283">This completes the introduction to using the `EntityDataSource` control.</span></span> <span data-ttu-id="ec667-284">Varlıklar ve tablolar ve sütunlar yerine özellikleri başvuru dışında bu denetimi ile çalışma kaynağı denetimleri diğer ASP.NET verilerle çalışmasını genellikle farklı değildir.</span><span class="sxs-lookup"><span data-stu-id="ec667-284">Working with this control is generally no different from working with other ASP.NET data source controls, except that you reference entities and properties instead of tables and columns.</span></span> <span data-ttu-id="ec667-285">Tek özel durum, gezinti özellikleri erişmek istediğiniz durumdur.</span><span class="sxs-lookup"><span data-stu-id="ec667-285">The only exception is when you want to access navigation properties.</span></span> <span data-ttu-id="ec667-286">Sonraki öğreticide söz dizimi ile kullanmanızı görürsünüz `EntityDataSource` denetim ayrıca farklı diğer veri kaynağı denetimlerini filtrelemek, Grup ve sipariş verileri.</span><span class="sxs-lookup"><span data-stu-id="ec667-286">In the next tutorial you'll see that the syntax you use with `EntityDataSource` control might also differ from other data source controls when you filter, group, and order data.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ec667-287">[Önceki](the-entity-framework-and-aspnet-getting-started-part-1.md)
> [İleri](the-entity-framework-and-aspnet-getting-started-part-3.md)</span><span class="sxs-lookup"><span data-stu-id="ec667-287">[Previous](the-entity-framework-and-aspnet-getting-started-part-1.md)
[Next](the-entity-framework-and-aspnet-getting-started-part-3.md)</span></span>
