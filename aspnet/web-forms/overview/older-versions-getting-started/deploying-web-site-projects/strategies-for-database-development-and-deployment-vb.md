---
uid: web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
title: Veritabanı geliştirme ve dağıtım stratejileri (VB) | Microsoft Docs
author: rick-anderson
description: Veri temelli bir uygulamayı ilk kez dağıttığınızda geliştirme ortamındaki veritabanını üretim ortamına taşıyabilirsiniz. bu B...
ms.author: riande
ms.date: 04/23/2009
ms.assetid: 07b8905d-78ac-4252-97fb-8675b3fb0bbf
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deploying-web-site-projects/strategies-for-database-development-and-deployment-vb
msc.type: authoredcontent
ms.openlocfilehash: 1ea4ade32fb05b9e69647ece7d1a4c400fe9fb21
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74616108"
---
# <a name="strategies-for-database-development-and-deployment-vb"></a><span data-ttu-id="ad080-104">Veritabanı Geliştirme ve Dağıtma Stratejileri (VB)</span><span class="sxs-lookup"><span data-stu-id="ad080-104">Strategies for Database Development and Deployment (VB)</span></span>

<span data-ttu-id="ad080-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="ad080-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

[<span data-ttu-id="ad080-106">PDF 'YI indir</span><span class="sxs-lookup"><span data-stu-id="ad080-106">Download PDF</span></span>](https://download.microsoft.com/download/C/3/9/C391A649-B357-4A7B-BAA4-48C96871FEA6/aspnet_tutorial10_DBDevel_vb.pdf)

> <span data-ttu-id="ad080-107">Veri temelli bir uygulamayı ilk kez dağıttığınızda geliştirme ortamındaki veritabanını üretim ortamına taşıyabilirsiniz. bu</span><span class="sxs-lookup"><span data-stu-id="ad080-107">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="ad080-108">Ancak sonraki dağıtımlarda, daha sonra, üretim veritabanına girilen verilerin üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="ad080-108">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="ad080-109">Bunun yerine, bir veritabanını dağıtmak, üretim veritabanına son dağıtımdan bu yana geliştirme veritabanına yapılan değişiklikleri uygulamayı içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-109">Instead, deploying a database involves applying the changes made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="ad080-110">Bu öğreticide bu zorluk incelenir ve son dağıtımdan sonra veritabanına yapılan değişiklikleri zaman zaman ve uygulama konusunda yardımcı olmak için çeşitli stratejiler sunulmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ad080-110">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="introduction"></a><span data-ttu-id="ad080-111">Giriş</span><span class="sxs-lookup"><span data-stu-id="ad080-111">Introduction</span></span>

<span data-ttu-id="ad080-112">Önceki öğreticilerde anlatıldığı gibi, bir ASP.NET uygulaması dağıtmak, ilgili içeriğin geliştirme ortamından üretim ortamına kopyalanmasını gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ad080-112">As discussed in previous tutorials, deploying an ASP.NET application entails copying the pertinent content from the development environment to the production environment.</span></span> <span data-ttu-id="ad080-113">Dağıtım tek seferlik bir olay değildir, ancak bunun yerine yazılımın yeni bir sürümü yayınlandığında veya hata ya da güvenlik kaygıları tanımlandığında ve ele edildiğinde meydana gelen bir şey olur.</span><span class="sxs-lookup"><span data-stu-id="ad080-113">Deployment is not a one-time event, but rather something that happens every time a new version of the software is released or when bugs or security concerns have been identified and addressed.</span></span> <span data-ttu-id="ad080-114">ASP.NET sayfalarını, görüntülerini, JavaScript dosyalarını ve diğer dosyaları üretim ortamına kopyalarken, bu dosyanın son dağıtımdan bu yana nasıl değiştirildiği konusunda kendinize sorun olması gerekmez.</span><span class="sxs-lookup"><span data-stu-id="ad080-114">When copying ASP.NET pages, images, JavaScript files, and other such files to the production environment you do not need to concern yourself with how these file have been changed since the last deployment.</span></span> <span data-ttu-id="ad080-115">Var olan içeriğin üzerine yazarak dosyayı üretime taşıyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-115">You can blindly copy the file to production, overwriting the existing content.</span></span> <span data-ttu-id="ad080-116">Ne yazık ki bu kolaylık, veritabanını dağıtmaya genişlemez.</span><span class="sxs-lookup"><span data-stu-id="ad080-116">Unfortunately, this simplicity does not extend to deploying the database.</span></span>

<span data-ttu-id="ad080-117">Veri temelli bir uygulamayı ilk kez dağıttığınızda geliştirme ortamındaki veritabanını üretim ortamına taşıyabilirsiniz. bu</span><span class="sxs-lookup"><span data-stu-id="ad080-117">When deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="ad080-118">Ancak sonraki dağıtımlarda, daha sonra, üretim veritabanına girilen verilerin üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="ad080-118">But performing a blind copy in subsequent deployments will overwrite any data entered into the production database.</span></span> <span data-ttu-id="ad080-119">Bunun yerine, bir veritabanını dağıtmak, üretim veritabanına son dağıtımdan bu yana geliştirme veritabanına yapılan *değişiklikleri* uygulamayı içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-119">Instead, deploying a database involves applying the *changes* made to the development database since the last deployment onto the production database.</span></span> <span data-ttu-id="ad080-120">Bu öğreticide bu zorluk incelenir ve son dağıtımdan sonra veritabanına yapılan değişiklikleri zaman zaman ve uygulama konusunda yardımcı olmak için çeşitli stratejiler sunulmaktadır.</span><span class="sxs-lookup"><span data-stu-id="ad080-120">This tutorial examines these challenges and offers various strategies to assist with chronicling and applying the changes made to the database since the last deployment.</span></span>

## <a name="the-challenges-of-deploying-a-database"></a><span data-ttu-id="ad080-121">Veritabanı dağıtma sorunları</span><span class="sxs-lookup"><span data-stu-id="ad080-121">The Challenges of Deploying a Database</span></span>

<span data-ttu-id="ad080-122">Veri tabanlı bir uygulama ilk kez dağıtılmadan önce, bir veri tabanlı uygulamayı ilk kez dağıttığınıza bir veri odaklı uygulama dağıtırken, veritabanını bir veri temelli uygulama dağıtırken üretim ortamına geliştirme ortamı.</span><span class="sxs-lookup"><span data-stu-id="ad080-122">Before a data-driven application has been deployed for the first time, there is only one database, namely the database in the development environment, which is why when deploying a data-driven application for the first time you can blindly copy the database in the development environment to the production environment.</span></span> <span data-ttu-id="ad080-123">Ancak uygulama dağıtıldıktan sonra, veritabanının iki kopyası vardır: bir geliştirme ve diğeri üretimde.</span><span class="sxs-lookup"><span data-stu-id="ad080-123">But once the application has been deployed there are two copies of the database: one in development and one in production.</span></span>

<span data-ttu-id="ad080-124">Dağıtımlar arasında geliştirme ve üretim veritabanları eşitlenmemiş olabilir. Üretim veritabanı şeması değişmeden kaldığı halde, yeni özellikler eklendikçe geliştirme veritabanı şeması değişebilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-124">Between deployments the development and production databases can become out of sync. While the production database s schema remains unchanged, the development database s schema may change as new features are added.</span></span> <span data-ttu-id="ad080-125">Sütunları, tabloları, görünümleri veya saklı yordamları ekleyebilir veya kaldırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-125">You might add or remove columns, tables, views, or stored procedures.</span></span> <span data-ttu-id="ad080-126">Geliştirme veritabanına eklenen önemli veriler de olabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-126">There may also be important data that gets added to the development database.</span></span> <span data-ttu-id="ad080-127">Birçok veri tabanlı uygulama, Kullanıcı tarafından düzenlenemeyen, uygulamaya özgü veriler ile doldurulmuş arama tabloları içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-127">Many data-driven applications include lookup tables populated with hard-coded, application-specific data that are not user-editable.</span></span> <span data-ttu-id="ad080-128">Örneğin, bir açık eksiltme Web sitesinde, yeni, Iyi ve dengeli gibi, auctionıed olan öğenin koşulunu tanımlayan seçimleri içeren bir açılır liste bulunabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-128">For example, an auction website might have a drop-down list with choices that describe the condition of the item being auctioned: New, Like New, Good, and Fair.</span></span> <span data-ttu-id="ad080-129">Bu seçenekleri doğrudan açılan listede sabit kodlamak yerine, bunları bir veritabanı tablosuna yerleştirmek genellikle daha iyidir.</span><span class="sxs-lookup"><span data-stu-id="ad080-129">Rather than hard-coding these options directly in the drop-down list it is usually better to place them in a database table.</span></span> <span data-ttu-id="ad080-130">Geliştirme sırasında, daha sonra tabloya daha fazla zayıf adlı yeni bir koşul eklendiğinde, bu kayıt, uygulamanın dağıtılmasında üretim veritabanındaki arama tablosuna eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="ad080-130">If, during development, a new condition named Poor is added to the table then when deploying the application this same record needs to be added to the lookup table in the production database.</span></span>

<span data-ttu-id="ad080-131">İdeal olarak, veritabanını dağıtmak, veritabanının geliştirmeden üretime kopyalanmasını içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-131">Ideally, deploying the database would involve copying the database from development to production.</span></span> <span data-ttu-id="ad080-132">Ancak, uygulamayı dağıttıktan ve geliştirmeye devam ettikten sonra, üretim veritabanının gerçek kullanıcılardan gerçek verilerle doldurulduğuna dikkat edin.</span><span class="sxs-lookup"><span data-stu-id="ad080-132">But keep in mind that after you have deployed the application and resumed development, the production database is being populated with real data from real users.</span></span> <span data-ttu-id="ad080-133">Bu nedenle, bir sonraki dağıtımda veritabanını geliştirmeden üretime kopyalamak için üretim veritabanının üzerine yazılır ve var olan verileri kaybedersiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-133">Therefore, if you were to simply copy the database from development to production at the next deployment you would overwrite the production database and lose its existing data.</span></span> <span data-ttu-id="ad080-134">Net sonucu, son dağıtımdan bu yana geliştirme veritabanına yapılan değişiklikleri uygulamak için veritabanı bobin 'leri dağıtmakta olur.</span><span class="sxs-lookup"><span data-stu-id="ad080-134">The net result is that deploying the database boils down to applying the changes made to the development database since the last deployment.</span></span>

<span data-ttu-id="ad080-135">Bir veritabanını dağıtmak, şemadaki değişiklikleri ve büyük olasılıkla son dağıtımdan bu yana verileri uygulamayı içerdiğinden, bu değişikliklerin üretime uygulanabilmesi için bir değişiklik geçmişinin korunması (veya dağıtım zamanında belirlenmesi) gerekir.</span><span class="sxs-lookup"><span data-stu-id="ad080-135">Because deploying a database involves applying the changes in the schema and, possibly, the data since the last deployment, a history of changes must be maintained (or determined at deploy-time) so that those changes can be applied on production.</span></span> <span data-ttu-id="ad080-136">Veri modeli üzerinde yapılan değişiklikleri yönetmeye ve uygulamaya yönelik çeşitli teknikler vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-136">There are a variety of techniques for managing and applying changes to the data model.</span></span>

### <a name="defining-the-baseline"></a><span data-ttu-id="ad080-137">Taban çizgisini tanımlama</span><span class="sxs-lookup"><span data-stu-id="ad080-137">Defining the Baseline</span></span>

<span data-ttu-id="ad080-138">Uygulama veritabanınızdaki değişiklikleri sürdürmek için, değişikliklerin uygulandığı bir taban çizgisi olan bir başlangıç durumuna sahip olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="ad080-138">To maintain the changes to your application s database you need to have some starting state, a baseline to which the changes are applied to.</span></span> <span data-ttu-id="ad080-139">En az bir başlangıç durumu, tablo, görünüm veya saklı yordam içermeyen boş bir veritabanı olabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-139">At one extreme the starting state could be an empty database with no tables, views, or stored procedures.</span></span> <span data-ttu-id="ad080-140">Bu tür bir taban çizgisi, ilk dağıtımdan sonra yapılan değişikliklerle birlikte tüm veritabanı tabloları, görünümler ve saklı yordamların oluşturulmasını içermesi gerektiğinden büyük bir değişiklik günlüğü ile sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="ad080-140">Such a baseline results in a large change log because it must include the creation of all of the database s tables, views, and stored procedures along with any changes made after the initial deployment.</span></span> <span data-ttu-id="ad080-141">Spektrumun diğer ucunda, ana temeli ilk olarak üretim ortamına dağıtılan veritabanının sürümü olarak ayarlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-141">At the other end of the spectrum you could set the baseline as the version of the database that is initially deployed to the production environment.</span></span> <span data-ttu-id="ad080-142">Bu seçenek, yalnızca ilk dağıtımdan sonra veritabanına yapılan değişiklikleri içerdiğinden, daha küçük bir değişiklik günlüğüne neden olur.</span><span class="sxs-lookup"><span data-stu-id="ad080-142">This choice results in a much smaller change log because it only includes the changes made to the database following the first deployment.</span></span> <span data-ttu-id="ad080-143">Bu yaklaşım, tercih ederim.</span><span class="sxs-lookup"><span data-stu-id="ad080-143">This is the approach I prefer.</span></span> <span data-ttu-id="ad080-144">Tabii ki, yol yaklaşımının daha fazla bir ortasını seçerek, taban çizgisini veritabanının ilk oluşturma ve veritabanının ilk dağıtıldığı zaman arasında bir nokta olarak tanımlayarak tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-144">And of course you can choose a more middle of the road approach, defining the baseline as some point between the initial creation of the database and when the database is first deployed.</span></span>

<span data-ttu-id="ad080-145">Temeli seçtikten sonra, temel sürümü yeniden oluşturmak için yürütülebilecek bir SQL betiği oluşturmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="ad080-145">Once you have chosen a baseline consider generating a SQL script that can be executed to recreate the baseline version.</span></span> <span data-ttu-id="ad080-146">Bu tür bir betik, veritabanının temel sürümünü hızlı bir şekilde yeniden oluşturmayı mümkün kılar.</span><span class="sxs-lookup"><span data-stu-id="ad080-146">Such a script makes it possible to quickly recreate the baseline version of the database.</span></span> <span data-ttu-id="ad080-147">Bu işlevsellik özellikle, proje üzerinde çalışan birden fazla geliştirici veya test ya da hazırlama gibi ek ortamlarda, her birinin kendi kendine kopyasının olması gereken daha büyük projelerde yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="ad080-147">This functionality is especially useful in larger projects, where there may be multiple developers working on the project or additional environments, such as testing or staging, that each need their own copy of the database.</span></span>

<span data-ttu-id="ad080-148">Temel sürüme ait bir SQL betiği oluşturmak için, elden çıkarmada çeşitli araçlar vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-148">There are a variety of tools at your disposal to generate a SQL script of the baseline version.</span></span> <span data-ttu-id="ad080-149">SQL Server Management Studio (SSMS) ' den veritabanına sağ tıklayıp görevler alt menüsüne gidebilir ve betikler oluştur seçeneğini belirleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-149">From SQL Server Management Studio (SSMS) you can right-click on the database, go to the Tasks submenu, and choose the Generate Scripts option.</span></span> <span data-ttu-id="ad080-150">Bu, veritabanı s nesnelerinizi oluşturmak için SQL komutlarını içeren bir dosya oluşturmayı söylemek istediğiniz betik Sihirbazı 'Nı başlatır.</span><span class="sxs-lookup"><span data-stu-id="ad080-150">This launches the Script Wizard, which you can instruct to generate a file that contains the SQL commands to create your database s objects.</span></span> <span data-ttu-id="ad080-151">Başka bir seçenek de veritabanı şeması oluşturmak için SQL komutları oluşturabilen, ancak veritabanı tablolarındaki verileri de oluşturabilen veritabanı Yayımlama Sihirbazı ' dır.</span><span class="sxs-lookup"><span data-stu-id="ad080-151">Another option is the Database Publishing Wizard, which can generate the SQL commands to not only create the database schema, but also the data in the database tables.</span></span> <span data-ttu-id="ad080-152">Veritabanı Yayımlama Sihirbazı, *veritabanı dağıtma* öğreticisinde ayrıntılı olarak incelendi.</span><span class="sxs-lookup"><span data-stu-id="ad080-152">The Database Publishing Wizard was examined in detail back in the *Deploying a Database* tutorial.</span></span> <span data-ttu-id="ad080-153">Kullandığınız aracı ne olursa olsun, sonunda veritabanınızın temel sürümünü yeniden oluşturmak için kullanabileceğiniz bir betik dosyanız olması gerekir.</span><span class="sxs-lookup"><span data-stu-id="ad080-153">Regardless of what tool you use, in the end you should have a script file that you can use to recreate the baseline version of your database, should the need arise.</span></span>

## <a name="documenting-the-database-changes-in-prose"></a><span data-ttu-id="ad080-154">Veritabanı değişikliklerinin Proşirde belgelenme</span><span class="sxs-lookup"><span data-stu-id="ad080-154">Documenting the Database Changes in Prose</span></span>

<span data-ttu-id="ad080-155">Geliştirme aşaması sırasında veri modelinde değişiklik günlüğünün korunmanın en kolay yolu, değişiklikleri proo 'da kaydetmek.</span><span class="sxs-lookup"><span data-stu-id="ad080-155">The simplest way to maintain a log of changes to the data model during the development phase is to record the changes in prose.</span></span> <span data-ttu-id="ad080-156">Örneğin, zaten dağıtılmış bir uygulamanın geliştirilmesi sırasında `Employees` tablosuna yeni bir sütun eklersiniz, `Orders` tablosundan bir sütunu kaldırır ve yeni bir tablo (`ProductCategories`) ekleyebilirsiniz, bir metin dosyası veya Microsoft Word belgesi aşağıdaki geçmişle birlikte korunur:</span><span class="sxs-lookup"><span data-stu-id="ad080-156">For example, if during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`), you would maintain a text file or Microsoft Word document with the following history:</span></span>

<a id="0.8_table01"></a>

| <span data-ttu-id="ad080-157">**Değiştirme tarihi**</span><span class="sxs-lookup"><span data-stu-id="ad080-157">**Change Date**</span></span> | <span data-ttu-id="ad080-158">**Değişiklik ayrıntıları**</span><span class="sxs-lookup"><span data-stu-id="ad080-158">**Change Details**</span></span> |
| --- | --- |
| <span data-ttu-id="ad080-159">2009-02-03:</span><span class="sxs-lookup"><span data-stu-id="ad080-159">2009-02-03:</span></span> | <span data-ttu-id="ad080-160">`Employees` tabloya sütun `DepartmentID` (`int`DEĞIL) eklendi.</span><span class="sxs-lookup"><span data-stu-id="ad080-160">Added column `DepartmentID` (`int`, NOT NULL) to the `Employees` table.</span></span> <span data-ttu-id="ad080-161">`Departments.DepartmentID` `Employees.DepartmentID`bir yabancı anahtar kısıtlaması eklendi.</span><span class="sxs-lookup"><span data-stu-id="ad080-161">Added a foreign key constraint from `Departments.DepartmentID` to `Employees.DepartmentID`.</span></span> |
| <span data-ttu-id="ad080-162">2009-02-05:</span><span class="sxs-lookup"><span data-stu-id="ad080-162">2009-02-05:</span></span> | <span data-ttu-id="ad080-163">`Orders` tablosundan sütun `TotalWeight` kaldırıldı.</span><span class="sxs-lookup"><span data-stu-id="ad080-163">Removed column `TotalWeight` from the `Orders` table.</span></span> <span data-ttu-id="ad080-164">Veriler ilişkili `OrderDetails` kayıtlarında zaten yakalandı.</span><span class="sxs-lookup"><span data-stu-id="ad080-164">Data already captured in associated `OrderDetails` records.</span></span> |
| <span data-ttu-id="ad080-165">2009-02-12:</span><span class="sxs-lookup"><span data-stu-id="ad080-165">2009-02-12:</span></span> | <span data-ttu-id="ad080-166">`ProductCategories` tablosu oluşturuldu.</span><span class="sxs-lookup"><span data-stu-id="ad080-166">Created the `ProductCategories` table.</span></span> <span data-ttu-id="ad080-167">Üç sütun vardır: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`) ve `Active` (`bit`, `NOT NULL`).</span><span class="sxs-lookup"><span data-stu-id="ad080-167">There are three columns: `ProductCategoryID` (`int`, `IDENTITY`, `NOT NULL`), `CategoryName` (`nvarchar(50)`, `NOT NULL`), and `Active` (`bit`, `NOT NULL`).</span></span> <span data-ttu-id="ad080-168">`ProductCategoryID`için bir birincil anahtar kısıtlaması ve `Active`için varsayılan değer olan 1 ' i eklediniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-168">Added a primary key constraint to `ProductCategoryID`, and a default value of 1 to `Active`.</span></span> |

<span data-ttu-id="ad080-169">Bu yaklaşımın birçok sakıncaları vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-169">There are a number of drawbacks to this approach.</span></span> <span data-ttu-id="ad080-170">Başlangıçlara yönelik bir umuyoruz yoktur.</span><span class="sxs-lookup"><span data-stu-id="ad080-170">For starters, there is no hope for automation.</span></span> <span data-ttu-id="ad080-171">Bu değişikliklerin her zaman, uygulama dağıtıldığında olduğu gibi bir veritabanına uygulanması gerekir. bir geliştirici her değişikliği birer birer el ile uygulamalıdır.</span><span class="sxs-lookup"><span data-stu-id="ad080-171">Anytime these changes need to be applied to a database - such as when the application is deployed - a developer must manually implement each change, one at a time.</span></span> <span data-ttu-id="ad080-172">Ayrıca, değişiklik günlüğünü kullanarak veritabanının belirli bir sürümünü taban çizgisinden yeniden oluşturmanız gerekiyorsa, bunun yapılması, günlüğün boyutu büyüdükçe daha fazla zaman alır.</span><span class="sxs-lookup"><span data-stu-id="ad080-172">Moreover, if you need to reconstruct a particular version of the database from the baseline using the change log, doing so will take more and more time as the size of the log grows.</span></span> <span data-ttu-id="ad080-173">Bu yöntemin diğer sakıncası, her bir değişiklik günlüğü girişinin açıklık ve ayrıntı düzeyinin, değişikliği kaydeden kişiye ayrılmasının bir dezavantajı olur.</span><span class="sxs-lookup"><span data-stu-id="ad080-173">Another drawback to this method is that the clarity and level of detail of each change log entry is left to the person recording the change.</span></span> <span data-ttu-id="ad080-174">Birden çok geliştiriciyle bir ekipte, bazıları diğerlerine göre daha ayrıntılı, daha okunaklı veya daha hassas girişler oluşturabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-174">In a team with multiple developers some may make more detailed, more readable, or more precise entries than others.</span></span> <span data-ttu-id="ad080-175">Ayrıca, yazım hataları ve insan ile ilgili diğer veri girişi hataları da mümkündür.</span><span class="sxs-lookup"><span data-stu-id="ad080-175">Also, typos and other human-related data entry errors are possible.</span></span>

<span data-ttu-id="ad080-176">Veritabanı değişikliklerinin proşirde belgelenme birincil avantajı basittür.</span><span class="sxs-lookup"><span data-stu-id="ad080-176">The primary benefit of documenting the database changes in prose is simplicity.</span></span> <span data-ttu-id="ad080-177">Veritabanı nesneleri oluşturmak ve değiştirmek için SQL söz dizimine alışkın olmanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="ad080-177">You don t need familiarity with the SQL syntax for creating and altering database objects.</span></span> <span data-ttu-id="ad080-178">Bunun yerine, değişiklikleri proo 'da kaydedebilir ve SQL Server Management Studio s grafik kullanıcı arabiriminden uygulayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-178">Instead, you can record the changes in prose and implement them through SQL Server Management Studio s graphical user interface.</span></span>

<span data-ttu-id="ad080-179">Değişiklik günlüğlerinizin proo 'da saklanması çok karmaşık değildir ve kapsamdaki büyük olanlar gibi belirli projelerle iyi çalışmaz, veri modelinde sık sık değişikliklere sahiptir veya birden çok geliştirici içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-179">Maintaining your change log in prose is, admittedly, not very sophisticated and won't work well with certain projects, such as ones that are large in scope, have frequent changes to the data model, or involve multiple developers.</span></span> <span data-ttu-id="ad080-180">Ancak, bu yaklaşımı, veri modelinde yalnızca zaman zaman değişiklik yapan küçük ve tek Man projelerinde çok iyi bir şekilde çalıştığını ve solo geliştiricisinin, veritabanı nesneleri oluşturmak ve değiştirmek için SQL sözdiziminde güçlü bir arka plana sahip olduğunu gördük.</span><span class="sxs-lookup"><span data-stu-id="ad080-180">But I have seen this approach work quite well in small, one-man projects that have only occasional changes to the data model and where the solo developer does not have a strong background in the SQL syntax for creating and altering database objects.</span></span>

> [!NOTE]
> <span data-ttu-id="ad080-181">Değişiklik günlüğündeki bilgiler, teknik olarak yalnızca dağıtım zamanına kadar gerekliyse, değişiklik geçmişini tutmanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-181">While the information in the change log is, technically, only needed until deploy-time, I recommend keeping a history of changes.</span></span> <span data-ttu-id="ad080-182">Ancak, tek bir sürekli büyüyen değişiklik günlüğü dosyasını korumak yerine, her veritabanı sürümü için farklı bir değişiklik günlük dosyası kullanmayı düşünün.</span><span class="sxs-lookup"><span data-stu-id="ad080-182">But rather than maintaining a single, ever growing change log file, consider having a different change log file for each database version.</span></span> <span data-ttu-id="ad080-183">Genellikle veritabanını her dağıtıldığında bir kez kullanmak isteyeceksiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-183">Typically you will want to version the database each time it is deployed.</span></span> <span data-ttu-id="ad080-184">Değişiklik günlüklerinin günlüğünü tutarak, taban çizgisinden başlayarak, sürüm 1 ' den başlayan değişiklik günlüğü betikleri ' ni yürüterek ve yeniden oluşturmanız gereken sürüme ulaşana kadar devam ederek herhangi bir veritabanı sürümünü yeniden oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-184">By maintaining a log of change logs you can, starting from the baseline, recreate any database version by executing the change log scripts starting from version 1 and continuing until you reach the version you need to recreate.</span></span>

## <a name="recording-the-sql-change-statements"></a><span data-ttu-id="ad080-185">SQL değişiklik deyimlerini kaydetme</span><span class="sxs-lookup"><span data-stu-id="ad080-185">Recording the SQL Change Statements</span></span>

<span data-ttu-id="ad080-186">Değişiklik günlüğünü sağlamanın birincil dezavantajı, Otomasyon olmamasıdır.</span><span class="sxs-lookup"><span data-stu-id="ad080-186">The primary drawback of maintaining the change log in prose is the lack of automation.</span></span> <span data-ttu-id="ad080-187">İdeal olarak, dağıtım sırasında üretim veritabanında veritabanı değişikliklerinin uygulanması, yönergelerin bir listesini el ile gerçekleştirmek yerine bir komut dosyasını yürütmek için bir düğmeye tıklanması kadar kolay olabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-187">Ideally, implementing the database changes to the production database at deploy-time would be as easy as clicking a button to execute a script rather than having to manually perform a list of instructions.</span></span> <span data-ttu-id="ad080-188">Bu tür otomasyon, veri modelini değiştirmek için kullanılan SQL komutlarını içeren bir değişiklik günlüğü korunarak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="ad080-188">Such automation is possible by maintaining a change log that contains those SQL commands used to alter the data model.</span></span>

<span data-ttu-id="ad080-189">SQL söz dizimi çeşitli veritabanı nesneleri oluşturmak ve değiştirmek için bir dizi deyim içerir.</span><span class="sxs-lookup"><span data-stu-id="ad080-189">The SQL syntax includes a number of statements for creating and modifying various database objects.</span></span> <span data-ttu-id="ad080-190">Örneğin, yürütüldüğünde [*create table deyimleri*](https://msdn.microsoft.com/library/ms174979.aspx), belirtilen sütun ve kısıtlamalara sahip yeni bir tablo oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ad080-190">For example, the [*CREATE TABLE statement*](https://msdn.microsoft.com/library/ms174979.aspx), when executed, creates a new table with the specified columns and constraints.</span></span> <span data-ttu-id="ad080-191">[*Alter table ifadesi*](https://msdn.microsoft.com/library/ms190273.aspx) var olan bir tabloyu değiştirir, sütunları veya kısıtlamalarını ekleme, kaldırma veya değiştirme.</span><span class="sxs-lookup"><span data-stu-id="ad080-191">The [*ALTER TABLE statement*](https://msdn.microsoft.com/library/ms190273.aspx) modifies an existing table, adding, removing, or modifying its columns or constraints.</span></span> <span data-ttu-id="ad080-192">Dizinler, görünümler, Kullanıcı tanımlı işlevler, saklı yordamlar, Tetikleyiciler ve diğer veritabanı nesneleri oluşturmak, değiştirmek ve bırakmak için de deyimler vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-192">There are also statements to create, modify, and drop indexes, views, user-defined functions, stored procedures, triggers, and other database objects.</span></span>

<span data-ttu-id="ad080-193">Önceki örneğimize dönerek, zaten dağıtılmış bir uygulamanın geliştirilmesi sırasında, `Employees` tabloya yeni bir sütun eklersiniz, `Orders` tablosundan bir sütunu kaldırmalı ve yeni bir tablo (`ProductCategories`) ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-193">Returning to our earlier example, image that during development of an already-deployed application you add a new column to the `Employees` table, remove a column from the `Orders` table, and add a new table (`ProductCategories`).</span></span> <span data-ttu-id="ad080-194">Bu tür eylemler aşağıdaki SQL komutlarıyla bir değişiklik günlüğü dosyası oluşmasına neden olur:</span><span class="sxs-lookup"><span data-stu-id="ad080-194">Such actions would result in a change log file with the following SQL commands:</span></span>

[!code-sql[Main](strategies-for-database-development-and-deployment-vb/samples/sample1.sql)]

<span data-ttu-id="ad080-195">Bu değişiklikleri dağıtım zamanında üretim veritabanına göndermek tek tıklamayla bir işlemdir: SQL Server Management Studio açın, üretim veritabanınıza bağlanın, yeni bir sorgu penceresi açın, değişiklik günlüğünün içeriğini yapıştırın ve betiği çalıştırmak için Yürüt ' e tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ad080-195">Pushing these changes to the production database at deploy-time is a one-click operation: open SQL Server Management Studio, connect to your production database, open a New Query window, paste the contents of the change log, and click Execute to run the script.</span></span>

## <a name="using-a-comparison-tool-to-synchronize-the-data-models"></a><span data-ttu-id="ad080-196">Veri modellerini eşitlemeye yönelik bir karşılaştırma aracı kullanma</span><span class="sxs-lookup"><span data-stu-id="ad080-196">Using a Comparison Tool to Synchronize the Data Models</span></span>

<span data-ttu-id="ad080-197">Veritabanı değişikliklerinin tek tek içinde belgelenmesi kolaydır, ancak değişikliklerin uygulanması bir geliştiricinin üretim veritabanında her seferinde bir değişiklik yapmasını gerektirir; değişiklik SQL komutlarının belgelenmesi, bir düğmeye tıklayarak bu değişiklikleri üretim veritabanında uygulamayı kolay ve hızlı bir şekilde uygulamaya sunar, ancak SQL deyimlerini ve veritabanı nesneleri oluşturma ve değiştirme sözdizimini öğrenmeye ve bu sözdiziminin yönetimine gerek duyar.</span><span class="sxs-lookup"><span data-stu-id="ad080-197">Documenting database changes in prose is easy, but implementing the changes requires a developer to make each change on the production database one at a time; documenting the change SQL commands makes implementing those changes on the production database as easy and quick as clicking a button, but requires learning and mastering the SQL statements and syntax for creating and altering database objects.</span></span> <span data-ttu-id="ad080-198">Veritabanı karşılaştırma araçları her iki yaklaşımdan en iyi şekilde yararlanın ve en kötü olanı atar.</span><span class="sxs-lookup"><span data-stu-id="ad080-198">Database comparison tools take the best from both approaches and discard the worst.</span></span>

<span data-ttu-id="ad080-199">Bir veritabanı karşılaştırma aracı, iki veritabanının şemasını veya verilerini karşılaştırır ve veritabanlarının nasıl farklı olduğunu gösteren bir özet raporu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="ad080-199">A database comparison tool compares the schema or data of two databases and displays a summary report showing you how the databases differ.</span></span> <span data-ttu-id="ad080-200">Ardından, bir düğmeye tıklayarak bir veya daha fazla veritabanı nesnesini eşitlemek için SQL komutları oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-200">Then, with the click of a button, you can generate the SQL commands for synchronizing one or more database objects.</span></span> <span data-ttu-id="ad080-201">Bir Nutshell 'de, dağıtım zamanında geliştirme ve üretim veritabanlarını karşılaştırmak için bir veritabanı karşılaştırma aracı kullanabilirsiniz. bu sayede, yürütüldüğünde, değişiklikleri üretim veritabanı s şemasına uygular, böylece geliştirme veritabanı şemasını yansıtır.</span><span class="sxs-lookup"><span data-stu-id="ad080-201">In a nutshell, you can use a database comparison tool to compare the development and production databases at deploy-time, generating a file that contains the SQL commands that, when executed, will apply the changes to the production database s schema so that it mirrors the development database s schema.</span></span>

<span data-ttu-id="ad080-202">Birçok farklı satıcı tarafından sunulan çeşitli üçüncü taraf veritabanı karşılaştırma araçları vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-202">There are a variety of third-party database comparison tools offered by many different vendors.</span></span> <span data-ttu-id="ad080-203">Bu tür bir örnek, [*kırmızı kapı yazılımına*](http://www.red-gate.com/)göre [*SQL karşılaştırmaktır*](http://www.red-gate.com/products/SQL_Compare/).</span><span class="sxs-lookup"><span data-stu-id="ad080-203">One such example is [*SQL Compare*](http://www.red-gate.com/products/SQL_Compare/), by [*Red Gate Software*](http://www.red-gate.com/).</span></span> <span data-ttu-id="ad080-204">Geliştirme ve üretim veritabanları şemalarını karşılaştırmak ve eşleştirmek için SQL Compare kullanma sürecini inceleyelim.</span><span class="sxs-lookup"><span data-stu-id="ad080-204">Let s walk through the process of using SQL Compare to compare and synchronize the development and production databases schemas.</span></span>

> [!NOTE]
> <span data-ttu-id="ad080-205">Bu yazma sırasında, SQL Compare 'in geçerli sürümü 7,1, standart sürüm maliyetlendirme $395 ile oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="ad080-205">At the time of this writing the current version of SQL Compare was version 7.1, with the Standard Edition costing $395.</span></span> <span data-ttu-id="ad080-206">14 günlük ücretsiz deneme sürümünü indirerek da izleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-206">You can follow along by downloading a free 14-day trial.</span></span>

<span data-ttu-id="ad080-207">SQL Compare başladığında, kaydedilen SQL Compare projelerini gösteren karşılaştırma projeleri iletişim kutusu açılır.</span><span class="sxs-lookup"><span data-stu-id="ad080-207">When SQL Compare starts the Comparison Projects dialog box opens, showing the saved SQL Compare projects.</span></span> <span data-ttu-id="ad080-208">Yeni bir proje oluşturun.</span><span class="sxs-lookup"><span data-stu-id="ad080-208">Create a new project.</span></span> <span data-ttu-id="ad080-209">Bu, Karşılaştırılacak veritabanları hakkında bilgi isteyen proje yapılandırma sihirbazını başlatır (bkz. Şekil 1).</span><span class="sxs-lookup"><span data-stu-id="ad080-209">This launches the Project Configuration wizard, which prompts for information about the databases to compare (see Figure 1).</span></span> <span data-ttu-id="ad080-210">Geliştirme ve üretim ortamı veritabanlarının bilgilerini girin.</span><span class="sxs-lookup"><span data-stu-id="ad080-210">Enter the information for the development and production environment databases.</span></span>

<span data-ttu-id="ad080-211">[Geliştirme ve üretim veritabanlarını karşılaştırma ![](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span><span class="sxs-lookup"><span data-stu-id="ad080-211">[![Compare the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image2.jpg)](strategies-for-database-development-and-deployment-vb/_static/image1.jpg)</span></span>

<span data-ttu-id="ad080-212">**Şekil 1**: geliştirme ve üretim veritabanlarını karşılaştırın ([tam boyutlu görüntüyü görüntülemek için tıklayın](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span><span class="sxs-lookup"><span data-stu-id="ad080-212">**Figure 1**: Compare the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image3.jpg))</span></span>

> [!NOTE]
> <span data-ttu-id="ad080-213">Geliştirme ortamı veritabanınız, Web sitenizin `App_Data` klasöründeki bir SQL Express sürümü veritabanı dosyası ise Şekil 1 ' de gösterilen iletişim kutusundan seçmek için veritabanını SQL Server Express veritabanı sunucusuna kaydetmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="ad080-213">If your development environment database is a SQL Express Edition database file in the `App_Data` folder of your website you will need to register the database in the SQL Server Express database server in order to select it from the dialog box shown in Figure 1.</span></span> <span data-ttu-id="ad080-214">Bunu yapmanın en kolay yolu SQL Server Management Studio (SSMS) öğesini açmak, SQL Server Express veritabanı sunucusuna bağlanmak ve veritabanını eklemektir.</span><span class="sxs-lookup"><span data-stu-id="ad080-214">The easiest way to accomplish this is to open SQL Server Management Studio (SSMS), connect to the SQL Server Express database server, and attach the database.</span></span> <span data-ttu-id="ad080-215">Bilgisayarınızda SSMS yüklü değilse, ücretsiz [*SQL Server 2008 Management Studio temel sürümü*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en)indirip yükleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-215">If you do not have SSMS installed on your computer you can download and install the free [*SQL Server 2008 Management Studio Basic version*](https://www.microsoft.com/downloads/details.aspx?FamilyId=7522A683-4CB2-454E-B908-E805E9BD4E28&amp;displaylang=en).</span></span>

<span data-ttu-id="ad080-216">Karşılaştırılacak veritabanlarını seçmeye ek olarak, Seçenekler sekmesinden çeşitli karşılaştırma ayarları da belirtebilirsiniz. Açmak isteyebileceğiniz bir seçenek, "kısıtlama ve dizin adlarını yoksay" dır.</span><span class="sxs-lookup"><span data-stu-id="ad080-216">In addition to selecting the databases to compare, you can also specify a variety of comparison settings from the Options tab. One option you may want to turn on is the "Ignore constraint and index names."</span></span> <span data-ttu-id="ad080-217">Önceki öğreticide, uygulama Hizmetleri veritabanı nesnelerini geliştirme ve üretim veritabanlarına eklediğimiz konusunda geri çekin.</span><span class="sxs-lookup"><span data-stu-id="ad080-217">Recall that in the preceding tutorial we added the application services database objects to the development and production databases.</span></span> <span data-ttu-id="ad080-218">Bu nesneleri üretim veritabanında oluşturmak için `aspnet_regsql.exe` aracını kullandıysanız, birincil anahtar ve benzersiz kısıtlama adlarının geliştirme ve üretim veritabanları arasında farklı olduğunu fark edersiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-218">If you used the `aspnet_regsql.exe` tool to create these objects on the production database then you will find that the primary key and unique constraint names differ between the development and production databases.</span></span> <span data-ttu-id="ad080-219">Sonuç olarak, SQL Compare tüm uygulama hizmetleri tablolarının farklı olduğunu işaret eder.</span><span class="sxs-lookup"><span data-stu-id="ad080-219">Consequently, SQL Compare will flag all of the application services tables as differing.</span></span> <span data-ttu-id="ad080-220">"Kısıtlama ve dizin adlarını yoksay" işaretini işaretsiz bırakabilir ve kısıtlama adlarını eşitleyebilir ya da SQL Compare 'in bu farklılıkları yoksaymasını sağlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-220">You can either leave the "Ignore constraint and index names" unchecked and synchronize the constraint names, or instruct SQL Compare to ignore these differences.</span></span>

<span data-ttu-id="ad080-221">Karşılaştırılacak veritabanlarını seçtikten sonra (Karşılaştırma seçeneklerini gözden geçirdikten), karşılaştırmaya başlamak için şimdi Karşılaştır düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="ad080-221">After selecting the databases to compare (and reviewing the comparison options), click the Compare Now button to begin the comparison.</span></span> <span data-ttu-id="ad080-222">Sonraki birkaç saniye içinde, SQL Compare iki veritabanının şemalarını inceler ve bunların nasıl farklı olduğunu gösteren bir rapor oluşturur.</span><span class="sxs-lookup"><span data-stu-id="ad080-222">Over the next several seconds, SQL Compare examines the schemas of the two databases and generates a report of how they differ.</span></span> <span data-ttu-id="ad080-223">Ben, bu tür tutarsızlıklardan SQL Compare arabiriminde nasıl Not alınacağını göstermek için geliştirme veritabanında bazı değişiklikler yaptı.</span><span class="sxs-lookup"><span data-stu-id="ad080-223">I ve purposefully made some modifications to the development database to show how such discrepancies are noted in the SQL Compare interface.</span></span> <span data-ttu-id="ad080-224">Şekil 2 ' de gösterildiği gibi, `Authors` tabloya `BirthDate` bir sütun ekledim, `Books` tablosundan `ISBN` sütununu kaldırdım ve yeni bir tablo ekledi. Bu, `Ratings`siteyi ziyaret eden kullanıcıların gözden geçirmeli kitapları almasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="ad080-224">As Figure 2 shows, I ve added a `BirthDate` column to the `Authors` table, removed the `ISBN` column from the `Books` table, and added a new table, `Ratings`, which is meant to let users visiting the site rate the reviewed books.</span></span>

> [!NOTE]
> <span data-ttu-id="ad080-225">Bu öğreticide yapılan veri modeli değişiklikleri, bir veritabanı karşılaştırma aracı kullanmayı göstermek için yapılmıştır.</span><span class="sxs-lookup"><span data-stu-id="ad080-225">The data model changes made in this tutorial were done to illustrate using a database comparison tool.</span></span> <span data-ttu-id="ad080-226">Bu değişiklikleri veritabanında sonraki öğreticilerde bulamacaksınız.</span><span class="sxs-lookup"><span data-stu-id="ad080-226">You will not find these changes in the database in future tutorials.</span></span>

<span data-ttu-id="ad080-227">[![SQL Compare geliştirme ve üretim veritabanları arasındaki farkları listeler](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span><span class="sxs-lookup"><span data-stu-id="ad080-227">[![SQL Compare Lists the Differences Between the Development and Production Databases](strategies-for-database-development-and-deployment-vb/_static/image5.jpg)](strategies-for-database-development-and-deployment-vb/_static/image4.jpg)</span></span>

<span data-ttu-id="ad080-228">**Şekil 2**: SQL Compare geliştirme ve üretim veritabanları arasındaki farkları listeler ([tam boyutlu görüntüyü görüntülemek için tıklayın](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span><span class="sxs-lookup"><span data-stu-id="ad080-228">**Figure 2**: SQL Compare Lists the Differences Between the Development and Production Databases ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image6.jpg))</span></span>

<span data-ttu-id="ad080-229">SQL Compare, veritabanı nesnelerini gruplar halinde ayırır, her iki veritabanında da hangi nesnelerin olduğunu, ancak farklı olduğunu, tek bir veritabanında hangi nesnelerin aynı olduğunu, hangilerinin aynı olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="ad080-229">SQL Compare breaks down the database objects into groups, quickly showing you what objects exist in both databases but are different, which objects exist in one database but not the other, and which objects are identical.</span></span> <span data-ttu-id="ad080-230">Görebileceğiniz gibi, her iki veritabanında da bulunan ancak farklı olan `Authors` tablo, bir sütun eklenmiş olan ve `Books` tablo olan ve bir kaldırılan.</span><span class="sxs-lookup"><span data-stu-id="ad080-230">As you can see, there are two objects that exist in both databases but are different: the `Authors` table, which had a column added, and the `Books` table, which had one removed.</span></span> <span data-ttu-id="ad080-231">Yalnızca geliştirme veritabanında bulunan, yeni oluşturulan `Ratings` tablosu olan bir nesne vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-231">There is one object that exists only in the development database, namely the newly created `Ratings` table.</span></span> <span data-ttu-id="ad080-232">Ve her iki veritabanında da özdeş olan 117 nesne vardır.</span><span class="sxs-lookup"><span data-stu-id="ad080-232">And there are 117 objects that are identical in both databases.</span></span>

<span data-ttu-id="ad080-233">Bir veritabanı nesnesi seçilirse, bu nesnelerin nasıl farklı olduğunu gösteren SQL farkları penceresi görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="ad080-233">Selecting a database object displays the SQL Differences window, which shows how these objects differ.</span></span> <span data-ttu-id="ad080-234">Şekil 2 ' de en altta görüntülenen SQL farkları penceresi, geliştirme veritabanındaki `Authors` tablosunun, üretim veritabanındaki `Authors` tablosunda bulunmayan `BirthDate` sütununa sahip olduğunu vurgular.</span><span class="sxs-lookup"><span data-stu-id="ad080-234">The SQL Differences window, displayed at the bottom in Figure 2, highlights that the `Authors` table in the development database has the `BirthDate` column, which is not found in the `Authors` table on the production database.</span></span>

<span data-ttu-id="ad080-235">Farkları gözden geçirdikten ve hangi nesneleri eşitleyeceğiniz seçtikten sonra, bir sonraki adım, üretim veritabanı şemasını geliştirme veritabanıyla eşleşecek şekilde güncelleştirmek için gereken SQL komutlarını oluşturmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ad080-235">After reviewing the differences and selecting which objects you want to synchronize, the next step is to generate the SQL commands needed to update the production database s schema to match the development database.</span></span> <span data-ttu-id="ad080-236">Bu, eşitleme Sihirbazı aracılığıyla gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-236">This is accomplished through the Synchronization Wizard.</span></span> <span data-ttu-id="ad080-237">Eşitleme Sihirbazı eşitlenecek nesneleri onaylar ve eylem planını özetler (bkz. Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="ad080-237">The Synchronization Wizard confirms what objects to synchronize and summarizes the action plan (see Figure 3).</span></span> <span data-ttu-id="ad080-238">Veritabanlarını hemen eşitleyebilir veya boş bir şekilde çalıştırılabilen SQL komutlarıyla bir komut dosyası oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-238">You can synchronize the databases immediately or generate a script with the SQL commands that can be run at your leisure.</span></span>

<span data-ttu-id="ad080-239">[![veritabanları şemalarınızı eşitlemek için eşitleme Sihirbazı 'nı kullanın](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span><span class="sxs-lookup"><span data-stu-id="ad080-239">[![Use the Synchronization Wizard to Synchronize Your Databases Schemas](strategies-for-database-development-and-deployment-vb/_static/image8.jpg)](strategies-for-database-development-and-deployment-vb/_static/image7.jpg)</span></span>

<span data-ttu-id="ad080-240">**Şekil 3**: veritabanları şemalarınızı eşitlemek Için eşitleme Sihirbazı 'nı kullanın ([tam boyutlu görüntüyü görüntülemek için tıklayın](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span><span class="sxs-lookup"><span data-stu-id="ad080-240">**Figure 3**: Use the Synchronization Wizard to Synchronize Your Databases Schemas ([Click to view full-size image](strategies-for-database-development-and-deployment-vb/_static/image9.jpg))</span></span>

<span data-ttu-id="ad080-241">Red kapısı yazılım s SQL karşılaştırması gibi veritabanı karşılaştırma araçları, değişiklikleri geliştirme veritabanı şemasına, üretim veritabanına kolayca işaret eden bir şekilde uygulamayı ve öğesini tıklamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="ad080-241">Database comparison tools like Red Gate Software s SQL Compare make applying the changes to the development database schema to the production database as easy as point and click.</span></span>

> [!NOTE]
> <span data-ttu-id="ad080-242">SQL Compare iki veritabanı *şeması*karşılaştırır ve eşitler.</span><span class="sxs-lookup"><span data-stu-id="ad080-242">SQL Compare compares and synchronizes two databases *schemas*.</span></span> <span data-ttu-id="ad080-243">Ne yazık ki, iki veritabanı tablosu içindeki verileri karşılaştırmaz ve eşitlemez.</span><span class="sxs-lookup"><span data-stu-id="ad080-243">Unfortunately, it does not compare and synchronize the data within two databases tables.</span></span> <span data-ttu-id="ad080-244">Red kapısı yazılımı, iki veritabanı arasında verileri karşılaştıran ve eşitleyen [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) adlı bir ürün sunar, ancak SQL Compare 'ten ayrı bir üründür ve farklı bir $395.</span><span class="sxs-lookup"><span data-stu-id="ad080-244">Red Gate Software does offer a product named [*SQL Data Compare*](http://www.red-gate.com/products/SQL_Data_Compare/) that compares and synchronizes the data between two databases, but it is a separate product from SQL Compare and costs another $395.</span></span>

## <a name="taking-the-application-offline-during-deployment"></a><span data-ttu-id="ad080-245">Dağıtım sırasında uygulamayı çevrimdışına alma</span><span class="sxs-lookup"><span data-stu-id="ad080-245">Taking the Application Offline During Deployment</span></span>

<span data-ttu-id="ad080-246">Bu öğreticiler genelinde yaptığımız gibi, dağıtım birden çok adımdan oluşan bir işlemdir: ASP.NET sayfalarını, ana sayfaları, CSS dosyalarını, JavaScript dosyalarını, resimleri ve diğer gerekli içeriği geliştirme ortamından üretime kopyalama ortamınızın gerekirse, üretim ortamına özgü yapılandırma bilgilerini kopyalama; ve son dağıtımdan bu yana veri modeline değişiklikler uygulanıyor.</span><span class="sxs-lookup"><span data-stu-id="ad080-246">As we ve seen throughout these tutorials, deployment is a process that involves multiple steps: copying the ASP.NET pages, master pages, CSS files, JavaScript files, images, and other necessary content from the development environment to the production environment; copying up the production environment-specific configuration information, if needed; and applying the changes to the data model since the last deployment.</span></span> <span data-ttu-id="ad080-247">Dosya sayısına ve veritabanınızın karmaşıklığına bağlı olarak, bu adımların tamamlanması birkaç saniye ila birkaç dakika sürebilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-247">Depending on the number of files and the complexity of your database changes, these steps can take anywhere from a few seconds to several minutes to complete.</span></span> <span data-ttu-id="ad080-248">Bu pencere sırasında, Web uygulaması akıcı bir x ve siteyi ziyaret eden kullanıcılar hata ya da beklenmeyen davranışlarla karşılaşabilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-248">During this window the web application is in flux and users visiting the site may experience errors or unexpected behavior.</span></span>

<span data-ttu-id="ad080-249">Bir Web sitesi dağıtıldığında, dağıtım tamamlanana kadar Web uygulamasını "çevrimdışı" yapmak en iyisidir.</span><span class="sxs-lookup"><span data-stu-id="ad080-249">When deploying a website it is best to take the web application "offline" until deployment has completed.</span></span> <span data-ttu-id="ad080-250">Uygulamayı çevrimdışı hale getirme (ve dağıtım işlemi tamamlandıktan sonra yedekleme işlemi tamamlandıktan sonra), bir dosyayı karşıya yüklemek ve silmek kadar kolaydır.</span><span class="sxs-lookup"><span data-stu-id="ad080-250">Taking the application offline (and bringing it back up once the deployment process has finished) is as easy as uploading a file and then deleting it.</span></span> <span data-ttu-id="ad080-251">ASP.NET 2,0 ' den başlayarak, uygulama s kök dizinindeki `app_offline.htm` adlı bir dosyanın boyutundaydı varlığı, tüm Web sitesini "çevrimdışı" olarak alır.</span><span class="sxs-lookup"><span data-stu-id="ad080-251">Starting with ASP.NET 2.0, the mere presence of a file named `app_offline.htm` in the application s root directory takes the entire website "offline."</span></span> <span data-ttu-id="ad080-252">Bu sitedeki bir ASP.NET sayfasına yönelik tüm istekler `app_offline.htm` dosyanın içeriğiyle otomatik olarak yanıt verilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-252">Any request to an ASP.NET page on that site is automatically responded with the contents of the `app_offline.htm` file.</span></span> <span data-ttu-id="ad080-253">Bu dosya kaldırıldıktan sonra uygulama yeniden çevrimiçi duruma gelir.</span><span class="sxs-lookup"><span data-stu-id="ad080-253">Once that file is removed, the application comes back online.</span></span>

<span data-ttu-id="ad080-254">Dağıtım sırasında bir uygulamayı çevrimdışına almak, dağıtım işlemine başlamadan önce bir `app_offline.htm` dosyasını üretim ortamı s kök dizinine yüklemek ve ardından bir dağıtım tamamlandıktan sonra (veya başka bir şekilde yeniden adlandırmak) için bir dosyası yükleme kadar basittir.</span><span class="sxs-lookup"><span data-stu-id="ad080-254">Taking an application offline during deployment, then, is as simple as uploading an `app_offline.htm` file to the production environment s root directory prior to beginning the deployment process and then deleting it (or renaming it to something else) once deployment is complete.</span></span> <span data-ttu-id="ad080-255">Bu teknik hakkında daha fazla bilgi için John Peterson s makalesine ve bir [*ASP.NET uygulamasını çevrimdışı duruma*](http://www.15seconds.com/issue/061207.htm)getirme bölümüne bakın.</span><span class="sxs-lookup"><span data-stu-id="ad080-255">For more information on this technique refer to John Peterson s article, Taking an [*ASP.NET Application Offline*](http://www.15seconds.com/issue/061207.htm).</span></span>

## <a name="summary"></a><span data-ttu-id="ad080-256">Özet</span><span class="sxs-lookup"><span data-stu-id="ad080-256">Summary</span></span>

<span data-ttu-id="ad080-257">Veritabanı dağıtımı etrafında veri odaklı uygulama merkezleri dağıtmanın ana zorluğu.</span><span class="sxs-lookup"><span data-stu-id="ad080-257">The main challenge in deploying a data-driven application centers around deploying the database.</span></span> <span data-ttu-id="ad080-258">Geliştirme ortamında ve diğeri de üretim ortamında veritabanının iki sürümü olduğu için, geliştirmeye yeni özellikler eklendikçe bu iki veritabanı şeması eşitlenmemiş hale gelebilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-258">Because there are two versions of the database - one in the development environment and one in the production environment - these two databases schemas can become out of sync as new features are added in development.</span></span> <span data-ttu-id="ad080-259">Daha fazlası, üretim veritabanı gerçek kullanıcıların gerçek verileriyle Doldurulmakta olduğu için, uygulamayı oluşturan dosyaları (ASP.NET sayfaları) dağıttığınızda yaptığınız gibi, değiştirilen geliştirme veritabanıyla birlikte üretim veritabanının üzerine yazabilirsiniz. görüntü dosyaları, vb.).</span><span class="sxs-lookup"><span data-stu-id="ad080-259">What s more, because the production database as being populated with real data from real users, you cannot overwrite the production database with the modified development database like you can when deploying the files that make up the application (the ASP.NET pages, image files, and so forth).</span></span> <span data-ttu-id="ad080-260">Bunun yerine, bir veritabanını dağıtmak, son dağıtımdan bu yana üretim veritabanındaki geliştirme veritabanına yapılan tam değişiklik kümesini uygulamayı gerektirir.</span><span class="sxs-lookup"><span data-stu-id="ad080-260">Instead, deploying a database entails implementing the precise set of changes made to the development database on the production database since the last deployment.</span></span>

<span data-ttu-id="ad080-261">Bu öğretici, veritabanı değişikliklerinin günlüğünü sürdürmek ve uygulamak için üç tekniği incelemiştir.</span><span class="sxs-lookup"><span data-stu-id="ad080-261">This tutorial looked at three techniques for maintaining and applying a log of database changes.</span></span> <span data-ttu-id="ad080-262">En basit yaklaşım, değişiklikleri proo 'da kaydetmek.</span><span class="sxs-lookup"><span data-stu-id="ad080-262">The simplest approach is to record the changes in prose.</span></span> <span data-ttu-id="ad080-263">Bu taktik, bu değişiklikleri üretim veritabanında el ile işleyen bir işlem haline getirir ancak veritabanı nesneleri oluşturmak ve değiştirmek için SQL komutlarının bilgisine gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="ad080-263">While this tactic makes implementing these changes on the production database a manual process, it does not require knowledge of the SQL commands for creating and altering database objects.</span></span> <span data-ttu-id="ad080-264">Daha karmaşık bir yaklaşım ve daha büyük projeler veya birden çok geliştiricilere sahip projeler için çok daha çok daha fazla bir yaklaşım tablosu, değişiklikleri bir dizi SQL komutu olarak kaydetmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="ad080-264">A more sophisticated approach, and one that is much more palatable in larger projects or projects with multiple developers, is to record the changes as a series of SQL commands.</span></span> <span data-ttu-id="ad080-265">Bu değişiklikler, hedef veritabanında bu değişiklikleri büyük ölçüde hastens.</span><span class="sxs-lookup"><span data-stu-id="ad080-265">This greatly hastens rolling out these changes to the target database.</span></span> <span data-ttu-id="ad080-266">Her iki yaklaşımdan en iyi şekilde, kırmızı kapı yazılım s SQL karşılaştırması gibi bir veritabanı karşılaştırma aracı kullanılarak elde edilebilir.</span><span class="sxs-lookup"><span data-stu-id="ad080-266">The best of both approaches can be achieved by using a database comparison tool, such as Red Gate Software s SQL Compare.</span></span>

<span data-ttu-id="ad080-267">Bu öğretici, veri odaklı bir uygulamanın dağıtılmasıyla ilgili odaklanmamıza önem vermez.</span><span class="sxs-lookup"><span data-stu-id="ad080-267">This tutorial concludes our focus on deploying a data-driven application.</span></span> <span data-ttu-id="ad080-268">Sonraki öğreticiler kümesi, üretim ortamındaki hatalara nasıl yanıt vereceğini inceler.</span><span class="sxs-lookup"><span data-stu-id="ad080-268">The next set of tutorials looks at how to respond to errors in the production environment.</span></span> <span data-ttu-id="ad080-269">Sarı ekran olması yerine kolay bir hata sayfasının nasıl görüntüleneceğini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="ad080-269">We'll look at how to display a friendly error page rather instead of the Yellow Screen of Death.</span></span> <span data-ttu-id="ad080-270">Hata ayrıntılarını günlüğe kaydetme ve bu tür hatalar oluştuğunda sizi uyarma hakkında bilgi edineceksiniz.</span><span class="sxs-lookup"><span data-stu-id="ad080-270">And we'll see how to log the error s details and how to alert you when such errors occur.</span></span>

<span data-ttu-id="ad080-271">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="ad080-271">Happy Programming!</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="ad080-272">[Önceki](configuring-a-website-that-uses-application-services-vb.md)
> [İleri](displaying-a-custom-error-page-vb.md)</span><span class="sxs-lookup"><span data-stu-id="ad080-272">[Previous](configuring-a-website-that-uses-application-services-vb.md)
[Next](displaying-a-custom-error-page-vb.md)</span></span>
