---
uid: web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12
title: 'SQL Server Visual Studio veya Visual Web Developer kullanarak Compact ile ASP.NET Web uygulaması dağıtma: SQL Server - 12 10 geçirme | Microsoft Docs'
author: tdykstra
description: Bu öğretici serisinde, nasıl dağıtılacağı gösterilir (bir ASP.NET Yayımlama) Visual Stu'ı kullanarak bir SQL Server Compact veritabanı içeren web uygulaması projesi...
ms.author: riande
ms.date: 11/17/2011
ms.assetid: a89d6f32-b71b-4036-8ff7-5f8ac2a6eca8
msc.legacyurl: /web-forms/overview/older-versions-getting-started/deployment-to-a-hosting-provider/deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12
msc.type: authoredcontent
ms.openlocfilehash: cc4db5b1fcedca675a18f1b78e28f65e51b6cf09
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65132763"
---
# <a name="deploying-an-aspnet-web-application-with-sql-server-compact-using-visual-studio-or-visual-web-developer-migrating-to-sql-server---10-of-12"></a><span data-ttu-id="3cb9c-103">SQL Server Visual Studio veya Visual Web Developer kullanarak Compact ile ASP.NET Web uygulaması dağıtma: SQL Server - 12 10 geçirme</span><span class="sxs-lookup"><span data-stu-id="3cb9c-103">Deploying an ASP.NET Web Application with SQL Server Compact using Visual Studio or Visual Web Developer: Migrating to SQL Server - 10 of 12</span></span>

<span data-ttu-id="3cb9c-104">tarafından [Tom Dykstra](https://github.com/tdykstra)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-104">by [Tom Dykstra](https://github.com/tdykstra)</span></span>

[<span data-ttu-id="3cb9c-105">Başlangıç projesini indirin</span><span class="sxs-lookup"><span data-stu-id="3cb9c-105">Download Starter Project</span></span>](http://code.msdn.microsoft.com/Deploying-an-ASPNET-Web-4e31366b)

> <span data-ttu-id="3cb9c-106">Bu öğretici serisinde, nasıl dağıtılacağı gösterilir (bir ASP.NET Yayımlama) Web için Visual Studio 2012 RC veya Visual Studio Express 2012 RC'Yİ'ı kullanarak bir SQL Server Compact veritabanı içeren web uygulaması projesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-106">This series of tutorials shows you how to deploy (publish) an ASP.NET web application project that includes a SQL Server Compact database by using Visual Studio 2012 RC or Visual Studio Express 2012 RC for Web.</span></span> <span data-ttu-id="3cb9c-107">Web yayımlama güncelleştirme yüklerseniz, Visual Studio 2010'u kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-107">You can also use Visual Studio 2010 if you install the Web Publish Update.</span></span> <span data-ttu-id="3cb9c-108">Serinin bir giriş için bkz [serideki ilk öğreticide](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-108">For an introduction to the series, see [the first tutorial in the series](deployment-to-a-hosting-provider-introduction-1-of-12.md).</span></span>
> 
> <span data-ttu-id="3cb9c-109">Visual Studio 2012 RC sürümünden sonra sunulan dağıtım özellikleri gösterir, SQL Server sürümlerinde SQL Server Compact dışında dağıtmayı gösterir ve Azure App Service Web Apps'e dağıtma işlemi gösterilmektedir bir öğretici için bkz. [ASP.NET Web dağıtımı Visual Studio kullanarak](../../deployment/visual-studio-web-deployment/introduction.md).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-109">For a tutorial that shows deployment features introduced after the RC release of Visual Studio 2012, shows how to deploy SQL Server editions other than SQL Server Compact, and shows how to deploy to Azure App Service Web Apps, see [ASP.NET Web Deployment using Visual Studio](../../deployment/visual-studio-web-deployment/introduction.md).</span></span>

## <a name="overview"></a><span data-ttu-id="3cb9c-110">Genel Bakış</span><span class="sxs-lookup"><span data-stu-id="3cb9c-110">Overview</span></span>

<span data-ttu-id="3cb9c-111">Bu öğreticide, SQL Server Compact'dan SQL Server'a geçirme işlemini göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-111">This tutorial shows you how to migrate from SQL Server Compact to SQL Server.</span></span> <span data-ttu-id="3cb9c-112">Bunu yapmak isteyebileceğiniz bir SQL Server Compact, saklı yordamlar, Tetikleyiciler, görünüm veya çoğaltma gibi desteklemiyor SQL Server özelliklerden yararlanmak için nedenidir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-112">One reason you might want to do that is to take advantage of SQL Server features that SQL Server Compact does not support, such as stored procedures, triggers, views, or replication.</span></span> <span data-ttu-id="3cb9c-113">SQL Server Compact ve SQL Server arasındaki farklar hakkında daha fazla bilgi için bkz. [SQL Server Compact dağıtma](deployment-to-a-hosting-provider-deploying-sql-server-compact-databases-2-of-12.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-113">For more information about the differences between SQL Server Compact and SQL Server, see the [Deploying SQL Server Compact](deployment-to-a-hosting-provider-deploying-sql-server-compact-databases-2-of-12.md) tutorial.</span></span>

### <a name="sql-server-express-versus-full-sql-server-for-development"></a><span data-ttu-id="3cb9c-114">SQL Server Express geliştirme için tam SQL Server ile karşılaştırması</span><span class="sxs-lookup"><span data-stu-id="3cb9c-114">SQL Server Express versus full SQL Server for Development</span></span>

<span data-ttu-id="3cb9c-115">SQL Server'a yükseltin geçirmeye karar verdikten sonra SQL Server veya SQL Server Express, geliştirme ve test ortamlarında kullanmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-115">Once you've decided to upgrade to SQL Server, you might want to use SQL Server or SQL Server Express in your development and test environments.</span></span> <span data-ttu-id="3cb9c-116">Farklar araç desteği ve veritabanı altyapısı özellikleri ek olarak, SQL Server Compact ve SQL Server'ın başka sürümleri arasında sağlayıcısı uygulamalarında farklar vardır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-116">In addition to the differences in tool support and in database engine features, there are differences in provider implementations between SQL Server Compact and other versions of SQL Server.</span></span> <span data-ttu-id="3cb9c-117">Bu farklılıklar, farklı sonuçlar üretmek için aynı kodu neden olabilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-117">These differences can cause the same code to generate different results.</span></span> <span data-ttu-id="3cb9c-118">SQL Server Compact geliştirme veritabanınızın tutmaya karar verirseniz, bu nedenle, sitenizi SQL Server veya SQL Server Express üretime her dağıtımdan önce bir sınama ortamında sınamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-118">Therefore, if you decide to keep SQL Server Compact as your development database, you should thoroughly test your site in SQL Server or SQL Server Express in a test environment before each deployment to production.</span></span>

<span data-ttu-id="3cb9c-119">Farklı olarak SQL Server Compact, SQL Server Express temelde aynı veritabanı altyapısı ve tam SQL sunucusu olarak aynı .NET sağlayıcısı kullanır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-119">Unlike SQL Server Compact, SQL Server Express is essentially the same database engine and uses the same .NET provider as full SQL Server.</span></span> <span data-ttu-id="3cb9c-120">SQL Server Express ile test ettiğinizde, SQL Server ile olacak şekilde, aynı sonuçların alınmasını emin olabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-120">When you test with SQL Server Express, you can be confident of getting the same results as you will with SQL Server.</span></span> <span data-ttu-id="3cb9c-121">SQL Server, SQL Server ile kullanabileceğiniz Express ile aynı veritabanı araçları çoğunu kullanabilirsiniz (olan önemli bir özel durum [SQL Server Profiler](https://msdn.microsoft.com/library/ms181091.aspx)), ve SQL Server saklı yordamları, görünümleri, Tetikleyiciler, gibi diğer özellikleri destekler ve çoğaltma.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-121">You can use most of the same database tools with SQL Server Express that you can use with SQL Server (a notable exception being [SQL Server Profiler](https://msdn.microsoft.com/library/ms181091.aspx)), and it supports other features of SQL Server like stored procedures, views, triggers, and replication.</span></span> <span data-ttu-id="3cb9c-122">(, Genellikle tam SQL Server, ancak bir üretim Web sitesi kullanmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-122">(You typically have to use full SQL Server in a production website, however.</span></span> <span data-ttu-id="3cb9c-123">SQL Server Express paylaşılan barındırma ortamında çalıştırabilirsiniz ancak için tasarlanmamıştır ve birçok barındırma sağlayıcılarının desteklemez.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-123">SQL Server Express can run in a shared hosting environment, but it was not designed for that, and many hosting providers do not support it.)</span></span>

<span data-ttu-id="3cb9c-124">Visual Studio 2012 kullanıyorsanız, Visual Studio ile varsayılan olarak yüklü olduğu için genellikle SQL Server Express LocalDB için geliştirme ortamınızı seçin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-124">If you are using Visual Studio 2012, you typically choose SQL Server Express LocalDB for your development environment because that is what is installed by default with Visual Studio.</span></span> <span data-ttu-id="3cb9c-125">Ancak, LocalDB IIS, çalışmaz, bu test ortamınız için SQL Server veya SQL Server Express kullanmanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-125">However, LocalDB does not work in IIS, so for your test environment you have to use either SQL Server or SQL Server Express.</span></span>

### <a name="combining-databases-versus-keeping-them-separate"></a><span data-ttu-id="3cb9c-126">Veritabanlarını ayrı tutma ve birleştirme</span><span class="sxs-lookup"><span data-stu-id="3cb9c-126">Combining Databases versus Keeping Them Separate</span></span>

<span data-ttu-id="3cb9c-127">İki SQL Server Compact veritabanı Contoso University uygulama vardır: Üyelik veritabanına (*aspnet.sdf*) hem de uygulama veritabanı (*School.sdf*).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-127">The Contoso University application has two SQL Server Compact databases: the membership database (*aspnet.sdf*) and the application database (*School.sdf*).</span></span> <span data-ttu-id="3cb9c-128">Geçiş yaptığınızda, bu veritabanları, iki ayrı veritabanlarına veya tek bir veritabanına geçirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-128">When you migrate, you can migrate these databases to two separate databases or to a single database.</span></span> <span data-ttu-id="3cb9c-129">Uygulama veritabanınız ve üyelik veritabanınızı arasında yapılan birleştirmeleri kolaylaştırmak için bunları birleştirmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-129">You might want to combine them in order to facilitate database joins between your application database and your membership database.</span></span> <span data-ttu-id="3cb9c-130">Barındırma planınıza bunları birleştirmek için bir neden de sağlayabilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-130">Your hosting plan might also provide a reason to combine them.</span></span> <span data-ttu-id="3cb9c-131">Örneğin, barındırma sağlayıcısı, birden fazla veritabanı için daha fazla göre ücretlendiriyor olabilir veya birden fazla veritabanı bile izin vermeyebilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-131">For example, the hosting provider might charge more for multiple databases or might not even allow more than one database.</span></span> <span data-ttu-id="3cb9c-132">Durum Cytanium yalnızca tek bir SQL Server veritabanı sağlayan Bu öğretici için kullanılan hesabı barındırma Lite olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-132">That's the case with the Cytanium Lite hosting account that's used for this tutorial, which allows only a single SQL Server database.</span></span>

<span data-ttu-id="3cb9c-133">Bu öğreticide, bu şekilde iki veritabanlarınızı geçirme:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-133">In this tutorial, you'll migrate your two databases this way:</span></span>

- <span data-ttu-id="3cb9c-134">Geliştirme ortamındaki iki LocalDB veritabanına geçirin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-134">Migrate to two LocalDB databases in the development environment.</span></span>
- <span data-ttu-id="3cb9c-135">Test ortamında iki SQL Server Express veritabanı geçirin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-135">Migrate to two SQL Server Express databases in the test environment.</span></span>
- <span data-ttu-id="3cb9c-136">Bir birleşik tam SQL Server veritabanında üretim ortamına geçirin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-136">Migrate to one combined full SQL Server database in the production environment.</span></span>

<span data-ttu-id="3cb9c-137">Anımsatıcı: Bir hata iletisi alıyorum veya Bu öğreticide ilerlerken bir sorun oluşması durumunda kontrol ettiğinizden emin olun [sorun giderme sayfası](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-137">Reminder: If you get an error message or something doesn't work as you go through the tutorial, be sure to check the [troubleshooting page](deployment-to-a-hosting-provider-creating-and-installing-deployment-packages-12-of-12.md).</span></span>

## <a name="installing-sql-server-express"></a><span data-ttu-id="3cb9c-138">SQL Server Express yükleniyor</span><span class="sxs-lookup"><span data-stu-id="3cb9c-138">Installing SQL Server Express</span></span>

<span data-ttu-id="3cb9c-139">SQL Server Express'i otomatik olarak Visual Studio 2010 ile varsayılan olarak yüklenir, ancak varsayılan olarak, Visual Studio 2012 ile yüklü değil.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-139">SQL Server Express is automatically installed by default with Visual Studio 2010, but by default it is not installed with Visual Studio 2012.</span></span> <span data-ttu-id="3cb9c-140">SQL Server 2012 Express yüklemek için aşağıdaki bağlantıya tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-140">To install SQL Server 2012 Express, click the following link</span></span>

- [<span data-ttu-id="3cb9c-141">SQL Server Express 2012</span><span class="sxs-lookup"><span data-stu-id="3cb9c-141">SQL Server Express 2012</span></span>](https://www.microsoft.com/download/details.aspx?id=29062)

<span data-ttu-id="3cb9c-142">Seçin *x64/trk/SQLEXPR\_x64\_ENU.exe* veya *x86/trk/SQLEXPR\_x86\_ENU.exe*, Yükleme Sihirbazı'nda varsayılan kabul edin. Ayarlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-142">Choose *ENU/x64/SQLEXPR\_x64\_ENU.exe* or *ENU/x86/SQLEXPR\_x86\_ENU.exe*, and in the installation wizard accept the default settings.</span></span> <span data-ttu-id="3cb9c-143">Yükleme seçenekleri hakkında daha fazla bilgi için bkz. [SQL Server 2012 yükleme (Kurulum) Yükleme sihirbazından](https://msdn.microsoft.com/library/ms143219.aspx).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-143">For more information about installation options, see [Install SQL Server 2012 from the Installation Wizard (Setup)](https://msdn.microsoft.com/library/ms143219.aspx).</span></span>

## <a name="creating-sql-server-express-databases-for-the-test-environment"></a><span data-ttu-id="3cb9c-144">Test ortamı için SQL Server Express veritabanları oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-144">Creating SQL Server Express Databases for the Test Environment</span></span>

<span data-ttu-id="3cb9c-145">Sonraki adım ASP.NET üyelik ve Okul veritabanları oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-145">The next step is to create the ASP.NET membership and School databases.</span></span>

<span data-ttu-id="3cb9c-146">Gelen **görünümü** menüsünü seçin **Sunucu Gezgini** (**veritabanı Gezgini** Visual Web Developer) ve ardından sağ tıklayarak **veri bağlantıları**seçip **yeni SQL Server veritabanı oluşturma**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-146">From the **View** menu select **Server Explorer** (**Database Explorer** in Visual Web Developer), and then right-click **Data Connections** and select **Create New SQL Server Database**.</span></span>

![Selecting_Create_New_SQL_Server_Database](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image1.png)

<span data-ttu-id="3cb9c-148">İçinde **yeni SQL Server veritabanı oluşturma** iletişim kutusuna ". \SQLExpress" içinde **sunucu adı** kutusu ve "aspnet-Test" içinde **yeni veritabanı adı** kutusunu işaretleyip tıklayın**Tamam**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-148">In the **Create New SQL Server Database** dialog box, enter ".\SQLExpress" in the **Server name** box and "aspnet-Test" in the **New database name** box, then click **OK**.</span></span>

![Create_New_SQL_Server_Database_aspnet](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image2.png)

<span data-ttu-id="3cb9c-150">"Okul-Test" adlı yeni bir SQL Server Express School veritabanını oluşturmak için aynı yordamı izleyin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-150">Follow the same procedure to create a new SQL Server Express School database named "School-Test".</span></span>

<span data-ttu-id="3cb9c-151">(, "Test" Bu veritabanı adlarına daha sonra başka bir geliştirme ortamı için her bir veritabanı örneğini oluşturacak ve iki veritabanı ayırt edebilmek ihtiyacınız olmadığından ekleme.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-151">(You're appending "Test" to these database names because later you'll create an additional instance of each database for the development environment, and you need to be able to differentiate the two sets of databases.)</span></span>

<span data-ttu-id="3cb9c-152">**Sunucu Gezgini** artık iki yeni veritabanı gösterir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-152">**Server Explorer** now shows the two new databases.</span></span>

![New_databases_in_Server_Explorer](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image3.png)

## <a name="creating-a-grant-script-for-the-new-databases"></a><span data-ttu-id="3cb9c-154">Yeni veritabanları için bir verme betiği oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-154">Creating a Grant Script for the New Databases</span></span>

<span data-ttu-id="3cb9c-155">Uygulama geliştirme bilgisayarınızda IIS çalışırken, uygulama varsayılan uygulama havuzu kimlik bilgileri kullanılarak veritabanına erişir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-155">When the application runs in IIS on your development computer, the application accesses the database by using the default application pool's credentials.</span></span> <span data-ttu-id="3cb9c-156">Bununla birlikte, varsayılan olarak, uygulama havuzu kimliği veritabanlarını açmak için izni yok.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-156">However, by default, the application pool identity does not have permission to open the databases.</span></span> <span data-ttu-id="3cb9c-157">Bu nedenle bu izni vermek için bir komut dosyası çalıştırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-157">So you have to run a script to grant that permission.</span></span> <span data-ttu-id="3cb9c-158">Bu bölümde IIS çalıştırıldığında, uygulama veritabanlarını açabildiğinizden emin olmak için sonraki çalıştıracaksınız komut dosyası oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-158">In this section you create the script that you'll run later to make sure that the application can open the databases when it runs in IIS.</span></span>

<span data-ttu-id="3cb9c-159">Çözümün içinde *SolutionFiles* oluşturduğunuz klasör [üretim ortamına dağıtma](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) öğreticide adlı yeni bir SQL dosyası oluşturun *Grant.sql*.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-159">In the solution's *SolutionFiles* folder that you created in the [Deploying to the Production Environment](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) tutorial, create a new SQL file named *Grant.sql*.</span></span> <span data-ttu-id="3cb9c-160">Aşağıdaki SQL komutlarını, dosyaya kopyalayın ve ardından dosyayı kaydedip kapatın:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-160">Copy the following SQL commands into the file, and then save and close the file:</span></span>

[!code-sql[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample1.sql)]

> [!NOTE]
> <span data-ttu-id="3cb9c-161">Bu betik, bu öğreticide belirtildikleri gibi SQL Server 2008 ve Windows 7 IIS ayarlarında ile çalışacak şekilde tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-161">This script is designed to work with SQL Server 2008 and with the IIS settings in Windows 7 as they are specified in this tutorial.</span></span> <span data-ttu-id="3cb9c-162">Windows veya SQL Server'ın farklı bir sürümünü kullanıyorsanız veya IIS bilgisayarınızda farklı şekilde ayarlarsanız, bu komut dosyası için değişiklik gerekli olabilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-162">If you're using a different version of SQL Server or of Windows, or if you set up IIS on your computer differently, changes to this script might be required.</span></span> <span data-ttu-id="3cb9c-163">SQL Server komut dosyaları hakkında daha fazla bilgi için bkz. [SQL Server Books Online](https://go.microsoft.com/fwlink/?LinkId=132511).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-163">For more information about SQL Server scripts, see [SQL Server Books Online](https://go.microsoft.com/fwlink/?LinkId=132511).</span></span>

> [!NOTE] 
> 
> <span data-ttu-id="3cb9c-164">**Güvenlik Notu** bu betik db verir\_üretim ortamına sahip olacaksınız olan çalışma zamanında veritabanına erişen bir kullanıcı için sahip izinleri.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-164">**Security Note** This script gives db\_owner permissions to the user that accesses the database at run time, which is what you'll have in the production environment.</span></span> <span data-ttu-id="3cb9c-165">Bazı senaryolarda yalnızca dağıtım izinlerini güncelleştirmek ve yalnızca veri okuma ve yazma izinlerine sahip farklı bir kullanıcı çalışma zamanını belirtin tam veritabanı şeması olan bir kullanıcının belirtmek isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-165">In some scenarios you might want to specify a user that has full database schema update permissions only for deployment, and specify for run time a different user that has permissions only to read and write data.</span></span> <span data-ttu-id="3cb9c-166">Daha fazla bilgi için **otomatik Web.config değişiklikleri gözden geçirme için Code First Migrations** içinde [bir Test ortamı olarak IIS'ye dağıtma](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-166">For more information, see **Reviewing the Automatic Web.config Changes for Code First Migrations** in [Deploying to IIS as a Test Environment](deployment-to-a-hosting-provider-deploying-to-iis-as-a-test-environment-5-of-12.md).</span></span>

## <a name="configuring-database-deployment-for-the-test-environment"></a><span data-ttu-id="3cb9c-167">Veritabanı dağıtımı Test ortamı için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-167">Configuring Database Deployment for the Test Environment</span></span>

<span data-ttu-id="3cb9c-168">Ardından, böylece her veritabanı için aşağıdaki görevleri ne yapacağını Visual Studio yapılandırırsınız:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-168">Next, you'll configure Visual Studio so that it will do the following tasks for each database:</span></span>

- <span data-ttu-id="3cb9c-169">Hedef veritabanını kaynak veritabanının yapısı (tablolar, sütunlar, kısıtlamalar, vb.) oluşturan SQL betiğini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-169">Generate a SQL script that creates the source database's structure (tables, columns, constraints, etc.) in the destination database.</span></span>
- <span data-ttu-id="3cb9c-170">Hedef veritabanındaki tablolar halinde kaynak veritabanının veri ekleyen SQL komut dosyasını oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-170">Generate a SQL script that inserts the source database's data into the tables in the destination database.</span></span>
- <span data-ttu-id="3cb9c-171">Oluşturulan komut dosyalarını ve hedef veritabanında oluşturulan verme betiği çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-171">Run the generated scripts, and the Grant script that you created, in the destination database.</span></span>

<span data-ttu-id="3cb9c-172">Açık **proje özellikleri** penceresi ve select **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-172">Open the **Project Properties** window and select the **Package/Publish SQL** tab.</span></span>

<span data-ttu-id="3cb9c-173">Emin olun **etkin (sürüm)** veya **yayın** seçili **yapılandırma** aşağı açılan listesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-173">Make sure that **Active (Release)** or **Release** is selected in the **Configuration** drop-down list.</span></span>

<span data-ttu-id="3cb9c-174">Tıklayın **bu sayfayı etkinleştir**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-174">Click **Enable this Page**.</span></span>

![Package_Publish_SQL_tab_Enable_This_page](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image4.png)

<span data-ttu-id="3cb9c-176">**SQL Paketle/Yayımla** sekmesini eski dağıtım yöntemi belirttiğinden normalde devre.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-176">The **Package/Publish SQL** tab is normally disabled because it specifies a legacy deployment method.</span></span> <span data-ttu-id="3cb9c-177">Çoğu senaryo için veritabanı dağıtımda yapılandırmalısınız **Web'i Yayımla** Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-177">For most scenarios, you should configure database deployment in the **Publish Web** wizard.</span></span> <span data-ttu-id="3cb9c-178">Bu yöntem iyi bir seçenek olduğu bir özel durum, SQL Server Compact'dan SQL Server veya SQL Server Express geçişi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-178">Migrating from SQL Server Compact to SQL Server or SQL Server Express is a special case for which this method is a good choice.</span></span>

<span data-ttu-id="3cb9c-179">Tıklayın **Web.config alma**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-179">Click **Import from Web.config**.</span></span>

![Selecting_Import_from_Web.config](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image5.png)

<span data-ttu-id="3cb9c-181">Visual Studio, bağlantı dizeleri arar *Web.config* dosyası bir üyelik veritabanı için ve biri için School veritabanını bulur ve her bağlantı dizesine karşılık gelen bir satır ekler **veritabanı girişleri**  tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-181">Visual Studio looks for connection strings in the *Web.config* file, finds one for the membership database and one for the School database, and adds a row corresponding to each connection string in the **Database Entries** table.</span></span> <span data-ttu-id="3cb9c-182">Bulduğu bağlantı dizeleri için mevcut SQL Server Compact veritabanları, ve sonraki adımınız nasıl ve nerede yapılandırmak için bu veritabanlarını dağıtmak için.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-182">The connection strings it finds are for the existing SQL Server Compact databases, and your next step will be to configure how and where to deploy these databases.</span></span>

<span data-ttu-id="3cb9c-183">İçinde veritabanı dağıtım ayarlarını girin **veritabanı girişi ayrıntıları** bölümüne **veritabanı girişlerini** tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-183">You enter database deployment settings in the **Database Entry Details** section below the **Database Entries** table.</span></span> <span data-ttu-id="3cb9c-184">Gösterilen ayarları **veritabanı girişi ayrıntıları** bölümüne ait hangisi satırında için **veritabanı girişlerini** tablo seçilirse, aşağıdaki çizimde gösterildiği gibi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-184">The settings shown in the **Database Entry Details** section pertain to whichever row in the **Database Entries** table is selected, as shown in the following illustration.</span></span>

![Database_Entry_Details_section_of_Package_Publish_SQL_tab](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image6.png)

### <a name="configuring-deployment-settings-for-the-membership-database"></a><span data-ttu-id="3cb9c-186">Üyelik veritabanı dağıtım ayarlarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-186">Configuring Deployment Settings for the Membership Database</span></span>

<span data-ttu-id="3cb9c-187">Seçin **DefaultConnection dağıtım** satırında **veritabanı girişlerini** üyelik veritabanına uygulanan ayarları yapılandırmak için tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-187">Select the **DefaultConnection-Deployment** row in the **Database Entries** table in order to configure settings that apply to the membership database.</span></span>

<span data-ttu-id="3cb9c-188">İçinde **hedef veritabanı için bağlantı dizesi**, yeni SQL Server Express üyelik veritabanına işaret eden bir bağlantı dizesi girin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-188">In **Connection string for destination database**, enter a connection string that points to the new SQL Server Express membership database.</span></span> <span data-ttu-id="3cb9c-189">İhtiyaç duyduğunuz bağlantı dizesini alabilirsiniz **Sunucu Gezgini**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-189">You can get the connection string you need from **Server Explorer**.</span></span> <span data-ttu-id="3cb9c-190">İçinde **Sunucu Gezgini**, genişletin **veri bağlantıları** seçip **aspnetTest** veritabanı öğesinden ENTER **özellikleri** penceresi kopyalama **Bağlantı dizesi** değeri.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-190">In **Server Explorer**, expand **Data Connections** and select the **aspnetTest** database, then from the **Properties** window copy the **Connection String** value.</span></span>

![aspnet_connection_string_in_Server_Explorer](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image7.png)

<span data-ttu-id="3cb9c-192">Aynı bağlantı dizesine burada tekrar üretilmektedir:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-192">The same connection string is reproduced here:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample2.cmd)]

<span data-ttu-id="3cb9c-193">Bu bağlantı dizesini içine kopyalayıp **hedef veritabanı için bağlantı dizesi** içinde **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-193">Copy and paste this connection string into **Connection string for destination database** in the **Package/Publish SQL** tab.</span></span>

<span data-ttu-id="3cb9c-194">Emin olun **çekme veri ve/veya varolan bir veritabanını şema** seçilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-194">Make sure that **Pull data and/or schema from an existing database** is selected.</span></span> <span data-ttu-id="3cb9c-195">Bu, ne otomatik olarak oluşturulan ve hedef veritabanında çalıştırmak SQL betiklerini neden olur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-195">This is what causes SQL scripts to be automatically generated and run in the destination database.</span></span>

<span data-ttu-id="3cb9c-196">**Kaynak veritabanı için bağlantı dizesi** değer ayıklanan *Web.config* dosya ve geliştirme SQL Server Compact veritabanını işaret.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-196">The **Connection string for the source database** value is extracted from the *Web.config* file and points to the development SQL Server Compact database.</span></span> <span data-ttu-id="3cb9c-197">Daha sonra hedef veritabanında çalışacak komut dosyaları oluşturmak için kullanılacak kaynak veritabanı budur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-197">This is the source database that will be used to generate the scripts that will run later in the destination database.</span></span> <span data-ttu-id="3cb9c-198">Uygulamanın üretim sürümü veritabanı dağıtmak istediğiniz "aspnet Dev.sdf", "aspnet-Prod.sdf" değiştirmek.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-198">Since you want to deploy the production version of the database, change "aspnet-Dev.sdf" to "aspnet-Prod.sdf".</span></span>

<span data-ttu-id="3cb9c-199">Değişiklik **betik seçenekleri veritabanı** gelen **yalnızca şema** için **şema ve veri**, yanı sıra veritabanı yapısı (kullanıcı hesapları ve rolleri), verileri kopyalamak istediğiniz olduğundan.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-199">Change **Database scripting options** from **Schema Only** to **Schema and data**, since you want to copy your data (user accounts and roles) as well as the database structure.</span></span>

<span data-ttu-id="3cb9c-200">Daha önce oluşturduğunuz verme komut dosyalarını çalıştırmak için dağıtımı yapılandırmak için bunları eklemek zorunda **veritabanı betikleri** bölümü.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-200">To configure deployment to run the grant scripts that you created earlier, you have to add them to the **Database Scripts** section.</span></span> <span data-ttu-id="3cb9c-201">Tıklayın **betik Ekle**ve **SQL betiklerini ekleme** iletişim kutusunda, verme komut dosyasının depolandığı klasöre gidin (Çözüm dosyanızı içeren klasöre budur).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-201">Click **Add Script**, and in the **Add SQL Scripts** dialog box, navigate to the folder where you stored the grant script (this is the folder that contains your solution file).</span></span> <span data-ttu-id="3cb9c-202">Adlı dosyayı seçin *Grant.sql*, tıklatıp **açık**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-202">Select the file named *Grant.sql*, and click **Open**.</span></span>

<span data-ttu-id="3cb9c-203">[![Select_File_dialog_box_grant_script](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image9.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image8.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-203">[![Select_File_dialog_box_grant_script](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image9.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image8.png)</span></span>

<span data-ttu-id="3cb9c-204">Ayarlarını **DefaultConnection dağıtım** satırında **veritabanı girişlerini** artık aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-204">The settings for the **DefaultConnection-Deployment** row in **Database Entries** now look like the following illustration:</span></span>

![Database_Entry_Details_for_DefaultConnection_Test](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image10.png)

### <a name="configuring-deployment-settings-for-the-school-database"></a><span data-ttu-id="3cb9c-206">School veritabanını için dağıtım ayarlarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-206">Configuring Deployment Settings for the School Database</span></span>

<span data-ttu-id="3cb9c-207">Ardından, **SchoolContext dağıtım** satırında **veritabanı girişlerini** School veritabanını için dağıtım ayarlarını yapılandırmak için tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-207">Next, select the **SchoolContext-Deployment** row in the **Database Entries** table in order to configure deployment settings for the School database.</span></span>

<span data-ttu-id="3cb9c-208">Yeni SQL Server Express veritabanı için bağlantı dizesini almak için daha önce kullandığınız aynı yöntemi kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-208">You can use the same method you used earlier to get the connection string for the new SQL Server Express database.</span></span> <span data-ttu-id="3cb9c-209">Bu bağlantı dizesini içine kopyalayın **hedef veritabanı için bağlantı dizesi** içinde **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-209">Copy this connection string into **Connection string for destination database** in the **Package/Publish SQL** tab.</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample3.cmd)]

<span data-ttu-id="3cb9c-210">Emin olun **çekme veri ve/veya varolan bir veritabanını şema** seçilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-210">Make sure that **Pull data and/or schema from an existing database** is selected.</span></span>

<span data-ttu-id="3cb9c-211">**Kaynak veritabanı için bağlantı dizesi** değer ayıklanan *Web.config* dosya ve geliştirme SQL Server Compact veritabanını işaret.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-211">The **Connection string for the source database** value is extracted from the *Web.config* file and points to the development SQL Server Compact database.</span></span> <span data-ttu-id="3cb9c-212">"Dev.sdf Okul", "Okul-uygulamanın üretim sürümü veritabanı dağıtmak için Prod.sdf için" değiştirin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-212">Change "School-Dev.sdf" to "School-Prod.sdf" to deploy the production version of the database.</span></span> <span data-ttu-id="3cb9c-213">(Hiçbir zaman bir Prod.sdf Okul dosyası uygulamada oluşturulan\_sınama ortamından bu dosyayı uygulamaya kopyalayın şekilde veri klasörü\_daha sonra ContosoUniversity proje klasöründeki veri klasörü.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-213">(You never created a School-Prod.sdf file in the App\_Data folder, so you'll copy that file from the test environment to the App\_Data folder in the ContosoUniversity project folder later.)</span></span>

<span data-ttu-id="3cb9c-214">Değişiklik **betik seçenekleri veritabanı** için **şema ve veri**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-214">Change **Database scripting options** to **Schema and data**.</span></span>

<span data-ttu-id="3cb9c-215">Okuma izni ve uygulama havuzu kimliği için yazma izni bu veritabanı için bu nedenle eklemek için komut dosyasını çalıştırmak istediğiniz *Grant.sql* üyelik veritabanı için yaptığınız gibi betik dosyası.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-215">You also want to run the script to grant read and write permission for this database to the application pool identity, so add the *Grant.sql* script file as you did for the membership database.</span></span>

<span data-ttu-id="3cb9c-216">Bitirdiğinizde, ayarları **SchoolContext dağıtım** satırında **veritabanı girişlerini** aşağıdaki gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-216">When you're done, the settings for the **SchoolContext-Deployment** row in **Database Entries** look like the following illustration:</span></span>

![Database_Entry_Details_for_SchoolContext_Test](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image11.png)

<span data-ttu-id="3cb9c-218">Değişiklikleri kaydetmek **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-218">Save the changes to the **Package/Publish SQL** tab.</span></span>

<span data-ttu-id="3cb9c-219">Kopyalama *Okul-Prod.sdf* dosya *c:\inetpub\wwwroot\ContosoUniversity\App\_veri* klasörüne *uygulama\_veri* klasöründe ContosoUniversity projesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-219">Copy the *School-Prod.sdf* file from the *c:\inetpub\wwwroot\ContosoUniversity\App\_Data* folder to the *App\_Data* folder in the ContosoUniversity project.</span></span>

### <a name="specifying-transacted-mode-for-the-grant-script"></a><span data-ttu-id="3cb9c-220">Verme betiği için işlenen modunu belirtme</span><span class="sxs-lookup"><span data-stu-id="3cb9c-220">Specifying Transacted Mode for the Grant Script</span></span>

<span data-ttu-id="3cb9c-221">Dağıtım işlemi veritabanı şemasını ve verileri dağıtma betikleri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-221">The deployment process generates scripts that deploy the database schema and data.</span></span> <span data-ttu-id="3cb9c-222">Varsayılan olarak, bu komut dosyalarını bir işlem içinde çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-222">By default, these scripts run in a transaction.</span></span> <span data-ttu-id="3cb9c-223">Bununla birlikte, varsayılan olarak özel komut dosyaları (verme betikleri gibi) bir işlemde çalıştırmayın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-223">However, custom scripts (like the grant scripts) by default do not run in a transaction.</span></span> <span data-ttu-id="3cb9c-224">Dağıtım işlemi işlem modları karıştırır, dağıtım sırasında komut dosyalarını çalıştırdığınızda, bir zaman aşımı hatası alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-224">If the deployment process mixes transaction modes, you might get a timeout error when the scripts run during deployment.</span></span> <span data-ttu-id="3cb9c-225">Bu bölümde, işlem olarak çalışacak özel betikler yapılandırmak için proje dosyasını düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-225">In this section, you edit the project file in order to configure the custom scripts to run in a transaction.</span></span>

<span data-ttu-id="3cb9c-226">İçinde **Çözüm Gezgini**, sağ **ContosoUniversity** seçin ve proje **projeyi**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-226">In **Solution Explorer**, right-click the **ContosoUniversity** project and select **Unload Project**.</span></span>

![Unload_Project_in_Solution_Explorer](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image12.png)

<span data-ttu-id="3cb9c-228">Daha sonra projeyi tekrar sağ tıklayıp **Düzenle ContosoUniversity.csproj**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-228">Then right-click the project again and select **Edit ContosoUniversity.csproj**.</span></span>

![Edit_Project_in_Solution_Explorer](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image13.png)

<span data-ttu-id="3cb9c-230">Visual Studio düzenleyicisinde proje dosyasını XML içeriğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-230">The Visual Studio editor shows you the XML content of the project file.</span></span> <span data-ttu-id="3cb9c-231">Birden çok dikkat edin `PropertyGroup` öğeleri.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-231">Notice that there are several `PropertyGroup` elements.</span></span> <span data-ttu-id="3cb9c-232">(Görüntüde, içeriğini `PropertyGroup` öğeleri atlanmış.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-232">(In the image, the contents of the `PropertyGroup` elements have been omitted.)</span></span>

![Proje Dosyası Düzenleyicisi penceresi](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image15.png)

<span data-ttu-id="3cb9c-234">Hiçbir ilki `Condition` özniteliği, bağımsız olarak, geçerli olan ayarları derleme yapılandırması için.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-234">The first one, which has no `Condition` attribute, is for settings that apply regardless of build configuration.</span></span> <span data-ttu-id="3cb9c-235">Bir `PropertyGroup` öğesi yalnızca hata ayıklama derleme yapılandırması için geçerlidir (Not `Condition` özniteliği), biri yalnızca yayın derleme yapılandırması için geçerlidir ve bir yalnızca Test derleme yapılandırması için geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-235">One `PropertyGroup` element applies only to the Debug build configuration (note the `Condition` attribute), one applies only to the Release build configuration, and one applies only to the Test build configuration.</span></span> <span data-ttu-id="3cb9c-236">İçinde `PropertyGroup` öğesi sürüm derleme yapılandırması için göreceksiniz bir `PublishDatabaseSettings` ayarlarını içeren bir öğe girdiğiniz **SQL Paketle/Yayımla** sekmesi. Var olan bir `Object` her verme betikler için karşılık gelen öğe belirtilen ("Grant.sql" örneklerini iki dikkat edin).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-236">Within the `PropertyGroup` element for the Release build configuration, you'll see a `PublishDatabaseSettings` element that contains the settings you entered on the **Package/Publish SQL** tab. There is an `Object` element that corresponds to each of the grant scripts you specified (notice the two instances of "Grant.sql").</span></span> <span data-ttu-id="3cb9c-237">Varsayılan olarak, `Transacted` özniteliği `Source` her verme betiği için öğe `False`.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-237">By default, the `Transacted` attribute of the `Source` element for each grant script is `False`.</span></span>

![Transacted_false](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image16.png)

<span data-ttu-id="3cb9c-239">Değiştirin `Transacted` özniteliği `Source` öğesine `True`.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-239">Change the value of the `Transacted` attribute of the `Source` element to `True`.</span></span>

![Transacted_true](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image17.png)

<span data-ttu-id="3cb9c-241">Kaydet ve proje dosyasını kapatın ve ardından'nde projeye sağ **Çözüm Gezgini** seçip **projeyi**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-241">Save and close the project file, and then right-click the project in **Solution Explorer** and select **Reload Project**.</span></span>

![Reload_project](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image18.png)

## <a name="setting-up-webconfig-transformations-for-the-connection-strings"></a><span data-ttu-id="3cb9c-243">Web.Config dönüşümleri ' için bağlantı dizelerini ayarlama</span><span class="sxs-lookup"><span data-stu-id="3cb9c-243">Setting up Web.Config Transformations for the Connection Strings</span></span>

<span data-ttu-id="3cb9c-244">Yeni SQL Express, girdiğiniz veritabanı için bağlantı dizeleri **SQL Paketle/Yayımla** sekmesinde kullanılan Web dağıtımı tarafından yalnızca dağıtım sırasında hedef veritabanını güncelleştirmek için.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-244">The connection strings for the new SQL Express databases that you entered on the **Package/Publish SQL** tab are used by Web Deploy only for updating the destination database during deployment.</span></span> <span data-ttu-id="3cb9c-245">Kuruluma devam *Web.config* dönüşümleri dağıtılan bağlantı dizeleri böylece *Web.config* dosyasını yeni SQL Server Express veritabanlarına noktası.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-245">You still have to set up *Web.config* transformations so that the connection strings in the deployed *Web.config* file point to the new SQL Server Express databases.</span></span> <span data-ttu-id="3cb9c-246">(Kullandığınızda **SQL Paketle/Yayımla** sekmesinde, bağlantı dizeleri yayımlama profilinde yapılandıramazsınız.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-246">(When you use the **Package/Publish SQL** tab, you can't configure connection strings in the publish profile.)</span></span>

<span data-ttu-id="3cb9c-247">Açık *Web.Test.config* değiştirin `connectionStrings` öğeyle `connectionStrings` aşağıdaki örnekte öğesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-247">Open *Web.Test.config* and replace the `connectionStrings` element with the `connectionStrings` element in the following example.</span></span> <span data-ttu-id="3cb9c-248">(Yalnızca connectionStrings öğesi olmayan bağlam sağlamak için burada gösterilen kod çevreleyen kopyaladığınızdan emin olun.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-248">(Make sure you only copy the connectionStrings element, not the surrounding code that is shown here to provide context.)</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample4.xml?highlight=2-11)]

<span data-ttu-id="3cb9c-249">Bu kod neden `connectionString` ve `providerName` öznitelikleri her `add` değiştirilecek öğe, dağıtılan *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-249">This code causes the `connectionString` and `providerName` attributes of each `add` element to be replaced in the deployed *Web.config* file.</span></span> <span data-ttu-id="3cb9c-250">Bu bağlantı dizeleri, girdiğiniz olanlara özdeş olmayan **SQL Paketle/Yayımla** sekmesi. Ayar "MultipleActiveResultSets = True", Entity Framework ve evrensel sağlayıcıları için gerekli olduğundan bunları eklendi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-250">These connection strings are not identical to the ones you entered in the **Package/Publish SQL** tab. The setting "MultipleActiveResultSets=True" has been added to them because it's required for the Entity Framework and the Universal Providers.</span></span>

## <a name="installing-sql-server-compact"></a><span data-ttu-id="3cb9c-251">SQL Server Compact'ı yükleme</span><span class="sxs-lookup"><span data-stu-id="3cb9c-251">Installing SQL Server Compact</span></span>

<span data-ttu-id="3cb9c-252">SqlServerCompact NuGet paketi, SQL Server Compact veritabanı altyapısı derlemeleri Contoso University uygulama için sağlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-252">The SqlServerCompact NuGet package provides the SQL Server Compact database engine assemblies for the Contoso University application.</span></span> <span data-ttu-id="3cb9c-253">Ancak, artık uygulama ancak SQL Server Compact veritabanları, SQL Server veritabanlarında betiklerin oluşturmak için okumak için gereken Web dağıtımı değil.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-253">But now it is not the application but Web Deploy that must be able to read the SQL Server Compact databases, in order to create scripts to run in the SQL Server databases.</span></span> <span data-ttu-id="3cb9c-254">SQL Server Compact veritabanları okuma, SQL Server Compact geliştirme bilgisayarında aşağıdaki bağlantıyı kullanarak yüklemek Web Dağıtımı'nı etkinleştirmek için: [Microsoft SQL Server Compact 4.0](https://www.microsoft.com/downloads/details.aspx?FamilyID=15F7C9B3-A150-4AD2-823E-E4E0DCF85DF6).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-254">To enable Web Deploy to read SQL Server Compact databases, install SQL Server Compact on the development computer by using the following link: [Microsoft SQL Server Compact 4.0](https://www.microsoft.com/downloads/details.aspx?FamilyID=15F7C9B3-A150-4AD2-823E-E4E0DCF85DF6).</span></span>

## <a name="deploying-to-the-test-environment"></a><span data-ttu-id="3cb9c-255">Test ortamına dağıtma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-255">Deploying to the Test Environment</span></span>

<span data-ttu-id="3cb9c-256">Test ortamına yayımlamak için kullanmak üzere yapılandırılmış bir yayımlama profili oluşturmanız gerekir **SQL Paketle/Yayımla** veritabanı yerine yayımlama profili veritabanı ayarlarını yayımlamak için sekmesinde.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-256">In order to publish to the Test environment, you have to create a publish profile that is configured to use the **Package/Publish SQL** tab for database publishing instead of the publish profile database settings.</span></span>

<span data-ttu-id="3cb9c-257">İlk olarak, var olan bir Test profilini silin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-257">First, delete the existing Test profile.</span></span>

<span data-ttu-id="3cb9c-258">İçinde **Çözüm Gezgini**, ContosoUniversity projeye sağ tıklayın ve **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-258">In **Solution Explorer**, right-click the ContosoUniversity project, and click **Publish**.</span></span>

<span data-ttu-id="3cb9c-259">Seçin **profili** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-259">Select the **Profile** tab.</span></span>

<span data-ttu-id="3cb9c-260">Tıklayın **profillerini yönetme**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-260">Click **Manage Profiles**.</span></span>

<span data-ttu-id="3cb9c-261">Seçin **Test**, tıklayın **Kaldır**ve ardından **Kapat**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-261">Select **Test**, click **Remove**, and then click **Close**.</span></span>

<span data-ttu-id="3cb9c-262">Kapat **Web'i Yayımla** bu değişikliği kaydetmek için Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-262">Close the **Publish Web** wizard to save this change.</span></span>

<span data-ttu-id="3cb9c-263">Ardından, yeni profili oluşturup projeyi yayımlamak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-263">Next, create a new Test profile and use it to publish the project.</span></span>

<span data-ttu-id="3cb9c-264">İçinde **Çözüm Gezgini**, ContosoUniversity projeye sağ tıklayın ve **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-264">In **Solution Explorer**, right-click the ContosoUniversity project, and click **Publish**.</span></span>

<span data-ttu-id="3cb9c-265">Seçin **profili** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-265">Select the **Profile** tab.</span></span>

<span data-ttu-id="3cb9c-266">Seçin **&lt;yeni... &gt;** açılır listeden listesinde ve "Test" Profil adı girin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-266">Select **&lt;New...&gt;** from the drop-down list, and enter "Test" as the profile name.</span></span>

<span data-ttu-id="3cb9c-267">İçinde **hizmet URL'si** kutusuna *localhost*.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-267">In the **Service URL** box, enter *localhost*.</span></span>

<span data-ttu-id="3cb9c-268">İçinde **Site/uygulama** kutusuna *varsayılan Web sitesi/ContosoUniversity*.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-268">In the **Site/application** box, enter *Default Web Site/ContosoUniversity*.</span></span>

<span data-ttu-id="3cb9c-269">İçinde **hedef URL** kutusuna `http://localhost/ContosoUniversity/`.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-269">In the **Destination URL** box, enter `http://localhost/ContosoUniversity/`.</span></span>

<span data-ttu-id="3cb9c-270">**İleri**'ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-270">Click **Next**.</span></span>

<span data-ttu-id="3cb9c-271">**Ayarları** sekmesini sizi uyarır, **SQL Paketle/Yayımla** sekmesinde yapılandırılır ve bunları Etkinleştir'i tıklatarak yeni veritabanı yayımlama iyileştirmelerini geçersiz kılmak için bir fırsat sağlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-271">The **Settings** tab warns you that the **Package/Publish SQL** tab has been configured, and it gives you an opportunity to override them by clicking enable the new database publishing improvements.</span></span> <span data-ttu-id="3cb9c-272">Bu dağıtım için geçersiz kılmak istemiyorsanız **SQL Paketle/Yayımla** Ayarlar sekmesinde, bu nedenle yalnızca **sonraki**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-272">For this deployment you don't want to override the **Package/Publish SQL** tab settings, so just click **Next**.</span></span>

![Publish_Web_wizard_Settings_tab_Migrate](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image19.png)

<span data-ttu-id="3cb9c-274">İleti **Önizleme** sekmesini gösteren **veritabanı yayımlama için seçili**, ancak bu yalnızca veritabanı yayımlama yayımlama profilinde yapılandırılmadı anlamına gelir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-274">A message on the **Preview** tab indicates that **No databases are selected to publish**, but this only means that database publishing is not configured in the publish profile.</span></span>

<span data-ttu-id="3cb9c-275">Tıklayın **yayımlama**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-275">Click **Publish**.</span></span>

![Publish_Web_wizard_Preview_tab_Migrate](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image20.png)

<span data-ttu-id="3cb9c-277">Visual Studio uygulamasını dağıtır ve test ortamında tarayıcıya sitenin ana sayfası açılır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-277">Visual Studio deploys the application and opens the browser to the home page of the site in the test environment.</span></span> <span data-ttu-id="3cb9c-278">Daha önce gördüğünüzle aynı verileri görüntüler görmek için Eğitmenler sayfasına çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-278">Run the Instructors page to see that it displays the same data that you saw earlier.</span></span> <span data-ttu-id="3cb9c-279">Çalıştırma **ekleme Öğrenciler** sayfasında, yeni bir öğrenci eklemek ve ardından yeni bir öğrenci olarak görüntüleyin **Öğrenciler** sayfası.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-279">Run the **Add Students** page, add a new student, and then view the new student in the **Students** page.</span></span> <span data-ttu-id="3cb9c-280">Bu, veritabanını güncellemek doğrular.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-280">This verifies that the you can update the database.</span></span> <span data-ttu-id="3cb9c-281">Seçin **güncelleştirme KREDİLERİ** sayfası (oturum açmak gerekir) üyelik veritabanı dağıtıldı ve erişimi olan doğrulayın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-281">Select the **Update Credits** page (you'll need to log in) to verify that the membership database was deployed and you have access to it.</span></span>

## <a name="creating-a-sql-server-database-for-the-production-environment"></a><span data-ttu-id="3cb9c-282">Üretim ortamı için bir SQL Server veritabanı oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-282">Creating a SQL Server Database for the Production Environment</span></span>

<span data-ttu-id="3cb9c-283">Test ortamına dağıttığınıza göre üretim dağıtımı ayarlamak hazırsınız.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-283">Now that you've deployed to the test environment, you're ready to set up deployment to production.</span></span> <span data-ttu-id="3cb9c-284">Dağıtmak için bir veritabanı oluşturma test ortamı için yaptığınız gibi başlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-284">You begin as you did for the test environment, by creating a database to deploy to.</span></span> <span data-ttu-id="3cb9c-285">Genel Bakış'tan Hatırlayacağınız gibi sadece bir veritabanını yedeklerseniz, iki değil ayarlayacak şekilde Cytanium Lite barındırma planı yalnızca tek bir SQL Server veritabanı sağlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-285">As you recall from the Overview, the Cytanium Lite hosting plan only allows a single SQL Server database, so you will set up only one database, not two.</span></span> <span data-ttu-id="3cb9c-286">Tüm tabloları ve Okul SQL Server Compact veritabanları ve üyelik verileri bir SQL Server veritabanına üretimde dağıtılır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-286">All of the tables and data from the membership and School SQL Server Compact databases will be deployed into one SQL Server database in production.</span></span>

<span data-ttu-id="3cb9c-287">Git Cytanium Denetim Masasında [ http://panel.cytanium.com ](http://panel.cytanium.com).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-287">Go to the Cytanium control panel at [http://panel.cytanium.com](http://panel.cytanium.com).</span></span> <span data-ttu-id="3cb9c-288">Fare tutun **veritabanları** ve ardından **SQL Server 2008**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-288">Hold the mouse over **Databases** and then click **SQL Server 2008**.</span></span>

<span data-ttu-id="3cb9c-289">[![Selecting_Databases_in_Control_Panel](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image22.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image21.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-289">[![Selecting_Databases_in_Control_Panel](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image22.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image21.png)</span></span>

<span data-ttu-id="3cb9c-290">İçinde **SQL Server 2008** sayfasında **Create Database**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-290">In the **SQL Server 2008** page, click **Create Database**.</span></span>

<span data-ttu-id="3cb9c-291">[![Selecting_Create_Database](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image24.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image23.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-291">[![Selecting_Create_Database](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image24.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image23.png)</span></span>

<span data-ttu-id="3cb9c-292">Veritabanı "Okul" adını verin ve tıklayın **Kaydet**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-292">Name the database "School" and click **Save**.</span></span> <span data-ttu-id="3cb9c-293">("ContosouSchool" etkili adı olacak sayfası otomatik olarak "contosou" önekini ekler.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-293">(The page automatically adds the prefix "contosou", so the effective name will be "contosouSchool".)</span></span>

<span data-ttu-id="3cb9c-294">[![Naming_the_database](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image26.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-294">[![Naming_the_database](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image26.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image25.png)</span></span>

<span data-ttu-id="3cb9c-295">Aynı sayfada tıklayın **Create User**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-295">On the same page, click **Create User**.</span></span> <span data-ttu-id="3cb9c-296">Cytanium'ın sunucu, yerine Windows tümleşik güvenlik kullandığından ve veritabanınızı açın ve uygulama havuzu kimliği izin vererek, veritabanınızı açma yetkisi olan bir kullanıcının oluşturacaksınız.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-296">On Cytanium's servers, rather than using integrated Windows security and letting the application pool identity open your database, you'll create a user that has authority to open your database.</span></span> <span data-ttu-id="3cb9c-297">Üretim ortamında giden bağlantı dizeleri için kullanıcı kimlik bilgilerini ekleyeceksiniz *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-297">You'll add the user's credentials to the connection strings that go in the production *Web.config* file.</span></span> <span data-ttu-id="3cb9c-298">Bu adımda, bu kimlik bilgileri oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-298">In this step you create those credentials.</span></span>

<span data-ttu-id="3cb9c-299">[![Creating_a_database_user](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image28.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image27.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-299">[![Creating_a_database_user](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image28.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image27.png)</span></span>

<span data-ttu-id="3cb9c-300">Gerekli alanları doldurun **SQL kullanıcı özelliklerini** sayfası:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-300">Fill in the required fields in the **SQL User Properties** page:</span></span>

- <span data-ttu-id="3cb9c-301">"ContosoUniversityUser" adı girin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-301">Enter "ContosoUniversityUser" as the name.</span></span>
- <span data-ttu-id="3cb9c-302">Bir parola girin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-302">Enter a password.</span></span>
- <span data-ttu-id="3cb9c-303">Seçin **contosouSchool** varsayılan veritabanı.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-303">Select **contosouSchool** as the default database.</span></span>
- <span data-ttu-id="3cb9c-304">Seçin **contosouSchool** onay kutusu.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-304">Select the **contosouSchool** check box.</span></span>

<span data-ttu-id="3cb9c-305">[![SQL_User_Properties_page](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image30.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image29.png)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-305">[![SQL_User_Properties_page](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image30.png)](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image29.png)</span></span>

## <a name="configuring-database-deployment-for-the-production-environment"></a><span data-ttu-id="3cb9c-306">Veritabanı dağıtımı üretim ortamı için yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-306">Configuring Database Deployment for the Production Environment</span></span>

<span data-ttu-id="3cb9c-307">Veritabanı dağıtım ayarlarında ayarlamaya hazır artık **SQL Paketle/Yayımla** sekmesinde test ortamı için daha önce yaptığınız gibi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-307">Now you're ready to set up database deployment settings in the **Package/Publish SQL** tab, as you did earlier for the test environment.</span></span>

<span data-ttu-id="3cb9c-308">Açık **proje özellikleri** penceresinde **SQL Paketle/Yayımla** sekmesini tıklatıp emin olun **etkin (sürüm)** veya **yayın** olduğu Seçili **yapılandırma** aşağı açılan listesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-308">Open the **Project Properties** window, select the **Package/Publish SQL** tab, and make sure that **Active (Release)** or **Release** is selected in the **Configuration** drop-down list.</span></span>

<span data-ttu-id="3cb9c-309">Her veritabanı için dağıtım ayarlarını yapılandırdığınızda, üretim ve test ortamları için neler arasında anahtar bağlantı dizeleri nasıl yapılandırabileceğinizi içinde farktır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-309">When you configure deployment settings for each database, the key difference between what you do for production and test environments is in how you configure connection strings.</span></span> <span data-ttu-id="3cb9c-310">Test ortamı için girdiğiniz farklı bir hedef veritabanı bağlantı dizeleri, ancak üretim ortamı için hedef bağlantı dizesi her iki veritabanı için aynı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-310">For the test environment you entered different destination database connection strings, but for the production environment the destination connection string will be the same for both databases.</span></span> <span data-ttu-id="3cb9c-311">Her iki veritabanı için bir üretim veritabanında dağıttığınız olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-311">This is because you are deploying both databases to one database in production.</span></span>

### <a name="configuring-deployment-settings-for-the-membership-database"></a><span data-ttu-id="3cb9c-312">Üyelik veritabanı dağıtım ayarlarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-312">Configuring Deployment Settings for the Membership Database</span></span>

<span data-ttu-id="3cb9c-313">Üyelik veritabanına uygulanan ayarları yapılandırmak için seçin **DefaultConnection dağıtım** satırında **veritabanı girişlerini** tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-313">To configure settings that apply to the membership database, select the **DefaultConnection-Deployment** row in the **Database Entries** table.</span></span>

<span data-ttu-id="3cb9c-314">İçinde **hedef veritabanı için bağlantı dizesi**, az önce oluşturduğunuz yeni üretim SQL Server veritabanına işaret eden bir bağlantı dizesi girin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-314">In **Connection string for destination database**, enter a connection string that points to the new production SQL Server database that you just created.</span></span> <span data-ttu-id="3cb9c-315">Bağlantı dizesi, Hoş Geldiniz e-posta alabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-315">You can get the connection string from your welcome email.</span></span> <span data-ttu-id="3cb9c-316">E-posta ilgili bölümü aşağıdaki örnek bağlantı dizesi içeriyor:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-316">The relevant part of the email contains the following sample connection string:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample5.cmd)]

<span data-ttu-id="3cb9c-317">Üç değişkenleri değiştirin, sonra gerek duyduğunuz bağlantı dizesi şu örnekteki gibi görünür:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-317">After you replace the three variables, the connection string you need looks like this example:</span></span>

[!code-console[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample6.cmd)]

<span data-ttu-id="3cb9c-318">Bu bağlantı dizesini içine kopyalayıp **hedef veritabanı için bağlantı dizesi** içinde **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-318">Copy and paste this connection string into **Connection string for destination database** in the **Package/Publish SQL** tab.</span></span>

<span data-ttu-id="3cb9c-319">Emin olun **çekme veri ve/veya varolan bir veritabanını şema** hala seçili ve **betik seçenekleri veritabanı** hala **şema ve veri**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-319">Make sure that **Pull data and/or schema from an existing database** is still selected, and that **Database scripting options** is still **Schema and Data**.</span></span>

<span data-ttu-id="3cb9c-320">İçinde **veritabanı betikleri** kutusuna, Grant.sql betik yanındaki onay kutusunu temizleyin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-320">In the **Database Scripts** box, clear the check box next to the Grant.sql script.</span></span>

![Disable_Grant_script](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/_static/image31.png)

### <a name="configuring-deployment-settings-for-the-school-database"></a><span data-ttu-id="3cb9c-322">School veritabanını için dağıtım ayarlarını yapılandırma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-322">Configuring Deployment Settings for the School Database</span></span>

<span data-ttu-id="3cb9c-323">Ardından, **SchoolContext dağıtım** satırında **veritabanı girişlerini** School veritabanı ayarlarını yapılandırmak için tablo.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-323">Next, select the **SchoolContext-Deployment** row in the **Database Entries** table in order to configure the School database settings.</span></span>

<span data-ttu-id="3cb9c-324">Aynı bağlantı dizesini içine kopyalayın **hedef veritabanı için bağlantı dizesi** , o alan için üyelik veritabanı kopyalanır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-324">Copy the same connection string into **Connection string for destination database** that you copied into that field for the membership database.</span></span>

<span data-ttu-id="3cb9c-325">Emin olun **çekme veri ve/veya varolan bir veritabanını şema** hala seçili ve **betik seçenekleri veritabanı** hala **şema ve veri**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-325">Make sure that **Pull data and/or schema from an existing database** is still selected, and that **Database scripting options** is still **Schema and Data**.</span></span>

<span data-ttu-id="3cb9c-326">İçinde **veritabanı betikleri** kutusuna, Grant.sql betik yanındaki onay kutusunu temizleyin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-326">In the **Database Scripts** box, clear the check box next to the Grant.sql script.</span></span>

<span data-ttu-id="3cb9c-327">Değişiklikleri kaydetmek **SQL Paketle/Yayımla** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-327">Save the changes to the **Package/Publish SQL** tab.</span></span>

## <a name="setting-up-webconfig-transforms-for-the-connection-strings-to-production-databases"></a><span data-ttu-id="3cb9c-328">Üretim veritabanlarına bağlantı dizeleri için Web.Config ayarlama dönüştürür</span><span class="sxs-lookup"><span data-stu-id="3cb9c-328">Setting Up Web.Config Transforms for the Connection Strings to Production Databases</span></span>

<span data-ttu-id="3cb9c-329">Ardından, ayarladığınız *Web.config* dönüşümleri dağıtılan bağlantı dizeleri böylece *Web.config* yeni üretim veritabanına işaret edecek şekilde dosya.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-329">Next, you'll set up *Web.config* transformations so that the connection strings in the deployed *Web.config* file to point to the new production database.</span></span> <span data-ttu-id="3cb9c-330">Girdiğiniz bağlantı dizesini **SQL Paketle/Yayımla** kullanmak Web dağıtımı için sekmesinde aynı uygulamanın ihtiyacı eklenmesi dışında kullanılacak olan `MultipleResultSets` seçeneği.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-330">The connection string that you entered on the **Package/Publish SQL** tab for Web Deploy to use is the same as the one the application needs to use, except for the addition of the `MultipleResultSets` option.</span></span>

<span data-ttu-id="3cb9c-331">Açık *Web.Production.config* değiştirin `connectionStrings` öğesi ile bir `connectionStrings` aşağıdaki gibi görünen bir öğe.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-331">Open *Web.Production.config* and replace the `connectionStrings` element with a `connectionStrings` element that looks like the following example.</span></span> <span data-ttu-id="3cb9c-332">(Yalnızca kopyalama `connectionStrings` öğesinde, bağlam göstermek için sağlanan çevreleyen etiketlerin.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-332">(Only copy the `connectionStrings` element, not the surrounding tags that are provided to show the context.)</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample7.xml?highlight=2-11)]

<span data-ttu-id="3cb9c-333">Bazen her zaman bağlantı dizeleri şifreleme bildiren öneri gördüğünüz *Web.config* dosya.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-333">You sometimes see advice that tells you to always encrypt connection strings in the *Web.config* file.</span></span> <span data-ttu-id="3cb9c-334">Bu, kendi şirket ağı sunucularına dağıtmak, uygun olabilir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-334">This might be appropriate if you were deploying to servers on your own company's network.</span></span> <span data-ttu-id="3cb9c-335">Paylaşılan bir barındırma ortamına dağıtırken, yine de güvenlik uygulamaları barındırma sağlayıcısının güvenen ve gerekli veya bağlantı dizelerini şifrelemek pratik değildir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-335">When you are deploying to a shared hosting environment, though, you're trusting the security practices of the hosting provider, and it's not necessary or practical to encrypt the connection strings.</span></span>

## <a name="deploying-to-the-production-environment"></a><span data-ttu-id="3cb9c-336">Üretim ortamına dağıtma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-336">Deploying to the Production Environment</span></span>

<span data-ttu-id="3cb9c-337">Artık üretime dağıtmaya hazırsınız.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-337">Now you're ready to deploy to production.</span></span> <span data-ttu-id="3cb9c-338">Web dağıtımı projenizin SQL Server Compact veritabanları okuyup *uygulama\_veri* klasör ve tüm tabloları ve üretim SQL Server veritabanındaki verileri yeniden oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-338">Web Deploy will read the SQL Server Compact databases in your project's *App\_Data* folder and re-create all of their tables and data in the production SQL Server database.</span></span> <span data-ttu-id="3cb9c-339">Kullanarak yayımlamak için **Paketle/Yayımla Web** sekme ayarlarına sahip üretim için yeni bir yayımlama profili oluşturmak.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-339">In order to publish by using the **Package/Publish Web** tab settings, you have to create a new publish profile for production.</span></span>

<span data-ttu-id="3cb9c-340">İlk olarak, profili daha önce yaptığınız gibi var olan bir üretim profilini silin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-340">First, delete the existing Production profile as you did the Test profile earlier.</span></span>

<span data-ttu-id="3cb9c-341">İçinde **Çözüm Gezgini**, ContosoUniversity projeye sağ tıklayın ve **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-341">In **Solution Explorer**, right-click the ContosoUniversity project, and click **Publish**.</span></span>

<span data-ttu-id="3cb9c-342">Seçin **profili** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-342">Select the **Profile** tab.</span></span>

<span data-ttu-id="3cb9c-343">Tıklayın **profillerini yönetme**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-343">Click **Manage Profiles**.</span></span>

<span data-ttu-id="3cb9c-344">Seçin **üretim**, tıklayın **Kaldır**ve ardından **Kapat**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-344">Select **Production**, click **Remove**, and then click **Close**.</span></span>

<span data-ttu-id="3cb9c-345">Kapat **Web'i Yayımla** bu değişikliği kaydetmek için Sihirbazı.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-345">Close the **Publish Web** wizard to save this change.</span></span>

<span data-ttu-id="3cb9c-346">Ardından, yeni bir üretim profili oluşturup projeyi yayımlamak için kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-346">Next, create a new Production profile and use it to publish the project.</span></span>

<span data-ttu-id="3cb9c-347">İçinde **Çözüm Gezgini**, ContosoUniversity projeye sağ tıklayın ve **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-347">In **Solution Explorer**, right-click the ContosoUniversity project, and click **Publish**.</span></span>

<span data-ttu-id="3cb9c-348">Seçin **profili** sekmesi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-348">Select the **Profile** tab.</span></span>

<span data-ttu-id="3cb9c-349">Tıklayın **alma**, daha önce indirdiğiniz .publishsettings dosyasını seçin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-349">Click **Import**, and select the .publishsettings file that you downloaded earlier.</span></span>

<span data-ttu-id="3cb9c-350">Üzerinde **bağlantı** sekmesinde, **hedef URL** doğru geçici URL'ye yapılır; bu örnekte olduğu http://contosouniversity.com.vserver01.cytanium.com.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-350">On the **Connection** tab, change the **Destination URL** to the correct temporary URL, which in this example is http://contosouniversity.com.vserver01.cytanium.com.</span></span>

<span data-ttu-id="3cb9c-351">Profil, üretim için yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-351">Rename the profile to Production.</span></span> <span data-ttu-id="3cb9c-352">(Seçmek **profili** sekmesine **Spravovat Profily** Bunu yapmak için).</span><span class="sxs-lookup"><span data-stu-id="3cb9c-352">(Select the **Profile** tab and click **Manage Profiles** to do that).</span></span>

<span data-ttu-id="3cb9c-353">Kapat **Web'i Yayımla** Sihirbazı yaptığınız değişiklikleri kaydedin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-353">Close the **Publish Web** wizard to save your changes.</span></span>

<span data-ttu-id="3cb9c-354">Yayımlamadan önce veritabanı üretimde güncelleştirildiğini gerçek bir uygulamada iki ilave adım artık yapmanız:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-354">In a real application in which the database was being updated in production, you would do two additional steps now before you publish:</span></span>

1. <span data-ttu-id="3cb9c-355">Karşıya yükleme *uygulama\_offline.htm*gösterildiği [üretim ortamına dağıtma](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) öğretici.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-355">Upload *app\_offline.htm*, as shown in the [Deploying to the Production Environment](deployment-to-a-hosting-provider-deploying-to-the-production-environment-7-of-12.md) tutorial.</span></span>
2. <span data-ttu-id="3cb9c-356">Kullanım **Dosya Yöneticisi** kopyalamak için Cytanium Denetim Masası'nın özellik *aspnet Prod.sdf* ve *Okul-Prod.sdf* Üretimsitesinidosyaları*Uygulama\_veri* ContosoUniversity proje klasörü.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-356">Use the **File Manager** feature of the Cytanium control panel to copy the *aspnet-Prod.sdf* and *School-Prod.sdf* files from the production site to the *App\_Data* folder of the ContosoUniversity project.</span></span> <span data-ttu-id="3cb9c-357">Bu, yeni SQL Server veritabanına dağıtıyorsanız verileri üretim Web sitenize tarafından yapılan en son güncelleştirmeleri içeren sağlar.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-357">This ensures that the data you're deploying to the new SQL Server database includes the latest updates made by your production website.</span></span>

<span data-ttu-id="3cb9c-358">İçinde **Web tek tık Yayımla** araç emin **üretim** profili seçilir ve ardından **Yayımla**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-358">In the **Web One Click Publish** toolbar, make sure that the **Production** profile is selected, and then click **Publish**.</span></span>

<span data-ttu-id="3cb9c-359">Karşıya yüklediğiniz, <em>uygulama\_offline.htm</em> kullanmak zorunda yayımlanmadan önce <strong>Dosya Yöneticisi</strong> yardımcı programı silmek Cytanium Denetim Masası'nda <em>uygulama\_çevrimdışı.</em> test etmeden önce htm.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-359">If you uploaded <em>app\_offline.htm</em> before publishing, you have to use the <strong>File Manager</strong> utility in the Cytanium control panel to delete <em>app\_offline.</em>htm before you test.</span></span> <span data-ttu-id="3cb9c-360">Aynı anda silebilirsiniz <em>.sdf</em> dosyalarını <em>uygulama\_veri</em> klasör.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-360">You can also at the same time delete the <em>.sdf</em> files from the <em>App\_Data</em> folder.</span></span>

<span data-ttu-id="3cb9c-361">Artık, bir tarayıcı açın ve test ortamı dağıttıktan sonra yaptığınız gibi uygulamayı test etmek için genel sitenizin URL'sine gidin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-361">You can now open a browser and go to the URL of your public site to test the application the same way you did after deploying to the test environment.</span></span>

## <a name="switching-to-sql-server-express-localdb-in-development"></a><span data-ttu-id="3cb9c-362">SQL Server Express LocalDB geliştirme yapma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-362">Switching to SQL Server Express LocalDB in Development</span></span>

<span data-ttu-id="3cb9c-363">Genel bakış da açıklandığı şekilde, aynı veritabanı motorunu kullanmak, test ve üretim geliştirme kullanmak genellikle en iyi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-363">As was explained in the Overview, it's generally best to use the same database engine in development that you use in test and production.</span></span> <span data-ttu-id="3cb9c-364">(SQL Server Express geliştirme kullanmanın avantajı, veritabanı aynı geliştirme, test ve üretim ortamlarında çalışmasını olduğunu unutmayın.) Bu bölümde Visual Studio'dan uygulamayı çalıştırdığınızda, SQL Server Express LocalDB kullanılacak ContosoUniversity projeyi ayarlarsınız.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-364">(Remember that the advantage to using SQL Server Express in development is that the database will work the same in your development, test, and production environments.) In this section you'll set up the ContosoUniversity project to use SQL Server Express LocalDB when you run the application from Visual Studio.</span></span>

<span data-ttu-id="3cb9c-365">Code First izin vermek için bu geçiş işlemini gerçekleştirmek için en kolay yolu olan ve üyelik sistemi sizin için iki yeni geliştirme veritabanları oluşturun.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-365">The simplest way to perform this migration is to let Code First and the membership system create both new development databases for you.</span></span> <span data-ttu-id="3cb9c-366">Geçirmek için bu yöntemi kullanarak üç adımı gerektirir:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-366">Using this method to migrate requires three steps:</span></span>

1. <span data-ttu-id="3cb9c-367">Yeni SQL Express LocalDB veritabanı belirtmek için bağlantı dizelerini değiştirin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-367">Change the connection strings to specify new SQL Express LocalDB databases.</span></span>
2. <span data-ttu-id="3cb9c-368">Bir yönetici kullanıcı oluşturmak için Web Sitesi Yönetim Aracı'nı çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-368">Run the Web Site Administration Tool to create an administrator user.</span></span> <span data-ttu-id="3cb9c-369">Bu üyelik veritabanı oluşturur.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-369">This creates the membership database.</span></span>
3. <span data-ttu-id="3cb9c-370">Oluşturma ve uygulama veritabanının çekirdeğini oluşturma Code First Migrations veritabanını Güncelleştir komutunu kullanın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-370">Use the Code First Migrations update-database command to create and seed the application database.</span></span>

### <a name="updating-connection-strings-in-the-webconfig-file"></a><span data-ttu-id="3cb9c-371">Web.config dosyasında bağlantı dizeleri güncelleniyor</span><span class="sxs-lookup"><span data-stu-id="3cb9c-371">Updating Connection Strings in the Web.config file</span></span>

<span data-ttu-id="3cb9c-372">Açık *Web.config* değiştirin ve dosya `connectionStrings` öğesini aşağıdaki kodla:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-372">Open the *Web.config* file and replace the `connectionStrings` element with the following code:</span></span>

[!code-xml[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample8.xml)]

### <a name="creating-the-membership-database"></a><span data-ttu-id="3cb9c-373">Üyelik veritabanı oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-373">Creating the Membership Database</span></span>

<span data-ttu-id="3cb9c-374">İçinde **Çözüm Gezgini**ContosoUniversity projeyi seçin ve ardından **ASP.NET yapılandırma** içinde **proje** menüsü.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-374">In **Solution Explorer**, select the ContosoUniversity project, and then click **ASP.NET Configuration** in the **Project** menu.</span></span>

<span data-ttu-id="3cb9c-375">Güvenlik sekmesini seçin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-375">Select the Security tab.</span></span>

<span data-ttu-id="3cb9c-376">Tıklayın **oluşturun veya Rolleri Yönet**ve ardından bir **yönetici** rol.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-376">Click **Create or Manage Roles**, and then create an **Administrator** role.</span></span>

<span data-ttu-id="3cb9c-377">Güvenlik sekmesine geri dönün.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-377">Return to the Security tab.</span></span>

<span data-ttu-id="3cb9c-378">Tıklayın **kullanıcı oluşturma**ve ardından **yönetici** onay kutusunu işaretleyin ve adlı yönetici kullanıcı oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-378">Click **Create user**, and then select the **Administrator** check box and create a user named admin.</span></span>

<span data-ttu-id="3cb9c-379">Kapat **Web sitesi yönetim aracı**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-379">Close the **Web Site Administration Tool**.</span></span>

### <a name="creating-the-school-database"></a><span data-ttu-id="3cb9c-380">School veritabanını oluşturma</span><span class="sxs-lookup"><span data-stu-id="3cb9c-380">Creating the School Database</span></span>

<span data-ttu-id="3cb9c-381">Paket Yöneticisi Konsolu penceresi açın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-381">Open the Package Manager Console window.</span></span>

<span data-ttu-id="3cb9c-382">İçinde **varsayılan proje** aşağı açılan listesinde, ContosoUniversity.DAL projeyi seçin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-382">In the **Default project** drop-down list, select the ContosoUniversity.DAL project.</span></span>

<span data-ttu-id="3cb9c-383">Aşağıdaki komutu girin:</span><span class="sxs-lookup"><span data-stu-id="3cb9c-383">Enter the following command:</span></span>

[!code-powershell[Main](deployment-to-a-hosting-provider-migrating-to-sql-server-10-of-12/samples/sample9.ps1)]

<span data-ttu-id="3cb9c-384">Code First geçişleri, veritabanı oluşturur ve ardından AddBirthDate geçiş uygular ilk geçiş uygular ve sonra Seed yöntemi çalıştırır.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-384">Code First Migrations applies the Initial migration that creates the database and then applies the AddBirthDate migration, then it runs the Seed method.</span></span>

<span data-ttu-id="3cb9c-385">Site denetim F5 tuşuna basarak çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-385">Run the site by pressing Control-F5.</span></span> <span data-ttu-id="3cb9c-386">Test ve üretim ortamları için yaptığınız gibi çalıştırma **ekleme Öğrenciler** sayfasında, yeni bir öğrenci eklemek ve ardından yeni bir öğrenci olarak görüntüleyin **Öğrenciler** sayfası.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-386">As you did for the test and production environments, run the **Add Students** page, add a new student, and then view the new student in the **Students** page.</span></span> <span data-ttu-id="3cb9c-387">Bu, School veritabanını oluşturulduktan ve başlatıldıktan olduğunu ve okuma ve yazma erişimi doğrular.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-387">This verifies that the School database was created and initialized and that you have read and write access to it.</span></span>

<span data-ttu-id="3cb9c-388">Seçin **güncelleştirme KREDİLERİ** sayfasında ve üyelik veritabanı dağıtıldı ve erişimi olduğunu doğrulamak için oturum açın.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-388">Select the **Update Credits** page and log in to verify that the membership database was deployed and that you have access to it.</span></span> <span data-ttu-id="3cb9c-389">Kullanıcı hesaplarınızı geçirilmedi, bir yönetici hesabı oluşturmanız ve ardından **güncelleştirme KREDİLERİ** çalışır durumda olduğunu doğrulamak için sayfa.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-389">If you did not migrate your user accounts, create an administrator account and then select the **Update Credits** page to verify that it works.</span></span>

## <a name="cleaning-up-sql-server-compact-files"></a><span data-ttu-id="3cb9c-390">SQL Server Compact dosyalarını temizleme</span><span class="sxs-lookup"><span data-stu-id="3cb9c-390">Cleaning Up SQL Server Compact Files</span></span>

<span data-ttu-id="3cb9c-391">Artık dosyaları ve SQL Server Compact desteklemek için eklenen NuGet paketleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-391">You no longer need files and NuGet packages that were included to support SQL Server Compact.</span></span> <span data-ttu-id="3cb9c-392">İsterseniz (Bu adım gerekli değildir), gereksiz dosyaları ve başvuruları temizleyin.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-392">If you want (this step is not required), you can clean up unneeded files and references.</span></span>

<span data-ttu-id="3cb9c-393">İçinde **Çözüm Gezgini**, silme *.sdf* dosyalarını *uygulama\_veri* klasörü ve *amd64* ve *x86* klasörlerinden *bin* klasör.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-393">In **Solution Explorer**, delete the *.sdf* files from the *App\_Data* folder and the *amd64* and *x86* folders from the *bin* folder.</span></span>

<span data-ttu-id="3cb9c-394">İçinde **Çözüm Gezgini**çözüme (değil projelerden birine) sağ tıklayın ve ardından **çözüm için NuGet paketlerini Yönet**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-394">In **Solution Explorer**, right-click the solution (not one of the projects), and then click **Manage NuGet Packages for Solution**.</span></span>

<span data-ttu-id="3cb9c-395">Sol bölmesinde **NuGet paketlerini Yönet** iletişim kutusunda **yüklü paketleri**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-395">In the left pane of the **Manage NuGet Packages** dialog box, select **Installed packages**.</span></span>

<span data-ttu-id="3cb9c-396">Seçin **EntityFramework.SqlServerCompact** tıklayın ve paket **Yönet**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-396">Select the **EntityFramework.SqlServerCompact** package and click **Manage**.</span></span>

<span data-ttu-id="3cb9c-397">İçinde **projeleri seçin** iletişim kutusunda, her iki projesi seçilmedi.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-397">In the **Select Projects** dialog box, both projects are selected.</span></span> <span data-ttu-id="3cb9c-398">Her iki proje pakette kaldırmak için her iki onay kutularının işaretini kaldırın ve ardından **Tamam**.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-398">To uninstall the package in both projects, clear both check boxes, then click **OK**.</span></span>

<span data-ttu-id="3cb9c-399">Bağımlı paketler de kaldırmak isteyip istemediğinizi soran iletişim kutusunda tıklatın No</span><span class="sxs-lookup"><span data-stu-id="3cb9c-399">In the dialog box that asks if you want to uninstall the dependent packages also, click No.</span></span> <span data-ttu-id="3cb9c-400">Bunlardan birini tutmak olan Entity Framework paketidir.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-400">One of these is the Entity Framework package that you have to keep.</span></span>

<span data-ttu-id="3cb9c-401">Kaldırmak için aynı yordamı **SqlServerCompact** paket.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-401">Follow the same procedure to uninstall the **SqlServerCompact** package.</span></span> <span data-ttu-id="3cb9c-402">(Çünkü bu sırada paketleri kaldırılmalıdır **EntityFramework.SqlServerCompact** paket bağlıdır **SqlServerCompact** paket.)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-402">(The packages must be uninstalled in this order because the **EntityFramework.SqlServerCompact** package depends on the **SqlServerCompact** package.)</span></span>

<span data-ttu-id="3cb9c-403">Şimdi başarıyla SQL Server Express ve tam SQL Server için geçişiniz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-403">You have now successfully migrated to SQL Server Express and full SQL Server.</span></span> <span data-ttu-id="3cb9c-404">Sonraki öğretici başka bir veritabanı değişikliği ve yapacaksınız kullanırken, test ve üretim veritabanlarınızı SQL Server Express ve tam SQL Server veritabanı değişikliklerinin dağıtmayı görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="3cb9c-404">In the next tutorial you'll make another database change, and you'll see how to deploy database changes when your test and production databases use SQL Server Express and full SQL Server.</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="3cb9c-405">[Önceki](deployment-to-a-hosting-provider-deploying-a-database-update-9-of-12.md)
> [İleri](deployment-to-a-hosting-provider-deploying-a-sql-server-database-update-11-of-12.md)</span><span class="sxs-lookup"><span data-stu-id="3cb9c-405">[Previous](deployment-to-a-hosting-provider-deploying-a-database-update-9-of-12.md)
[Next](deployment-to-a-hosting-provider-deploying-a-sql-server-database-update-11-of-12.md)</span></span>
