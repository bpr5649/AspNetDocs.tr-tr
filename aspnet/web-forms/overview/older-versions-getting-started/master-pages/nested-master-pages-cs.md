---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
title: İç içe geçmiş anaC#sayfalar () | Microsoft Docs
author: rick-anderson
description: Bir ana sayfanın bir diğerinin içine nasıl ekleneceğini gösterir.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 32b7fb6e-d74b-4048-91f8-70631b2523ee
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 67093266567a97cd22b353115616484fd9ef155e
ms.sourcegitcommit: e7e91932a6e91a63e2e46417626f39d6b244a3ab
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 03/06/2020
ms.locfileid: "78574384"
---
# <a name="nested-master-pages-c"></a><span data-ttu-id="1f3be-103">İç İçe Geçmiş Ana Sayfalar (C#)</span><span class="sxs-lookup"><span data-stu-id="1f3be-103">Nested Master Pages (C#)</span></span>

<span data-ttu-id="1f3be-104">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="1f3be-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="1f3be-105">[Kodu indirin](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) veya [PDF 'yi indirin](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="1f3be-105">[Download Code](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) or [Download PDF](https://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span></span>

> <span data-ttu-id="1f3be-106">Bir ana sayfanın bir diğerinin içine nasıl ekleneceğini gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-106">Shows how to nest one master page within another.</span></span>

## <a name="introduction"></a><span data-ttu-id="1f3be-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="1f3be-107">Introduction</span></span>

<span data-ttu-id="1f3be-108">Son dokuz öğreticinin kursunda, ana sayfalarla site genelinde bir düzeni nasıl uygulayacağınızı gördük.</span><span class="sxs-lookup"><span data-stu-id="1f3be-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="1f3be-109">Bir Nutshell 'de, ana sayfalar, ana sayfada bir içerik sayfası sayfa temelinde özelleştirilebilecek belirli bölgelerle birlikte ana sayfada ortak biçimlendirme tanımlamasına olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="1f3be-110">Ana sayfadaki ContentPlaceHolder denetimleri özelleştirilebilir bölgeleri belirtir; ContentPlaceHolder denetimleri için özelleştirilmiş biçimlendirme içerik sayfasında Içerik denetimleri aracılığıyla tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="1f3be-111">Şimdiye kadar araştırdığımız ana sayfa teknikleri, tüm sitede tek bir düzen varsa harika.</span><span class="sxs-lookup"><span data-stu-id="1f3be-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="1f3be-112">Ancak, birçok büyük web sitesinin çeşitli bölümler genelinde özelleştirilmiş bir site düzeni vardır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="1f3be-113">Örneğin, hastane personeli tarafından hasta bilgilerini, etkinliklerini ve faturalandırmayı yönetmek için kullanılan bir sistem durumu bakım uygulaması düşünün.</span><span class="sxs-lookup"><span data-stu-id="1f3be-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="1f3be-114">Bu uygulamada üç tür Web sayfası olabilir:</span><span class="sxs-lookup"><span data-stu-id="1f3be-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="1f3be-115">Personel üyelerinin kullanılabilirliği güncelleştirebileceği, zamanlamaları görüntüleyebileceği veya tatil süresi isteyebildiği personele üyeye özgü sayfalar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="1f3be-116">Personel üyelerinin belirli bir hasta için bilgileri görüntülemesi veya düzenlemesi gereken hasta 'e özgü sayfalar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="1f3be-117">Muhasebeciler geçerli talep durumlarını ve finansal raporları incelemesinin faturalandırmaya özgü sayfalar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="1f3be-118">Her sayfa, üstteki bir menü ve alt taraftaki sık kullanılan bağlantılar dizisi gibi ortak bir düzen paylaşabilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="1f3be-119">Ancak personel, hasta ve faturalandırmaya özgü sayfaların bu genel düzeni özelleştirmesi gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="1f3be-120">Örneğin, personele özgü tüm sayfalar, şu anda oturum açmış olan kullanıcının kullanılabilirliğini ve günlük zamanlamayı gösteren bir takvim ve görev listesi içermelidir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="1f3be-121">Hasta 'e özgü tüm sayfaların, bilgileri düzenlenmekte olan hasta için ad, adres ve sigorta bilgilerini göstermesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="1f3be-122">*İç içe yerleştirilmiş ana sayfalar*kullanılarak bu tür özelleştirilmiş düzenler oluşturmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="1f3be-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="1f3be-123">Yukarıdaki senaryoyu uygulamak için, özelleştirilebilir bölgeleri tanımlayan Contentyertutucuları olan site genelinde düzeni, menü ve alt bilgi içeriğini tanımlayan bir ana sayfa oluşturarak başlayacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="1f3be-124">Daha sonra her Web sayfası türü için bir tane olmak üzere üç iç içe ana sayfa oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="1f3be-125">İç içe yerleştirilmiş her ana sayfa, ana sayfayı kullanan içerik sayfalarının türü arasındaki içeriği tanımlar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="1f3be-126">Diğer bir deyişle, hasta 'e özgü içerik sayfaları için iç içe geçmiş ana sayfa, düzenlenmekte olan hasta hakkındaki bilgileri görüntülemek için biçimlendirme ve programlama mantığını içerir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="1f3be-127">Hasta 'e özgü yeni bir sayfa oluştururken onu bu iç içe geçmiş ana sayfaya bağlayacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="1f3be-128">Bu öğretici, iç içe yerleştirilmiş ana sayfaların avantajlarını vurgulayarak başlar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="1f3be-129">Ardından, iç içe geçmiş ana sayfaların nasıl oluşturulacağını ve kullanılacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="1f3be-130">.NET Framework sürüm 2,0 ' den beri iç içe yerleştirilmiş ana sayfalar mümkün.</span><span class="sxs-lookup"><span data-stu-id="1f3be-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="1f3be-131">Ancak, Visual Studio 2005, iç içe geçmiş ana sayfalar için tasarım zamanı desteği içermiyordu.</span><span class="sxs-lookup"><span data-stu-id="1f3be-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="1f3be-132">İyi haber, Visual Studio 2008 iç içe geçmiş ana sayfalar için zengin bir tasarım zamanı deneyimi sunuyor.</span><span class="sxs-lookup"><span data-stu-id="1f3be-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="1f3be-133">İç içe geçmiş ana sayfalar kullanmak istiyorsanız, ancak hala Visual Studio 2005 kullanıyorsanız [Scott Guthrie](https://weblogs.asp.net/scottgu/)'nin blog girişine göz ATıN ve [vs 2005 tasarım zamanında Iç Içe geçmiş ana sayfalar için ipuçları](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>

## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="1f3be-134">Iç Içe yerleştirilmiş ana sayfaların avantajları</span><span class="sxs-lookup"><span data-stu-id="1f3be-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="1f3be-135">Birçok Web sitesinin Ayrıca, belirli sayfa türlerine özgü daha özelleştirilmiş tasarımlar ve çok sayıda site tasarımı vardır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="1f3be-136">Örneğin, tanıtım Web uygulamamızda bir ilkel yönetim bölümü (`~/Admin` klasöründeki sayfalar) oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="1f3be-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="1f3be-137">Şu anda `~/Admin` klasöründeki Web sayfaları, Yönetim bölümünde bulunmayan sayfalarla aynı ana sayfayı kullanır (yani, `Site.master` veya `Alternate.master`kullanıcının seçimine bağlı olarak).</span><span class="sxs-lookup"><span data-stu-id="1f3be-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="1f3be-138">Şimdilik, sitemizin yalnızca bir ana sayfa `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="1f3be-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="1f3be-139">Bu öğreticinin ilerleyen kısımlarında "yönetim bölümü için Iç Içe yerleştirilmiş ana sayfa kullanma" ile başlayan iç içe yerleştirilmiş ana sayfaları kullanarak iki (veya daha fazla) Ana sayfa kullanın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>

<span data-ttu-id="1f3be-140">Yönetim sayfalarının yerleşimini, diğer sayfalarda bulunmayan ek bilgileri veya bağlantıları içerecek şekilde özelleştirmenin sorulduğu hakkında düşünün.</span><span class="sxs-lookup"><span data-stu-id="1f3be-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="1f3be-141">Bu gereksinimi uygulamak için dört teknik vardır:</span><span class="sxs-lookup"><span data-stu-id="1f3be-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="1f3be-142">`~/Admin` klasöründeki her içerik sayfasına yönetime özgü bilgileri ve bağlantıları el ile ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="1f3be-143">`Site.master` ana sayfasını, Yönetim bölümüne özgü bilgileri ve bağlantıları içerecek şekilde güncelleştirin ve sonra yönetim sayfalarından birinin ziyaret edilip edilmeyeceğini temel alarak bu bölümleri göstermek veya gizlemek için ana sayfaya kod ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="1f3be-144">Özellikle Yönetim bölümünde yeni bir ana sayfa oluşturun, `Site.master`biçimlendirmesini kopyalayın, Yönetim bölümüne özgü bilgileri ve bağlantıları ekleyin ve ardından bu yeni ana sayfayı kullanmak için `~/Admin` klasöründeki içerik sayfalarını güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="1f3be-145">`Site.master` bağlanan ve `~/Admin` klasördeki içerik sayfalarının bu yeni iç içe geçmiş ana sayfayı kullanmasını sağlayan bir iç içe ana sayfa oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1f3be-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="1f3be-146">Bu iç içe yerleştirilmiş ana sayfa yalnızca yönetim sayfalarına özgü ek bilgileri ve bağlantıları içerir ve `Site.master`zaten tanımlı biçimlendirmeyi tekrarlamanız gerekmez.</span><span class="sxs-lookup"><span data-stu-id="1f3be-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="1f3be-147">İlk seçenek en az bir kez Damadır tablosudur.</span><span class="sxs-lookup"><span data-stu-id="1f3be-147">The first option is the least palatable.</span></span> <span data-ttu-id="1f3be-148">Ana sayfaları kullanmanın tam noktası, ortak biçimlendirmeyi el ile kopyalayıp yeni ASP.NET sayfalarına yapıştırmaya kadar uzaklaşmaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="1f3be-149">İkinci seçenek kabul edilebilir, ancak uygulamanın ana sayfaları yalnızca bir zaman içinde görüntülenen işaretlerle kullandığından daha az bakım yapılmasını sağlar ve ana sayfayı düzenleyen geliştiricilerin bu biçimlendirme etrafında çalışmasını ve ne zaman hatırlamasını istiyorsanız, tam olarak, belirli bir biçimlendirme gizlenirse buna karşı görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="1f3be-150">Bu yaklaşım, bu tek ana sayfa tarafından sağlanmak için daha fazla ve daha fazla Web sayfası türünden özelleştirmeler için daha az kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="1f3be-151">Üçüncü seçenek ikinci seçenekle ortaya çıkan dağınıklığı ve karmaşıklık sorunlarını ortadan kaldırır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="1f3be-152">Ancak, üç ana dezavantajı seçeneği, `Site.master` ' den ortak düzeni kopyalayıp yeni yönetim bölümüne özgü ana sayfaya yapıştırmamızı gerektirmesidir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="1f3be-153">Daha sonra site genelinde düzeni değiştirme kararı verirse, bunu iki yerde değiştirmeyi hatırladık.</span><span class="sxs-lookup"><span data-stu-id="1f3be-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="1f3be-154">Dördüncü seçenek olan iç içe yerleştirilmiş ana sayfalar bize ikinci ve üçüncü seçeneklerden en iyi şekilde erişmenizi sağlar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="1f3be-155">Site genelinde düzen bilgileri bir dosyada tutulur-üst düzey ana sayfa-belirli bölgelere özgü içerik farklı dosyalara ayrılır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="1f3be-156">Bu öğretici basit bir iç içe geçmiş ana sayfa oluşturma ve kullanma konusunda bir görünüm ile başlar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="1f3be-157">Yeni bir en üst düzey ana sayfa, iç içe geçmiş iki ana sayfa ve iki içerik sayfası oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="1f3be-158">"Yönetim bölümünde Iç Içe yerleştirilmiş ana sayfa kullanma" ile başlayarak, iç içe yerleştirilmiş ana sayfaların kullanımını dahil etmek için mevcut ana sayfa mimarimizi güncelleştirme bölümüne baktık.</span><span class="sxs-lookup"><span data-stu-id="1f3be-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="1f3be-159">Özellikle, iç içe geçmiş ana sayfa oluşturur ve bu sayfayı, `~/Admin` klasöründeki içerik sayfaları için ek özel içerik içerecek şekilde kullanır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="1f3be-160">1\. Adım: basit bir üst düzey ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="1f3be-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="1f3be-161">Var olan ana sayfalardan birini temel alan iç içe bir ana sayfa oluşturma ve var olan içerik sayfası, üst düzey ana sayfa yerine bu yeni iç içe ana sayfanın kullanılması bazı karmaşıklıklar sağlar çünkü var olan içerik sayfaları zaten beklenirken Üst düzey ana sayfada tanımlanan ContentPlaceHolder denetimleri.</span><span class="sxs-lookup"><span data-stu-id="1f3be-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="1f3be-162">Bu nedenle, iç içe yerleştirilmiş ana sayfa aynı ada sahip aynı ContentPlaceHolder denetimlerini de içermelidir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="1f3be-163">Ayrıca, belirli tanıtım uygulamamız, Bu karmaşıklığa daha fazla eklenen bir kullanıcının tercihlerine bağlı olarak bir içerik sayfasına dinamik olarak atanan iki ana sayfaya (`Site.master` ve `Alternate.master`) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="1f3be-164">Mevcut uygulamayı, bu öğreticide daha sonra iç içe geçmiş ana sayfaları kullanacak şekilde güncelleştirmeye bakacağız, ancak ilk olarak bir basit iç içe ana sayfa örneğine odaklanalım.</span><span class="sxs-lookup"><span data-stu-id="1f3be-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="1f3be-165">`NestedMasterPages` adlı yeni bir klasör oluşturun ve ardından `Simple.master`adlı klasöre yeni bir ana sayfa dosyası ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="1f3be-166">(Bu klasör ve dosya eklendikten sonra Çözüm Gezgini ekran görüntüsü için Şekil 1 ' i inceleyin.) `AlternateStyles.css` stil sayfası dosyasını Çözüm Gezgini tasarımcı üzerine sürükleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="1f3be-167">Bu, ana sayfanın `<head>` öğe biçimlendirmesinin şöyle görünmesi için `<head>` öğesindeki stil sayfası dosyasına bir `<link>` öğesi ekler:</span><span class="sxs-lookup"><span data-stu-id="1f3be-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="1f3be-168">Sonra, aşağıdaki biçimlendirmeyi `Simple.master`Web biçiminde ekleyin:</span><span class="sxs-lookup"><span data-stu-id="1f3be-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="1f3be-169">Bu biçimlendirme, sayfanın en üstünde yer alan "Iç Içe yerleştirilmiş ana sayfalar (basit)" adlı bir bağlantı görüntüleyerek bir Navy arka planında büyük bir beyaz yazı tipidir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="1f3be-170">Bunun altında, `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="1f3be-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="1f3be-171">Şekil 1, Visual Studio tasarımcısında yüklendiğinde `Simple.master` ana sayfasını gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>

<span data-ttu-id="1f3be-172">[Iç Içe ana sayfa ![, yönetim bölümündeki sayfalara özgü Içeriği tanımlar](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="1f3be-173">**Şekil 01**: Iç Içe yerleştirilmiş ana sayfa, yönetim bölümündeki sayfalara özgü içeriği tanımlar ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image3.png))</span></span>

## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="1f3be-174">2\. Adım: basit bir Iç Içe ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="1f3be-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="1f3be-175">`Simple.master` iki ContentPlaceHolder denetimi içerir: Web formu içine eklenen ve `<head>` öğesinde bulunan `head` ContentPlaceHolder ile birlikte `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="1f3be-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="1f3be-176">Bir içerik sayfası oluşturmak ve bunu `Simple.master` bağlamanız durumunda, içerik sayfasında iki Contentbir yer tutucuyu başvuruda bulunan iki Içerik denetimi olacaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="1f3be-177">Benzer şekilde, iç içe geçmiş ana sayfa oluşturup `Simple.master`, iç içe yerleştirilmiş ana sayfanın iki Içerik denetimi olacaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="1f3be-178">`SimpleNested.master`adlı `NestedMasterPages` klasöre yeni bir iç içe ana sayfa ekleyelim.</span><span class="sxs-lookup"><span data-stu-id="1f3be-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="1f3be-179">`NestedMasterPages` klasöre sağ tıklayın ve yeni öğe Ekle ' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="1f3be-180">Bu, Şekil 2 ' de gösterilen yeni öğe Ekle iletişim kutusunu açar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="1f3be-181">Ana sayfa şablonu türünü seçin ve yeni ana sayfanın adını yazın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="1f3be-182">Yeni ana sayfanın iç içe yerleştirilmiş bir ana sayfa olması gerektiğini göstermek için "Ana sayfa seç" onay kutusunu işaretleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="1f3be-183">Sonra Ekle düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-183">Next, click the Add button.</span></span> <span data-ttu-id="1f3be-184">Bu, bir içerik sayfasını ana sayfaya bağlarken gördüğünüz ana sayfa Seç iletişim kutusunu görüntüler (bkz. Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="1f3be-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="1f3be-185">`NestedMasterPages` klasöründe `Simple.master` ana sayfasını seçin ve Tamam ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="1f3be-186">Web sitesi proje modeli yerine Web uygulaması proje modelini kullanarak ASP.NET Web sitenizi oluşturduysanız Şekil 2 ' de gösterilen yeni öğe Ekle iletişim kutusunda "Ana sayfa seç" onay kutusunu görmezsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="1f3be-187">Web uygulaması proje modelini kullanırken iç içe yerleştirilmiş bir ana sayfa oluşturmak için, Iç sayfa şablonunu (Ana sayfa şablonu yerine) seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="1f3be-188">Iç Içe geçmiş ana sayfa şablonunu seçtikten sonra Ekle ' ye tıkladığınızda, Şekil 3 ' te gösterilen aynı ana sayfa Seç iletişim kutusu görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>

<span data-ttu-id="1f3be-189">[Iç Içe geçmiş ana sayfa eklemek için &quot;ana sayfa seçin&quot; onay kutusunu ![işaretleyin](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span></span>

<span data-ttu-id="1f3be-190">**Şekil 02**: Iç Içe geçmiş ana sayfa eklemek için "Ana sayfa seç" onay kutusunu işaretleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image6.png))</span></span>

<span data-ttu-id="1f3be-191">[Iç Içe yerleştirilmiş ana sayfayı basit. Master ana sayfasına bağlama ![](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span></span>

<span data-ttu-id="1f3be-192">**Şekil 03**: Iç Içe ana sayfayı `Simple.master` ana sayfasına bağlama ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image9.png))</span></span>

<span data-ttu-id="1f3be-193">Aşağıda gösterilen iç içe ana sayfanın bildirime dayalı biçimlendirmesi, üst düzey ana sayfanın iki ContentPlaceHolder denetimine başvuran iki Içerik denetimini içerir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="1f3be-194">`<%@ Master %>` yönergesi dışında, iç içe geçmiş ana sayfanın ilk bildirim temelli biçimlendirme biçimlendirmesi, bir içerik sayfasını aynı üst düzey ana sayfaya bağlarken başlangıçta oluşturulan biçimlendirmeyle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="1f3be-195">Bir içerik sayfasının `<%@ Page %>` yönergesine benzer şekilde, `<%@ Master %>` yönergesi, iç içe yerleştirilmiş ana sayfanın üst ana sayfasını belirten bir `MasterPageFile` özniteliği içerir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="1f3be-196">İç içe yerleştirilmiş ana sayfa ile aynı üst düzey ana sayfaya bağlanan bir içerik sayfası arasındaki temel fark, iç içe yerleştirilmiş ana sayfanın ContentPlaceHolder denetimlerini içeremeyeceği bir içeriktir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="1f3be-197">İç içe yerleştirilmiş ana sayfanın ContentPlaceHolder denetimleri, içerik sayfalarının biçimlendirmeyi özelleştirebileceği bölgeleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="1f3be-198">Bu iç içe geçmiş ana sayfayı, "Merhaba, SimpleNested! öğesinden" metin görüntüleyecek şekilde güncelleştirin</span><span class="sxs-lookup"><span data-stu-id="1f3be-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="1f3be-199">Içerik denetiminde `MainContent` ContentPlaceHolder denetimine karşılık gelir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample4.aspx)]

<span data-ttu-id="1f3be-200">Bu eklemeyi yaptıktan sonra, iç içe geçmiş ana sayfayı kaydedin ve sonra `Default.aspx`adlı `NestedMasterPages` klasöre yeni bir içerik sayfası ekleyin ve `SimpleNested.master` ana sayfasına bağlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="1f3be-201">Bu sayfayı ekledikten sonra hiç Içerik denetimi içerdiğini görmek için şaşırmış olabilirsiniz (bkz. Şekil 4)!</span><span class="sxs-lookup"><span data-stu-id="1f3be-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="1f3be-202">İçerik sayfası, yalnızca *üst* ana sayfanın içerik yertutucuları ile erişebilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="1f3be-203">`SimpleNested.master` ContentPlaceHolder denetimi içermez; Bu nedenle, bu ana sayfaya bağlantılı tüm içerik sayfaları Içerik denetimleri içeremez.</span><span class="sxs-lookup"><span data-stu-id="1f3be-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>

<span data-ttu-id="1f3be-204">[Yeni Içerik sayfası, Içerik denetimi içermiyor ![](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-204">[![The New Content Page Contains No Content Controls](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span></span>

<span data-ttu-id="1f3be-205">**Şekil 04**: yeni Içerik sayfası içerik denetimi içermiyor ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-cs/_static/image12.png))</span></span>

<span data-ttu-id="1f3be-206">Yapmanız gerekenler, iç içe yerleştirilmiş ana sayfayı (`SimpleNested.master`) ContentPlaceHolder denetimlerini içerecek şekilde güncelleştiririz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="1f3be-207">Genellikle, iç içe yerleştirilmiş ana sayfalarınızın üst ana sayfası tarafından tanımlanan her bir ContentPlaceHolder için bir ContentPlaceHolder içermesini, böylece alt ana sayfa veya içerik sayfasının üst düzey ana sayfanın ContentPlaceHolder ile çalışmasına izin vermesini isteyeceksiniz kontrollerini.</span><span class="sxs-lookup"><span data-stu-id="1f3be-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="1f3be-208">`SimpleNested.master` ana sayfasını, iki Içerik denetimine bir ContentPlaceHolder içerecek şekilde güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="1f3be-209">ContentPlaceHolder denetimlerine, Içerik denetiminin başvurduğu ContentPlaceHolder denetimiyle aynı adı verin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="1f3be-210">Diğer bir deyişle, `Simple.master`içindeki `MainContent` ContentPlaceHolder öğesine başvuran `SimpleNested.master` Içerik denetimine `MainContent` adlı bir ContentPlaceHolder denetimi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="1f3be-211">Içerik denetimindeki `head` ContentPlaceHolder öğesine başvuran aynı şeyi yapın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="1f3be-212">İç içe ana sayfadaki ContentPlaceHolder denetimlerinin, üst düzey ana sayfadaki Contentyertutucuları ile aynı şekilde adlandırılması önerdiğimde, bu adlandırma simetriyi gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="1f3be-213">İç içe yerleştirilmiş ana sayfanızda ContentPlaceHolder denetimlerine dilediğiniz adı verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="1f3be-214">Bununla birlikte, en üst düzey ana sayfam ve iç içe yerleştirilmiş ana sayfalar aynı adları kullanıyorsa, sayfanın hangi bölgelerine karşılık geldiğini unutmayı daha kolay buldum.</span><span class="sxs-lookup"><span data-stu-id="1f3be-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>

<span data-ttu-id="1f3be-215">Bu eklemeleri yaptıktan sonra `SimpleNested.master` ana sayfanızın bildirim temelli biçimlendirmesinin aşağıdakine benzer şekilde görünmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="1f3be-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="1f3be-216">Yeni oluşturduğumuz `Default.aspx` içerik sayfasını silin ve sonra yeniden ekleyin ve `SimpleNested.master` ana sayfasına bağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="1f3be-217">Bu kez, Visual Studio `Default.aspx`, artık `SimpleNested.master` tanımlanmış olan Contentyertutucuları ile başvurulan iki Içerik denetimini ekler (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="1f3be-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="1f3be-218">"Hello, default. aspx!" metnini ekleyin</span><span class="sxs-lookup"><span data-stu-id="1f3be-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="1f3be-219">`MainContent`başvurulan Içerik denetiminde.</span><span class="sxs-lookup"><span data-stu-id="1f3be-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="1f3be-220">Şekil 5 ' te yer alan üç varlık (`Simple.master`, `SimpleNested.master`ve `Default.aspx`, birbirleriyle birbirleriyle nasıl ilişkili olduğu gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="1f3be-221">Diyagramda gösterildiği gibi, iç içe yerleştirilmiş ana sayfa üst öğesinin ContentPlaceHolder için Içerik denetimleri uygular.</span><span class="sxs-lookup"><span data-stu-id="1f3be-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="1f3be-222">Bu bölgelerin içerik sayfasında erişilebilir olması gerekiyorsa, iç içe yerleştirilmiş ana sayfanın Içerik denetimlerine kendi Contentyertutucuları eklemesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>

<span data-ttu-id="1f3be-223">[Üst düzey ve Iç Içe yerleştirilmiş ana sayfaların ![, Içerik sayfasının yerleşimini dikte](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span></span>

<span data-ttu-id="1f3be-224">**Şekil 05**: en üst düzey ve Iç Içe yerleştirilmiş ana sayfalar Içerik sayfasının yerleşimini ([tam boyutlu görüntüyü görüntülemek için tıklatın](nested-master-pages-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-cs/_static/image15.png))</span></span>

<span data-ttu-id="1f3be-225">Bu davranış, bir içerik sayfası veya ana sayfanın yalnızca üst ana sayfasının bilmi olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="1f3be-226">Bu davranış, Visual Studio Tasarımcısı tarafından da belirtilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="1f3be-227">Şekil 6 `Default.aspx`için tasarımcıyı gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="1f3be-228">Tasarımcı içerik sayfasından hangi bölgelerin düzenlenebilir olduğunu ve bunların ne tür olduğunu açıkça gösterirken, düzenlenemeyen bölgelerin iç içe yerleştirilmiş ana sayfadan ve en üst düzey ana sayfadan hangi bölgelerde olduğunu belirsizliğini engellemez.</span><span class="sxs-lookup"><span data-stu-id="1f3be-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>

<span data-ttu-id="1f3be-229">[Içerik sayfası ![artık Iç Içe yerleştirilmiş ana sayfanın Contentyertutucuları için Içerik denetimleri Içeriyor](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span></span>

<span data-ttu-id="1f3be-230">**Şekil 06**: Içerik sayfası artık Iç Içe yerleştirilmiş ana sayfanın contentyertutucuları Için Içerik denetimleri içeriyor ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-cs/_static/image18.png))</span></span>

## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="1f3be-231">3\. Adım: Ikinci bir basit Iç Içe geçmiş ana sayfa ekleme</span><span class="sxs-lookup"><span data-stu-id="1f3be-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="1f3be-232">Birden çok iç içe yerleştirilmiş ana sayfa olduğunda, iç içe yerleştirilmiş ana sayfaların avantajı daha fazla belirlenir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="1f3be-233">Bu avantajı göstermek için `NestedMasterPages` klasöründe başka bir iç içe ana sayfa oluşturun; Bu yeni iç içe geçmiş ana sayfayı `SimpleNestedAlternate.master` adlandırın ve `Simple.master` ana sayfasına bağlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="1f3be-234">İç içe yerleştirilmiş ana sayfanın ikinci Içerik denetimlerine 2. adım yaptığımız gibi ContentPlaceHolder denetimleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="1f3be-235">Ayrıca "Merhaba, SimpleNestedAlternate!" metnini ekleyin</span><span class="sxs-lookup"><span data-stu-id="1f3be-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="1f3be-236">üst düzey ana sayfanın `MainContent` ContentPlaceHolder öğesine karşılık gelen Içerik denetiminde.</span><span class="sxs-lookup"><span data-stu-id="1f3be-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="1f3be-237">Bu değişiklikleri yaptıktan sonra, yeni iç içe ana sayfanın bildirim temelli biçimlendirmesinin aşağıdakine benzer şekilde görünmesi gerekir:</span><span class="sxs-lookup"><span data-stu-id="1f3be-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample6.aspx)]

<span data-ttu-id="1f3be-238">`NestedMasterPages` klasöründe `Alternate.aspx` adlı bir içerik sayfası oluşturun ve `SimpleNestedAlternate.master` iç içe ana sayfaya bağlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="1f3be-239">"Merhaba, diğer!" metnini ekleyin</span><span class="sxs-lookup"><span data-stu-id="1f3be-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="1f3be-240">`MainContent`karşılık gelen Içerik denetiminde.</span><span class="sxs-lookup"><span data-stu-id="1f3be-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="1f3be-241">Şekil 7 ' de, Visual Studio Tasarımcısı aracılığıyla görüntülendiğinde `Alternate.aspx` gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>

<span data-ttu-id="1f3be-242">[![alternatif. aspx, SimpleNestedAlternate. Master ana sayfasına bağlanır](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span></span>

<span data-ttu-id="1f3be-243">**Şekil 07**: `Alternate.aspx` `SimpleNestedAlternate.master` ana sayfasına bağlanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image21.png))</span></span>

<span data-ttu-id="1f3be-244">Şekil 7 ' deki tasarımcıyı Şekil 6 ' da tasarımcı ile karşılaştırın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="1f3be-245">Her iki içerik sayfası da üst düzey ana sayfada (`Simple.master`) tanımlanan düzeni paylaşır, yani "Iç Içe geçmiş ana sayfalar öğreticisi (basit)" başlığı.</span><span class="sxs-lookup"><span data-stu-id="1f3be-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="1f3be-246">Ancak her ikisi de üst ana sayfalarında tanımlı farklı içeriğe sahiptir-"Hello, SimpleNested öğesinden" metni "</span><span class="sxs-lookup"><span data-stu-id="1f3be-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="1f3be-247">Şekil 6 ' da ve "Merhaba, SimpleNestedAlternate!"</span><span class="sxs-lookup"><span data-stu-id="1f3be-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="1f3be-248">Şekil 7 ' de.</span><span class="sxs-lookup"><span data-stu-id="1f3be-248">in Figure 7.</span></span> <span data-ttu-id="1f3be-249">Bu farklar önemsiz, ancak daha anlamlı farklılıklar içermesi için bu örnek genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="1f3be-250">Örneğin, `SimpleNested.master` sayfasında içerik sayfalarına özgü seçeneklere sahip bir menü bulunabilir, ancak `SimpleNestedAlternate.master`, bu sayfaya bağlanan içerik sayfaları ile ilgili bilgiler içerebilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="1f3be-251">Şimdi, site düzeninde daha fazla değişiklik yapmak için gerekdiğimiz hakkında düşünün.</span><span class="sxs-lookup"><span data-stu-id="1f3be-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="1f3be-252">Örneğin, tüm içerik sayfalarına ortak bağlantıların bir listesini eklemek istediğimizde düşünün.</span><span class="sxs-lookup"><span data-stu-id="1f3be-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="1f3be-253">Bunu gerçekleştirmek için üst düzey ana sayfayı güncelleştireceğiz `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="1f3be-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="1f3be-254">Tüm değişiklikler, iç içe geçmiş ana sayfalarına ve uzantıya göre içerik sayfalarına hemen yansıtılır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="1f3be-255">Kapsamlı site yerleşimini değiştirediğimiz kolaylığınızı göstermek için `Simple.master` ana sayfasını açın ve `topContent` ve `mainContent` `<div>` öğeleri arasında aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="1f3be-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample7.aspx)]

<span data-ttu-id="1f3be-256">Bu, `Simple.master`, `SimpleNested.master`veya `SimpleNestedAlternate.master`bağlanan her sayfanın üst kısmına iki bağlantı ekler; Bu değişiklikler, iç içe geçmiş ana sayfalara ve bunların içerik sayfalarına hemen uygulanır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="1f3be-257">Şekil 8 ' de bir tarayıcıdan görüntülendiklerinde `Alternate.aspx` gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="1f3be-258">Sayfanın üst kısmındaki bağlantıların eklenmesine (Şekil 7 ' ye kıyasla) göz önünde.</span><span class="sxs-lookup"><span data-stu-id="1f3be-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>

<span data-ttu-id="1f3be-259">[En üst düzey ana sayfa olarak değiştirilen ![, Iç Içe yerleştirilmiş ana sayfalara ve bunların Içerik sayfalarına hemen yansıtılır](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span></span>

<span data-ttu-id="1f3be-260">**Şekil 08**: en üst düzey ana sayfa olarak değiştirme, Iç Içe geçmiş ana sayfalarında ve bunların Içerik sayfalarında hemen yansıtılır ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-cs/_static/image24.png))</span></span>

## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="1f3be-261">Yönetim bölümü için Iç Içe geçmiş ana sayfa kullanma</span><span class="sxs-lookup"><span data-stu-id="1f3be-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="1f3be-262">Bu noktada, iç içe geçmiş ana sayfaların avantajlarını inceledik ve bunları nasıl oluşturup bir ASP.NET uygulamasında kullanacağınızı gördünüz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="1f3be-263">1, 2 ve 3. adımlarda, bununla birlikte yeni bir üst düzey ana sayfa, yeni iç içe ana sayfa ve yeni içerik sayfaları oluşturma dahil olmak üzere örnekler.</span><span class="sxs-lookup"><span data-stu-id="1f3be-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="1f3be-264">Var olan üst düzey ana sayfa ve içerik sayfalarıyla bir Web sitesine yeni bir iç içe ana sayfa ekleme hakkında ne olacak?</span><span class="sxs-lookup"><span data-stu-id="1f3be-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="1f3be-265">İç içe yerleştirilmiş ana sayfayı var olan bir Web sitesiyle tümleştirme ve var olan içerik sayfalarıyla ilişkilendirme, sıfırdan başlayarak biraz daha fazla çaba gerektirir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="1f3be-266">4, 5, 6 ve 7. adım, yönetim yönergelerini içeren `AdminNested.master` adlı yeni bir iç içe ana sayfa eklemek için tanıtım uygulamamızı geliştirdik ve `~/Admin` klasöründeki ASP.NET sayfaları tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="1f3be-267">İç içe yerleştirilmiş ana sayfayı tanıtım uygulamamızda tümleştirmek aşağıdaki acecüleri tanıtır:</span><span class="sxs-lookup"><span data-stu-id="1f3be-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="1f3be-268">`~/Admin` klasöründeki mevcut içerik sayfaları, ana sayfalarından belirli beklentiler.</span><span class="sxs-lookup"><span data-stu-id="1f3be-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="1f3be-269">Başlangıçlar için bazı ContentPlaceHolder denetimlerinin mevcut olmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="1f3be-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="1f3be-270">Ayrıca, `~/Admin/AddProduct.aspx` ve `~/Admin/Products.aspx` sayfaları ana sayfanın ortak `RefreshRecentProductsGrid` yöntemini çağırır, `GridMessageText` özelliğini ayarlar veya `PricesDoubled` olayı için bir olay işleyicisine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="1f3be-271">Sonuç olarak, iç içe geçmiş ana sayfamız aynı Contentyertutucuları ve ortak üyeleri sağlamalıdır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="1f3be-272">Önceki öğreticide, bir oturum değişkenine göre `Page` nesnesinin `MasterPageFile` özelliğini dinamik olarak ayarlamak için `BasePage` sınıfını geliştirdik.</span><span class="sxs-lookup"><span data-stu-id="1f3be-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="1f3be-273">İç içe geçmiş ana sayfalar kullanılırken dinamik ana sayfaları destekliyoruz?</span><span class="sxs-lookup"><span data-stu-id="1f3be-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="1f3be-274">Bu iki zorluk, iç içe geçmiş ana sayfa oluşturduğumuzdan ve var olan içerik sayfalarımızdan kullanıldığı sürece yüzeyidir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="1f3be-275">Bu sorunları ortaya çıktığında araştırıp bağlayacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="1f3be-276">4\. Adım: Iç Içe geçmiş ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="1f3be-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="1f3be-277">İlk göreviniz, yönetim bölümündeki sayfalar tarafından kullanılacak iç içe yerleştirilmiş ana sayfayı oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="1f3be-278">2\. adımda gördüğümüz gibi, iç içe yerleştirilmiş ana sayfanın üst ana sayfasını belirtmemiz gereken yeni bir iç içe ana sayfa eklenirken.</span><span class="sxs-lookup"><span data-stu-id="1f3be-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="1f3be-279">Ancak en üst düzey iki ana sayfanız vardır: `Site.master` ve `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="1f3be-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="1f3be-280">Önceki öğreticide `Alternate.master` oluşturduğumuz ve `BasePage` sınıfında, çalışma zamanında sayfa nesnesinin `MasterPageFile` özelliğini `Site.master` veya `Alternate.master` oturum değişkeninin değerine bağlı olarak alan bir kod yazdığımızda geri çekin.`MyMasterPage`</span><span class="sxs-lookup"><span data-stu-id="1f3be-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the Page object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="1f3be-281">İç içe geçmiş ana sayfamızı, uygun üst düzey ana sayfayı kullanacak şekilde nasıl yapılandıracağız?</span><span class="sxs-lookup"><span data-stu-id="1f3be-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="1f3be-282">İki seçeneğiniz vardır:</span><span class="sxs-lookup"><span data-stu-id="1f3be-282">We have two options:</span></span>

- <span data-ttu-id="1f3be-283">İki iç içe geçmiş ana sayfa oluşturun, `AdminNestedSite.master` ve `AdminNestedAlternate.master`ve bunları sırasıyla en üst düzey ana sayfalara `Site.master` ve `Alternate.master`bağlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="1f3be-284">`BasePage`, `Page` nesnesinin `MasterPageFile` uygun iç içe ana sayfaya ayarlayacağız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="1f3be-285">Tek bir iç içe geçmiş ana sayfa oluşturun ve içerik sayfalarında bu özel ana sayfayı kullanın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="1f3be-286">Sonra, çalışma zamanında, iç içe yerleştirilmiş ana sayfanın `MasterPageFile` özelliğini çalışma zamanında uygun en üst düzey ana sayfaya ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="1f3be-287">(Şu anda iletişime, ana sayfaların da bir `MasterPageFile` özelliği vardır.)</span><span class="sxs-lookup"><span data-stu-id="1f3be-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="1f3be-288">İkinci seçeneği kullanalım.</span><span class="sxs-lookup"><span data-stu-id="1f3be-288">Let's use the second option.</span></span> <span data-ttu-id="1f3be-289">`AdminNested.master`adlı `~/Admin` klasöründe tek bir iç içe geçmiş ana sayfa dosyası oluşturun.</span><span class="sxs-lookup"><span data-stu-id="1f3be-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="1f3be-290">Hem `Site.master` hem de `Alternate.master` aynı ContentPlaceHolder denetim kümesine sahip olduğundan, bu, hangi ana sayfayı bağladıkınızın önemi yoktur, ancak bunu tutarlılığın sake için `Site.master` bağlamanız önerilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>

<span data-ttu-id="1f3be-291">[~/Admin klasörüne Iç Içe geçmiş ana sayfa eklemek ![.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span></span>

<span data-ttu-id="1f3be-292">**Şekil 09**: `~/Admin` klasöre Iç Içe geçmiş ana sayfa ekleyin.</span><span class="sxs-lookup"><span data-stu-id="1f3be-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="1f3be-293">([Tam boyutlu görüntüyü görüntülemek Için tıklayın](nested-master-pages-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-293">([Click to view full-size image](nested-master-pages-cs/_static/image27.png))</span></span>

<span data-ttu-id="1f3be-294">İç içe yerleştirilmiş ana sayfa dört ContentPlaceHolder denetimine sahip bir ana sayfaya bağlandığı için, Visual Studio yeni iç içe ana sayfa dosyasının ilk biçimlendirmesine dört Içerik denetimi ekler.</span><span class="sxs-lookup"><span data-stu-id="1f3be-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="1f3be-295">2 ve 3. adımlarda yaptığımız gibi, her Içerik denetimine bir ContentPlaceHolder denetimi ekleyerek üst düzey ana sayfanın ContentPlaceHolder denetimiyle aynı adı vermiş olursunuz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="1f3be-296">Ayrıca, `MainContent` ContentPlaceHolder öğesine karşılık gelen Içerik denetimine aşağıdaki biçimlendirmeyi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="1f3be-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>

[!code-html[Main](nested-master-pages-cs/samples/sample8.html)]

<span data-ttu-id="1f3be-297">Sonra, `Styles.css` ve `AlternateStyles.css` CSS dosyalarında `instructions` CSS sınıfını tanımlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="1f3be-298">Aşağıdaki CSS kuralları, açık sarı arka plan rengi ve siyah, düz kenarlık ile görüntülenmek üzere `instructions` sınıfıyla biçimlendirilmiş HTML öğelerine neden olur:</span><span class="sxs-lookup"><span data-stu-id="1f3be-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>

[!code-css[Main](nested-master-pages-cs/samples/sample9.css)]

<span data-ttu-id="1f3be-299">Bu işaretleme, iç içe yerleştirilmiş ana sayfaya eklendiğinden, yalnızca bu iç içe ana sayfayı kullanan sayfalarda görünür (yani, yönetim bölümündeki sayfalar).</span><span class="sxs-lookup"><span data-stu-id="1f3be-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="1f3be-300">İç içe geçmiş ana sayfanıza Bu eklemeleri yaptıktan sonra, bildirim temelli biçimlendirme aşağıdakine benzer olmalıdır:</span><span class="sxs-lookup"><span data-stu-id="1f3be-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample10.aspx)]

<span data-ttu-id="1f3be-301">Her Içerik denetiminin bir ContentPlaceHolder denetimine sahip olduğunu ve ContentPlaceHolder denetimlerinin ' `ID` özelliklerinin en üst düzey ana sayfadaki ilgili ContentPlaceHolder denetimleriyle aynı değerleri atandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="1f3be-302">Üstelik, Yönetim bölümüne özgü biçimlendirme `MainContent` ContentPlaceHolder ' da görünür.</span><span class="sxs-lookup"><span data-stu-id="1f3be-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="1f3be-303">Şekil 10 ' da, Visual Studio 'nun Tasarımcısı aracılığıyla görüntülendiğinde iç içe geçmiş ana sayfa `AdminNested.master` gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="1f3be-304">Yönergeleri `MainContent` Içerik denetiminin en üstündeki sarı kutuda görebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>

<span data-ttu-id="1f3be-305">[Iç Içe geçmiş ana sayfa ![, yönetici için yönergeler Içerecek şekilde üst düzey ana sayfayı genişletir.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span></span>

<span data-ttu-id="1f3be-306">**Şekil 10**: Iç Içe yerleştirilmiş ana sayfa, yönetici Için yönergeler Içerecek şekilde üst düzey ana sayfayı genişletir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="1f3be-307">([Tam boyutlu görüntüyü görüntülemek Için tıklayın](nested-master-pages-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-307">([Click to view full-size image](nested-master-pages-cs/_static/image30.png))</span></span>

## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="1f3be-308">5\. Adım: var olan Içerik sayfalarını yeni Iç Içe geçmiş ana sayfayı kullanmak üzere güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="1f3be-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="1f3be-309">Yönetim bölümüne yeni bir içerik sayfası eklediğimiz her zaman, onu yeni oluşturduğumuz `AdminNested.master` ana sayfaya bağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="1f3be-310">Ancak var olan içerik sayfaları ne kadar?</span><span class="sxs-lookup"><span data-stu-id="1f3be-310">But what about the existing content pages?</span></span> <span data-ttu-id="1f3be-311">Şu anda sitedeki tüm içerik sayfaları, çalışma zamanında içerik sayfasının ana sayfasını programlı bir şekilde ayarlayan `BasePage` sınıfından türetilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="1f3be-312">Bu, yönetim bölümündeki içerik sayfaları için istediğimiz davranış değildir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="1f3be-313">Bunun yerine, bu içerik sayfalarının `AdminNested.master` sayfasını her zaman kullanmasını istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="1f3be-314">Çalışma zamanında sağ üst düzey içerik sayfasını seçmek için iç içe yerleştirilmiş ana sayfanın sorumluluğu olacaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="1f3be-315">Bu istenen davranışı elde etmenin en iyi yolu, `BasePage` sınıfını genişleten `AdminBasePage` adlı yeni bir özel taban sayfa sınıfı oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="1f3be-316">`AdminBasePage` daha sonra `SetMasterPageFile` geçersiz kılabilir ve `Page` nesnesinin `MasterPageFile` "~/Admin/AdminNested.master" sabit kodlanmış değerine ayarlayabilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="1f3be-317">Bu şekilde, `AdminBasePage` türetilen tüm sayfalar `AdminNested.master`kullanacaktır, ancak `MasterPageFile` `BasePage` türetilen herhangi bir sayfa `MyMasterPage` oturum değişkeninin değerine bağlı olarak "~/site.exe ana" veya "~/Alternate.exe ana" olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="1f3be-318">`AdminBasePage.cs`adlı `App_Code` klasöre yeni bir sınıf dosyası ekleyerek başlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.cs`.</span></span> <span data-ttu-id="1f3be-319">`BasePage` genişletecek `AdminBasePage` ve ardından `SetMasterPageFile` yöntemini geçersiz kılarsınız.</span><span class="sxs-lookup"><span data-stu-id="1f3be-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="1f3be-320">Bu yöntemde, "~/Admin/AdminNested.master" değerini `MasterPageFile` atayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="1f3be-321">Bu değişiklikleri yaptıktan sonra sınıf dosyanız aşağıdakine benzer şekilde görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="1f3be-321">After making these changes your class file should look similar to the following:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample11.cs)]

<span data-ttu-id="1f3be-322">Artık, Yönetim bölümünde bulunan içerik sayfalarının `BasePage`yerine `AdminBasePage` türetmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="1f3be-323">`~/Admin` klasöründeki her içerik sayfası için arka plan kod dosyasına gidin ve bu değişikliği yapın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="1f3be-324">Örneğin `~/Admin/Default.aspx` ' de, arka plan kod sınıfı bildirimini öğesinden değiştirirsiniz:</span><span class="sxs-lookup"><span data-stu-id="1f3be-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample12.cs)]

<span data-ttu-id="1f3be-325">Hedef:</span><span class="sxs-lookup"><span data-stu-id="1f3be-325">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample13.cs)]

<span data-ttu-id="1f3be-326">Şekil 11 üst düzey ana sayfanın (`Site.master` veya `Alternate.master`), iç içe geçmiş ana sayfanın (`AdminNested.master`) ve yönetim bölümü içerik sayfalarının birbiriyle ilişkisini gösterir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>

<span data-ttu-id="1f3be-327">[Iç Içe ana sayfa ![, yönetim bölümündeki sayfalara özgü Içeriği tanımlar](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span></span>

<span data-ttu-id="1f3be-328">**Şekil 11**: Iç Içe yerleştirilmiş ana sayfa, yönetim bölümündeki sayfalara özgü içeriği tanımlar ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image33.png))</span></span>

## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="1f3be-329">6\. Adım: ana sayfanın ortak yöntemlerini ve özelliklerini yansıtma</span><span class="sxs-lookup"><span data-stu-id="1f3be-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="1f3be-330">`~/Admin/AddProduct.aspx` ve `~/Admin/Products.aspx` sayfalarının ana sayfayla programlı olarak etkileşimde bulunduğunu hatırlayın: `~/Admin/AddProduct.aspx` ana sayfanın ortak `RefreshRecentProductsGrid` yöntemini çağırır ve onun `GridMessageText` özelliğini ayarlıyor; `~/Admin/Products.aspx`, `PricesDoubled` olayı için bir olay işleyicisine sahiptir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="1f3be-331">Önceki öğreticide, bu genel üyeleri tanımlayan bir soyut `BaseMasterPage` sınıfı oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="1f3be-331">In the preceding tutorial we created an abstract `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="1f3be-332">`~/Admin/AddProduct.aspx` ve `~/Admin/Products.aspx` sayfaları, ana sayfalarının `BaseMasterPage` sınıfından türediği varsayılır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="1f3be-333">Ancak `AdminNested.master` sayfası şu anda `System.Web.UI.MasterPage` sınıfını genişletiyor.</span><span class="sxs-lookup"><span data-stu-id="1f3be-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="1f3be-334">Sonuç olarak, `~/Admin/Products.aspx` ziyaret edildiğinde `InvalidCastException` şu iletiyle oluşturulur: "' ASP. admin\_adminnested\_Master ' türündeki nesne ' BaseMasterPage ' türüne yayınlanamıyor."</span><span class="sxs-lookup"><span data-stu-id="1f3be-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="1f3be-335">Bu hatayı düzeltireceğiz, `AdminNested.master` arka plan kod sınıfı `BaseMasterPage`genişletmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="1f3be-336">İç içe yerleştirilmiş ana sayfanın arka plan kod sınıfı bildirimini şuradan güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="1f3be-336">Update the nested master page's code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample14.cs)]

<span data-ttu-id="1f3be-337">Hedef:</span><span class="sxs-lookup"><span data-stu-id="1f3be-337">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample15.cs)]

<span data-ttu-id="1f3be-338">Henüz bitmedi.</span><span class="sxs-lookup"><span data-stu-id="1f3be-338">We're not done yet.</span></span> <span data-ttu-id="1f3be-339">`BaseMasterPage` sınıfı soyut olduğundan, `RefreshRecentProductsGrid` ve `GridMessageText``abstract` üyelerini geçersiz kılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-339">Because the `BaseMasterPage` class is abstract, we need to override the `abstract` members, `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="1f3be-340">Bu Üyeler kullanıcı arabirimlerini güncelleştirmek için üst düzey ana sayfalar tarafından kullanılır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="1f3be-341">(Aslında yalnızca `Site.master` ana sayfası bu yöntemleri kullanır, ancak her iki üst düzey ana sayfa da `BaseMasterPage`genişlediğinden bu yöntemleri uygular.)</span><span class="sxs-lookup"><span data-stu-id="1f3be-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="1f3be-342">Bu üyeleri `AdminNested.master`uygulamamız gerekir, ancak tüm bu uygulamalar, iç içe yerleştirilmiş ana sayfa tarafından kullanılan en üst düzey ana sayfada yalnızca aynı üyeyi çağırmalıdır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="1f3be-343">Örneğin, yönetim bölümündeki bir içerik sayfası, iç içe yerleştirilmiş ana sayfanın `RefreshRecentProductsGrid` yöntemini çağırdığında, iç içe geçmiş ana sayfanın tek yapması gerekir, sırasıyla `Site.master` veya `Alternate.master``RefreshRecentProductsGrid` yöntemini çağırır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="1f3be-344">Bunu başarmak için, `AdminNested.master`en üstüne aşağıdaki `@MasterType` yönergesini ekleyerek başlayın:</span><span class="sxs-lookup"><span data-stu-id="1f3be-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample16.aspx)]

<span data-ttu-id="1f3be-345">`@MasterType` yönergesinin, `Master`adlı arka plan kod sınıfına kesin olarak yazılmış bir özellik ekleyeceğini hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="1f3be-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="1f3be-346">Sonra `RefreshRecentProductsGrid` ve `GridMessageText` üyelerini geçersiz kılın ve çağrıyı `Master`karşılık gelen yönteme devretmek yeterlidir:</span><span class="sxs-lookup"><span data-stu-id="1f3be-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample17.cs)]

<span data-ttu-id="1f3be-347">Bu kodla birlikte, yönetim bölümündeki içerik sayfalarını ziyaret edebilir ve kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="1f3be-348">Şekil 12 ' de bir tarayıcıdan görüntülendiklerinde `~/Admin/Products.aspx` sayfası gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="1f3be-349">Gördüğünüz gibi sayfa, iç içe ana sayfada tanımlanan yönetim yönergeleri kutusunu içerir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>

<span data-ttu-id="1f3be-350">[Yönetim bölümündeki Içerik sayfalarını ![her sayfanın üst kısmındaki yönergeleri Içerir](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span></span>

<span data-ttu-id="1f3be-351">**Şekil 12**: yönetim bölümündeki içerik sayfaları, her sayfanın üst kısmındaki yönergeleri içerir ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-cs/_static/image36.png))</span></span>

## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="1f3be-352">7\. Adım: çalışma zamanında uygun en üst düzey ana sayfayı kullanma</span><span class="sxs-lookup"><span data-stu-id="1f3be-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="1f3be-353">Yönetim bölümündeki tüm içerik sayfaları tamamen işlevsel olsa da, hepsi aynı üst düzey ana sayfayı kullanır ve `ChooseMasterPage.aspx`üzerinde kullanıcı tarafından seçilen ana sayfayı yoksayar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="1f3be-354">Bu davranış, iç içe yerleştirilmiş ana sayfanın `MasterPageFile` özelliği statik olarak `<%@ Master %>` yönergesinde `Site.master` olarak ayarlanmış olması nedeniyle olur.</span><span class="sxs-lookup"><span data-stu-id="1f3be-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="1f3be-355">Son Kullanıcı tarafından seçilen en üst düzey ana sayfayı kullanmak için, `AdminNested.master``MasterPageFile` özelliğini `MyMasterPage` oturum değişkenindeki değere ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="1f3be-356">`BasePage`' `MasterPageFile` içerik sayfalarının özelliklerini ayarlamamız nedeniyle, iç içe yerleştirilmiş ana sayfanın `MasterPageFile` özelliğini `BaseMasterPage` veya `AdminNested.master`arka plan kod sınıfında ayarlayabileceğimizi düşünebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="1f3be-357">Ancak, `MasterPageFile` özelliğini PreInit aşamasının sonuna kadar ayarlamış olmaları gerektiğinden, bu çalışmaz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="1f3be-358">Ana sayfadan sayfa yaşam döngüsüne programlı bir şekilde dokunduğumuz en kısa süre, Init aşamasıdır (ön Init aşamasından sonra gerçekleşir).</span><span class="sxs-lookup"><span data-stu-id="1f3be-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="1f3be-359">Bu nedenle, iç içe yerleştirilmiş ana sayfanın `MasterPageFile` özelliğini içerik sayfalarından ayarlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="1f3be-360">`AdminNested.master` ana sayfasını kullanan tek içerik sayfaları `AdminBasePage`türetilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="1f3be-361">Bu nedenle bu mantığı buraya koyabiliriz.</span><span class="sxs-lookup"><span data-stu-id="1f3be-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="1f3be-362">5\. adımda, `Page` nesnesinin `MasterPageFile` özelliğini "~/Admin/AdminNested.master" olarak ayarlayarak `SetMasterPageFile` yöntemi de çok fazla.</span><span class="sxs-lookup"><span data-stu-id="1f3be-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the `Page` object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="1f3be-363">`SetMasterPageFile`, ana sayfanın `MasterPageFile` özelliğini oturum içinde depolanan sonuca ayarlamak için de güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="1f3be-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample18.cs)]

<span data-ttu-id="1f3be-364">Önceki öğreticideki `BasePage` sınıfına eklediğimiz `GetMasterPageFileFromSession` yöntemi, oturum değişkeni değerine göre uygun ana sayfa dosya yolunu döndürür.</span><span class="sxs-lookup"><span data-stu-id="1f3be-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="1f3be-365">Bu değişiklik söz konusu olduğunda, kullanıcının ana sayfa seçimi yönetim bölümünün üzerinde geçiş yapar.</span><span class="sxs-lookup"><span data-stu-id="1f3be-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="1f3be-366">Şekil 13, Şekil 12 ile aynı sayfayı gösterir, ancak Kullanıcı Ana sayfa seçimini `Alternate.master`olarak değiştirdikten sonra.</span><span class="sxs-lookup"><span data-stu-id="1f3be-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>

<span data-ttu-id="1f3be-367">[Iç Içe geçmiş Yönetim sayfasında Kullanıcı tarafından seçilen en üst düzey ana sayfayı kullanan ![](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="1f3be-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span></span>

<span data-ttu-id="1f3be-368">**Şekil 13**: Iç Içe yönetim sayfası, Kullanıcı tarafından seçilen en üst düzey ana sayfayı kullanır ([tam boyutlu görüntüyü görüntülemek için tıklayın](nested-master-pages-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="1f3be-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-cs/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="1f3be-369">Özet</span><span class="sxs-lookup"><span data-stu-id="1f3be-369">Summary</span></span>

<span data-ttu-id="1f3be-370">İçerik sayfalarının ana sayfaya nasıl bağlanılmasından çok benzer şekilde, bir üst ana sayfaya bağlı bir alt ana sayfa oluşturarak iç içe yerleştirilmiş ana sayfalar oluşturmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="1f3be-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="1f3be-371">Alt ana sayfa, üst öğesinin Contenttutucuların her biri için Içerik denetimleri tanımlayabilir; daha sonra bu Içerik denetimlerine kendi ContentPlaceHolder denetimlerini (Ayrıca diğer biçimlendirmeleri de) ekleyebilirler.</span><span class="sxs-lookup"><span data-stu-id="1f3be-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="1f3be-372">İç içe yerleştirilmiş ana sayfalar, tüm sayfaların çok sayıda görünümü paylaştığı, ancak sitenin belirli bölümlerinin benzersiz özelleştirmeler gerektirmesine neden olan büyük Web uygulamalarında oldukça kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="1f3be-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="1f3be-373">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="1f3be-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="1f3be-374">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="1f3be-374">Further Reading</span></span>

<span data-ttu-id="1f3be-375">Bu öğreticide ele alınan konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="1f3be-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="1f3be-376">İç içe ASP.NET ana sayfaları</span><span class="sxs-lookup"><span data-stu-id="1f3be-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="1f3be-377">Iç Içe geçmiş ana sayfalar ve VS 2005 tasarım zamanı ipuçları</span><span class="sxs-lookup"><span data-stu-id="1f3be-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="1f3be-378">VS 2008 Iç Içe ana sayfa desteği</span><span class="sxs-lookup"><span data-stu-id="1f3be-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="1f3be-379">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="1f3be-379">About the Author</span></span>

<span data-ttu-id="1f3be-380">Birden çok ASP/ASP. NET Books ve 4GuysFromRolla.com 'in yazarı [Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), 1998 sürümünden bu yana Microsoft Web teknolojileriyle birlikte çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="1f3be-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="1f3be-381">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="1f3be-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="1f3be-382">En son kitabı, [*24 saat içinde ASP.NET 3,5 kendi kendinize eğitim*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco)ister.</span><span class="sxs-lookup"><span data-stu-id="1f3be-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="1f3be-383">Scott 'a [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) veya blogundan [http://ScottOnWriting.NET](http://scottonwriting.net/)üzerinden erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="1f3be-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="1f3be-384">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="1f3be-384">Special Thanks To</span></span>

<span data-ttu-id="1f3be-385">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="1f3be-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="1f3be-386">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="1f3be-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="1f3be-387">Öyleyse, beni [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) bir satır bırakın</span><span class="sxs-lookup"><span data-stu-id="1f3be-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="1f3be-388">[Önceki](specifying-the-master-page-programmatically-cs.md)
> [İleri](creating-a-site-wide-layout-using-master-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="1f3be-388">[Previous](specifying-the-master-page-programmatically-cs.md)
[Next](creating-a-site-wide-layout-using-master-pages-vb.md)</span></span>
