---
uid: web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
title: Ana sayfalar (C#) iç içe geçmiş | Microsoft Docs
author: rick-anderson
description: İçindeki başka bir ana sayfa iç içe işlemi gösterilmektedir.
ms.author: riande
ms.date: 07/28/2008
ms.assetid: 32b7fb6e-d74b-4048-91f8-70631b2523ee
msc.legacyurl: /web-forms/overview/older-versions-getting-started/master-pages/nested-master-pages-cs
msc.type: authoredcontent
ms.openlocfilehash: 6d39e898ea838b57b1cb33c91894e9ad11d58bc1
ms.sourcegitcommit: 51b01b6ff8edde57d8243e4da28c9f1e7f1962b2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 05/06/2019
ms.locfileid: "65126781"
---
# <a name="nested-master-pages-c"></a><span data-ttu-id="40e8f-103">İç İçe Geçmiş Ana Sayfalar (C#)</span><span class="sxs-lookup"><span data-stu-id="40e8f-103">Nested Master Pages (C#)</span></span>

<span data-ttu-id="40e8f-104">tarafından [Scott Mitchell](https://twitter.com/ScottOnWriting)</span><span class="sxs-lookup"><span data-stu-id="40e8f-104">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="40e8f-105">[Kodu indir](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) veya [PDF olarak indirin](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span><span class="sxs-lookup"><span data-stu-id="40e8f-105">[Download Code](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.zip) or [Download PDF](http://download.microsoft.com/download/d/6/6/d66ad554-afdd-409e-a5c3-201b774fbb31/ASPNET_MasterPages_Tutorial_10_CS.pdf)</span></span>

> <span data-ttu-id="40e8f-106">İçindeki başka bir ana sayfa iç içe işlemi gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-106">Shows how to nest one master page within another.</span></span>

## <a name="introduction"></a><span data-ttu-id="40e8f-107">Giriş</span><span class="sxs-lookup"><span data-stu-id="40e8f-107">Introduction</span></span>

<span data-ttu-id="40e8f-108">Ana sayfalar ile site geneli bir düzen uygulama son dokuz eğitim kursunda gördük.</span><span class="sxs-lookup"><span data-stu-id="40e8f-108">Over the course of the past nine tutorials we have seen how to implement a site-wide layout with master pages.</span></span> <span data-ttu-id="40e8f-109">İçinde koysalar ana sayfalar, ana sayfa içerik sayfası içerik sayfası temelinde özelleştirilebilir özel bölgeler ile birlikte ortak biçimlendirme tanımlamak için sayfa Geliştirici olanak tanır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-109">In a nutshell, master pages allow us, the page developer, to define common markup in the master page along with specific regions that can be customized on a content page-by-content page basis.</span></span> <span data-ttu-id="40e8f-110">Ana sayfa ContentPlaceHolder denetimlerinde özelleştirilebilir bölgeleri gösterir; ContentPlaceHolder denetimleri için özelleştirilmiş biçimlendirme, içerik sayfası içerik denetimleri aracılığıyla tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-110">The ContentPlaceHolder controls in a master page indicate the customizable regions; the customized markup for the ContentPlaceHolder controls are defined in the content page via Content controls.</span></span>

<span data-ttu-id="40e8f-111">Tüm site kullanılan tek bir düzen varsa, size bugüne kadarki incelediniz sayfayı teknikleri mükemmeldir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-111">The master page techniques we've explored thus far are great if you have a single layout used across the entire site.</span></span> <span data-ttu-id="40e8f-112">Ancak birçok büyük Web siteleri, çeşitli bölümlerde özelleştirilmiş bir site düzeni vardır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-112">However, many large websites have a site layout that is customized across various sections.</span></span> <span data-ttu-id="40e8f-113">Örneğin, hasta bilgilerine, etkinlikler ve faturalandırma yönetmek için hastane personeli tarafından kullanılan bir sağlık hizmetleri uygulamasını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="40e8f-113">For example, consider a health care application used by hospital staff to manage patient information, activities, and billing.</span></span> <span data-ttu-id="40e8f-114">Bu uygulamadaki web sayfaları üç türde olabilir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-114">There may be three types of web pages in this application:</span></span>

- <span data-ttu-id="40e8f-115">Personel kullanılabilirlik, burada güncelleştirebilirsiniz ekibi üyesi özgü sayfa zamanlamaları görüntüleyemezsiniz veya istek tatil süresi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-115">Staff member-specific pages where staff members can update availability, view schedules, or request vacation time.</span></span>
- <span data-ttu-id="40e8f-116">Hasta özgü sayfa personel burada görüntülemek veya belirli bir Hasta için bilgileri düzenleyin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-116">Patient-specific pages where staff members view or edit information for a specific patient.</span></span>
- <span data-ttu-id="40e8f-117">Faturalandırma özgü sayfa müşavirler burada geçerli gözden geçirme talep durumları ve finansal raporlar.</span><span class="sxs-lookup"><span data-stu-id="40e8f-117">Billing-specific pages where accountants review current claim statuses and financial reports.</span></span>

<span data-ttu-id="40e8f-118">Her sayfanın üst ve alt kısmında bulunan sık kullanılan bağlantılar bir dizi menü gibi yaygın bir düzen paylaşabilir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-118">Every page might share a common layout, such as a menu across the top and a series of frequently used links along the bottom.</span></span> <span data-ttu-id="40e8f-119">Ancak, personel, hasta- ve faturalandırma özgü sayfa bu genel bir düzeni özelleştirme yapmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-119">But the staff-, patient-, and billing-specific pages may need to customize this generic layout.</span></span> <span data-ttu-id="40e8f-120">Örneğin, belki de tüm personel özgü sayfa şu anda oturum açmış kullanıcının kullanılabilirlik ve günlük zamanlama gösteren bir takvim ve görev listesini içermelidir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-120">For example, perhaps all staff-specific pages should include a calendar and task list showing the currently logged on user's availability and daily schedule.</span></span> <span data-ttu-id="40e8f-121">Ad, adres ve sigorta, bilgileri düzenleniyor hasta bilgilerini göstermek, belki de tüm hasta özgü sayfa gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-121">Perhaps all patient-specific pages need to show the name, address, and insurance information for the patient whose information is being edited.</span></span>

<span data-ttu-id="40e8f-122">Kullanarak bu tür özel düzenler oluşturmak mümkündür *içe geçmiş ana sayfalar*.</span><span class="sxs-lookup"><span data-stu-id="40e8f-122">It's possible to create such customized layouts by using *nested master pages*.</span></span> <span data-ttu-id="40e8f-123">Yukarıdaki senaryoyu uygulamak için biz site genelinde düzen, menüsünü ve alt bilgi içeriği özelleştirilebilir bölgeleri tanımlama ContentPlaceHolder ile tanımlanan bir ana sayfa oluşturarak başlarsınız.</span><span class="sxs-lookup"><span data-stu-id="40e8f-123">To implement the above scenario, we would start by creating a master page that defined the site-wide layout, the menu and footer content, with ContentPlaceHolders defining the customizable regions.</span></span> <span data-ttu-id="40e8f-124">Biz, sonra üç iç içe geçmiş ana sayfalar, bir web sayfasının her türü için oluşturursunuz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-124">We would then create three nested master pages, one for each type of web page.</span></span> <span data-ttu-id="40e8f-125">Her iç içe geçmiş ana sayfa içerik ana sayfa kullanan içerik sayfalarını türünde arasında tanımlarsınız.</span><span class="sxs-lookup"><span data-stu-id="40e8f-125">Each nested master page would define the content among the type of content pages that use the master page.</span></span> <span data-ttu-id="40e8f-126">Diğer bir deyişle, hasta özgü içerik sayfaları için iç içe geçmiş ana sayfa biçimlendirmesi ve düzenlenmekte olan hasta hakkında bilgi görüntülemek için programlama mantığını içerir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-126">In other words, the nested master page for patient-specific content pages would include markup and programmatic logic for displaying information about the patient being edited.</span></span> <span data-ttu-id="40e8f-127">Yeni bir Hasta özgü sayfa oluştururken size, bu iç içe geçmiş ana sayfa için bağlayın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-127">When creating a new patient-specific page we would bind it to this nested master page.</span></span>

<span data-ttu-id="40e8f-128">Bu öğreticide, iç içe geçmiş ana sayfalar avantajlarını vurgulayarak başlatır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-128">This tutorial starts by highlighting the benefits of nested master pages.</span></span> <span data-ttu-id="40e8f-129">Ardından, oluşturma ve iç içe geçmiş ana sayfalar kullanma işlemini göstermektedir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-129">It then shows how to create and use nested master pages.</span></span>

> [!NOTE]
> <span data-ttu-id="40e8f-130">İç içe geçmiş ana sayfalar, .NET Framework'ün 2.0 sürümünden başlayarak mümkün olmuştur.</span><span class="sxs-lookup"><span data-stu-id="40e8f-130">Nested master pages have been possible since version 2.0 of the .NET Framework.</span></span> <span data-ttu-id="40e8f-131">Ancak, Visual Studio 2005 iç içe geçmiş ana sayfalar için tasarım zamanı desteğini içermiyordu.</span><span class="sxs-lookup"><span data-stu-id="40e8f-131">However, Visual Studio 2005 did not include design-time support for nested master pages.</span></span> <span data-ttu-id="40e8f-132">Güzel bir haberimiz var Visual Studio 2008 iç içe geçmiş ana sayfalar için zengin bir tasarım zamanı deneyimi sahip olmasıdır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-132">The good news is that Visual Studio 2008 offers a rich design-time experience for nested master pages.</span></span> <span data-ttu-id="40e8f-133">İç içe geçmiş ana sayfalar kullanmak istiyorsanız, ancak yine de Visual Studio 2005 kullanıyorsanız, kullanıma [Scott Guthrie](https://weblogs.asp.net/scottgu/)ın blog girişine [VS 2005 tasarım zamanı iç içe geçmiş ana sayfalar için ipuçları](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span><span class="sxs-lookup"><span data-stu-id="40e8f-133">If you are interested in using nested master pages but are still using Visual Studio 2005, check out [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog entry, [Tips for Nested Master Pages in VS 2005 Design-Time](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx).</span></span>

## <a name="the-benefits-of-nested-master-pages"></a><span data-ttu-id="40e8f-134">İç içe geçmiş ana sayfalar avantajları</span><span class="sxs-lookup"><span data-stu-id="40e8f-134">The Benefits of Nested Master Pages</span></span>

<span data-ttu-id="40e8f-135">Birçok Web sitesi, ıpam'da bir site tasarımı ve bunun yanı sıra daha özelleştirilmiş tasarımları sayfaların belirli türler için belirli sahiptir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-135">Many websites have an overarching site design as well as more customized designs specific to certain types of pages.</span></span> <span data-ttu-id="40e8f-136">Örneğin, demo web uygulamamıza ilkel bir yönetim bölümündeki oluşturduk (sayfalarında `~/Admin` klasörü).</span><span class="sxs-lookup"><span data-stu-id="40e8f-136">For instance, in our demo web application we have created a rudimentary Administration section (the pages in the `~/Admin` folder).</span></span> <span data-ttu-id="40e8f-137">Şu anda web sayfaları'nda `~/Admin` klasörü yönetim bölümündeki bu sayfaları olarak aynı ana sayfaya kullanın (yani, `Site.master` veya `Alternate.master`kullanıcının seçimine bağlı olarak).</span><span class="sxs-lookup"><span data-stu-id="40e8f-137">Currently the web pages in the `~/Admin` folder use the same master page as those pages not in the administration section (namely, `Site.master` or `Alternate.master`, depending on the user's selection).</span></span>

> [!NOTE]
> <span data-ttu-id="40e8f-138">Şimdilik sitemizi yalnızca bir ana sayfa olduğunu anlatabilirsiniz `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-138">For now, pretend that our site has just one master page, `Site.master`.</span></span> <span data-ttu-id="40e8f-139">Bu öğreticinin ilerleyen bölümlerinde "Kullanarak bir iç içe geçmiş ana sayfa için yönetim bölümündeki ile" başlayarak iki (veya daha fazla) ana sayfalar ile iç içe geçmiş ana sayfalar kullanarak adresi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-139">We'll address using nested master pages with two (or more) master pages starting with "Using a Nested Master Page for the Administration Section" later in this tutorial.</span></span>

<span data-ttu-id="40e8f-140">Biz ek bilgiler veya aksi halde sitedeki diğer sayfalarında olmaz bağlantılar eklemek için yönetim sayfaların düzenini özelleştirmek için sorulan olduğunu hayal edin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-140">Imagine that we were asked to customize the layout of the Administration pages to include additional information or links that would not otherwise be present in other pages in the site.</span></span> <span data-ttu-id="40e8f-141">Bu gereksinimin uygulanması için dört teknik vardır:</span><span class="sxs-lookup"><span data-stu-id="40e8f-141">There are four techniques to implement this requirement:</span></span>

1. <span data-ttu-id="40e8f-142">El ile içerik her sayfa için yönetim özgü bilgileri ve bağlantılar ekleme `~/Admin` klasör.</span><span class="sxs-lookup"><span data-stu-id="40e8f-142">Manually add the Administration-specific information and links to every content page in the `~/Admin` folder.</span></span>
2. <span data-ttu-id="40e8f-143">Güncelleştirme `Site.master` Yönetim bölümünde özgü bilgileri ve bağlantılar içerir ve kod göster veya gizle bu bölümleri için ana sayfasına eklemek için ana sayfa tabanlı olup yönetim sayfalardan birine ziyaret edilen üzerinde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-143">Update the `Site.master` master page to include the Administration section-specific information and links, and then add code to the master page to show or hide these sections based on whether one of the Administration pages is being visited.</span></span>
3. <span data-ttu-id="40e8f-144">Yeni bir ana sayfa oluşturma yönetim bölümündeki özellikle için biçimlendirmeden kopyalayabilirsiniz `Site.master`Yönetim bölümünde özgü bilgileri ve bağlantılar ekleme ve ardından içerik sayfalarında güncelleştirme `~/Admin` bu yeni bir şablonu kullanmak için klasör Sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-144">Create a new master page specifically for the Administration section, copy over the markup from `Site.master`, add the Administration section-specific information and links, and then update the content pages in the `~/Admin` folder to use this new master page.</span></span>
4. <span data-ttu-id="40e8f-145">Bağlamalarını kaydetmek için bir iç içe geçmiş ana sayfa oluşturma `Site.master` ve içerik sayfalarını olmayan `~/Admin` klasör kullanımı bu yeni iç içe geçmiş ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-145">Create a nested master page that binds to `Site.master` and have the content pages in the `~/Admin` folder use this new nested master page.</span></span> <span data-ttu-id="40e8f-146">Bu iç içe geçmiş ana sayfa yalnızca ek bilgi ve bağlantılar yönetim sayfalarına belirli içerir ve önceden tanımlanmış biçimlendirme yinelemek zorunda kalmaz `Site.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-146">This nested master page would include just the additional information and links specific to the Administration pages and would not need to repeat the markup already defined in `Site.master`.</span></span>

<span data-ttu-id="40e8f-147">İlk seçenek az palatable olacaktır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-147">The first option is the least palatable.</span></span> <span data-ttu-id="40e8f-148">Ana sayfaları kullanarak tüm genel biçimlendirme yeni ASP.NET sayfaları için el ile kopyalayıp gerek kalmadan uzağa taşımak noktasıdır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-148">The whole point of using master pages is to move away from having to manually copy and paste common markup to new ASP.NET pages.</span></span> <span data-ttu-id="40e8f-149">İkinci seçenek kabul edilebilir olmakla birlikte, uygulamayı, nadiren görüntülenir ve ana sayfayı düzenleme geliştiriciler bu biçimlendirme geçici olarak çalışır ve ne zaman hatırlamak zorunda gerektiren biçimlendirme Ana sayfalarla'kurmak toplu siparişler gibi daha sürdürülebilir hale getirir, gizli olduğunda bazı biçimlendirme ve tam olarak görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-149">The second option is acceptable, but makes the application less maintainable as it bulks up the master pages with markup that is only occasionally displayed and requires developers editing the master page to work around this markup and to have to remember when, exactly, certain markup is displayed versus when it is hidden.</span></span> <span data-ttu-id="40e8f-150">Bu yaklaşım, bu tek bir ana sayfa tarafından barındırılabilmesi için gereken web sayfalarına giderek daha fazla tür özelleştirmeleri daha az tenable olacaktır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-150">This approach would be less tenable as customizations from more and more types of web pages needed to be accommodated by this single master page.</span></span>

<span data-ttu-id="40e8f-151">Üçüncü seçenek dağınıklığı ortadan kaldırır ve karmaşıklığı ile ikinci seçenek surfaced verir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-151">The third option removes the clutter and complexity issues the surfaced with the second option.</span></span> <span data-ttu-id="40e8f-152">Bununla birlikte, üç kişinin seçeneği asıl sakıncası bize ortak düzenden kopyalayıp gerektirir `Site.master` yeni Yönetim bölümünde özgü ana sayfaya.</span><span class="sxs-lookup"><span data-stu-id="40e8f-152">However, option three's main drawback is that it requires us to copy and paste the common layout from `Site.master` to the new Administration section-specific master page.</span></span> <span data-ttu-id="40e8f-153">Biz daha sonra site geneli bir düzen değiştirmeye karar verirseniz iki yerde değiştirmeyi unutmayın gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-153">If we later decide to change the site-wide layout we have to remember to change it in two places.</span></span>

<span data-ttu-id="40e8f-154">Dördüncü seçeneği, iç içe geçmiş ana sayfalar ve ikinci ve üçüncü seçenek en iyi iletin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-154">The fourth option, nested master pages, give us the best of the second and third options.</span></span> <span data-ttu-id="40e8f-155">Farklı dosyalarına ayrılmış belirli bölgelere özel içeriği sırada bir dosyada - üst düzey ana sayfası - site geneli bir düzen bilgileri korunur.</span><span class="sxs-lookup"><span data-stu-id="40e8f-155">The site-wide layout information is maintained in one file - the top-level master page - while the content specific to particular regions is separated out into different files.</span></span>

<span data-ttu-id="40e8f-156">Bu öğreticide bir görünüm oluşturma ve basit bir iç içe geçmiş ana sayfa kullanarak başlar.</span><span class="sxs-lookup"><span data-stu-id="40e8f-156">This tutorial starts with a look at creating and using a simple nested master page.</span></span> <span data-ttu-id="40e8f-157">Yeni bir üst düzey ana sayfa, iki iç içe geçmiş ana sayfalar ve iki içerik sayfalarını oluştururuz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-157">We create a brand new top-level master page, two nested master pages, and two content pages.</span></span> <span data-ttu-id="40e8f-158">"Kullanarak bir iç içe geçmiş ana sayfa için yönetim bölümündeki ile" başlayarak, iç içe geçmiş ana sayfalar kullanımı dahil etmek için var olan ana sayfa mimarimiz güncelleştirme sırasında bakacağız.</span><span class="sxs-lookup"><span data-stu-id="40e8f-158">Starting with "Using a Nested Master Page for the Administration Section," we look at updating our existing master page architecture to include the use of nested master pages.</span></span> <span data-ttu-id="40e8f-159">Özellikle, biz bir iç içe geçmiş ana sayfa oluşturma ve içerik sayfalarındaki için ek özel içerik dahil etmek kullanma `~/Admin` klasör.</span><span class="sxs-lookup"><span data-stu-id="40e8f-159">Specifically, we create a nested master page and use it to include additional custom content for the content pages in the `~/Admin` folder.</span></span>

## <a name="step-1-creating-a-simple-top-level-master-page"></a><span data-ttu-id="40e8f-160">1. Adım: Basit ve en üst düzey bir ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="40e8f-160">Step 1: Creating a Simple Top-Level Master Page</span></span>

<span data-ttu-id="40e8f-161">İç içe geçmiş ana oluşturma var olan bir ana birine sayfaları dayalı ve ardından bu yeni iç içe geçmiş ana sayfası yerine en üst düzey ana sayfa kullanmak için mevcut bir içerik sayfasını güncelleştirme karmaşıklık mevcut içerik sayfalarıyla zaten belirli beklediğiniz çünkü kapsar Üst düzey ana sayfasında tanımlanan ContentPlaceHolder denetler.</span><span class="sxs-lookup"><span data-stu-id="40e8f-161">Creating a nested master based on one of the existing master pages and then updating an existing content page to use this new nested master page instead of the top-level master page entails some complexity because the existing content pages already expect certain ContentPlaceHolder controls defined in the top-level master page.</span></span> <span data-ttu-id="40e8f-162">Bu nedenle, iç içe geçmiş ana sayfa aynı ada sahip aynı ContentPlaceHolder denetimleri de dahil etmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-162">Therefore, the nested master page must also include the same ContentPlaceHolder controls with the same names.</span></span> <span data-ttu-id="40e8f-163">Ayrıca, belirli bir tanıtım uygulamamız iki ana sayfa vardır (`Site.master` ve `Alternate.master`) dinamik olarak atanmış Bu karmaşıklığı için daha fazla ekleyen, kullanıcı tercihleri temelinde bir içerik sayfası.</span><span class="sxs-lookup"><span data-stu-id="40e8f-163">Furthermore, our particular demo application has two master pages (`Site.master` and `Alternate.master`) that are dynamically assigned to a content page based on a user's preferences, which further adds to this complexity.</span></span> <span data-ttu-id="40e8f-164">Biz iç içe geçmiş ana sayfalar, bu öğreticinin ilerleyen bölümlerinde kullanmak için var olan uygulamayı güncelleştirme sırasında görünür ancak şimdi ana sayfalar örnek ilk odaklanmak basit bir iç içe geçmiş.</span><span class="sxs-lookup"><span data-stu-id="40e8f-164">We will look at updating the existing application to use nested master pages later in this tutorial, but let's first focus on a simple nested master pages example.</span></span>

<span data-ttu-id="40e8f-165">Adlı yeni bir klasör oluşturun `NestedMasterPages` ve ardından yeni bir ana sayfa dosyası adlı klasöre ekleyin `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-165">Create a new folder named `NestedMasterPages` and then add a new master page file to that folder named `Simple.master`.</span></span> <span data-ttu-id="40e8f-166">(Şekil 1 Bu klasör ve dosya eklendikten sonra çözüm Gezgini'nin ekran görüntüsü için bkz.) Sürükleme `AlternateStyles.css` tasarımcıya Çözüm Gezgini'nden stil sayfası dosyası.</span><span class="sxs-lookup"><span data-stu-id="40e8f-166">(See Figure 1 for a screen shot of the Solution Explorer after this folder and file have been added.) Drag the `AlternateStyles.css` style sheet file from the Solution Explorer onto the Designer.</span></span> <span data-ttu-id="40e8f-167">Bu ekler bir `<link>` stil sayfası dosyasındaki öğesine `<head>` öğesi, hangi sonra ana sayfanın `<head>` öğenin biçimlendirme gibi görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-167">This adds a `<link>` element to the style sheet file in the `<head>` element, after which the master page's `<head>` element's markup should look like:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample1.aspx)]

<span data-ttu-id="40e8f-168">Ardından Web formu içinde aşağıdaki işaretlemeyi ekleyin `Simple.master`:</span><span class="sxs-lookup"><span data-stu-id="40e8f-168">Next, add the following markup within the Web Form of `Simple.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample2.aspx)]

<span data-ttu-id="40e8f-169">Bu işaretleme, Lacivert arka plan üzerinde beyaz büyük yazı sayfanın üst kısmındaki "İç içe geçmiş ana sayfalar (Basit)" başlıklı bir bağlantı gösterilir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-169">This markup displays a link titled "Nested Master Pages (Simple)" at the top of the page in a large white font on a navy background.</span></span> <span data-ttu-id="40e8f-170">Altında olan `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="40e8f-170">Beneath that is the `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="40e8f-171">Şekil 1 gösterir `Simple.master` Visual Studio Tasarımcısı'nda yüklendiğinde ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-171">Figure 1 shows the `Simple.master` master page when loaded in the Visual Studio Designer.</span></span>

<span data-ttu-id="40e8f-172">[![İç içe geçmiş ana sayfa içerik özel yönetim bölümündeki sayfaları tanımlar.](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-172">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image2.png)](nested-master-pages-cs/_static/image1.png)</span></span>

<span data-ttu-id="40e8f-173">**Şekil 01**: İç içe geçmiş ana sayfa tanımlar içerik belirli yönetim bölümündeki sayfaları ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-173">**Figure 01**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image3.png))</span></span>

## <a name="step-2-creating-a-simple-nested-master-page"></a><span data-ttu-id="40e8f-174">2. Adım: Basit bir iç içe geçmiş ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="40e8f-174">Step 2: Creating a Simple Nested Master Page</span></span>

<span data-ttu-id="40e8f-175">`Simple.master` iki ContentPlaceHolder denetimler de içerir: `MainContent` ekledik ile birlikte Web formu içinde ContentPlaceHolder `head` ContentPlaceHolder ' `<head>` öğesi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-175">`Simple.master` contains two ContentPlaceHolder controls: the `MainContent` ContentPlaceHolder we added within the Web Form along with the `head` ContentPlaceHolder in the `<head>` element.</span></span> <span data-ttu-id="40e8f-176">İçerik sayfası oluşturur ve öğeyi olsaydık `Simple.master` içerik sayfasını iki ContentPlaceHolder başvuran iki içerik denetimleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-176">If we were to create a content page and bind it to `Simple.master` the content page would have two Content controls referencing the two ContentPlaceHolders.</span></span> <span data-ttu-id="40e8f-177">Benzer şekilde, biz bir iç içe geçmiş ana sayfa oluşturma ve öğeyi `Simple.master` iç içe geçmiş ana sayfa iki içerik denetimi olacaktır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-177">Similarly, if we create a nested master page and bind it to `Simple.master` then the nested master page will have two Content controls.</span></span>

<span data-ttu-id="40e8f-178">Yeni bir iç içe geçmiş ana sayfa için ekleyelim `NestedMasterPages` adlı klasöre `SimpleNested.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-178">Let's add a new nested master page to the `NestedMasterPages` folder named `SimpleNested.master`.</span></span> <span data-ttu-id="40e8f-179">Sağ `NestedMasterPages` klasörü ve Yeni Öğe Ekle öğesini seçin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-179">Right-click on the `NestedMasterPages` folder and choose Add New Item.</span></span> <span data-ttu-id="40e8f-180">Bu Şekil 2'deki yeni öğe Ekle iletişim kutusu getirir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-180">This brings up the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="40e8f-181">Yeni ana sayfa adını yazın ve ana sayfa şablon türünü seçin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-181">Select the Master Page template type and type in the name of the new master page.</span></span> <span data-ttu-id="40e8f-182">Ana sayfada bir iç içe geçmiş ana sayfa olması gerektiğini belirtmek için "Ana sayfa seçin" onay kutusunu kontrol edin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-182">To indicate that the new master page should be a nested master page, check the "Select master page" checkbox.</span></span>

<span data-ttu-id="40e8f-183">Ardından, Ekle düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-183">Next, click the Add button.</span></span> <span data-ttu-id="40e8f-184">Bu aynı seçin bir içerik sayfasının bir ana sayfasına bağlanırken gördüğünüz bir ana sayfa iletişim kutusu görüntülenir (bkz: Şekil 3).</span><span class="sxs-lookup"><span data-stu-id="40e8f-184">This will display the same Select a Master Page dialog box you see when binding a content page to a master page (see Figure 3).</span></span> <span data-ttu-id="40e8f-185">Seçin `Simple.master` ana sayfasında `NestedMasterPages` klasörü ve Tamam'a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-185">Choose the `Simple.master` master page in the `NestedMasterPages` folder and click OK.</span></span>

> [!NOTE]
> <span data-ttu-id="40e8f-186">ASP.NET Web sitesi yerine Web sitesi proje modeli Web uygulaması projesi modelini kullanarak oluşturduysanız, Şekil 2'deki yeni öğe Ekle iletişim kutusunda "ana sayfa seçin" onay kutusunu görmezsiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-186">If you created your ASP.NET website using the Web Application Project model instead of the Web Site Project model you will not see the "Select master page" checkbox in the Add New Item dialog box shown in Figure 2.</span></span> <span data-ttu-id="40e8f-187">Web uygulaması projesi modeli kullanılırken bir iç içe geçmiş ana sayfa oluşturma (ana sayfa şablonu) yerine iç içe geçmiş ana sayfa şablon seçmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-187">To create a nested master page when using the Web Application Project model you must choose the Nested Master Page template (instead of the Master Page template).</span></span> <span data-ttu-id="40e8f-188">İç içe geçmiş ana sayfa şablonunu seçme ve Ekle seçeneğine tıkladıktan sonra aynı Şekil 3'te gösterilen iletişim kutusu görünür ana sayfa seçin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-188">After selecting the Nested Master Page template and clicking Add, the same Select a Master Page dialog box shown in Figure 3 will appear.</span></span>

<span data-ttu-id="40e8f-189">[![Denetleme &quot;Select ana sayfa&quot; iç içe geçmiş ana sayfa eklemek için onay kutusu](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-189">[![Check the &quot;Select master page&quot; Checkbox to Add a Nested Master Page](nested-master-pages-cs/_static/image5.png)](nested-master-pages-cs/_static/image4.png)</span></span>

<span data-ttu-id="40e8f-190">**Şekil 02**: İç içe geçmiş ana sayfa eklemek için "ana sayfa seçin" onay kutusunu işaretleyin ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-190">**Figure 02**: Check the "Select master page" Checkbox to Add a Nested Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image6.png))</span></span>

<span data-ttu-id="40e8f-191">[![İç içe geçmiş ana sayfa Simple.master ana sayfasına bağlama](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-191">[![Bind the Nested Master Page to the Simple.master Master Page](nested-master-pages-cs/_static/image8.png)](nested-master-pages-cs/_static/image7.png)</span></span>

<span data-ttu-id="40e8f-192">**Şekil 03**: İç içe geçmiş ana sayfa için bağlama `Simple.master` ana sayfa ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-192">**Figure 03**: Bind the Nested Master Page to the `Simple.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image9.png))</span></span>

<span data-ttu-id="40e8f-193">İç içe geçmiş ana sayfa bildirim temelli biçimlendirme, aşağıda gösterilen üst düzey ana sayfanın iki ContentPlaceHolder denetimlere başvurma iki içerik denetimlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-193">The nested master page's declarative markup, shown below, contains two Content controls referencing the top-level master page's two ContentPlaceHolder controls.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample3.aspx)]

<span data-ttu-id="40e8f-194">Dışında `<%@ Master %>` yönergesi, iç içe geçmiş ana sayfa ilk bildirim temelli biçimlendirme başlangıçta aynı üst düzey ana sayfa için içerik sayfası bağlama sırasında oluşturulan biçimlendirmeyi aynıdır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-194">Except for the `<%@ Master %>` directive, the nested master page's initial declarative markup is identical to the markup that is initially generated when binding a content page to the same top-level master page.</span></span> <span data-ttu-id="40e8f-195">Gibi bir içerik sayfasının `<%@ Page %>` yönergesi `<%@ Master %>` burada yönergesini içeren bir `MasterPageFile` iç içe geçmiş ana sayfa üst ana sayfa belirten özniteliği.</span><span class="sxs-lookup"><span data-stu-id="40e8f-195">Like a content page's `<%@ Page %>` directive, the `<%@ Master %>` directive here includes a `MasterPageFile` attribute that specifies the nested master page's parent master page.</span></span> <span data-ttu-id="40e8f-196">İç içe geçmiş ana sayfa ve aynı üst düzey ana sayfaya bağlı bir içerik sayfasının arasındaki temel fark, iç içe geçmiş ana sayfa ContentPlaceHolder denetimleri içerebilir ' dir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-196">The main difference between the nested master page and a content page bound to the same top-level master page is that the nested master page can include ContentPlaceHolder controls.</span></span> <span data-ttu-id="40e8f-197">İçerik sayfaları biçimlendirme nerede özelleştirebilirsiniz bölgeleri iç içe geçmiş ana sayfa ContentPlaceHolder denetimleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="40e8f-197">The nested master page's ContentPlaceHolder controls define the regions where the content pages can customize the markup.</span></span>

<span data-ttu-id="40e8f-198">Bu iç içe geçmiş ana sayfa "SimpleNested gelen, Hello!" metni görüntüler için güncelleştirin</span><span class="sxs-lookup"><span data-stu-id="40e8f-198">Update this nested master page so that it displays the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="40e8f-199">karşılık gelen içerik denetiminde `MainContent` ContentPlaceHolder denetimi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-199">in the Content control that corresponds to the `MainContent` ContentPlaceHolder control.</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample4.aspx)]

<span data-ttu-id="40e8f-200">Bu ayrıca yaptıktan sonra iç içe geçmiş ana sayfa kaydedin ve ardından yeni bir içerik sayfasına ekleme `NestedMasterPages` adlı klasöre `Default.aspx`ve öğeyi `SimpleNested.master` ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-200">After making this addition, save the nested master page and then add a new content page to the `NestedMasterPages` folder named `Default.aspx`, and bind it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="40e8f-201">Bu sayfa ekleme sırasında hiçbir içerik denetimlerini (bkz: Şekil 4) içerip içermediğini Şaşırmış olabilir!</span><span class="sxs-lookup"><span data-stu-id="40e8f-201">Upon adding this page you may be surprised to see that it contains no Content controls (see Figure 4)!</span></span> <span data-ttu-id="40e8f-202">İçerik sayfası yalnızca erişip kendi *üst* sayfanın ContentPlaceHolder Yöneticisi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-202">A content page can only access its *parent* master page's ContentPlaceHolders.</span></span> <span data-ttu-id="40e8f-203">`SimpleNested.master` herhangi bir ContentPlaceHolder denetim içermez. Bu nedenle, bu ana sayfaya bağlı herhangi bir içerik sayfasında herhangi bir içerik denetimleri içeremez.</span><span class="sxs-lookup"><span data-stu-id="40e8f-203">`SimpleNested.master` does not contain any ContentPlaceHolder controls; therefore, any content page bound to this master page cannot contain any Content controls.</span></span>

<span data-ttu-id="40e8f-204">[![Yeni içerik sayfası hiçbir içerik denetimlerini içerir.](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-204">[![The New Content Page Contains No Content Controls](nested-master-pages-cs/_static/image11.png)](nested-master-pages-cs/_static/image10.png)</span></span>

<span data-ttu-id="40e8f-205">**Şekil 04**: Yeni içerik sayfası içeren Hayır içerik denetimleri ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-205">**Figure 04**: The New Content Page Contains No Content Controls ([Click to view full-size image](nested-master-pages-cs/_static/image12.png))</span></span>

<span data-ttu-id="40e8f-206">İç içe geçmiş ana sayfa güncelleştirme yapmak ihtiyacımız olan (`SimpleNested.master`) ContentPlaceHolder denetimler eklemek için.</span><span class="sxs-lookup"><span data-stu-id="40e8f-206">What we need to do is update the nested master page (`SimpleNested.master`) to include ContentPlaceHolder controls.</span></span> <span data-ttu-id="40e8f-207">Genellikle bir ContentPlaceHolder böylece onun alt ana sayfa veya herhangi bir üst düzey ana sayfanın ContentPlaceHolder ile çalışmak için içerik sayfası izin vererek onun üst ana sayfası tarafından tanımlanan her ContentPlaceHolder eklemek için iç içe geçmiş ana sayfalar isteyeceksiniz. denetimler.</span><span class="sxs-lookup"><span data-stu-id="40e8f-207">Typically you'll want your nested master pages to include a ContentPlaceHolder for each ContentPlaceHolder defined by its parent master page, thereby allowing its child master page or content page to work with any of the top-level master page's ContentPlaceHolder controls.</span></span>

<span data-ttu-id="40e8f-208">Güncelleştirme `SimpleNested.master` iki içerik denetimlerini bir ContentPlaceHolder eklemek için ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-208">Update the `SimpleNested.master` master page to include a ContentPlaceHolder in its two Content controls.</span></span> <span data-ttu-id="40e8f-209">ContentPlaceHolder denetimleri kendi içerik denetimi başvurduğu ContentPlaceHolder denetimi aynı adı verin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-209">Give the ContentPlaceHolder controls the same name as the ContentPlaceHolder control their Content control refers to.</span></span> <span data-ttu-id="40e8f-210">Diğer bir deyişle, adlı ContentPlaceHolder denetim ekleme `MainContent` içeriği denetlemek de `SimpleNested.master` başvuran `MainContent` ContentPlaceHolder ' `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-210">That is, add a ContentPlaceHolder control named `MainContent` to the Content control in `SimpleNested.master` that references the `MainContent` ContentPlaceHolder in `Simple.master`.</span></span> <span data-ttu-id="40e8f-211">Başvuran içerik denetimi kullanarak aynı şeyi yapmak `head` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="40e8f-211">Do the same thing in the Content control that references the `head` ContentPlaceHolder.</span></span>

> [!NOTE]
> <span data-ttu-id="40e8f-212">Bu adlandırma Simetri ı iç içe geçmiş ana sayfa ContentPlaceHolder denetimlerinde ContentPlaceHolder en üst düzey ana sayfasında aynı adlandırma önerilir, ancak gerekli değildir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-212">While I recommend naming the ContentPlaceHolder controls in the nested master page the same as the ContentPlaceHolders in the top-level master page, this naming symmetry is not required.</span></span> <span data-ttu-id="40e8f-213">İç içe geçmiş ana sayfanızda ContentPlaceHolder denetimleri istediğiniz adı verebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-213">You can give the ContentPlaceHolder controls in your nested master page any name you like.</span></span> <span data-ttu-id="40e8f-214">Ancak, ı ContentPlaceHolder ile karşılık unutmayın kolay my üst düzey ana sayfa ve iç içe geçmiş ana sayfalar aynı adları kullanıyorsanız sayfanın hangi bölgelerde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-214">However, I find it easier to remember what ContentPlaceHolders correspond with what regions of the page if my top-level master page and nested master pages use the same names.</span></span>

<span data-ttu-id="40e8f-215">Bu eklemeler yaptıktan sonra `SimpleNested.master` bildirim temelli biçimlendirme ana sayfanın aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-215">After making these additions your `SimpleNested.master` master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample5.aspx)]

<span data-ttu-id="40e8f-216">Silme `Default.aspx` içerik sayfası oluşturduğumuz ve sonra ona bağlama yeniden eklemek `SimpleNested.master` ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-216">Delete the `Default.aspx` content page we just created and then re-add it, binding it to the `SimpleNested.master` master page.</span></span> <span data-ttu-id="40e8f-217">Bu kez Visual Studio iki ekler içerik denetimleri `Default.aspx`, ContentPlaceHolder başvuran artık tanımlanan `SimpleNested.master` (bkz. Şekil 6).</span><span class="sxs-lookup"><span data-stu-id="40e8f-217">This time Visual Studio adds two Content controls to the `Default.aspx`, referencing the ContentPlaceHolders now defined in `SimpleNested.master` (see Figure 6).</span></span> <span data-ttu-id="40e8f-218">"Hello, Default.aspx gelen!" metni Ekle</span><span class="sxs-lookup"><span data-stu-id="40e8f-218">Add the text, "Hello, from Default.aspx!"</span></span> <span data-ttu-id="40e8f-219">Başvurulan içeriği denetleyen `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-219">in the Content control that referenced `MainContent`.</span></span>

<span data-ttu-id="40e8f-220">Şekil 5, burada - söz konusu üç varlıkları gösterir `Simple.master`, `SimpleNested.master`, ve `Default.aspx` - ve birbirleriyle nasıl ilişki kuracağını.</span><span class="sxs-lookup"><span data-stu-id="40e8f-220">Figure 5 shows the three entities involved here - `Simple.master`, `SimpleNested.master`, and `Default.aspx` - and how they relate to one another.</span></span> <span data-ttu-id="40e8f-221">Diyagramda gösterildiği gibi iç içe geçmiş ana sayfa içerik denetimleri için üst öğesinin ContentPlaceHolder uygular.</span><span class="sxs-lookup"><span data-stu-id="40e8f-221">As the diagram shows, the nested master page implements Content controls for its parent's ContentPlaceHolder.</span></span> <span data-ttu-id="40e8f-222">Bu bölgeler için içerik sayfası erişilebilir olması gerekiyorsa, iç içe geçmiş ana sayfa İçerik denetimlerine kendi ContentPlaceHolder eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-222">If these regions need to be accessible to the content page, the nested master page must add its own ContentPlaceHolders to the Content controls.</span></span>

<span data-ttu-id="40e8f-223">[![İçerik sayfasının düzenini en üst düzey ve iç içe geçmiş ana sayfalar dikte](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-223">[![The Top-Level and Nested Master Pages Dictate the Content Page's Layout](nested-master-pages-cs/_static/image14.png)](nested-master-pages-cs/_static/image13.png)</span></span>

<span data-ttu-id="40e8f-224">**Şekil 05**: İçerik sayfasının düzenini en üst düzey ve iç içe geçmiş ana sayfalar dikte ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-224">**Figure 05**: The Top-Level and Nested Master Pages Dictate the Content Page's Layout ([Click to view full-size image](nested-master-pages-cs/_static/image15.png))</span></span>

<span data-ttu-id="40e8f-225">Bu davranışı nasıl içerik sayfası veya ana sayfa yalnızca kendi üst ana sayfasını cognizant olduğunu gösterir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-225">This behavior illustrates how a content page or master page is only cognizant of its parent master page.</span></span> <span data-ttu-id="40e8f-226">Bu davranış, ayrıca Visual Studio tasarımcısı tarafından belirtilir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-226">This behavior is also indicated by the Visual Studio Designer.</span></span> <span data-ttu-id="40e8f-227">Şekil 6 için tasarımcı gösterir `Default.aspx`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-227">Figure 6 shows the Designer for `Default.aspx`.</span></span> <span data-ttu-id="40e8f-228">İçerik sayfasından hangi bölgelerde düzenlenebilir ve hangi kısımları olmayan Tasarımcı açıkça gösterilmektedir, ancak iç içe geçmiş ana sayfa düzenlenemez bölgeleri nelerdir ve üst düzey ana sayfadan bölgeleri nelerdir belirsizliğinin değil.</span><span class="sxs-lookup"><span data-stu-id="40e8f-228">While the Designer clearly shows what regions are editable from the content page and what portions aren't, it doesn't disambiguate what non-editable regions are from the nested master page and what regions are from the top-level master page.</span></span>

<span data-ttu-id="40e8f-229">[![İçerik sayfası şimdi içerik denetimleri için iç içe geçmiş ana sayfa ContentPlaceHolder içerir.](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-229">[![The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders](nested-master-pages-cs/_static/image17.png)](nested-master-pages-cs/_static/image16.png)</span></span>

<span data-ttu-id="40e8f-230">**Şekil 06**: İçerik sayfası artık içeren içerik denetimleri için iç içe geçmiş ana sayfa ContentPlaceHolder ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-230">**Figure 06**: The Content Page Now Includes Content Controls for the Nested Master Page's ContentPlaceHolders ([Click to view full-size image](nested-master-pages-cs/_static/image18.png))</span></span>

## <a name="step-3-adding-a-second-simple-nested-master-page"></a><span data-ttu-id="40e8f-231">3. Adım: İkinci basit iç içe geçmiş ana sayfa ekleme</span><span class="sxs-lookup"><span data-stu-id="40e8f-231">Step 3: Adding a Second Simple Nested Master Page</span></span>

<span data-ttu-id="40e8f-232">İç içe geçmiş ana sayfalar avantajı, birden çok iç içe geçmiş ana sayfalar olduğunda daha dikkati çekiyor.</span><span class="sxs-lookup"><span data-stu-id="40e8f-232">The benefit of nested master pages is more evident when there are multiple nested master pages.</span></span> <span data-ttu-id="40e8f-233">Bu Avantajdan göstermek için başka bir iç içe geçmiş ana sayfa oluşturma `NestedMasterPages` klasörü; adı bu yeni iç içe geçmiş ana sayfa `SimpleNestedAlternate.master` ve öğeyi `Simple.master` ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-233">To illustrate this benefit, create another nested master page in the `NestedMasterPages` folder; name this new nested master page `SimpleNestedAlternate.master` and bind it to the `Simple.master` master page.</span></span> <span data-ttu-id="40e8f-234">Adım 2'de yaptığımız gibi iç içe geçmiş ana sayfa iki içerik denetimlerini ContentPlaceHolder denetimleri ekleyin.</span><span class="sxs-lookup"><span data-stu-id="40e8f-234">Add ContentPlaceHolder controls in the nested master page's two Content controls like we did in Step 2.</span></span> <span data-ttu-id="40e8f-235">Ayrıca "Hello, SimpleNestedAlternate gelen!" metni Ekle</span><span class="sxs-lookup"><span data-stu-id="40e8f-235">Also add the text, "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="40e8f-236">üst düzey ana sayfa için karşılık gelen içerik denetiminde `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="40e8f-236">in the Content control that corresponds to the top-level master page's `MainContent` ContentPlaceHolder.</span></span> <span data-ttu-id="40e8f-237">Bu değişiklikleri yaptıktan sonra bildirim temelli biçimlendirme, yeni iç içe geçmiş ana sayfanın aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-237">After making these changes your new nested master page's declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample6.aspx)]

<span data-ttu-id="40e8f-238">Bir içerik sayfasının adlandırılmış oluşturma `Alternate.aspx` içinde `NestedMasterPages` klasörü ve öğeyi `SimpleNestedAlternate.master` iç içe geçmiş ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-238">Create a content page named `Alternate.aspx` in the `NestedMasterPages` folder and bind it to the `SimpleNestedAlternate.master` nested master page.</span></span> <span data-ttu-id="40e8f-239">"Hello, diğer gelen!" metni Ekle</span><span class="sxs-lookup"><span data-stu-id="40e8f-239">Add the text, "Hello, from Alternate!"</span></span> <span data-ttu-id="40e8f-240">karşılık gelen içerik denetiminde `MainContent`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-240">in the Content control that corresponds to `MainContent`.</span></span> <span data-ttu-id="40e8f-241">Şekil 7 gösterir `Alternate.aspx` Visual Studio tasarımcısı görüntülendiğinde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-241">Figure 7 shows `Alternate.aspx` when viewed through the Visual Studio Designer.</span></span>

<span data-ttu-id="40e8f-242">[![Alternate.aspx SimpleNestedAlternate.master ana sayfaya bağlanır](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-242">[![Alternate.aspx is Bound to the SimpleNestedAlternate.master Master Page](nested-master-pages-cs/_static/image20.png)](nested-master-pages-cs/_static/image19.png)</span></span>

<span data-ttu-id="40e8f-243">**Şekil 07**: `Alternate.aspx` bağlı `SimpleNestedAlternate.master` ana sayfa ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-243">**Figure 07**: `Alternate.aspx` is Bound to the `SimpleNestedAlternate.master` Master Page ([Click to view full-size image](nested-master-pages-cs/_static/image21.png))</span></span>

<span data-ttu-id="40e8f-244">Şekil 7'ye tasarımcıda bir Şekil 6 tasarımcıda karşılaştırın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-244">Compare the Designer in Figure 7 to the Designer in Figure 6.</span></span> <span data-ttu-id="40e8f-245">Üst düzey ana sayfasında tanımlanan aynı düzeni hem içerik sayfalarını paylaşma (`Simple.master`), yani "İç içe geçmiş ana sayfalar öğretici (Basit)" başlığı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-245">Both content pages share the same layout defined in the top-level master page (`Simple.master`), namely the "Nested Master Pages Tutorial (Simple)" title.</span></span> <span data-ttu-id="40e8f-246">Her ikisi de kendi üst ana sayfaları - tanımlanan farklı içerik "SimpleNested gelen, Hello!" metni henüz</span><span class="sxs-lookup"><span data-stu-id="40e8f-246">Yet both have distinct content defined in their parent master pages - the text "Hello, from SimpleNested!"</span></span> <span data-ttu-id="40e8f-247">Şekil 6 ve "Den SimpleNestedAlternate, Hello!"</span><span class="sxs-lookup"><span data-stu-id="40e8f-247">in Figure 6 and "Hello, from SimpleNestedAlternate!"</span></span> <span data-ttu-id="40e8f-248">Şekil 7'de.</span><span class="sxs-lookup"><span data-stu-id="40e8f-248">in Figure 7.</span></span> <span data-ttu-id="40e8f-249">Verildiyse bu farklar burada basit, ancak bu örnek daha anlamlı farklar içerecek şekilde genişletebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-249">Granted, these differences here are trivial, but you could extend this example to include more meaningful differences.</span></span> <span data-ttu-id="40e8f-250">Örneğin, `SimpleNested.master` sayfası, içerik sayfalarını belirli seçenekleri içeren bir menü içerebilir, ancak `SimpleNestedAlternate.master` bağlamak için içerik sayfalarına testlerinizle ilgili olabilecek bilgilere sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-250">For instance, the `SimpleNested.master` page might include a menu with options specific to its content pages, whereas `SimpleNestedAlternate.master` might have information pertinent to the content pages that bind to it.</span></span>

<span data-ttu-id="40e8f-251">Şimdi, ıpam'da site düzenine değişiklik yapmak ihtiyacımız düşünün.</span><span class="sxs-lookup"><span data-stu-id="40e8f-251">Now, imagine that we needed to make a change to the overarching site layout.</span></span> <span data-ttu-id="40e8f-252">Örneğin, tüm içerik sayfalarına ortak bağlantıların listesini eklemek istedik düşünün.</span><span class="sxs-lookup"><span data-stu-id="40e8f-252">For example, imagine that we wanted to add a list of common links to all content pages.</span></span> <span data-ttu-id="40e8f-253">En üst düzey ana sayfa güncelleştiriyoruz bunu sağlamak için `Simple.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-253">To accomplish this we update the top-level master page, `Simple.master`.</span></span> <span data-ttu-id="40e8f-254">Burada tüm değişiklikler hemen kendi iç içe geçmiş ana sayfalar ve uzantısı, bunların içerik sayfalarını yansıtılır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-254">Any changes there are immediately reflected in its nested master pages and, by extension, their content pages.</span></span>

<span data-ttu-id="40e8f-255">Hangi biz değiştirebilirsiniz ıpam'da site düzenini bir kolayca göstermek için açık `Simple.master` arasında aşağıdaki işaretlemeyi ekleyin ve ana sayfa `topContent` ve `mainContent` `<div>` öğeleri:</span><span class="sxs-lookup"><span data-stu-id="40e8f-255">To demonstrate the ease with which we can change the overarching site layout, open the `Simple.master` master page and add the following markup between the `topContent` and `mainContent` `<div>` elements:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample7.aspx)]

<span data-ttu-id="40e8f-256">Bu iki bağlantı bağlar her sayfanın üst kısmında ekler `Simple.master`, `SimpleNested.master`, veya `SimpleNestedAlternate.master`; tüm iç içe geçmiş ana sayfalar ve bunların içerik sayfalarını bu değişiklikler hemen uygulanır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-256">This adds two links to the top of every page that binds to `Simple.master`, `SimpleNested.master`, or `SimpleNestedAlternate.master`; these changes apply to all nested master pages and their content pages immediately.</span></span> <span data-ttu-id="40e8f-257">Şekil 8 gösterir `Alternate.aspx` bir tarayıcıdan görüntülendiğinde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-257">Figure 8 shows `Alternate.aspx` when viewed through a browser.</span></span> <span data-ttu-id="40e8f-258">(Şekil 7'ye kıyasla) sayfanın üst kısmındaki bağlantıların eklenmesi unutmayın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-258">Note the addition of the links at the top of the page (compared to Figure 7).</span></span>

<span data-ttu-id="40e8f-259">[![Hemen yansıtılmasını iç içe geçmiş ana sayfalar ve Their içerik sayfalarını olan üst düzey ana sayfaya değiştirildi](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-259">[![Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages](nested-master-pages-cs/_static/image23.png)](nested-master-pages-cs/_static/image22.png)</span></span>

<span data-ttu-id="40e8f-260">**Şekil 08**: Hemen yansıtılmasını iç içe geçmiş ana sayfalar ve Their içerik sayfalarını olan üst düzey ana sayfaya değiştirildi ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-260">**Figure 08**: Changed to the Top-Level Master Page are Immediately Reflected in its Nested Master Pages and Their Content Pages ([Click to view full-size image](nested-master-pages-cs/_static/image24.png))</span></span>

## <a name="using-a-nested-master-page-for-the-administration-section"></a><span data-ttu-id="40e8f-261">İç içe geçmiş ana sayfa için yönetim bölümündeki kullanma</span><span class="sxs-lookup"><span data-stu-id="40e8f-261">Using a Nested Master Page for the Administration Section</span></span>

<span data-ttu-id="40e8f-262">Bu noktada sunuyoruz iç içe geçmiş ana avantajları sayfaları attıktan ve oluşturmak ve bunları bir ASP.NET uygulamasında kullanmak nasıl gördünüz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-262">At this point we have looked at the advantages of nested master pages and have seen how to create and use them in an ASP.NET application.</span></span> <span data-ttu-id="40e8f-263">Adım 1, 2 ve 3, örnekler, ancak yeni bir üst düzey ana sayfası, yeni iç içe geçmiş ana sayfalar ve yeni içerik sayfaları oluşturma dahil.</span><span class="sxs-lookup"><span data-stu-id="40e8f-263">The examples in Steps 1, 2, and 3, however, involved creating a new top-level master page, new nested master pages, and new content pages.</span></span> <span data-ttu-id="40e8f-264">Yeni bir iç içe geçmiş ana sayfa için bir Web sitesi ile var olan bir üst düzey ana sayfa ve içerik sayfalarındaki ekleme nedir?</span><span class="sxs-lookup"><span data-stu-id="40e8f-264">What about adding a new nested master page to a website with an existing top-level master page and content pages?</span></span>

<span data-ttu-id="40e8f-265">Mevcut bir Web sitesini bir iç içe geçmiş ana sayfa tümleştirme ve var olan içerik sayfalarıyla ilişkilendirme sıfırdan başlıyor değerinden biraz daha fazla çaba gerektirir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-265">Integrating a nested master page into an existing website and associating it with existing content pages requires a bit more effort than starting from scratch.</span></span> <span data-ttu-id="40e8f-266">Adım 4, 5, 6 ve 7 biz tanıtım uygulamamız adlı yeni bir iç içe geçmiş ana sayfa içerecek şekilde genişletmek gibi bu zorluklar keşfedin `AdminNested.master` yönetici için yönergeler içerir ve ASP.NET sayfaları tarafından kullanılan `~/Admin` klasör.</span><span class="sxs-lookup"><span data-stu-id="40e8f-266">Steps 4, 5, 6, and 7 explore these challenges as we augment our demo application to include a new nested master page named `AdminNested.master` that contains instructions for the administrator and is used by the ASP.NET pages in the `~/Admin` folder.</span></span>

<span data-ttu-id="40e8f-267">Bir iç içe geçmiş ana sayfa tanıtım uygulamamıza tümleştirme aşağıdaki kısıtlamalar getirebilir sunar:</span><span class="sxs-lookup"><span data-stu-id="40e8f-267">Integrating a nested master page into our demo application introduces the following hurdles:</span></span>

- <span data-ttu-id="40e8f-268">Var olan içeriğin sayfaları içinde `~/Admin` klasörünüz kendi ana sayfasından belirli beklentileri.</span><span class="sxs-lookup"><span data-stu-id="40e8f-268">The existing content pages in the `~/Admin` folder have certain expectations from their master page.</span></span> <span data-ttu-id="40e8f-269">Yeni başlayanlar için mevcut olması için belirli ContentPlaceHolder denetimleri beklerler.</span><span class="sxs-lookup"><span data-stu-id="40e8f-269">For starters, they expect certain ContentPlaceHolder controls to be present.</span></span> <span data-ttu-id="40e8f-270">Ayrıca, `~/Admin/AddProduct.aspx` ve `~/Admin/Products.aspx` sayfaları ana sayfanın genel arama `RefreshRecentProductsGrid` yöntemine kendi `GridMessageText` özelliği veya bir olay işleyicisi için kendi `PricesDoubled` olay.</span><span class="sxs-lookup"><span data-stu-id="40e8f-270">Furthermore, the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages call the master page's public `RefreshRecentProductsGrid` method, set its `GridMessageText` property, or have an event handler for its `PricesDoubled` event.</span></span> <span data-ttu-id="40e8f-271">Sonuç olarak, iç içe geçmiş ana sayfamızı aynı ContentPlaceHolder ve Genel üyeler sağlamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-271">Consequently, our nested master page must provide the same ContentPlaceHolders and public members.</span></span>
- <span data-ttu-id="40e8f-272">Önceki öğreticide geliştirdik `BasePage` dinamik olarak ayarlamak için sınıf `Page` nesnenin `MasterPageFile` özelliği temel bir oturum değişkeni üzerinde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-272">In the preceding tutorial we enhanced the `BasePage` class to dynamically set the `Page` object's `MasterPageFile` property based on a Session variable.</span></span> <span data-ttu-id="40e8f-273">Nasıl için dinamik ana sayfalar iç içe geçmiş ana sayfalar kullanırken destekliyoruz?</span><span class="sxs-lookup"><span data-stu-id="40e8f-273">How to we support dynamic master pages when using nested master pages?</span></span>

<span data-ttu-id="40e8f-274">Bu iki aşama, iç içe geçmiş ana sayfa oluşturma ve mevcut bizim içerik sayfalarından kullanılmakta belirir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-274">These two challenges will surface as we build the nested master page and use it from our existing content pages.</span></span> <span data-ttu-id="40e8f-275">Biz araştırmak ve bu sorunları ortaya çıktıkları anda surmount.</span><span class="sxs-lookup"><span data-stu-id="40e8f-275">We'll investigate and surmount these issues as they arise.</span></span>

## <a name="step-4-creating-the-nested-master-page"></a><span data-ttu-id="40e8f-276">4. Adım: İç içe geçmiş ana sayfa oluşturma</span><span class="sxs-lookup"><span data-stu-id="40e8f-276">Step 4: Creating the Nested Master Page</span></span>

<span data-ttu-id="40e8f-277">Bizim ilk görev yönetim bölümündeki sayfaları tarafından kullanılmak üzere iç içe geçmiş ana sayfa oluşturmaktır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-277">Our first task is to create the nested master page to be used by the pages in the Administration section.</span></span> <span data-ttu-id="40e8f-278">Adım 2'de yeni bir ekleme ana sayfa iç içe olduğunda gördüğümüz gibi iç içe geçmiş ana sayfa üst ana sayfasını belirtmek ihtiyacımız var.</span><span class="sxs-lookup"><span data-stu-id="40e8f-278">As we saw in Step 2, when adding a new nested master page we need to specify the nested master page's parent master page.</span></span> <span data-ttu-id="40e8f-279">Ancak sahip olduğumuz en üst düzey iki ana sayfa: `Site.master` ve `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-279">But we have two top-level master pages: `Site.master` and `Alternate.master`.</span></span> <span data-ttu-id="40e8f-280">Oluşturduğumuz geri çağırma `Alternate.master` önceki öğreticide ve belirleyen kod yazdınız `BasePage` ayarlama sayfası nesnenin sınıf `MasterPageFile` ya da çalışma zamanında özellik `Site.master` veya `Alternate.master` değerine göre `MyMasterPage` Oturum değişkeni.</span><span class="sxs-lookup"><span data-stu-id="40e8f-280">Recall that we created `Alternate.master` in the preceding tutorial and wrote code in the `BasePage` class that set the Page object's `MasterPageFile` property at runtime to either `Site.master` or `Alternate.master` depending on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="40e8f-281">Uygun üst düzey ana sayfa kullanmasını sağlayacak şekilde iç içe geçmiş ana sayfamızı nasıl yapılandırıyoruz?</span><span class="sxs-lookup"><span data-stu-id="40e8f-281">How do we configure our nested master page so that it uses the appropriate top-level master page?</span></span> <span data-ttu-id="40e8f-282">İki seçenek sunuyoruz:</span><span class="sxs-lookup"><span data-stu-id="40e8f-282">We have two options:</span></span>

- <span data-ttu-id="40e8f-283">İki iç içe geçmiş ana sayfalar oluşturma `AdminNestedSite.master` ve `AdminNestedAlternate.master`ve bunları üst düzey ana sayfalar için bağlama `Site.master` ve `Alternate.master`sırasıyla.</span><span class="sxs-lookup"><span data-stu-id="40e8f-283">Create two nested master pages, `AdminNestedSite.master` and `AdminNestedAlternate.master`, and bind them to the top-level master pages `Site.master` and `Alternate.master`, respectively.</span></span> <span data-ttu-id="40e8f-284">İçinde `BasePage`, ardından ayarladığımız `Page` nesnenin `MasterPageFile` uygun iç içe geçmiş ana sayfa için.</span><span class="sxs-lookup"><span data-stu-id="40e8f-284">In `BasePage`, then, we'd set the `Page` object's `MasterPageFile` to the appropriate nested master page.</span></span>
- <span data-ttu-id="40e8f-285">Tek bir iç içe geçmiş ana sayfa oluşturursanız ve içerik sayfaları söz konusu ana sayfa kullanın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-285">Create a single nested master page and have the content pages use this particular master page.</span></span> <span data-ttu-id="40e8f-286">Ardından, çalışma zamanında, iç içe geçmiş ana sayfa ayarlamak ihtiyacımız `MasterPageFile` zamanında uygun üst düzey ana sayfa özelliği.</span><span class="sxs-lookup"><span data-stu-id="40e8f-286">Then, at runtime, we'd need to set the nested master page's `MasterPageFile` property to the appropriate top-level master page at runtime.</span></span> <span data-ttu-id="40e8f-287">(, Artık anladığınızda, ana sayfalar de sahip bir `MasterPageFile` özellik.)</span><span class="sxs-lookup"><span data-stu-id="40e8f-287">(As you might have figured out by now, master pages also have a `MasterPageFile` property.)</span></span>

<span data-ttu-id="40e8f-288">İkinci seçenek kullanalım.</span><span class="sxs-lookup"><span data-stu-id="40e8f-288">Let's use the second option.</span></span> <span data-ttu-id="40e8f-289">Tek bir iç içe geçmiş ana sayfa dosyası içinde oluşturma `~/Admin` adlı klasöre `AdminNested.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-289">Create a single nested master page file in the `~/Admin` folder named `AdminNested.master`.</span></span> <span data-ttu-id="40e8f-290">Çünkü her ikisi de `Site.master` ve `Alternate.master` aynı ContentPlaceHolder denetimler kümesini varsa, size bağlamak için önerilse de hangi ana sayfayı, kendisine bağladığınız farketmez `Site.master` tutarlılık'ın çok için.</span><span class="sxs-lookup"><span data-stu-id="40e8f-290">Because both `Site.master` and `Alternate.master` have the same set of ContentPlaceHolder controls, it doesn't matter what master page you bind it to, although I encourage you to bind it to `Site.master` for consistency's sake.</span></span>

<span data-ttu-id="40e8f-291">[![İç içe geçmiş ana sayfa ~/Admin klasöre ekleyin.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-291">[![Add a Nested Master Page to the ~/Admin Folder.](nested-master-pages-cs/_static/image26.png)](nested-master-pages-cs/_static/image25.png)</span></span>

<span data-ttu-id="40e8f-292">**Şekil 09**: Bir iç içe geçmiş ana sayfasına ekleme `~/Admin` klasör.</span><span class="sxs-lookup"><span data-stu-id="40e8f-292">**Figure 09**: Add a Nested Master Page to the `~/Admin` Folder.</span></span> <span data-ttu-id="40e8f-293">([Tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-293">([Click to view full-size image](nested-master-pages-cs/_static/image27.png))</span></span>

<span data-ttu-id="40e8f-294">İç içe geçmiş ana sayfa dört ContentPlaceHolder denetimi ile ana sayfa bağlı olduğundan, Visual Studio dört ekler yeni iç içe geçmiş ana sayfa dosyanın ilk biçimlendirme denetimlerini içerik.</span><span class="sxs-lookup"><span data-stu-id="40e8f-294">Because the nested master page is bound to a master page with four ContentPlaceHolder controls, Visual Studio adds four Content controls to the new nested master page file's initial markup.</span></span> <span data-ttu-id="40e8f-295">2 ve 3 ContentPlaceHolder denetiminin her içerik denetimi ekleyin, üst düzey ana sayfanın ContentPlaceHolder denetimi aynı adı vererek adımlarda yaptığımız gibi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-295">Like we did in Steps 2 and 3, add a ContentPlaceHolder control in each Content control, giving it the same name as the top-level master page's ContentPlaceHolder control.</span></span> <span data-ttu-id="40e8f-296">Ayrıca karşılık gelen içerik denetimi aşağıdaki işaretlemeyi ekleyin `MainContent` ContentPlaceHolder:</span><span class="sxs-lookup"><span data-stu-id="40e8f-296">Also add the following markup to the Content control that corresponds to the `MainContent` ContentPlaceHolder:</span></span>

[!code-html[Main](nested-master-pages-cs/samples/sample8.html)]

<span data-ttu-id="40e8f-297">Ardından, tanımlama `instructions` CSS sınıfı içinde `Styles.css` ve `AlternateStyles.css` CSS dosyaları.</span><span class="sxs-lookup"><span data-stu-id="40e8f-297">Next, define the `instructions` CSS class in the `Styles.css` and `AlternateStyles.css` CSS files.</span></span> <span data-ttu-id="40e8f-298">Aşağıdaki CSS kurallarını ile biçimlendirilmiş HTML öğeleri neden `instructions` açık sarı arka plan rengi siyah, düz bir kenarlık ile görüntülenecek sınıf:</span><span class="sxs-lookup"><span data-stu-id="40e8f-298">The following CSS rules cause HTML elements styled with the `instructions` class to be displayed with a light yellow background color and a black, solid border:</span></span>

[!code-css[Main](nested-master-pages-cs/samples/sample9.css)]

<span data-ttu-id="40e8f-299">Bu işaretleme, iç içe geçmiş ana sayfaya eklendiğinden, yalnızca bu iç içe geçmiş ana sayfa (yani, yönetim bölümündeki sayfaları) kullanan bu sayfalarda görünür.</span><span class="sxs-lookup"><span data-stu-id="40e8f-299">Because this markup has been added to the nested master page, it will only appear in those pages that use this nested master page (namely, the pages in the Administration section).</span></span>

<span data-ttu-id="40e8f-300">İç içe geçmiş ana sayfanıza bu eklemeler yaptıktan sonra bildirim temelli biçimlendirme aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-300">After making these additions to your nested master page, its declarative markup should look similar to the following:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample10.aspx)]

<span data-ttu-id="40e8f-301">Her bir içerik denetimi ContentPlaceHolder denetimi olduğuna dikkat edin ContentPlaceHolder denetimleri `ID` özellikleri değerlerine karşılık gelen en üst düzey bir ana sayfa ContentPlaceHolder denetimlerinde olarak atanır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-301">Note that each Content control has a ContentPlaceHolder control and that the ContentPlaceHolder controls' `ID` properties are assigned the same values as the corresponding ContentPlaceHolder controls in the top-level master page.</span></span> <span data-ttu-id="40e8f-302">Yönetim bölümünde özel biçimlendirme Ayrıca, görünür `MainContent` ContentPlaceHolder.</span><span class="sxs-lookup"><span data-stu-id="40e8f-302">Moreover, the Administration section-specific markup appears in the `MainContent` ContentPlaceHolder.</span></span>

<span data-ttu-id="40e8f-303">Şekil 10 gösteren `AdminNested.master` Visual Studio'nun Tasarımcı görüntülendiğinde iç içe geçmiş ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-303">Figure 10 shows the `AdminNested.master` nested master page when viewed through Visual Studio's Designer.</span></span> <span data-ttu-id="40e8f-304">Üst kısmında sarı kutusundaki yönergeleri gördüğünüz `MainContent` içerik denetimi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-304">You can see the instructions in the yellow box at the top of the `MainContent` Content control.</span></span>

<span data-ttu-id="40e8f-305">[![İç içe geçmiş ana sayfa yönergeler için yönetici eklemek için üst düzey ana sayfa genişletir.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-305">[![The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.](nested-master-pages-cs/_static/image29.png)](nested-master-pages-cs/_static/image28.png)</span></span>

<span data-ttu-id="40e8f-306">**Şekil 10**: İç içe geçmiş ana sayfa yönergeler için yönetici eklemek için üst düzey ana sayfa genişletir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-306">**Figure 10**: The Nested Master Page Extends the Top-Level Master Page to Include Instructions for the Administrator.</span></span> <span data-ttu-id="40e8f-307">([Tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-307">([Click to view full-size image](nested-master-pages-cs/_static/image30.png))</span></span>

## <a name="step-5-updating-the-existing-content-pages-to-use-the-new-nested-master-page"></a><span data-ttu-id="40e8f-308">5. Adım: Yeni iç içe geçmiş ana sayfa kullanmak için mevcut içerik sayfalarını güncelleştirme</span><span class="sxs-lookup"><span data-stu-id="40e8f-308">Step 5: Updating the Existing Content Pages to Use the New Nested Master Page</span></span>

<span data-ttu-id="40e8f-309">İhtiyacımız bağlamak için yönetim bölümüne yeni bir içerik sayfası ekliyoruz herhangi bir zamanda `AdminNested.master` oluşturduğumuz ana sayfa.</span><span class="sxs-lookup"><span data-stu-id="40e8f-309">Anytime we add a new content page to the Administration section we need to bind it to the `AdminNested.master` master page we just created.</span></span> <span data-ttu-id="40e8f-310">Ancak sayfaları içerik mevcut hakkında neler?</span><span class="sxs-lookup"><span data-stu-id="40e8f-310">But what about the existing content pages?</span></span> <span data-ttu-id="40e8f-311">Sitedeki tüm içerik sayfalarının şu anda, türetilen `BasePage` programlı olarak çalışma zamanında ana sayfa içerik sayfasının ayarlar sınıfı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-311">Currently, all content pages in the site derive from the `BasePage` class, which programmatically sets the content page's master page at runtime.</span></span> <span data-ttu-id="40e8f-312">Bu yönetim bölümündeki içerik sayfaları için istediğimiz davranış değildir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-312">This is not the behavior we want for the content pages in the Administration section.</span></span> <span data-ttu-id="40e8f-313">Bunun yerine, her zaman kullanmak için bu içerik sayfaları istiyoruz `AdminNested.master` sayfası.</span><span class="sxs-lookup"><span data-stu-id="40e8f-313">Instead, we want these content pages to always use the `AdminNested.master` page.</span></span> <span data-ttu-id="40e8f-314">Bu, çalışma zamanında sağ üst düzey içerik sayfası seçmek için iç içe geçmiş ana sayfa sorumluluğu olacaktır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-314">It will be the responsibility of the nested master page to choose the right top-level content page at runtime.</span></span>

<span data-ttu-id="40e8f-315">Elde etmek için en iyi şekilde bu davranışı adlı yeni bir özel taban sayfası sınıfı oluşturmak için istenen `AdminBasePage` genişleten `BasePage` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-315">To best way to achieve this desired behavior is to create a new custom base page class named `AdminBasePage` that extends the `BasePage` class.</span></span> <span data-ttu-id="40e8f-316">`AdminBasePage` ardından kılabilirsiniz `SetMasterPageFile` ayarlayıp `Page` nesnenin `MasterPageFile` sabit kodlu değer "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="40e8f-316">`AdminBasePage` can then override the `SetMasterPageFile` and set the `Page` object's `MasterPageFile` to the hard-coded value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="40e8f-317">Bu şekilde, herhangi bir sayfa, türetilen `AdminBasePage` kullanacağı `AdminNested.master`öğesinden türetilen herhangi bir sayfa bilgileriyse `BasePage` olacaktır, `MasterPageFile` özelliğini ayarlamak için dinamik olarak ya da "~ / Site.master" veya "~ / Alternate.master" değerine göre `MyMasterPage` Oturum değişkeni.</span><span class="sxs-lookup"><span data-stu-id="40e8f-317">In this way, any page that derives from `AdminBasePage` will use `AdminNested.master`, whereas any page that derives from `BasePage` will have its `MasterPageFile` property set dynamically to either "~/Site.master" or "~/Alternate.master" based on the value of the `MyMasterPage` Session variable.</span></span>

<span data-ttu-id="40e8f-318">Başlamak için yeni bir sınıf dosyası ekleyerek `App_Code` adlı klasöre `AdminBasePage.cs`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-318">Start by adding a new class file to the `App_Code` folder named `AdminBasePage.cs`.</span></span> <span data-ttu-id="40e8f-319">Sahip `AdminBasePage` genişletmek `BasePage` ve daha sonra geçersiz `SetMasterPageFile` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-319">Have `AdminBasePage` extend `BasePage` and then override the `SetMasterPageFile` method.</span></span> <span data-ttu-id="40e8f-320">Bu yönteme atama `MasterPageFile` değeri "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="40e8f-320">In that method assign the `MasterPageFile` the value "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="40e8f-321">Sınıfınıza bu değişiklikleri yaptıktan sonra dosya aşağıdakine benzer görünmelidir:</span><span class="sxs-lookup"><span data-stu-id="40e8f-321">After making these changes your class file should look similar to the following:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample11.cs)]

<span data-ttu-id="40e8f-322">Artık mevcut içerik sayfaları bölümüne türetilen yönetim sağlamak ihtiyacımız `AdminBasePage` yerine `BasePage`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-322">We now need to have the existing content pages in the Administration section derive from `AdminBasePage` instead of `BasePage`.</span></span> <span data-ttu-id="40e8f-323">Her içerik sayfası için arka plan kod sınıfı dosyaya gidin `~/Admin` klasör bu değişiklik yapın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-323">Go to the code-behind class file for each content page in the `~/Admin` folder and make this change.</span></span> <span data-ttu-id="40e8f-324">Örneğin, `~/Admin/Default.aspx` arka plan kod sınıfı bildirimden değiştirirsiniz:</span><span class="sxs-lookup"><span data-stu-id="40e8f-324">For example, in `~/Admin/Default.aspx` you'd change the code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample12.cs)]

<span data-ttu-id="40e8f-325">Hedef:</span><span class="sxs-lookup"><span data-stu-id="40e8f-325">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample13.cs)]

<span data-ttu-id="40e8f-326">Şekil 11 gösterilmektedir nasıl en üst düzey bir ana sayfa (`Site.master` veya `Alternate.master`), iç içe geçmiş ana sayfa (`AdminNested.master`), ve yönetim bölümüne içerik sayfalarını birbirleriyle.</span><span class="sxs-lookup"><span data-stu-id="40e8f-326">Figure 11 depicts how the top-level master page (`Site.master` or `Alternate.master`), the nested master page (`AdminNested.master`), and the Administration section content pages relate to one another.</span></span>

<span data-ttu-id="40e8f-327">[![İç içe geçmiş ana sayfa içerik özel yönetim bölümündeki sayfaları tanımlar.](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-327">[![The Nested Master Page Defines Content Specific to the Pages in the Administration Section](nested-master-pages-cs/_static/image32.png)](nested-master-pages-cs/_static/image31.png)</span></span>

<span data-ttu-id="40e8f-328">**Şekil 11**: İç içe geçmiş ana sayfa tanımlar içerik belirli yönetim bölümündeki sayfaları ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-328">**Figure 11**: The Nested Master Page Defines Content Specific to the Pages in the Administration Section ([Click to view full-size image](nested-master-pages-cs/_static/image33.png))</span></span>

## <a name="step-6-mirroring-the-master-pages-public-methods-and-properties"></a><span data-ttu-id="40e8f-329">6. Adım: Yansıtma ana sayfanın genel yöntemleri ve özellikleri</span><span class="sxs-lookup"><span data-stu-id="40e8f-329">Step 6: Mirroring the Master Page's Public Methods and Properties</span></span>

<span data-ttu-id="40e8f-330">Sözcüğünün `~/Admin/AddProduct.aspx` ve `~/Admin/Products.aspx` sayfaları ana sayfayla program aracılığıyla etkileşim: `~/Admin/AddProduct.aspx` çağrıları ana sayfaya genel `RefreshRecentProductsGrid` yöntemi ve kümeleri kendi `GridMessageText` özelliği; `~/Admin/Products.aspx` için bir olay işleyicisi sahip `PricesDoubled` olay.</span><span class="sxs-lookup"><span data-stu-id="40e8f-330">Recall that the `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages interact programmatically with the master page: `~/Admin/AddProduct.aspx` calls the master page's public `RefreshRecentProductsGrid` method and sets its `GridMessageText` property; `~/Admin/Products.aspx` has an event handler for the `PricesDoubled` event.</span></span> <span data-ttu-id="40e8f-331">Önceki öğreticide oluşturduğumuz bir soyut `BaseMasterPage` bu genel üyeleri tanımlanmış sınıf.</span><span class="sxs-lookup"><span data-stu-id="40e8f-331">In the preceding tutorial we created an abstract `BaseMasterPage` class that defined these public members.</span></span>

<span data-ttu-id="40e8f-332">`~/Admin/AddProduct.aspx` Ve `~/Admin/Products.aspx` sayfaları varsayılır, ana sayfa öğesinden türetilen `BaseMasterPage` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-332">The `~/Admin/AddProduct.aspx` and `~/Admin/Products.aspx` pages assume that their master page derives from the `BaseMasterPage` class.</span></span> <span data-ttu-id="40e8f-333">`AdminNested.master` Sayfasında, ancak şu anda genişletir `System.Web.UI.MasterPage` sınıfı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-333">The `AdminNested.master` page, however, currently extends the `System.Web.UI.MasterPage` class.</span></span> <span data-ttu-id="40e8f-334">Ziyaret edildiğinde bir sonucu olarak `~/Admin/Products.aspx` bir `InvalidCastException` iletinin oluşturulur: "Nesne türünün yayımlanamıyor ' ASP.admin\_adminnested\_ana ' 'BaseMasterPage' türüne."</span><span class="sxs-lookup"><span data-stu-id="40e8f-334">As a result, when visiting `~/Admin/Products.aspx` an `InvalidCastException` is thrown with the message: "Unable to cast object of type 'ASP.admin\_adminnested\_master' to type 'BaseMasterPage'."</span></span>

<span data-ttu-id="40e8f-335">Bunu sağlamak için ihtiyacımız düzeltmek için `AdminNested.master` arka plan kod sınıfı genişletmeniz `BaseMasterPage`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-335">To fix this we need to have the `AdminNested.master` code-behind class extend `BaseMasterPage`.</span></span> <span data-ttu-id="40e8f-336">İç içe geçmiş ana sayfa arka plan kod sınıfı bildirimden güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="40e8f-336">Update the nested master page's code-behind class declaration from:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample14.cs)]

<span data-ttu-id="40e8f-337">Hedef:</span><span class="sxs-lookup"><span data-stu-id="40e8f-337">To:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample15.cs)]

<span data-ttu-id="40e8f-338">Biz henüz tamamlanmadı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-338">We're not done yet.</span></span> <span data-ttu-id="40e8f-339">Çünkü `BaseMasterPage` sınıfı soyut, geçersiz kılmak ihtiyacımız `abstract` üyeleri `RefreshRecentProductsGrid` ve `GridMessageText`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-339">Because the `BaseMasterPage` class is abstract, we need to override the `abstract` members, `RefreshRecentProductsGrid` and `GridMessageText`.</span></span> <span data-ttu-id="40e8f-340">Bu üyeleri tarafından en üst düzey ana sayfalar, kullanıcı arabirimlerini güncelleştirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-340">These members are used by the top-level master pages to update their user interfaces.</span></span> <span data-ttu-id="40e8f-341">(Aslında, yalnızca `Site.master` ana sayfayı hem genişletme olduğundan bu yöntemleri en üst düzey her iki ana sayfalar uygulamak rağmen bu yöntemleri kullanan `BaseMasterPage`.)</span><span class="sxs-lookup"><span data-stu-id="40e8f-341">(Actually, only the `Site.master` master page uses these methods, although both top-level master pages implement these methods, since both extend `BaseMasterPage`.)</span></span>

<span data-ttu-id="40e8f-342">Bu üyeleri uygulamak gerekirken `AdminNested.master`, tüm bu uygulamalar gereken yapmak için yalnızca aynı üye iç içe geçmiş ana sayfa tarafından kullanılan en üst düzey ana sayfa çağırın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-342">While we need to implement these members in `AdminNested.master`, all these implementations need to do is simply call the same member in the top-level master page used by the nested master page.</span></span> <span data-ttu-id="40e8f-343">Örneğin, bir içerik sayfasının yönetim bölümündeki çağırdığında iç içe geçmiş ana sayfa `RefreshRecentProductsGrid` yöntemi, tüm iç içe geçmiş ana sayfa ihtiyaçlarınızın yapmak için buna karşılık, çağrı `Site.master` veya `Alternate.master`'s `RefreshRecentProductsGrid` yöntemi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-343">For instance, when a content page in the Administration section calls the nested master page's `RefreshRecentProductsGrid` method, all the nested master page needs to do is, in turn, call `Site.master` or `Alternate.master`'s `RefreshRecentProductsGrid` method.</span></span>

<span data-ttu-id="40e8f-344">Bunu başarmak için aşağıdakileri ekleyerek başlangıç `@MasterType` üstüne yönerge `AdminNested.master`:</span><span class="sxs-lookup"><span data-stu-id="40e8f-344">To achieve this, start by adding the following `@MasterType` directive to the top of `AdminNested.master`:</span></span>

[!code-aspx[Main](nested-master-pages-cs/samples/sample16.aspx)]

<span data-ttu-id="40e8f-345">Bu geri çağırma `@MasterType` yönergesi adlı arka plan kod sınıfı için kesin türü belirtilmiş bir özellik ekler `Master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-345">Recall that the `@MasterType` directive adds a strongly-typed property to the code-behind class named `Master`.</span></span> <span data-ttu-id="40e8f-346">Daha sonra geçersiz `RefreshRecentProductsGrid` ve `GridMessageText` üyeleri ve çağrı yalnızca temsilci `Master`yöntemi ilgili:</span><span class="sxs-lookup"><span data-stu-id="40e8f-346">Then override the `RefreshRecentProductsGrid` and `GridMessageText` members and simply delegate the call to the `Master`'s corresponding method:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample17.cs)]

<span data-ttu-id="40e8f-347">Bu kod bir yerde Yönetim bölümüne içerik sayfalarını ziyaret edin ve olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-347">With this code in place, you should be able to visit and use the content pages in the Administration section.</span></span> <span data-ttu-id="40e8f-348">Şekil 12 gösterir `~/Admin/Products.aspx` sayfasında bir tarayıcıdan görüntülendiğinde.</span><span class="sxs-lookup"><span data-stu-id="40e8f-348">Figure 12 shows the `~/Admin/Products.aspx` page when viewed through a browser.</span></span> <span data-ttu-id="40e8f-349">Gördüğünüz gibi iç içe geçmiş ana sayfasında tanımlanan yönetim yönergeleri kutusu, sayfa içerir.</span><span class="sxs-lookup"><span data-stu-id="40e8f-349">As you can see, the page includes the Administration Instructions box, which is defined in the nested master page.</span></span>

<span data-ttu-id="40e8f-350">[![Yönetim bölümündeki içerik sayfalarında her sayfanın üst kısmındaki yönergeleri içerir.](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-350">[![The Content Pages in the Administration Section Include Instructions at the Top of Each Page](nested-master-pages-cs/_static/image35.png)](nested-master-pages-cs/_static/image34.png)</span></span>

<span data-ttu-id="40e8f-351">**Şekil 12**: İçerik sayfaları üst her sayfasının Yönetim bölümüne dahil yönergeleri ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image36.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-351">**Figure 12**: The Content Pages in the Administration Section Include Instructions at the Top of Each Page ([Click to view full-size image](nested-master-pages-cs/_static/image36.png))</span></span>

## <a name="step-7-using-the-appropriate-top-level-master-page-at-runtime"></a><span data-ttu-id="40e8f-352">7. Adım: Çalışma zamanında uygun bir üst düzey ana sayfasını kullanarak</span><span class="sxs-lookup"><span data-stu-id="40e8f-352">Step 7: Using the Appropriate Top-Level Master Page at Runtime</span></span>

<span data-ttu-id="40e8f-353">Tüm içerik yönetim bölümündeki sayfalarında tam işlevsel olsa da, bunların tümü aynı üst düzey ana sayfayı kullanın ve kullanıcı tarafından seçilen ana sayfasındaki Yoksay `ChooseMasterPage.aspx`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-353">While all the content pages in the Administration section are fully functional, they all use the same top-level master page and ignore the master page selected by the user at `ChooseMasterPage.aspx`.</span></span> <span data-ttu-id="40e8f-354">İç içe geçmiş ana sayfa vardır. Bunun nedeni, bu, davranıştır kendi `MasterPageFile` statik özellik kümesine `Site.master` içinde kendi `<%@ Master %>` yönergesi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-354">This behavior is due to the fact that the nested master page has its `MasterPageFile` property statically set to `Site.master` in its `<%@ Master %>` directive.</span></span>

<span data-ttu-id="40e8f-355">İhtiyacımız ayarlamak için son kullanıcı tarafından seçilen en üst düzey ana sayfa kullanılacak `AdminNested.master`'s `MasterPageFile` özellik değeri `MyMasterPage` oturum değişkeni.</span><span class="sxs-lookup"><span data-stu-id="40e8f-355">To use the top-level master page selected by the end user we need to set the `AdminNested.master`'s `MasterPageFile` property to the value in the `MyMasterPage` Session variable.</span></span> <span data-ttu-id="40e8f-356">İçerik sayfaları ayarladığımız çünkü `MasterPageFile` özelliklerinde `BasePage`, iç içe geçmiş ana sayfa ayarlarsınız düşünebilirsiniz `MasterPageFile` özelliğinde `BaseMasterPage` veya `AdminNested.master`ait arka plan kod sınıfı.</span><span class="sxs-lookup"><span data-stu-id="40e8f-356">Because we set the content pages' `MasterPageFile` properties in `BasePage`, you may think that we would set the nested master page's `MasterPageFile` property in `BaseMasterPage` or in the `AdminNested.master`'s code-behind class.</span></span> <span data-ttu-id="40e8f-357">Ayarladığınız gerektiği için bu, ancak çalışmaz `MasterPageFile` sonuna kadar PreInit aşama özelliği.</span><span class="sxs-lookup"><span data-stu-id="40e8f-357">This won't work, however, because we need to have set the `MasterPageFile` property by the end of the PreInit stage.</span></span> <span data-ttu-id="40e8f-358">Biz program aracılığıyla bir ana sayfa sayfa yaşam döngüsüne dokunabilir en erken zamanı (PreInit aşama sonra oluşan) Init aşamadır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-358">The earliest time that we can programmatically tap into the page lifecycle from a master page is the Init stage (which occurs after the PreInit stage).</span></span>

<span data-ttu-id="40e8f-359">Bu nedenle, iç içe geçmiş ana sayfa ayarlamak ihtiyacımız `MasterPageFile` içerik sayfalarından özelliği.</span><span class="sxs-lookup"><span data-stu-id="40e8f-359">Therefore, we need to set the nested master page's `MasterPageFile` property from the content pages.</span></span> <span data-ttu-id="40e8f-360">Yalnızca içerik kullanan sayfaları `AdminNested.master` ana sayfa türetilen `AdminBasePage`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-360">The only content pages that use the `AdminNested.master` master page derive from `AdminBasePage`.</span></span> <span data-ttu-id="40e8f-361">Bu nedenle, bu mantığı buraya koyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-361">Therefore, we can put this logic there.</span></span> <span data-ttu-id="40e8f-362">Adım 5'te biz geçersiz kılınmış `SetMasterPageFile` ayarlama yöntemi `Page` nesnenin `MasterPageFile` özelliğini "~ / Admin/AdminNested.master".</span><span class="sxs-lookup"><span data-stu-id="40e8f-362">In Step 5 we overrode the `SetMasterPageFile` method, setting the `Page` object's `MasterPageFile` property to "~/Admin/AdminNested.master".</span></span> <span data-ttu-id="40e8f-363">Güncelleştirme `SetMasterPageFile` ana sayfa da ayarlanacak `MasterPageFile` özelliğini oturumunda depolanmış sonucu:</span><span class="sxs-lookup"><span data-stu-id="40e8f-363">Update `SetMasterPageFile` to also set the master page's `MasterPageFile` property to the result stored in Session:</span></span>

[!code-csharp[Main](nested-master-pages-cs/samples/sample18.cs)]

<span data-ttu-id="40e8f-364">`GetMasterPageFileFromSession` Ekledik yöntemi `BasePage` sınıfı önceki bir öğreticide, uygun ana sayfa dosya yolu tabanlı oturum değişken değerini döndürür.</span><span class="sxs-lookup"><span data-stu-id="40e8f-364">The `GetMasterPageFileFromSession` method, which we added to the `BasePage` class in the preceding tutorial, returns the appropriate master page file path based on the Session variable value.</span></span>

<span data-ttu-id="40e8f-365">Yerinde bu değişiklik, kullanıcının ana sayfa seçimini Yönetim bölümüne taşır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-365">With this change in place, the user's master page selection carries over to the Administration section.</span></span> <span data-ttu-id="40e8f-366">Şekil 13 gösteren Şekil 12 olarak, ancak kullanıcının ana sayfa seçime değiştirildikten sonra aynı sayfada `Alternate.master`.</span><span class="sxs-lookup"><span data-stu-id="40e8f-366">Figure 13 shows the same page as Figure 12, but after the user has changed their master page selection to `Alternate.master`.</span></span>

<span data-ttu-id="40e8f-367">[![İç içe geçmiş Yönetim sayfası, kullanıcı tarafından seçilen en üst düzey ana sayfa kullanır.](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span><span class="sxs-lookup"><span data-stu-id="40e8f-367">[![The Nested Administration Page Uses the Top-Level Master Page Selected by the User](nested-master-pages-cs/_static/image38.png)](nested-master-pages-cs/_static/image37.png)</span></span>

<span data-ttu-id="40e8f-368">**Şekil 13**: Üst düzey ana sayfası seçilen kullanıcı tarafından iç içe Yönetim sayfasını kullanır ([tam boyutlu görüntüyü görmek için tıklatın](nested-master-pages-cs/_static/image39.png))</span><span class="sxs-lookup"><span data-stu-id="40e8f-368">**Figure 13**: The Nested Administration Page Uses the Top-Level Master Page Selected by the User ([Click to view full-size image](nested-master-pages-cs/_static/image39.png))</span></span>

## <a name="summary"></a><span data-ttu-id="40e8f-369">Özet</span><span class="sxs-lookup"><span data-stu-id="40e8f-369">Summary</span></span>

<span data-ttu-id="40e8f-370">LIKE kadar nasıl içerik sayfalarını bir ana sayfaya bağlayabilir, bu iç içe geçmiş oluşturmak mümkündür alt ana sayfa sahip ana sayfa üst ana sayfaya bağlayın.</span><span class="sxs-lookup"><span data-stu-id="40e8f-370">Much like how content pages can bind to a master page, it is possible to create nested master pages by having a child master page bind to a parent master page.</span></span> <span data-ttu-id="40e8f-371">Alt ana sayfa içerik denetimleri her üst öğesinin ContentPlaceHolder tanımlayabilirsiniz; kendi ContentPlaceHolder denetimler (diğer biçimlendirme için olduğu gibi)'nı, ardından bu içerik denetimlerine ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="40e8f-371">The child master page may define Content controls for each of its parent's ContentPlaceHolders; it can then add its own ContentPlaceHolder controls (as well as other markup) to these Content controls.</span></span> <span data-ttu-id="40e8f-372">İç içe geçmiş ana sayfalar, burada tüm sayfaları ıpam'da bir görünüm paylaşma henüz site belirli bölümlerini benzersiz özelleştirmelere ihtiyaç büyük web uygulamalarında oldukça kullanışlıdır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-372">Nested master pages are quite useful in large web applications where all pages share an overarching look and feel, yet certain sections of the site require unique customizations.</span></span>

<span data-ttu-id="40e8f-373">Mutlu programlama!</span><span class="sxs-lookup"><span data-stu-id="40e8f-373">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="40e8f-374">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="40e8f-374">Further Reading</span></span>

<span data-ttu-id="40e8f-375">Bu öğreticide ele alınan konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="40e8f-375">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="40e8f-376">İç içe geçmiş ASP.NET ana sayfaları</span><span class="sxs-lookup"><span data-stu-id="40e8f-376">Nested ASP.NET Master Pages</span></span>](https://msdn.microsoft.com/library/x2b3ktt7.aspx)
- [<span data-ttu-id="40e8f-377">İç içe geçmiş ana sayfalar ve VS 2005 tasarım zamanı için ipuçları</span><span class="sxs-lookup"><span data-stu-id="40e8f-377">Tips for Nested Master Pages and VS 2005 Design-Time</span></span>](https://weblogs.asp.net/scottgu/archive/2005/11/11/430382.aspx)
- [<span data-ttu-id="40e8f-378">Ana sayfa desteği VS 2008 iç içe geçmiş</span><span class="sxs-lookup"><span data-stu-id="40e8f-378">VS 2008 Nested Master Page Support</span></span>](https://weblogs.asp.net/scottgu/archive/2007/07/09/vs-2008-nested-master-page-support.aspx)

### <a name="about-the-author"></a><span data-ttu-id="40e8f-379">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="40e8f-379">About the Author</span></span>

<span data-ttu-id="40e8f-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), yazar 1998'de bu yana birden çok ASP/ASP.NET books ve poshbeauty.com sitesinin 4GuysFromRolla.com, Microsoft Web teknolojileri ile çalışmaktadır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-380">[Scott Mitchell](http://www.4guysfromrolla.com/ScottMitchell.shtml), author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="40e8f-381">Scott, bağımsız Danışman, Eğitimci ve yazıcı çalışır.</span><span class="sxs-lookup"><span data-stu-id="40e8f-381">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="40e8f-382">En son nitelemiştir olan [ *Unleashed'i öğretin kendiniz ASP.NET 3.5 24 saat içindeki*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span><span class="sxs-lookup"><span data-stu-id="40e8f-382">His latest book is [*Sams Teach Yourself ASP.NET 3.5 in 24 Hours*](https://www.amazon.com/exec/obidos/ASIN/0672329972/4guysfromrollaco).</span></span> <span data-ttu-id="40e8f-383">Scott, konumunda ulaşılabilir [ mitchell@4GuysFromRolla.com ](mailto:mitchell@4GuysFromRolla.com) veya kendi blog'da aracılığıyla [ http://ScottOnWriting.NET ](http://scottonwriting.net/).</span><span class="sxs-lookup"><span data-stu-id="40e8f-383">Scott can be reached at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="40e8f-384">Özel teşekkürler</span><span class="sxs-lookup"><span data-stu-id="40e8f-384">Special Thanks To</span></span>

<span data-ttu-id="40e8f-385">Bu öğretici serisinde, birçok yararlı Gözden Geçiren tarafından gözden geçirildi.</span><span class="sxs-lookup"><span data-stu-id="40e8f-385">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="40e8f-386">Yaklaşan My MSDN makaleleri gözden geçirme ilgileniyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="40e8f-386">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="40e8f-387">Bu durumda, bir satır bana bırak [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span><span class="sxs-lookup"><span data-stu-id="40e8f-387">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4GuysFromRolla.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="40e8f-388">[Önceki](specifying-the-master-page-programmatically-cs.md)
> [İleri](creating-a-site-wide-layout-using-master-pages-vb.md)</span><span class="sxs-lookup"><span data-stu-id="40e8f-388">[Previous](specifying-the-master-page-programmatically-cs.md)
[Next](creating-a-site-wide-layout-using-master-pages-vb.md)</span></span>
