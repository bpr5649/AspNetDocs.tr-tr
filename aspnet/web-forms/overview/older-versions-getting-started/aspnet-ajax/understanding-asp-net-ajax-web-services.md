---
uid: web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-web-services
title: ASP.NET AJAX Web hizmetlerini anlama | Microsoft Docs
author: scottcate
description: Web Hizmetleri, dağıtılmış sistemler arasında veri değişimi için platformlar arası bir çözüm sağlayan .NET framework'ün ayrılmaz bir parçasıdır. Ancak Web...
ms.author: riande
ms.date: 03/28/2008
ms.assetid: 3332d6e7-e2e1-4144-b805-e71d51e7e415
msc.legacyurl: /web-forms/overview/older-versions-getting-started/aspnet-ajax/understanding-asp-net-ajax-web-services
msc.type: authoredcontent
ms.openlocfilehash: e576e11d63f940f1683ed26d217ff255a31b007c
ms.sourcegitcommit: 0f1119340e4464720cfd16d0ff15764746ea1fea
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 04/09/2019
ms.locfileid: "59388419"
---
# <a name="understanding-aspnet-ajax-web-services"></a><span data-ttu-id="b99d8-104">ASP.NET AJAX Web Hizmetlerini Anlama</span><span class="sxs-lookup"><span data-stu-id="b99d8-104">Understanding ASP.NET AJAX Web Services</span></span>

<span data-ttu-id="b99d8-105">tarafından [Scott Cate](https://github.com/scottcate)</span><span class="sxs-lookup"><span data-stu-id="b99d8-105">by [Scott Cate](https://github.com/scottcate)</span></span>

[<span data-ttu-id="b99d8-106">PDF'yi indirin</span><span class="sxs-lookup"><span data-stu-id="b99d8-106">Download PDF</span></span>](http://download.microsoft.com/download/C/1/9/C19A3451-1D14-477C-B703-54EF22E197EE/AJAX_tutorial05_Web_Services_with_MS_Ajax_cs.pdf)

> <span data-ttu-id="b99d8-107">Web Hizmetleri, dağıtılmış sistemler arasında veri değişimi için platformlar arası bir çözüm sağlayan .NET framework'ün ayrılmaz bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-107">Web Services are an integral part of the .NET framework that provide a cross-platform solution for exchanging data between distributed systems.</span></span> <span data-ttu-id="b99d8-108">Web Hizmetleri, normalde farklı işletim sistemleri, nesne modelleri ve veri göndermek ve almak için programlama dilleri izin vermek için kullanılsa dinamik olarak bir ASP.NET AJAX sayfasına veri ekleme ya da veri sayfadan bir arka uç sistemine göndermek için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-108">Although Web Services are normally used to allow different operating systems, object models and programming languages to send and receive data, they can also be used to dynamically inject data into an ASP.NET AJAX page or send data from a page to a back-end system.</span></span> <span data-ttu-id="b99d8-109">Tüm bu işlemleri geri gönderme başvurmadan yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-109">All of this can be done without resorting to postback operations.</span></span>


## <a name="calling-web-services-with-aspnet-ajax"></a><span data-ttu-id="b99d8-110">ASP.NET AJAX ile arama Web Hizmetleri</span><span class="sxs-lookup"><span data-stu-id="b99d8-110">Calling Web Services with ASP.NET AJAX</span></span>

<span data-ttu-id="b99d8-111">Dan Wahlin</span><span class="sxs-lookup"><span data-stu-id="b99d8-111">Dan Wahlin</span></span>

<span data-ttu-id="b99d8-112">Web Hizmetleri, dağıtılmış sistemler arasında veri değişimi için platformlar arası bir çözüm sağlayan .NET framework'ün ayrılmaz bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-112">Web Services are an integral part of the .NET framework that provide a cross-platform solution for exchanging data between distributed systems.</span></span> <span data-ttu-id="b99d8-113">Web Hizmetleri, normalde farklı işletim sistemleri, nesne modelleri ve veri göndermek ve almak için programlama dilleri izin vermek için kullanılsa dinamik olarak bir ASP.NET AJAX sayfasına veri ekleme ya da veri sayfadan bir arka uç sistemine göndermek için de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-113">Although Web Services are normally used to allow different operating systems, object models and programming languages to send and receive data, they can also be used to dynamically inject data into an ASP.NET AJAX page or send data from a page to a back-end system.</span></span> <span data-ttu-id="b99d8-114">Tüm bu işlemleri geri gönderme başvurmadan yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-114">All of this can be done without resorting to postback operations.</span></span>

<span data-ttu-id="b99d8-115">ASP.NET AJAX UpdatePanel denetimine AJAX için basit bir yol sağlarken herhangi bir ASP.NET sayfasında etkinleştirmek için dinamik olarak UpdatePanel kullanmadan sunucusundaki veri erişim gerektiğinde zamanlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-115">While the ASP.NET AJAX UpdatePanel control provides a simple way to AJAX enable any ASP.NET page, there may be times when you need to dynamically access data on the server without using an UpdatePanel.</span></span> <span data-ttu-id="b99d8-116">Bu makalede, bu oluşturarak ve sayfalar arasında ASP.NET AJAX Web hizmetlerini kullanma yerine getirmeyi görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-116">In this article you'll see how to accomplish this by creating and consuming Web Services within ASP.NET AJAX pages.</span></span>

<span data-ttu-id="b99d8-117">Bu makalede, ASP.NET AJAX Araç Seti AutoCompleteExtender adlı bir Web hizmeti etkinleştirildi denetiminde yanı sıra çekirdek ASP.NET AJAX uzantılarını kullanılabilen işlevler üzerinde odaklanır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-117">This article will focus on functionality available in the core ASP.NET AJAX Extensions as well as a Web Service enabled control in the ASP.NET AJAX Toolkit called the AutoCompleteExtender.</span></span> <span data-ttu-id="b99d8-118">Kapsanan konular şunlardır: AJAX etkinleştirilmiş Web hizmetlerini tanımlama, istemci proxy'leri oluşturma ve JavaScript ile Web hizmetlerini çağırma.</span><span class="sxs-lookup"><span data-stu-id="b99d8-118">Topics covered include defining AJAX-enabled Web Services, creating client proxies and calling Web Services with JavaScript.</span></span> <span data-ttu-id="b99d8-119">Ayrıca, nasıl ASP.NET sayfası yöntemlerini doğrudan Web hizmeti çağrıları yapılabilir görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-119">You'll also see how Web Service calls can be made directly to ASP.NET page methods.</span></span>

## <a name="web-services-configuration"></a><span data-ttu-id="b99d8-120">Web Hizmetleri Yapılandırması</span><span class="sxs-lookup"><span data-stu-id="b99d8-120">Web Services Configuration</span></span>

<span data-ttu-id="b99d8-121">Visual Studio 2008 ile yeni bir Web sitesi projesi oluşturulduğunda, Visual Studio'nun önceki sürümlerini kullanıcılara tanıdık yeni eklemeler bir dizi web.config dosyasına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-121">When a new Web Site project is created with Visual Studio 2008, the web.config file has a number of new additions that may be unfamiliar to users of previous versions of Visual Studio.</span></span> <span data-ttu-id="b99d8-122">Diğer gerekli HttpHandlers ve HttpModules tanımlama sırasında sayfalarında kullanılabilmesi için bu değişikliklerden bazıları "asp" ön eki için ASP.NET AJAX denetimleri eşleyin.</span><span class="sxs-lookup"><span data-stu-id="b99d8-122">Some of these modifications map the "asp" prefix to ASP.NET AJAX controls so they can be used in pages while others define required HttpHandlers and HttpModules.</span></span> <span data-ttu-id="b99d8-123">1 kod, yapılan değişiklikleri gösterir `<httpHandlers>` Web hizmeti çağrılarını etkiler web.config öğesinde.</span><span class="sxs-lookup"><span data-stu-id="b99d8-123">Listing 1 shows modifications made to the `<httpHandlers>` element in web.config that affects Web Service calls.</span></span> <span data-ttu-id="b99d8-124">HttpHandler .asmx çağrıları işlemek için kullanılan varsayılan kaldırılır ve System.Web.Extensions.dll derlemesinde bulunan ScriptHandlerFactory sınıfı ile değiştirilmiştir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-124">The default HttpHandler used to process .asmx calls is removed and replaced with a ScriptHandlerFactory class located in the System.Web.Extensions.dll assembly.</span></span> <span data-ttu-id="b99d8-125">System.Web.Extensions.dll tüm ASP.NET AJAX tarafından kullanılan çekirdek işlevselliğini içerir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-125">System.Web.Extensions.dll contains all of the core functionality used by ASP.NET AJAX.</span></span>

**<span data-ttu-id="b99d8-126">1 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-126">Listing 1.</span></span> <span data-ttu-id="b99d8-127">ASP.NET AJAX Web hizmeti işleyici yapılandırması</span><span class="sxs-lookup"><span data-stu-id="b99d8-127">ASP.NET AJAX Web Service Handler Configuration</span></span>**

[!code-xml[Main](understanding-asp-net-ajax-web-services/samples/sample1.xml)]

<span data-ttu-id="b99d8-128">Bu HttpHandler değiştirme, JavaScript Web hizmeti proxy kullanarak JavaScript nesne gösterimi (JSON) çağrıları .NET Web Hizmetleri için ASP.NET AJAX sayfalarından yapılmasına izin vermek üzere kurulur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-128">This HttpHandler replacement is made in order to allow JavaScript Object Notation (JSON) calls to be made from ASP.NET AJAX pages to .NET Web Services using a JavaScript Web Service proxy.</span></span> <span data-ttu-id="b99d8-129">ASP.NET AJAX, genellikle Web hizmetlerinizle ilişkili standart Basit Nesne Erişim Protokolü (SOAP) çağrısı aksine, Web Hizmetleri için JSON iletileri gönderir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-129">ASP.NET AJAX sends JSON messages to Web Services as opposed to the standard Simple Object Access Protocol (SOAP) calls typically associated with Web Services.</span></span> <span data-ttu-id="b99d8-130">Bu, daha küçük bir istek ve yanıt iletilerinde genel sonuçlanır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-130">This results in smaller request and response messages overall.</span></span> <span data-ttu-id="b99d8-131">ASP.NET AJAX JavaScript kitaplığı JSON nesneleriyle çalışmaya iyileştirilmiş olduğundan veri daha verimli istemci tarafı işleme için de sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-131">It also allows for more efficient client-side processing of data since the ASP.NET AJAX JavaScript library is optimized to work with JSON objects.</span></span> <span data-ttu-id="b99d8-132">2 ve 3 listeleme show örnekler JSON biçiminde seri hale getirilmiş Web hizmetine istek ve yanıt iletilerinin listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-132">Listing 2 and Listing 3 show examples of Web Service request and response messages serialized to JSON format.</span></span> <span data-ttu-id="b99d8-133">Bir müşteri nesneleri dizisi ve ilişkili özellikleri listeleme 3 yanıt iletisinde geçirir listeleme 2'de gösterilen istek iletisi "Belçika" değerine sahip bir ülke parametresi geçirir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-133">The request message shown in Listing 2 passes a country parameter with a value of "Belgium" while the response message in Listing 3 passes an array of Customer objects and their associated properties.</span></span>

**<span data-ttu-id="b99d8-134">2 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-134">Listing 2.</span></span> <span data-ttu-id="b99d8-135">JSON olarak serileştirilmiş web hizmeti istek iletisi</span><span class="sxs-lookup"><span data-stu-id="b99d8-135">Web Service Request Message Serialized to JSON</span></span>**

[!code-json[Main](understanding-asp-net-ajax-web-services/samples/sample2.json)]

> *> [!NOTE]
> <span data-ttu-id="b99d8-136">işlem adı web hizmetinin URL'sini bir parçası olarak tanımlanır; Ayrıca, istek iletilerinin her zaman JSON gönderilen değil.</span><span class="sxs-lookup"><span data-stu-id="b99d8-136">the operation name is defined as part of the URL to the web service; additionally, request messages are not always submitted via JSON.</span></span> <span data-ttu-id="b99d8-137">Web Hizmetleri aracılığıyla geçirilecek parametreler neden true olarak ayarlanmış UseHttpGet parametresiyle ScriptMethod öznitelik kullanabiliyor bir sorgu dizesi parametreleri.</span><span class="sxs-lookup"><span data-stu-id="b99d8-137">Web Services can utilize the ScriptMethod attribute with the UseHttpGet parameter set to true, which causes parameters to be passed via a the query string parameters.</span></span>*


**<span data-ttu-id="b99d8-138">3 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-138">Listing 3.</span></span> <span data-ttu-id="b99d8-139">JSON olarak serileştirilmiş web hizmeti yanıt iletisi</span><span class="sxs-lookup"><span data-stu-id="b99d8-139">Web Service Response Message Serialized to JSON</span></span>**

[!code-json[Main](understanding-asp-net-ajax-web-services/samples/sample3.json)]

<span data-ttu-id="b99d8-140">Sonraki bölümde Web hizmetleri hem basit hem de karmaşık türleri ile yanıt ve JSON istek iletilerini işleme yeteneğine oluşturulacağını öğreneceksiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-140">In the next section you'll see how to create Web Services capable of handling JSON request messages and responding with both simple and complex types.</span></span>

## <a name="creating-ajax-enabled-web-services"></a><span data-ttu-id="b99d8-141">AJAX içerebilen Web hizmetleri oluşturma</span><span class="sxs-lookup"><span data-stu-id="b99d8-141">Creating AJAX-Enabled Web Services</span></span>

<span data-ttu-id="b99d8-142">ASP.NET AJAX framework Web hizmetlerini çağırmak için çeşitli yollar sunar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-142">The ASP.NET AJAX framework provides several different ways to call Web Services.</span></span> <span data-ttu-id="b99d8-143">AutoCompleteExtender denetimi (ASP.NET AJAX Araç Seti kullanılabilir) veya JavaScript kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-143">You can use the AutoCompleteExtender control (available in the ASP.NET AJAX Toolkit) or JavaScript.</span></span> <span data-ttu-id="b99d8-144">Böylece istemci-komut dosyası kod tarafından çağrılabilir ancak, bir hizmeti çağırmadan önce AJAX-etkin olması.</span><span class="sxs-lookup"><span data-stu-id="b99d8-144">However, before calling a service you have to AJAX-enable it so that it can be called by client-script code.</span></span>

<span data-ttu-id="b99d8-145">ASP.NET Web Hizmetleri için yeni olsun veya olmasın, onu oluşturmak basit ve AJAX Etkinleştirme Hizmetleri bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-145">Whether or not you're new to ASP.NET Web Services, you'll find it straightforward to create and AJAX-enable services.</span></span> <span data-ttu-id="b99d8-146">ASP.NET Web Hizmetleri oluşturulmasını 2002'de, ilk sürümünden bu yana desteklenen .NET framework ve ASP.NET AJAX uzantılarını derlemeler .NET framework'ün varsayılan özellikler kümesi üzerinde ek AJAX işlevselliği sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-146">The .NET framework has supported the creation of ASP.NET Web Services since its initial release in 2002 and the ASP.NET AJAX Extensions provide additional AJAX functionality that builds upon the .NET framework's default set of features.</span></span> <span data-ttu-id="b99d8-147">Visual Studio .NET 2008 Beta 2 .asmx Web hizmeti dosyaları oluşturmak için yerleşik destek içerir ve otomatik olarak ilişkili kod sınıfları yanında System.Web.Services.WebService'in sınıfından türetilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-147">Visual Studio .NET 2008 Beta 2 has built-in support for creating .asmx Web Service files and automatically derives associated code beside classes from the System.Web.Services.WebService class.</span></span> <span data-ttu-id="b99d8-148">Sınıfına yöntemler gibi Web hizmeti tüketiciler tarafından çağrılacak edebilmeleri WebMethod özniteliği uygulamanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-148">As you add methods into the class you must apply the WebMethod attribute in order for them to be called by Web Service consumers.</span></span>

<span data-ttu-id="b99d8-149">4 listeleme WebMethod özniteliği GetCustomersByCountry() adlı bir yöntem uygulayarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-149">Listing 4 shows an example of applying the WebMethod attribute to a method named GetCustomersByCountry().</span></span>

**<span data-ttu-id="b99d8-150">4 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-150">Listing 4.</span></span> <span data-ttu-id="b99d8-151">WebMethod özniteliği kullanarak bir Web hizmeti</span><span class="sxs-lookup"><span data-stu-id="b99d8-151">Using the WebMethod Attribute in a Web Service</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample4.cs)]

<span data-ttu-id="b99d8-152">GetCustomersByCountry() yöntemi, bir ülke parametre kabul eder ve müşteri nesne dizisi döndürür.</span><span class="sxs-lookup"><span data-stu-id="b99d8-152">The GetCustomersByCountry() method accepts a country parameter and returns a Customer object array.</span></span> <span data-ttu-id="b99d8-153">Metodun Metoda geçilen ülke değeri veritabanından veri almak için bir veri katmanı sınıfı müşteri nesne özellikleri ile veri doldurun ve bir dizi döndürür çağrıları buna karşılık, iş katmanı sınıfına iletilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-153">The country value passed into the method is forwarded to a business layer class which in turn calls a data layer class to retrieve the data from the database, fill the Customer object properties with data and return the array.</span></span>

## <a name="using-the-scriptservice-attribute"></a><span data-ttu-id="b99d8-154">ScriptService özniteliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-154">Using the ScriptService Attribute</span></span>

<span data-ttu-id="b99d8-155">WebMethod özniteliği sağlayan standart SOAP iletilerini göndermek için Web hizmeti istemcileri tarafından çağrılacak GetCustomersByCountry() yöntemi eklenirken, JSON çağrıları hazır ASP.NET AJAX uygulamalardan yapılmasına izin vermez.</span><span class="sxs-lookup"><span data-stu-id="b99d8-155">While adding the WebMethod attribute allows the GetCustomersByCountry() method to be called by clients that send standard SOAP messages to the Web Service, it doesn't allow JSON calls to be made from ASP.NET AJAX applications out of the box.</span></span> <span data-ttu-id="b99d8-156">ASP.NET AJAX uzantının uygulamak sahip yapılacak JSON çağrılarına izin vermek için `ScriptService` özniteliği için Web hizmeti sınıfı.</span><span class="sxs-lookup"><span data-stu-id="b99d8-156">To allow JSON calls to be made you have to apply the ASP.NET AJAX Extension's `ScriptService` attribute to the Web Service class.</span></span> <span data-ttu-id="b99d8-157">Bu, biçimlendirilmiş JSON kullanarak yanıt iletilerini göndermek bir Web hizmetini etkinleştirir ve JSON iletiler göndererek bir hizmeti çağırmak amacıyla istemci tarafı komut dosyası sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-157">This enables a Web Service to send response messages formatted using JSON and allows client-side script to call a service by sending JSON messages.</span></span>

<span data-ttu-id="b99d8-158">5 ScriptService özniteliği CustomersService adlı bir Web hizmeti sınıfı için uygulama örneği gösterir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-158">Listing 5 shows an example of applying the ScriptService attribute to a Web Service class named CustomersService.</span></span>

**<span data-ttu-id="b99d8-159">5 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-159">Listing 5.</span></span> <span data-ttu-id="b99d8-160">AJAX özellikli bir Web hizmeti için ScriptService özniteliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-160">Using the ScriptService Attribute to AJAX-enable a Web Service</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample5.cs)]

<span data-ttu-id="b99d8-161">AJAX komut dosyası koddan çağrılabilir gösteren bir işaret ScriptService öznitelik görür.</span><span class="sxs-lookup"><span data-stu-id="b99d8-161">The ScriptService attribute acts as a marker that indicates it can be called from AJAX script code.</span></span> <span data-ttu-id="b99d8-162">Bu aslında arka planda gerçekleşen JSON serileştirme veya seri durumundan çıkarma görevlerden herhangi birini işlemiyor.</span><span class="sxs-lookup"><span data-stu-id="b99d8-162">It doesn't actually handle any of the JSON serialization or deserialization tasks that occur behind the scenes.</span></span> <span data-ttu-id="b99d8-163">(Web.config dosyasında yapılandırılmış) ScriptHandlerFactory ve diğer ilgili sınıflar toplu JSON işlem yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-163">The ScriptHandlerFactory (configured in web.config) and other related classes do the bulk of JSON processing.</span></span>

## <a name="using-the-scriptmethod-attribute"></a><span data-ttu-id="b99d8-164">ScriptMethod özniteliğini kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-164">Using the ScriptMethod Attribute</span></span>

<span data-ttu-id="b99d8-165">Bir .NET Web hizmetindeki ASP.NET AJAX sayfaları tarafından kullanılacak sırayla tanımlanacak olan tek ASP.NET AJAX özniteliği ScriptService özniteliğidir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-165">The ScriptService attribute is the only ASP.NET AJAX attribute that has to be defined in a .NET Web Service in order for it to be used by ASP.NET AJAX pages.</span></span> <span data-ttu-id="b99d8-166">Ancak, ScriptMethod adlı başka bir özniteliği doğrudan Hizmet Web yöntemleri için de uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-166">However, another attribute named ScriptMethod can also be applied directly to Web Methods in a service.</span></span> <span data-ttu-id="b99d8-167">ScriptMethod tanımlar dahil olmak üzere üç özellik `UseHttpGet`, `ResponseFormat` ve `XmlSerializeString`.</span><span class="sxs-lookup"><span data-stu-id="b99d8-167">ScriptMethod defines three properties including `UseHttpGet`, `ResponseFormat` and `XmlSerializeString`.</span></span> <span data-ttu-id="b99d8-168">Bu özelliklerin değerlerini değiştirerek bir Web hizmeti tarafından kabul edilen bir istek türünü gereken yere GET, Web yöntemi biçiminde ham XML verileri döndürmek gerektiğinde değiştirilmesi durumlarda yararlı olabilir bir `XmlDocument` veya `XmlElement` nesne veya veri döndürüldüğü ne zaman bir  hizmeti her zaman JSON yerine XML olarak serileştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="b99d8-168">Changing the values of these properties can be useful in cases where the type of request accepted by a Web Method needs to be changed to GET, when a Web Method needs to return raw XML data in the form of an `XmlDocument` or `XmlElement` object or when data returned from a service should always be serialized as XML instead of JSON.</span></span>

<span data-ttu-id="b99d8-169">Web yöntemi kabul etmelidir özelliği kullanılabilir UseHttpGet POST istekleri aksine istekleri alın.</span><span class="sxs-lookup"><span data-stu-id="b99d8-169">The UseHttpGet property can be used when a Web Method should accept GET requests as opposed to POST requests.</span></span> <span data-ttu-id="b99d8-170">QueryString parametreleri için bir URL kullanarak Web yöntemi giriş parametreleriyle dönüştürülen gönderdiği istekleri.</span><span class="sxs-lookup"><span data-stu-id="b99d8-170">Requests are sent using a URL with Web Method input parameters converted to QueryString parameters.</span></span> <span data-ttu-id="b99d8-171">Özelliği varsayılan olarak false olarak ve yalnızca UseHttpGet ayarlanması `true` zaman operations bilinir güvenli ve ne zaman hassas verileri bir Web hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-171">The UseHttpGet property defaults to false and should only be set to `true` when operations are known to be safe and when sensitive data is not passed to a Web Service.</span></span> <span data-ttu-id="b99d8-172">6 listeleme UseHttpGet özelliğiyle ScriptMethod özniteliğini kullanarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-172">Listing 6 shows an example of using the ScriptMethod attribute with the UseHttpGet property.</span></span>

**<span data-ttu-id="b99d8-173">6 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-173">Listing 6.</span></span> <span data-ttu-id="b99d8-174">ScriptMethod öznitelik UseHttpGet özelliği ile kullanarak.</span><span class="sxs-lookup"><span data-stu-id="b99d8-174">Using the ScriptMethod attribute with the UseHttpGet property.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample6.cs)]

<span data-ttu-id="b99d8-175">HttpGetEcho Web listeleme 6'da gösterilen yöntemi çağrıldığında gönderilen üst bilgiler örneği gösterilir sonraki:</span><span class="sxs-lookup"><span data-stu-id="b99d8-175">An example of the headers sent when the HttpGetEcho Web Method shown in Listing 6 is called are shown next:</span></span>

`GET /CustomerViewer/DemoService.asmx/HttpGetEcho?input=%22Input Value%22 HTTP/1.1`

<span data-ttu-id="b99d8-176">XML yanıtlar bir hizmet JSON yerine döndürülecek gerektiğinde Web HTTP GET isteklerini kabul etmek yöntemleri yayımlamanızı ScriptMethod özniteliği de kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-176">In addition to allowing Web Methods to accept HTTP GET requests, the ScriptMethod attribute can also be used when XML responses need to be returned from a service rather than JSON.</span></span> <span data-ttu-id="b99d8-177">Örneğin, bir Web hizmeti uzak bir siteden bir RSS akışı almak ve XmlDocument veya XmlElement bir nesne olarak döndürür.</span><span class="sxs-lookup"><span data-stu-id="b99d8-177">For example, a Web Service may retrieve an RSS feed from a remote site and return it as an XmlDocument or XmlElement object.</span></span> <span data-ttu-id="b99d8-178">Veri XML işlemeye istemcide ardından oluşabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-178">Processing of the XML data can then occur on the client.</span></span>

<span data-ttu-id="b99d8-179">7 listeleme XML verileri Web yöntemden döndürülmesi gerektiğini belirtmek için ResponseFormat özelliğini kullanarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-179">Listing 7 shows an example of using the ResponseFormat property to specify that XML data should be returned from a Web Method.</span></span>

**<span data-ttu-id="b99d8-180">7 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-180">Listing 7.</span></span> <span data-ttu-id="b99d8-181">ScriptMethod öznitelik ResponseFormat özelliği ile kullanarak.</span><span class="sxs-lookup"><span data-stu-id="b99d8-181">Using the ScriptMethod attribute with the ResponseFormat property.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample7.cs)]

<span data-ttu-id="b99d8-182">ResponseFormat özelliği de XmlSerializeString özelliği ile birlikte kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-182">The ResponseFormat property can also be used along with the XmlSerializeString property.</span></span> <span data-ttu-id="b99d8-183">Tüm Web yönteminden döndürülen dizelerin dışındaki türleri XML olarak serileştirilme döndürecek anlamına gelir. false varsayılan değerini XmlSerializeString özelliğine sahip olduğunda `ResponseFormat` özelliği `ResponseFormat.Xml`.</span><span class="sxs-lookup"><span data-stu-id="b99d8-183">The XmlSerializeString property has a default value of false which means that all return types except strings returned from a Web Method are serialized as XML when the `ResponseFormat` property is set to `ResponseFormat.Xml`.</span></span> <span data-ttu-id="b99d8-184">Zaman `XmlSerializeString` ayarlanır `true`, Web yöntemi tarafından döndürülen tüm türleri, dize türleri dahil olmak üzere XML olarak serileştirilme şeklini.</span><span class="sxs-lookup"><span data-stu-id="b99d8-184">When `XmlSerializeString` is set to `true`, all types returned from a Web Method are serialized as XML including string types.</span></span> <span data-ttu-id="b99d8-185">ResponseFormat özellik değeri varsa `ResponseFormat.Json` XmlSerializeString özelliği göz ardı edilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-185">If the ResponseFormat property has a value of `ResponseFormat.Json` the XmlSerializeString property is ignored.</span></span>

<span data-ttu-id="b99d8-186">8 listeleme XML olarak serileştirilmiş için dizeleri zorlamak için XmlSerializeString özelliğini kullanarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-186">Listing 8 shows an example of using the XmlSerializeString property to force strings to be serialized as XML.</span></span>

**<span data-ttu-id="b99d8-187">8 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-187">Listing 8.</span></span> <span data-ttu-id="b99d8-188">ScriptMethod öznitelik XmlSerializeString özelliği ile kullanarak</span><span class="sxs-lookup"><span data-stu-id="b99d8-188">Using the ScriptMethod attribute with the XmlSerializeString property</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample8.cs)]

<span data-ttu-id="b99d8-189">Listeleme 8'de gösterilen GetXmlString Web yöntemini çağırma döndürülen değer, sonraki gösterilir:</span><span class="sxs-lookup"><span data-stu-id="b99d8-189">The value returned from calling the GetXmlString Web Method shown in Listing 8 is shown next:</span></span>

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample9.cs)]

<span data-ttu-id="b99d8-190">Varsayılan JSON biçimindeki istek ve yanıt iletilerinin toplam boyutunu en aza indirir ve tarayıcılar arası bir biçimde ASP.NET AJAX istemciler tarafından tüketilen daha kolay olsa da, ResponseFormat ve XmlSerializeString özelliklerini olabilir durumlarda kullanılan istemci uygulamalar gibi Internet Explorer 5 veya üzeri Web yöntemden döndürüleceği XML verileri bekler.</span><span class="sxs-lookup"><span data-stu-id="b99d8-190">Although the default JSON format minimizes the overall size of request and response messages and is more readily consumed by ASP.NET AJAX clients in a cross-browser manner, the ResponseFormat and XmlSerializeString properties can be utilized when client applications such as Internet Explorer 5 or higher expect XML data to be returned from a Web Method.</span></span>

## <a name="working-with-complex-types"></a><span data-ttu-id="b99d8-191">Karmaşık türleri ile çalışma</span><span class="sxs-lookup"><span data-stu-id="b99d8-191">Working with Complex Types</span></span>

<span data-ttu-id="b99d8-192">5 listeleyen bir Web hizmetinden müşteri adlı bir karmaşık türü döndüren bir örnek gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-192">Listing 5 showed an example of returning a complex type named Customer from a Web Service.</span></span> <span data-ttu-id="b99d8-193">Müşteri sınıfı birkaç farklı basit türler, FirstName ve LastName gibi özellikleri olarak dahili olarak tanımlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-193">The Customer class defines several different simple types internally as properties such as FirstName and LastName.</span></span> <span data-ttu-id="b99d8-194">Giriş parametresi olarak kullanılan karmaşık türleri veya dönüş türü bir AJAX içerebilen Web yöntemini de otomatik olarak serileştirilir JSON'a istemci-tarafı gönderilmeden önce.</span><span class="sxs-lookup"><span data-stu-id="b99d8-194">Complex types used as an input parameter or return type on an AJAX-enabled Web Method are automatically serialized into JSON before being sent to the client-side.</span></span> <span data-ttu-id="b99d8-195">Ancak, iç içe geçmiş karmaşık türler (Bu dahili olarak başka bir türde tanımlanan) istemciye tek başına nesneler olarak varsayılan olarak kullanılabilir duruma getirilmez.</span><span class="sxs-lookup"><span data-stu-id="b99d8-195">However, nested complex types (those defined internally within another type) are not made available to the client as standalone objects by default.</span></span>

<span data-ttu-id="b99d8-196">Burada bir Web hizmeti tarafından kullanılan iç içe geçmiş bir karmaşık türü de bir istemci sayfasında kullanılmalıdır durumlarda, ASP.NET AJAX GenerateScriptType öznitelik Web hizmetine eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-196">In cases where a nested complex type used by a Web Service must also be used in a client page, the ASP.NET AJAX GenerateScriptType attribute can be added to the Web Service.</span></span> <span data-ttu-id="b99d8-197">Örneğin, adresi ve cinsiyet özellikleri listeleme 9'da gösterilen CustomerDetails sınıfı içeren hangi ***karmaşık iç içe geçmiş türleri temsil eder.***</span><span class="sxs-lookup"><span data-stu-id="b99d8-197">For example, the CustomerDetails class shown in Listing 9 contains Address and Gender properties which ***represent nested complex types.***</span></span>

**<span data-ttu-id="b99d8-198">9 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-198">Listing 9.</span></span> <span data-ttu-id="b99d8-199">Burada gösterilen CustomerDetails sınıfı iki iç içe geçmiş karmaşık türleri içerir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-199">The CustomerDetails class shown here contains two nested complex types.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample10.cs)]

<span data-ttu-id="b99d8-200">İç içe geçmiş türler olduğundan listeleme 9'da gösterilen CustomerDetails sınıfı içinde tanımlanan adres ve cinsiyet nesneleri otomatik olarak istemci tarafı JavaScript aracılığıyla kullanıma yapılır olmaz (adres bir sınıf, cinsiyet ise bir sabit listesi).</span><span class="sxs-lookup"><span data-stu-id="b99d8-200">The Address and Gender objects defined within the CustomerDetails class shown in Listing 9 won't automatically be made available for use on the client-side via JavaScript since they are nested types (Address is a class and Gender is an enumeration).</span></span> <span data-ttu-id="b99d8-201">Burada bir Web hizmeti içinde kullanılan iç içe bir tür üzerinde istemci tarafı kullanılabilir olmalıdır durumlarda, daha önce bahsedilen GenerateScriptType özniteliği kullanılabilir (10 listeleme bakın).</span><span class="sxs-lookup"><span data-stu-id="b99d8-201">In situations where a nested type used within a Web Service must be available on the client-side, the GenerateScriptType attribute mentioned earlier can be used (see Listing 10).</span></span> <span data-ttu-id="b99d8-202">Bu öznitelik, farklı iç içe geçmiş karmaşık türler hizmetten döndürülen burada durumlarda birden çok kez eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-202">This attribute can be added multiple times in cases where different nested complex types are returned from a service.</span></span> <span data-ttu-id="b99d8-203">Doğrudan Web hizmeti sınıfı veya belirli Web yöntemleri üzerinde uygulanabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-203">It can be applied directly to the Web Service class or above specific Web Methods.</span></span>

**<span data-ttu-id="b99d8-204">10 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-204">Listing 10.</span></span> <span data-ttu-id="b99d8-205">İstemcinin kullanılabilir olması gerektiğini iç içe geçmiş türleri tanımlamak için GenerateScriptService özniteliğini kullanarak.</span><span class="sxs-lookup"><span data-stu-id="b99d8-205">Using the GenerateScriptService attribute to define nested types that should be available to the client.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample11.cs)]

<span data-ttu-id="b99d8-206">Uygulayarak `GenerateScriptType` özniteliği Web hizmeti, adresi ve cinsiyet türlerine otomatik olarak oluşturulacak kullanılabilmesi için istemci tarafı ASP.NET AJAX JavaScript koduna göre.</span><span class="sxs-lookup"><span data-stu-id="b99d8-206">By applying the `GenerateScriptType` attribute to the Web Service, the Address and Gender types will automatically be made available for use by client-side ASP.NET AJAX JavaScript code.</span></span> <span data-ttu-id="b99d8-207">Listeleme 11'de otomatik olarak oluşturulan ve bir Web hizmeti GenerateScriptType öznitelik ekleyerek istemciye gönderilen JavaScript örneği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-207">An example of the JavaScript that is automatically generated and sent to the client by adding the GenerateScriptType attribute on a Web Service is shown in Listing 11.</span></span> <span data-ttu-id="b99d8-208">Karmaşık iç içe geçmiş türler kullanma makalenin sonraki bölümlerinde görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-208">You'll see how to use nested complex types later in the article.</span></span>

**<span data-ttu-id="b99d8-209">11 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-209">Listing 11.</span></span> <span data-ttu-id="b99d8-210">İç içe geçmiş karmaşık türler bir ASP.NET AJAX sayfasına kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-210">Nested complex types made available to an ASP.NET AJAX page.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample12.cs)]

<span data-ttu-id="b99d8-211">Web hizmetleri oluşturma ve ASP.NET AJAX sayfalarına erişebilmesini gördüğünüze göre oluşturma ve JavaScript proxy'leri kullanabilir, böylece veri alınan ya da Web hizmetlerine gönderilen bir göz atalım.</span><span class="sxs-lookup"><span data-stu-id="b99d8-211">Now that you've seen how to create Web Services and make them accessible to ASP.NET AJAX pages, let's take a look at how to create and use JavaScript proxies so that data can be retrieved or sent to Web Services.</span></span>

## <a name="creating-javascript-proxies"></a><span data-ttu-id="b99d8-212">JavaScript proxy'leri oluşturma</span><span class="sxs-lookup"><span data-stu-id="b99d8-212">Creating JavaScript Proxies</span></span>

<span data-ttu-id="b99d8-213">SOAP isteği ve yanıt iletileri gönderme karmaşıklıkları ayrıntılarından korur bir proxy nesnesi oluşturma (.NET veya başka bir platform) standart bir Web hizmeti genellikle çağırma içerir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-213">Calling a standard Web Service (.NET or another platform) typically involves creating a proxy object that shields you from the complexities of sending SOAP request and response messages.</span></span> <span data-ttu-id="b99d8-214">ASP.NET AJAX Web hizmeti çağrıları ile JavaScript proxy'leri oluşturulur ve kolayca serileştirme ve JSON iletilerini seri kaldırma hakkında endişelenmeden hizmetlerini çağırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-214">With ASP.NET AJAX Web Service calls, JavaScript proxies can be created and used to easily call services without worrying about serializing and deserializing JSON messages.</span></span> <span data-ttu-id="b99d8-215">ASP.NET AJAX ScriptManager denetimini kullanarak JavaScript proxy'leri otomatik olarak oluşturulabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-215">JavaScript proxies can be automatically generated by using the ASP.NET AJAX ScriptManager control.</span></span>

<span data-ttu-id="b99d8-216">Web Hizmetleri çağırabilen bir JavaScript proxy'si oluşturuluyor ScriptManager'ın Services özelliği kullanılarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-216">Creating a JavaScript proxy that can call Web Services is accomplished by using the ScriptManager's Services property.</span></span> <span data-ttu-id="b99d8-217">Bu özellik, bir ASP.NET AJAX sayfasına gönderin veya geri gönderme işlemleri gerek kalmadan veri almak için zaman uyumsuz olarak çağırabilirsiniz bir veya daha fazla hizmet tanımlamanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-217">This property allows you to define one or more services that an ASP.NET AJAX page can call asynchronously to send or receive data without requiring postback operations.</span></span> <span data-ttu-id="b99d8-218">ASP.NET AJAX'ı kullanarak bir hizmet tanımlama `ServiceReference` denetimi ve denetimin Web hizmeti URL'si atama `Path` özelliği.</span><span class="sxs-lookup"><span data-stu-id="b99d8-218">You define a service by using the ASP.NET AJAX `ServiceReference` control and assigning the Web Service URL to the control's `Path` property.</span></span> <span data-ttu-id="b99d8-219">12 listeleme CustomersService.asmx adlı hizmet başvuran bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-219">Listing 12 shows an example of referencing a service named CustomersService.asmx.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample13.aspx)]

**<span data-ttu-id="b99d8-220">12 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-220">Listing 12.</span></span> <span data-ttu-id="b99d8-221">Bir ASP.NET AJAX sayfa içinde kullanılan bir Web hizmeti tanımlama.</span><span class="sxs-lookup"><span data-stu-id="b99d8-221">Defining a Web Service used in an ASP.NET AJAX page.</span></span>**

<span data-ttu-id="b99d8-222">Bir ScriptManager denetimi aracılığıyla CustomersService.asmx başvuru eklemeyi dinamik olarak oluşturulan ve sayfa tarafından başvurulan bir JavaScript proxy'si neden olur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-222">Adding a reference to the CustomersService.asmx through the ScriptManager control causes a JavaScript proxy to be dynamically generated and referenced by the page.</span></span> <span data-ttu-id="b99d8-223">Proxy kullanarak katıştırılmış &lt;betik&gt; CustomersService.asmx dosya çağırarak ve /js, sonuna ekleme dinamik olarak yüklendi ve etiketleyin.</span><span class="sxs-lookup"><span data-stu-id="b99d8-223">The proxy is embedded by using the &lt;script&gt; tag and dynamically loaded by calling the CustomersService.asmx file and appending /js to the end of it.</span></span> <span data-ttu-id="b99d8-224">Aşağıdaki örnek, hata ayıklama web.config dosyasında devre dışı bırakıldığında JavaScript proxy'si sayfaya nasıl eklenmiştir gösterir:</span><span class="sxs-lookup"><span data-stu-id="b99d8-224">The following example shows how the JavaScript proxy is embedded in the page when debugging is disabled in web.config:</span></span>

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample14.html)]

> *> [!NOTE]
> <span data-ttu-id="b99d8-225">Oluşturulan gerçek JavaScript proxy kodu görmek istiyorsanız, Internet Explorer'ın adres kutusuna istediğiniz .NET Web hizmetinin URL'sini yazın ve /js bunu sona ekleyin.</span><span class="sxs-lookup"><span data-stu-id="b99d8-225">If you'd like to see the actual JavaScript proxy code that is generated you can type the URL to the desired .NET Web Service into Internet Explorer's address box and append /js to the end of it.</span></span>*


<span data-ttu-id="b99d8-226">JavaScript proxy'si hata ayıklama sürümü sayfasındaki katıştırılmış web.config dosyasında hata ayıklama etkinse, sonraki adımda gösterilen:</span><span class="sxs-lookup"><span data-stu-id="b99d8-226">If debugging is enabled in web.config a debug version of the JavaScript proxy will be embedded in the page as shown next:</span></span>

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample15.html)]

<span data-ttu-id="b99d8-227">ScriptManager tarafından oluşturulan JavaScript proxy'si doğrudan sayfasına eklenebilir yerine kullanılarak başvurulan &lt;betik&gt; etiketin src özniteliği.</span><span class="sxs-lookup"><span data-stu-id="b99d8-227">The JavaScript proxy created by the ScriptManager can also be embedded directly into the page rather than referenced using the &lt;script&gt; tag's src attribute.</span></span> <span data-ttu-id="b99d8-228">(Varsayılan: false) true olarak ServiceReference denetimin Inlinescript özelliği ayarlanarak bu yapılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-228">This can be done by setting the ServiceReference control's InlineScript property to true (the default is false).</span></span> <span data-ttu-id="b99d8-229">Bir ara sunucu ve ağ çağrıları sunucuya yapılan sayısını azaltmak istediğiniz zaman birden çok sayfada paylaşılmayan bu yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-229">This can be useful when a proxy isn't shared across multiple pages and when you'd like to reduce the number of network calls made to the server.</span></span> <span data-ttu-id="b99d8-230">False varsayılan değerini proxy'nin birden çok sayfada bir ASP.NET AJAX uygulama tarafından kullanıldığı durumlarda önerilir Inlinescript proxy betiği true olarak ayarlandığında tarayıcı tarafından önbelleğe olmaz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-230">When InlineScript is set to true the proxy script won't be cached by the browser so the default value of false is recommended in cases where the proxy is used by multiple pages in an ASP.NET AJAX application.</span></span> <span data-ttu-id="b99d8-231">Inlinescript özelliğini kullanarak bir örnek, sonraki gösterilir:</span><span class="sxs-lookup"><span data-stu-id="b99d8-231">An example of using the InlineScript property is shown next:</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample16.aspx)]

## <a name="using-javascript-proxies"></a><span data-ttu-id="b99d8-232">JavaScript proxy'leri kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-232">Using JavaScript Proxies</span></span>

<span data-ttu-id="b99d8-233">ScriptManager denetimini kullanarak bir ASP.NET AJAX sayfa tarafından başvurulan bir Web hizmeti sonra Web hizmetine çağrı yapılabilmesi için ve döndürülen veriler, geri çağırma işlevleri kullanılarak işlenebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-233">Once a Web Service is referenced by an ASP.NET AJAX page using the ScriptManager control, a call can be made to the Web Service and the returned data can be handled using callback functions.</span></span> <span data-ttu-id="b99d8-234">Bir Web hizmeti (varsa), ad alanı başvuruyor, sınıf adını ve Web yöntemi adı tarafından çağrılır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-234">A Web Service is called by referencing its namespace (if one exists), class name and Web Method name.</span></span> <span data-ttu-id="b99d8-235">Döndürülen verileri işleyen bir geri çağırma işlevini yanı sıra Web hizmetine geçirilen parametrelerin tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-235">Any parameters passed to the Web Service can be defined along with a callback function that handles the returned data.</span></span>

<span data-ttu-id="b99d8-236">Listeleme 13'te GetCustomersByCountry() adlı Web yöntemini çağırmak için bir JavaScript proxy'si kullanarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-236">An example of using a JavaScript proxy to call a Web Method named GetCustomersByCountry() is shown in Listing 13.</span></span> <span data-ttu-id="b99d8-237">Son Kullanıcı sayfasında bir düğmeyi tıkladığında GetCustomersByCountry() işlev çağrılır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-237">The GetCustomersByCountry() function is called when an end user clicks a button on the page.</span></span>

**<span data-ttu-id="b99d8-238">13 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-238">Listing 13.</span></span> <span data-ttu-id="b99d8-239">Bir Web hizmeti bir JavaScript proxy'si ile çağrılıyor.</span><span class="sxs-lookup"><span data-stu-id="b99d8-239">Calling a Web Service with a JavaScript proxy.</span></span>**

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample17.js)]

<span data-ttu-id="b99d8-240">Bu çağrı InterfaceTraining ad alanı başvuruyor, CustomersService sınıfı ve GetCustomersByCountry Web yöntemini hizmette tanımlanan.</span><span class="sxs-lookup"><span data-stu-id="b99d8-240">This call references the InterfaceTraining namespace, CustomersService class and GetCustomersByCountry Web Method defined in the service.</span></span> <span data-ttu-id="b99d8-241">Bu, zaman uyumsuz Web hizmeti çağrısı döndürüldüğünde, çağrılması gereken OnWSRequestComplete adlı bir geri çağırma işlevini yanı sıra TextBox'dan alınan bir ülke değer geçirir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-241">It passes a country value obtained from a textbox as well as a callback function named OnWSRequestComplete that should be invoked when the asynchronous Web Service call returns.</span></span> <span data-ttu-id="b99d8-242">OnWSRequestComplete hizmetten döndürülen müşteri nesneler dizisi işler ve bunları sayfada gösterilen bir tabloya dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="b99d8-242">OnWSRequestComplete handles the array of Customer objects returned from the service and converts them into a table that is displayed in the page.</span></span> <span data-ttu-id="b99d8-243">Şekil 1'de çağrısından oluşturulan çıktı gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-243">The output generated from the call is shown in Figure 1.</span></span>


[![B<span data-ttu-id="b99d8-244">Web hizmeti bir zaman uyumsuz AJAX çağrısı yaparak elde edilen inding verilerle.]</span><span class="sxs-lookup"><span data-stu-id="b99d8-244">inding data obtained by making an asynchronous AJAX call to a Web Service.]</span></span>(understanding-asp-net-ajax-web-services/_static/image2.png)](understanding-asp-net-ajax-web-services/_static/image1.png)

<span data-ttu-id="b99d8-245">**Şekil 1**: Web hizmeti bir zaman uyumsuz AJAX çağrısı yaparak elde edilen verilerle bağlama.</span><span class="sxs-lookup"><span data-stu-id="b99d8-245">**Figure 1**: Binding data obtained by making an asynchronous AJAX call to a Web Service.</span></span>  <span data-ttu-id="b99d8-246">([Tam boyutlu görüntüyü görmek için tıklatın](understanding-asp-net-ajax-web-services/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="b99d8-246">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image3.png))</span></span>


<span data-ttu-id="b99d8-247">JavaScript proxy'leri, Web Hizmetleri için tek yönlü çağrıları burada Web yöntemi çağrılmalıdır ancak proxy yanıt beklemesi gerekmez durumlarda de yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-247">JavaScript proxies can also make one-way calls to Web Services in cases where a Web Method should be called but the proxy shouldn't wait for a response.</span></span> <span data-ttu-id="b99d8-248">Örneğin, bir iş akışı gibi bir işlem başlatma, ancak bir dönüş değeri hizmetinden bekleyin değil bir Web hizmeti çağırmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-248">For example, you may want to call a Web Service to start a process such as a work-flow but not wait for a return value from the service.</span></span> <span data-ttu-id="b99d8-249">Tek yönlü bir çağrı bir hizmet için yapılması gereken yere durumlarda listeleme 13'te gösterilen geri çağırma işlevine sadece atlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-249">In cases where a one-way call needs to be made to a service, the callback function shown in Listing 13 can simply be omitted.</span></span> <span data-ttu-id="b99d8-250">Geri arama işlevi tanımlamış verileri döndürmek Web hizmeti proxy nesnesi beklemez.</span><span class="sxs-lookup"><span data-stu-id="b99d8-250">Since no callback function is defined the proxy object will not wait for the Web Service to return data.</span></span>

## <a name="handling-errors"></a><span data-ttu-id="b99d8-251">Hataları İşleme</span><span class="sxs-lookup"><span data-stu-id="b99d8-251">Handling Errors</span></span>

<span data-ttu-id="b99d8-252">Zaman uyumsuz geri çağırmalar için Web Hizmetleri gibi Web Hizmeti'nin veya verilen bir özel durum, ağ hataları farklı türde karşılaşırsınız.</span><span class="sxs-lookup"><span data-stu-id="b99d8-252">Asynchronous callbacks to Web Services can encounter different types of errors such as the network being down, the Web Service being unavailable or an exception being returned.</span></span> <span data-ttu-id="b99d8-253">Neyse ki, JavaScript proxy nesneleri ScriptManager tarafından oluşturulan hatalar ve daha önce gösterilen başarılı geri arama yanı sıra hataları işlemek için tanımlanmış birden çok geri çağırmaları izin verin.</span><span class="sxs-lookup"><span data-stu-id="b99d8-253">Fortunately, JavaScript proxy objects generated by the ScriptManager allow multiple callbacks to be defined to handle errors and failures in addition to the success callback shown earlier.</span></span> <span data-ttu-id="b99d8-254">Bir hata geri çağırma işlevini listeleme 14'te gösterildiği gibi Web yöntemi çağrısında standart geri çağırma işlevi hemen sonra tanımlanabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-254">An error callback function can be defined immediately after the standard callback function in the call to the Web Method as shown in Listing 14.</span></span>

**<span data-ttu-id="b99d8-255">14 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-255">Listing 14.</span></span> <span data-ttu-id="b99d8-256">Bir hata geri çağırma işlevi tanımlama ve hataları görüntüleme.</span><span class="sxs-lookup"><span data-stu-id="b99d8-256">Defining an error callback function and displaying errors.</span></span>**

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample18.js)]

<span data-ttu-id="b99d8-257">Web hizmeti çağrıldığında oluşan hataların bir parametre olarak bir hatayı temsil eden bir nesne kabul eden çağrılacak OnWSRequestFailed() geri çağırma işlevi tetikler.</span><span class="sxs-lookup"><span data-stu-id="b99d8-257">Any errors that occur when the Web Service is called will trigger the OnWSRequestFailed() callback function to be called which accepts an object representing the error as a parameter.</span></span> <span data-ttu-id="b99d8-258">Hata nesnesi yanı sıra olup olmadığını çağrısı zaman aşımına uğradı hatanın nedenini belirlemek için birkaç farklı işlevler sunar. 14 listeleme farklı hata işlevleri kullanarak bir örnek gösterilmektedir ve Şekil 2'işlevleri tarafından oluşturulan çıktı örneği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-258">The error object exposes several different functions to determine the cause of the error as well as whether or not the call timed out. Listing 14 shows an example of using the different error functions and Figure 2 shows an example of the output generated by the functions.</span></span>


[![O<span data-ttu-id="b99d8-259">utput. ASP.NET AJAX hata işlevleri çağrılarak oluşturulan]</span><span class="sxs-lookup"><span data-stu-id="b99d8-259">utput generated by calling ASP.NET AJAX error functions.]</span></span>(understanding-asp-net-ajax-web-services/_static/image5.png)](understanding-asp-net-ajax-web-services/_static/image4.png)

<span data-ttu-id="b99d8-260">**Şekil 2**: ASP.NET AJAX hata işlevleri çağrılarak oluşturulan çıktı.</span><span class="sxs-lookup"><span data-stu-id="b99d8-260">**Figure 2**: Output generated by calling ASP.NET AJAX error functions.</span></span>  <span data-ttu-id="b99d8-261">([Tam boyutlu görüntüyü görmek için tıklatın](understanding-asp-net-ajax-web-services/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="b99d8-261">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image6.png))</span></span>


## <a name="handling-xml-data-returned-from-a-web-service"></a><span data-ttu-id="b99d8-262">Bir Web hizmetinden döndürülen XML verilerini işleme</span><span class="sxs-lookup"><span data-stu-id="b99d8-262">Handling XML Data Returned from a Web Service</span></span>

<span data-ttu-id="b99d8-263">Daha önce ResponseFormat özelliğinin yanı sıra ScriptMethod özniteliğini kullanarak bir Web yöntemine ham XML verileri nasıl döndürebilir gördünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-263">Earlier you saw how a Web Method could return raw XML data by using the ScriptMethod attribute along with its ResponseFormat property.</span></span> <span data-ttu-id="b99d8-264">ResponseFormat ResponseFormat.Xml için ayarlandığında, Web hizmetinden döndürülen veriler JSON yerine XML olarak serileştirilmiş.</span><span class="sxs-lookup"><span data-stu-id="b99d8-264">When ResponseFormat is set to ResponseFormat.Xml, data returned from the Web Service is serialized as XML rather than JSON.</span></span> <span data-ttu-id="b99d8-265">XML verileri işlemek için JavaScript veya XSLT kullanarak doğrudan istemciye geçirilecek gerektiğinde bu yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-265">This can be useful when XML data needs to be passed directly to the client for processing using JavaScript or XSLT.</span></span> <span data-ttu-id="b99d8-266">Şu anda Internet Explorer 5 ya da daha yüksek ayrıştırma ve MSXML için yerleşik destek nedeniyle XML verileri filtreleme için en iyi istemci tarafı nesne modeli sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-266">At the current time, Internet Explorer 5 or higher provides the best client-side object model for parsing and filtering XML data due to its built-in support for MSXML.</span></span>

<span data-ttu-id="b99d8-267">Bir Web hizmetinden XML verilerini alma, diğer veri türleri almaktan farklı değildir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-267">Retrieving XML data from a Web Service is no different than retrieving other data types.</span></span> <span data-ttu-id="b99d8-268">Uygun işlevi çağırmak ve bir geri çağırma işlevini tanımlamak için JavaScript proxy'si çağırarak başlatın.</span><span class="sxs-lookup"><span data-stu-id="b99d8-268">Start by invoking the JavaScript proxy to call the appropriate function and define a callback function.</span></span> <span data-ttu-id="b99d8-269">Çağrısı döndüğünde sonra geri çağırma işlevi verileri işleyebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-269">Once the call returns you can then process the data in the callback function.</span></span>

<span data-ttu-id="b99d8-270">15 listeleme Web XmlElement nesneyi döndürür GetRssFeed() adlı bir metot çağrısının bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-270">Listing 15 shows an example of calling a Web Method named GetRssFeed() that returns an XmlElement object.</span></span> <span data-ttu-id="b99d8-271">GetRssFeed() RSS almak için akışı için URL'yi temsil eden tek bir parametre kabul eder.</span><span class="sxs-lookup"><span data-stu-id="b99d8-271">GetRssFeed() accepts a single parameter representing the URL for the RSS feed to retrieve.</span></span>

**<span data-ttu-id="b99d8-272">15 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-272">Listing 15.</span></span> <span data-ttu-id="b99d8-273">Bir Web hizmetinden döndürülen XML verileri ile çalışma.</span><span class="sxs-lookup"><span data-stu-id="b99d8-273">Working with XML data returned from a Web Service.</span></span>**

[!code-html[Main](understanding-asp-net-ajax-web-services/samples/sample19.html)]

<span data-ttu-id="b99d8-274">Bu örnek, bir RSS akışına bir URL'sini geçirir ve OnWSRequestComplete() işlevinde döndürülen XML verileri işler.</span><span class="sxs-lookup"><span data-stu-id="b99d8-274">This example passes a URL to an RSS feed and processes the returned XML data in the OnWSRequestComplete() function.</span></span> <span data-ttu-id="b99d8-275">OnWSRequestComplete() ilk tarayıcı Internet Explorer'ı MSXML ayrıştırıcının kullanılabilir olup olmadığını bilmek olup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="b99d8-275">OnWSRequestComplete() first checks to see if the browser is Internet Explorer to know whether or not the MSXML parser is available.</span></span> <span data-ttu-id="b99d8-276">İse, bir XPath ifadesi tüm bulmak için kullanılan &lt;öğesi&gt; etiketlerin RSS akışı.</span><span class="sxs-lookup"><span data-stu-id="b99d8-276">If it is, an XPath statement is used to locate all &lt;item&gt; tags within the RSS feed.</span></span> <span data-ttu-id="b99d8-277">Her bir öğe daha sonra üzerinden yinelenir ve ilişkili &lt;başlık&gt; ve &lt;bağlantı&gt; etiketleri bulunur ve her öğenin verileri görüntülemek için işlenen.</span><span class="sxs-lookup"><span data-stu-id="b99d8-277">Each item is then iterated through and the associated &lt;title&gt; and &lt;link&gt; tags are located and processed to display each item's data.</span></span> <span data-ttu-id="b99d8-278">Şekil 3, bir ASP.NET AJAX GetRssFeed() Web yöntemine yapılan bir JavaScript proxy'si aracılığıyla çağrı yapmasını oluşturulan çıktının bir örneği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-278">Figure 3 shows an example of the output generated from making an ASP.NET AJAX call through a JavaScript proxy to the GetRssFeed() Web Method.</span></span>

## <a name="handling-complex-types"></a><span data-ttu-id="b99d8-279">Karmaşık türler işleme</span><span class="sxs-lookup"><span data-stu-id="b99d8-279">Handling Complex Types</span></span>

<span data-ttu-id="b99d8-280">Kabul edildi veya bir Web hizmeti tarafından döndürülen karmaşık türler, otomatik olarak bir JavaScript proxy'si sunulur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-280">Complex types accepted or returned by a Web Service are automatically exposed through a JavaScript proxy.</span></span> <span data-ttu-id="b99d8-281">Karmaşık iç içe geçmiş türler ancak, istemci tarafında doğrudan erişilebilir değildir, bu sürece GenerateScriptType öznitelik hizmete daha önce bahsedildiği gibi uygulanır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-281">However, nested complex types are not directly accessible on the client-side unless the GenerateScriptType attribute is applied to the service as discussed earlier.</span></span> <span data-ttu-id="b99d8-282">Neden karmaşık iç içe geçmiş bir tür üzerinde istemci tarafı kullanmak istiyorsunuz?</span><span class="sxs-lookup"><span data-stu-id="b99d8-282">Why would you want to use a nested complex type on the client-side?</span></span>

<span data-ttu-id="b99d8-283">Bu soruyu cevaplamak için bir ASP.NET AJAX sayfasına müşteri verileri görüntüler ve son müşterinin adresini güncelleştirmek kullanıcılara varsayılır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-283">To answer this question, assume that an ASP.NET AJAX page displays customer data and allows end users to update a customer's address.</span></span> <span data-ttu-id="b99d8-284">Web hizmeti adres türünü (CustomerDetails sınıfı içinde tanımlanan bir karmaşık tür) istemciye gönderilen olduğunu belirtiyorsa sonra güncelleştirme işlemini daha iyi kod yeniden kullanımı için işlevleri ayırın bölünebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-284">If the Web Service specifies that the Address type (a complex type defined within a CustomerDetails class) can be sent to the client then the update process can be divided into separate functions for better code re-use.</span></span>


[![O<span data-ttu-id="b99d8-285">utput. RSS veri döndüren bir Web hizmeti çağırma oluşturma]</span><span class="sxs-lookup"><span data-stu-id="b99d8-285">utput creating from calling a Web Service that returns RSS data.]</span></span>(understanding-asp-net-ajax-web-services/_static/image8.png)](understanding-asp-net-ajax-web-services/_static/image7.png)

<span data-ttu-id="b99d8-286">**Şekil 3**: Çıkış çağırma RSS veri döndüren bir Web hizmeti oluşturma.</span><span class="sxs-lookup"><span data-stu-id="b99d8-286">**Figure 3**: Output creating from calling a Web Service that returns RSS data.</span></span>  <span data-ttu-id="b99d8-287">([Tam boyutlu görüntüyü görmek için tıklatın](understanding-asp-net-ajax-web-services/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="b99d8-287">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image9.png))</span></span>


<span data-ttu-id="b99d8-288">16 modeli ad alanında tanımlanan bir adresi nesne çağıran istemci tarafı koduna ilişkin bir örnek güncelleştirilen verilerle doldurur ve CustomerDetails nesnesinin adresi özelliğine atar gösterir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-288">Listing 16 shows an example of client-side code that invokes an Address object defined in a Model namespace, fills it with updated data and assigns it to a CustomerDetails object's Address property.</span></span> <span data-ttu-id="b99d8-289">CustomerDetails nesne, daha sonra işlenmek üzere Web hizmetine geçirilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-289">The CustomerDetails object is then passed to the Web Service for processing.</span></span>

**<span data-ttu-id="b99d8-290">16 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-290">Listing 16.</span></span> <span data-ttu-id="b99d8-291">Karmaşık iç içe geçmiş türler kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-291">Using nested complex types</span></span>**

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample20.js)]

## <a name="creating-and-using-page-methods"></a><span data-ttu-id="b99d8-292">Sayfa yöntemleri oluşturma ve kullanma</span><span class="sxs-lookup"><span data-stu-id="b99d8-292">Creating and Using Page Methods</span></span>

<span data-ttu-id="b99d8-293">Web Hizmetleri, bir ASP.NET AJAX sayfaları istemciler dahil birçok yeniden kullanılabilir hizmetleri kullanıma sunmak için mükemmel bir yol sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-293">Web Services provide an excellent way to expose re-useable services to a variety of clients including ASP.NET AJAX pages.</span></span> <span data-ttu-id="b99d8-294">Ancak, bir sayfa olmaz sürekli kullanılabilir veya diğer sayfalar tarafından paylaşılan verileri almak için gereken yere durumlar olabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-294">However, there may be cases where a page needs to retrieve data that won't ever be used or shared by other pages.</span></span> <span data-ttu-id="b99d8-295">Hizmet yalnızca tek bir sayfa tarafından kullanılmadığından bu durumda, verilere erişmek için sayfayı izin vermek için bir .asmx dosya düşünülecek gibi görünebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-295">In this case, making an .asmx file to allow the page to access the data may seem like overkill since the service is only used by a single page.</span></span>

<span data-ttu-id="b99d8-296">ASP.NET AJAX Web hizmeti gibi çağrıları tek başına .asmx dosyalarını oluşturmadan yapmak için başka bir mekanizma sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-296">ASP.NET AJAX provides another mechanism for making Web Service-like calls without creating standalone .asmx files.</span></span> <span data-ttu-id="b99d8-297">Bu, "Sayfa yöntemleri olarak" başvurulan bir yöntem kullanılarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-297">This is done by using a technique referred to as "page methods".</span></span> <span data-ttu-id="b99d8-298">Sayfa, doğrudan bir sayfası veya kod yanında dosyasında katıştırılmış WebMethod özniteliği uygulanmış statik (paylaşılan VB.NET) yöntemleri yöntemlerdir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-298">Page methods are static (shared in VB.NET) methods embedded directly in a page or code-beside file that have the WebMethod attribute applied to them.</span></span> <span data-ttu-id="b99d8-299">WebMethod özniteliği uygulayarak, çalışma zamanında dinamik olarak oluşturulan PageMethods adlı özel bir JavaScript nesnesi kullanılarak çağrılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-299">By applying the WebMethod attribute they can be called using a special JavaScript object named PageMethods that gets dynamically created at runtime.</span></span> <span data-ttu-id="b99d8-300">PageMethods nesnesi JSON serileştirme/seri durumundan çıkarma işleminden ayrıntılarından korur bir proxy görevi görür.</span><span class="sxs-lookup"><span data-stu-id="b99d8-300">The PageMethods object acts as a proxy that shields you from the JSON serialization/deserialization process.</span></span> <span data-ttu-id="b99d8-301">PageMethods nesne kullanmak için ScriptManager'ın EnablePageMethods özelliği true olarak ayarlamanız gerekir olduğunu unutmayın.</span><span class="sxs-lookup"><span data-stu-id="b99d8-301">Note that in order to use the PageMethods object you must set the ScriptManager's EnablePageMethods property to true.</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample21.aspx)]

<span data-ttu-id="b99d8-302">17 listeleme ASP.NET kodu yanında sınıfında iki sayfa yöntemleri tanımlayan bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-302">Listing 17 shows an example of defining two page methods in an ASP.NET code-beside class.</span></span> <span data-ttu-id="b99d8-303">Bu yöntemler uygulamasında yer alan bir iş katmanı sınıftaki veri\_Web sitesinin kod klasörü.</span><span class="sxs-lookup"><span data-stu-id="b99d8-303">These methods retrieve data from a business layer class located in the App\_Code folder of the Website.</span></span>

**<span data-ttu-id="b99d8-304">17 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-304">Listing 17.</span></span> <span data-ttu-id="b99d8-305">Sayfa yöntemleri tanımlama.</span><span class="sxs-lookup"><span data-stu-id="b99d8-305">Defining page methods.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample22.cs)]

<span data-ttu-id="b99d8-306">ScriptManager sayfasında Web yöntemleri varlığını algıladığında daha önce bahsedilen PageMethods nesneye dinamik başvuru oluşturur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-306">When ScriptManager detects the presence of Web Methods in the page it generates a dynamic reference to the PageMethods object mentioned earlier.</span></span> <span data-ttu-id="b99d8-307">Web yöntemi çağırma yöntemi ve iletilmesi gereken herhangi bir gerekli parametresi veri adından önce gelen PageMethods sınıfı başvurarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-307">Calling a Web Method is accomplished by referencing the PageMethods class followed by the name of the method and any necessary parameter data that should be passed.</span></span> <span data-ttu-id="b99d8-308">18 kod, daha önce gösterilen iki sayfa metotları çağırma örnekleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-308">Listing 18 shows examples of calling the two page methods shown earlier.</span></span>

**<span data-ttu-id="b99d8-309">18 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-309">Listing 18.</span></span> <span data-ttu-id="b99d8-310">PageMethods JavaScript nesne arama sayfası yöntemleri.</span><span class="sxs-lookup"><span data-stu-id="b99d8-310">Calling page methods with the PageMethods JavaScript object.</span></span>**

[!code-javascript[Main](understanding-asp-net-ajax-web-services/samples/sample23.js)]

<span data-ttu-id="b99d8-311">PageMethods nesnesini kullanarak, bir JavaScript proxy nesnesi kullanmaya çok benzer.</span><span class="sxs-lookup"><span data-stu-id="b99d8-311">Using the PageMethods object is very similar to using a JavaScript proxy object.</span></span> <span data-ttu-id="b99d8-312">Önce tüm sayfa yöntemine geçirilen ve ardından zaman uyumsuz çağrı döndürdüğünde çağrılması gereken geri çağırma işlevi tanımlayan parametre verileri belirtin.</span><span class="sxs-lookup"><span data-stu-id="b99d8-312">You first specify all of the parameter data that should be passed to the page method and then define the callback function that should be called when the asynchronous call returns.</span></span> <span data-ttu-id="b99d8-313">Bir hata geri çağırma de belirtilebilir (hata işleme örneği için listeleme 14'e bakın).</span><span class="sxs-lookup"><span data-stu-id="b99d8-313">A failure callback can also be specified (refer to Listing 14 for an example of handling failures).</span></span>

## <a name="the-autocompleteextender-and-the-aspnet-ajax-toolkit"></a><span data-ttu-id="b99d8-314">AutoCompleteExtender ve ASP.NET AJAX Araç Seti</span><span class="sxs-lookup"><span data-stu-id="b99d8-314">The AutoCompleteExtender and the ASP.NET AJAX Toolkit</span></span>

<span data-ttu-id="b99d8-315">ASP.NET AJAX Araç Seti (kullanılabilir [ http://ajax.asp.net ](http://ajax.asp.net)) Web hizmetlerine erişmek için kullanılan çeşitli denetimler sunar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-315">The ASP.NET AJAX Toolkit (available from [http://ajax.asp.net](http://ajax.asp.net)) offers several controls that can be used to access Web Services.</span></span> <span data-ttu-id="b99d8-316">Özellikle, adlı faydalı bir Denetim Araç Seti içeren `AutoCompleteExtender` Web hizmetlerini çağırır ve herhangi bir JavaScript kodu yazmadan sayfalarında verileri göstermek için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-316">Specifically, the toolkit contains a useful control named `AutoCompleteExtender` that can be used to call Web Services and show data in pages without writing any JavaScript code at all.</span></span>

<span data-ttu-id="b99d8-317">AutoCompleteExtender denetimi var olan bir metin kutusu işlevlerini genişletmek ve kullanıcıların daha fazla, aradığınız verileri kolayca bulmasına yardımcı olmak için kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-317">The AutoCompleteExtender control can be used to extend existing functionality of a textbox and help users more easily locate data they're looking for.</span></span> <span data-ttu-id="b99d8-318">Bir metin kutusuna yazarken denetimi Web hizmetini sorgulama için kullanılabilir ve metin kutusunun altındaki sonuçlar dinamik olarak gösterir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-318">As they type into a textbox the control can be used to query a Web Service and shows results below the textbox dynamically.</span></span> <span data-ttu-id="b99d8-319">Şekil 4 destek uygulama için müşteri kimliklerini görüntülenecek AutoCompleteExtender denetimi kullanarak bir örnek gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-319">Figure 4 shows an example of using the AutoCompleteExtender control to display customer ids for a support application.</span></span> <span data-ttu-id="b99d8-320">Kullanıcı TextBox'a farklı karakter türleri gibi farklı öğeler, bunların giriş sırasında göre aşağıda gösterilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-320">As the user types different characters into the textbox, different items will be shown below it based upon their input.</span></span> <span data-ttu-id="b99d8-321">Kullanıcılar, ardından istenen müşteri kimliği seçebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-321">Users can then select the desired customer id.</span></span>

<span data-ttu-id="b99d8-322">ASP.NET AJAX sayfa içinde AutoCompleteExtender kullanarak AjaxControlToolkit.dll derleme Web sitesinin bin klasörüne erişmeye eklenmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-322">Using the AutoCompleteExtender within an ASP.NET AJAX page requires that the AjaxControlToolkit.dll assembly be added to the Website's bin folder.</span></span> <span data-ttu-id="b99d8-323">Araç Seti derleme eklendikten sonra içerdiği denetimler, uygulamadaki tüm sayfalar için kullanılabilir olacak şekilde, web.config dosyasında başvurmak isteyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-323">Once the toolkit assembly has been added, you'll want to reference it in web.config so that the controls it contains are available to all pages in an application.</span></span> <span data-ttu-id="b99d8-324">Bu Web.Config'deki içinde aşağıdaki etiketi ekleyerek yapılabilir &lt;denetimleri&gt; etiketi:</span><span class="sxs-lookup"><span data-stu-id="b99d8-324">This can be done by adding the following tag within web.config's &lt;controls&gt; tag:</span></span>

[!code-xml[Main](understanding-asp-net-ajax-web-services/samples/sample24.xml)]

<span data-ttu-id="b99d8-325">Yalnızca belirli bir sayfaya denetimi kullanmak için gerektiğinde web.config güncelleştiriliyor yerine sonraki gösterildiği bir sayfanın üstüne başvuru yönergesi ekleyerek başvuru:</span><span class="sxs-lookup"><span data-stu-id="b99d8-325">In cases where you only need to use the control in a specific page you can reference it by adding the Reference directive to the top of a page as shown next rather than updating web.config:</span></span>

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample25.aspx)]


[![U<span data-ttu-id="b99d8-326">AutoCompleteExtender denetim güvenebilirler.]</span><span class="sxs-lookup"><span data-stu-id="b99d8-326">sing the AutoCompleteExtender control.]</span></span>(understanding-asp-net-ajax-web-services/_static/image11.png)](understanding-asp-net-ajax-web-services/_static/image10.png)

<span data-ttu-id="b99d8-327">**Şekil 4**: AutoCompleteExtender denetim kullanma.</span><span class="sxs-lookup"><span data-stu-id="b99d8-327">**Figure 4**: Using the AutoCompleteExtender control.</span></span>  <span data-ttu-id="b99d8-328">([Tam boyutlu görüntüyü görmek için tıklatın](understanding-asp-net-ajax-web-services/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="b99d8-328">([Click to view full-size image](understanding-asp-net-ajax-web-services/_static/image12.png))</span></span>


<span data-ttu-id="b99d8-329">ASP.NET AJAX Araç Seti kullanmak için Web sitesi yapılandırıldıktan sonra normal bir ASP.NET sunucu denetimi eklersiniz gibi AutoCompleteExtender denetim sayfasına çok eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-329">Once the Website has been configured to use the ASP.NET AJAX Toolkit, an AutoCompleteExtender control can be added into the page much like you'd add a regular ASP.NET server control.</span></span> <span data-ttu-id="b99d8-330">19 kod, bir Web hizmeti çağırmak amacıyla denetimi kullanarak bir örnek gösterir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-330">Listing 19 shows an example of using the control to call a Web Service.</span></span>

**<span data-ttu-id="b99d8-331">19 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-331">Listing 19.</span></span> <span data-ttu-id="b99d8-332">ASP.NET AJAX Araç Seti AutoCompleteExtender denetim kullanma.</span><span class="sxs-lookup"><span data-stu-id="b99d8-332">Using the ASP.NET AJAX Toolkit AutoCompleteExtender control.</span></span>**

[!code-aspx[Main](understanding-asp-net-ajax-web-services/samples/sample26.aspx)]

<span data-ttu-id="b99d8-333">AutoCompleteExtender, sunucu denetimleri bulunan standart kimliği ve runat özelliklerini de dahil olmak üzere birçok farklı özelliğe sahiptir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-333">The AutoCompleteExtender has several different properties including the standard ID and runat properties found on server controls.</span></span> <span data-ttu-id="b99d8-334">Bunlara ek olarak, bunu önce Web hizmeti bir son kullanıcı türleri için verileri sorguladı karakterlerinin kaçının tutulacağını tanımlamanızı sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-334">In addition to these, it allows you to define how many characters an end user types before the Web Service is queried for data.</span></span> <span data-ttu-id="b99d8-335">Listeleme 19'gösterilen MinimumPrefixLength özelliği Hizmeti'nin TextBox'a bir karakter girildikten her zaman çağrılmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-335">The MinimumPrefixLength property shown in Listing 19 causes the service to be called each time a character is typed into the textbox.</span></span> <span data-ttu-id="b99d8-336">Bu her zaman bir karakter Web hizmeti kullanıcı türleri olduğundan, bu değer ayarlandığında metin kutusuna karakterlerle eşleşen değeri aramak için çağrılacak dikkatli olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-336">You'll want to be careful setting this value since each time the user types a character the Web Service will be called to search for values that match the characters in the textbox.</span></span> <span data-ttu-id="b99d8-337">Web yöntemi hedef yanı sıra Web hizmetini çağırmak için sırasıyla ServicePath ve ServiceMethod özellikleri kullanılarak tanımlanır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-337">The Web Service to call as well as the target Web Method are defined using the ServicePath and ServiceMethod properties respectively.</span></span> <span data-ttu-id="b99d8-338">Son olarak, hangi metin kutusundaki AutoCompleteExtender denetime bağlama TargetControlID özelliği tanımlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-338">Finally, the TargetControlID property identifies which textbox to hook the AutoCompleteExtender control to.</span></span>

<span data-ttu-id="b99d8-339">Çağrılan Web hizmeti daha önce bahsedildiği gibi uygulanan ScriptService özniteliği olmalıdır ve ' % s'hedef Web yöntemini prefixText ve sayısı adlı iki parametre kabul etmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-339">The Web Service being called must have the ScriptService attribute applied as discussed earlier and the target Web Method must accept two parameters named prefixText and count.</span></span> <span data-ttu-id="b99d8-340">PrefixText parametre son kullanıcı tarafından yazılan karakter ve sayı parametresi döndürmek için ne kadar öğenin gösterir (varsayılan değer 10'dur).</span><span class="sxs-lookup"><span data-stu-id="b99d8-340">The prefixText parameter represents the characters typed by the end user and the count parameter represents how many items to return (the default is 10).</span></span> <span data-ttu-id="b99d8-341">20 listeleme GetCustomerIDs Web önceki listeleme 19'gösterilen AutoCompleteExtender denetimi tarafından çağrılan yöntemi bir örneği gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-341">Listing 20 shows an example of the GetCustomerIDs Web Method called by the AutoCompleteExtender control shown earlier in Listing 19.</span></span> <span data-ttu-id="b99d8-342">Web yöntemi sırayla çağrıları veri verileri filtreleme ve eşleşen sonuçları döndüren işleyen yöntem katman, iş katmanı yöntemi çağırır.</span><span class="sxs-lookup"><span data-stu-id="b99d8-342">The Web Method calls a business layer method that in turn calls a data layer method that handles filtering the data and returning the matching results.</span></span> <span data-ttu-id="b99d8-343">Veri katmanı yöntemi için kod listeleme 21'de gösterilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-343">The code for the data layer method is shown in Listing 21.</span></span>

**<span data-ttu-id="b99d8-344">20 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-344">Listing 20.</span></span> <span data-ttu-id="b99d8-345">AutoCompleteExtender denetiminden gönderilen verileri filtreleme.</span><span class="sxs-lookup"><span data-stu-id="b99d8-345">Filtering data sent from the AutoCompleteExtender control.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample27.cs)]

**<span data-ttu-id="b99d8-346">21 listesi.</span><span class="sxs-lookup"><span data-stu-id="b99d8-346">Listing 21.</span></span> <span data-ttu-id="b99d8-347">Sonuçlar üzerinde son kullanıcı girişi tabanlı filtreleme.</span><span class="sxs-lookup"><span data-stu-id="b99d8-347">Filtering results based upon end user input.</span></span>**

[!code-csharp[Main](understanding-asp-net-ajax-web-services/samples/sample28.cs)]

## <a name="conclusion"></a><span data-ttu-id="b99d8-348">Sonuç</span><span class="sxs-lookup"><span data-stu-id="b99d8-348">Conclusion</span></span>

<span data-ttu-id="b99d8-349">ASP.NET AJAX, çok sayıda istek ve yanıt iletileri işlemek için özel bir JavaScript kodu yazmadan Web hizmetlerini çağırmak için mükemmel destek sağlar.</span><span class="sxs-lookup"><span data-stu-id="b99d8-349">ASP.NET AJAX provides excellent support for calling Web Services without writing a lot of custom JavaScript code to handle the request and response messages.</span></span> <span data-ttu-id="b99d8-350">Bu makalede gördüğünüz JSON iletilerini işlemek ve ScriptManager denetimini kullanarak JavaScript proxy'leri tanımlama etkinleştirmek için .NET Web hizmetlerini AJAX etkinleştir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-350">In this article you've seen how to AJAX-enable .NET Web Services to enable them to process JSON messages and how to define JavaScript proxies using the ScriptManager control.</span></span> <span data-ttu-id="b99d8-351">Ayrıca, nasıl JavaScript proxy'leri Web hizmetlerini çağırmak için kullanılan basit ve karmaşık türler işlemek ve hatalarla uğraşmak gördünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-351">You've also seen how JavaScript proxies can be used to call Web Services, handle simple and complex types and deal with failures.</span></span> <span data-ttu-id="b99d8-352">Son olarak, oluşturma ve Web hizmeti çağrıları yapma sürecini basitleştirmek için sayfa yöntemleri'nın nasıl kullanılabileceğini ve yazarken AutoCompleteExtender denetim Yardım son kullanıcılara nasıl sağlayabilirsiniz gördünüz.</span><span class="sxs-lookup"><span data-stu-id="b99d8-352">Finally, you've seen how page methods can be used to simplify the process of creating and making Web Service calls and how the AutoCompleteExtender control can provide help to end users as they type.</span></span> <span data-ttu-id="b99d8-353">ASP.NET AJAX içinde kullanılabilir UpdatePanel kesinlikle, kolaylık sağlaması nedeniyle çok sayıda AJAX programcıları için tercih ettiğiniz denetim olsa da, JavaScript proxy'leri Web hizmetlerini çağırmak nasıl bilmeden birçok uygulamada yararlı olabilir.</span><span class="sxs-lookup"><span data-stu-id="b99d8-353">Although the UpdatePanel available in ASP.NET AJAX will certainly be the control of choice for many AJAX programmers due to its simplicity, knowing how to call Web Services through JavaScript proxies can be useful in many applications.</span></span>

## <a name="bio"></a><span data-ttu-id="b99d8-354">Bio</span><span class="sxs-lookup"><span data-stu-id="b99d8-354">Bio</span></span>

<span data-ttu-id="b99d8-355">Dan Wahlin (Microsoft en değerli Professional ASP.NET ve XML Web Hizmetleri) olan arabirimi teknik eğitim sırasında bir .NET geliştirme Eğitmen ve mimari Danışman ([http://www.interfacett.com](http://www.interfacett.com)).</span><span class="sxs-lookup"><span data-stu-id="b99d8-355">Dan Wahlin (Microsoft Most Valuable Professional for ASP.NET and XML Web Services) is a .NET development instructor and architecture consultant at Interface Technical Training ([http://www.interfacett.com](http://www.interfacett.com)).</span></span> <span data-ttu-id="b99d8-356">Dan kurulan ASP.NET geliştiricilerinin Web sitesi için XML ([www.XMLforASP.NET](http://www.XMLforASP.NET)) üzerinde INETA konuşmacının kuruluşu olan ve çeşitli konferanslarda konuşur.</span><span class="sxs-lookup"><span data-stu-id="b99d8-356">Dan founded the XML for ASP.NET Developers Web site ([www.XMLforASP.NET](http://www.XMLforASP.NET)), is on the INETA Speaker's Bureau and speaks at several conferences.</span></span> <span data-ttu-id="b99d8-357">Dan Professional Windows DNA (Wrox), ASP.NET yazarlarından: İpuçları, öğreticiler ve kod (kendi), ASP.NET 1.1 Insider çözümleri, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP yönlendirir ve (kendi) ASP.NET geliştiricileri için yazılan XML.</span><span class="sxs-lookup"><span data-stu-id="b99d8-357">Dan co-authored Professional Windows DNA (Wrox), ASP.NET: Tips, Tutorials and Code (Sams), ASP.NET 1.1 Insider Solutions, Professional ASP.NET 2.0 AJAX (Wrox), ASP.NET 2.0 MVP Hacks and authored XML for ASP.NET Developers (Sams).</span></span> <span data-ttu-id="b99d8-358">He kodu, makaleler veya books değil yazarken, yazma ve müzik kaydetme ve golf ve kendi eşim ve çocuklar Basketbol yürütme Dan ölçeklenebilme.</span><span class="sxs-lookup"><span data-stu-id="b99d8-358">When he's not writing code, articles or books, Dan enjoys writing and recording music and playing golf and basketball with his wife and kids.</span></span>

<span data-ttu-id="b99d8-359">Scott Cate 1997'den beri Microsoft Web teknolojileri ile çalışmakta olduğu ve myKB.com Yardımcısı ([www.myKB.com](http://www.myKB.com)) tabanlı Bilgi Bankası yazılım çözümlerinizi odaklı uygulamaları burada kendisinin ASP.NET yazma konusunda uzmanlaşmış.</span><span class="sxs-lookup"><span data-stu-id="b99d8-359">Scott Cate has been working with Microsoft Web technologies since 1997 and is the President of myKB.com ([www.myKB.com](http://www.myKB.com)) where he specializes in writing ASP.NET based applications focused on Knowledge Base Software solutions.</span></span> <span data-ttu-id="b99d8-360">Scott temas kurulabileceğini e-posta aracılığıyla [ scott.cate@myKB.com ](mailto:scott.cate@myKB.com) veya kendi blog'da [ScottCate.com](http://ScottCate.com)</span><span class="sxs-lookup"><span data-stu-id="b99d8-360">Scott can be contacted via email at [scott.cate@myKB.com](mailto:scott.cate@myKB.com) or his blog at [ScottCate.com](http://ScottCate.com)</span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="b99d8-361">[Önceki](understanding-asp-net-ajax-localization.md)
> [İleri](understanding-asp-net-ajax-debugging-capabilities.md)</span><span class="sxs-lookup"><span data-stu-id="b99d8-361">[Previous](understanding-asp-net-ajax-localization.md)
[Next](understanding-asp-net-ajax-debugging-capabilities.md)</span></span>
