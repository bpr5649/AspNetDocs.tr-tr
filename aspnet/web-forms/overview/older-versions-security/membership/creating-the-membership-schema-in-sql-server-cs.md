---
uid: web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
title: SQL Server (C#) ' de üyelik şeması oluşturuluyor | Microsoft Docs
author: rick-anderson
description: Bu öğretici, SqlMembershipProvider kullanmak için gerekli şemayı veritabanına ekleme tekniklerini inceleyerek başlar. Bunu izleyerek Wi...
ms.author: riande
ms.date: 01/18/2008
ms.assetid: b4ac129d-1b8e-41ca-a38f-9b19d7c7bb0e
msc.legacyurl: /web-forms/overview/older-versions-security/membership/creating-the-membership-schema-in-sql-server-cs
msc.type: authoredcontent
ms.openlocfilehash: 97623e7c13ab7799b9dadbb8e52be8e0cd99e252
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74594947"
---
# <a name="creating-the-membership-schema-in-sql-server-c"></a><span data-ttu-id="31b51-104">SQL Server’da Üyelik Şeması Oluşturma (C#)</span><span class="sxs-lookup"><span data-stu-id="31b51-104">Creating the Membership Schema in SQL Server (C#)</span></span>

<span data-ttu-id="31b51-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="31b51-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="31b51-106">[Kodu indirin](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) veya [PDF 'yi indirin](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span><span class="sxs-lookup"><span data-stu-id="31b51-106">[Download Code](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/ASPNET_Security_Tutorial_04_CS.zip) or [Download PDF](https://download.microsoft.com/download/3/f/5/3f5a8605-c526-4b34-b3fd-a34167117633/aspnet_tutorial04_MembershipSetup_cs.pdf)</span></span>

> <span data-ttu-id="31b51-107">Bu öğretici, SqlMembershipProvider kullanmak için gerekli şemayı veritabanına ekleme tekniklerini inceleyerek başlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-107">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the SqlMembershipProvider.</span></span> <span data-ttu-id="31b51-108">Bunu izleyerek, şemadaki anahtar tabloları inceleyecek ve amaçlarını ve önemini tartışacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-108">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="31b51-109">Bu öğretici, üyelik çerçevesinin hangi sağlayıcıya kullanması gerektiğini bir ASP.NET uygulamasına nasıl söyleyeceğinizi gösteren bir görünüm ile sonlanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-109">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

## <a name="introduction"></a><span data-ttu-id="31b51-110">Giriş</span><span class="sxs-lookup"><span data-stu-id="31b51-110">Introduction</span></span>

<span data-ttu-id="31b51-111">Web sitesi ziyaretçilerinin tanımlanması için form kimlik doğrulaması kullanılarak incelenen önceki iki öğretici.</span><span class="sxs-lookup"><span data-stu-id="31b51-111">The previous two tutorials examined using forms authentication to identify website visitors.</span></span> <span data-ttu-id="31b51-112">Forms kimlik doğrulama çerçevesi, geliştiricilerin bir kullanıcıyı bir Web sitesine oturum açmasını ve kimlik doğrulama biletleri aracılığıyla sayfa ziyaretlerinin tamamında hatırlamasını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="31b51-112">The forms authentication framework makes it easy for developers to log a user into a website and to remember them across page visits through the use of authentication tickets.</span></span> <span data-ttu-id="31b51-113">`FormsAuthentication` sınıfı, Bilet oluşturma ve ziyaretçi tanımlama bilgilerine ekleme yöntemlerini içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-113">The `FormsAuthentication` class includes methods for generating the ticket and adding it to the visitor's cookies.</span></span> <span data-ttu-id="31b51-114">`FormsAuthenticationModule` tüm gelen istekleri inceler ve geçerli bir kimlik doğrulama bileti olan kişiler için, geçerli isteğiyle bir `GenericPrincipal` ve `FormsIdentity` nesnesi oluşturur ve ilişkilendirir.</span><span class="sxs-lookup"><span data-stu-id="31b51-114">The `FormsAuthenticationModule` examines all incoming requests and, for those with a valid authentication ticket, creates and associates a `GenericPrincipal` and a `FormsIdentity` object with the current request.</span></span> <span data-ttu-id="31b51-115">Forms kimlik doğrulaması yalnızca bir ziyaretçi için oturum açarken ve sonraki isteklerde, kullanıcının kimliğini belirlemede bu bileti ayrıştırmaya yönelik bir kimlik doğrulama bileti veren bir mekanizmadır.</span><span class="sxs-lookup"><span data-stu-id="31b51-115">Forms authentication is merely a mechanism for granting an authentication ticket to a visitor when logging in and, on subsequent requests, parsing that ticket to determine the user's identity.</span></span> <span data-ttu-id="31b51-116">Bir Web uygulamasının Kullanıcı hesaplarını desteklemesi için yine de bir kullanıcı deposu uygulamanız ve kimlik bilgilerini doğrulamak, yeni kullanıcıları kaydettirmek ve Kullanıcı hesabı ile ilgili diğer görevlerin sayısız ' i için işlevsellik eklemeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-116">For a web application to support user accounts, we still need to implement a user store and add functionality to validate credentials, register new users, and the myriad of other user account-related tasks.</span></span>

<span data-ttu-id="31b51-117">ASP.NET 2,0 ' den önce, geliştiriciler Kullanıcı hesabı ile ilgili tüm görevleri uygulamaya yönelik kanca üzerinde vardı.</span><span class="sxs-lookup"><span data-stu-id="31b51-117">Prior to ASP.NET 2.0, developers were on the hook for implementing all of these user account-related tasks.</span></span> <span data-ttu-id="31b51-118">Neyse ki ASP.NET ekibi bu eksiklikleri kabul ederse ve üyelik çerçevesini ASP.NET 2,0 ile kullanıma sunmuştur.</span><span class="sxs-lookup"><span data-stu-id="31b51-118">Fortunately the ASP.NET team recognized this shortcoming and introduced the Membership framework with ASP.NET 2.0.</span></span> <span data-ttu-id="31b51-119">Üyelik çerçevesi, ana Kullanıcı hesabı ile ilgili görevleri yerine getirmeye yönelik bir programlama arabirimi sağlayan .NET Framework bir sınıf kümesidir.</span><span class="sxs-lookup"><span data-stu-id="31b51-119">The Membership framework is a set of classes in the .NET Framework that provide a programmatic interface for accomplishing core user account-related tasks.</span></span> <span data-ttu-id="31b51-120">Bu çerçeve, geliştiricilerin standartlaştırılmış bir API 'ye özelleştirilmiş bir uygulama takmasını sağlayan [Sağlayıcı modeli](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx)oluşturulmuştur.</span><span class="sxs-lookup"><span data-stu-id="31b51-120">This framework is built atop the [provider model](http://aspnet.4guysfromrolla.com/articles/101905-1.aspx), which allows developers to plug a customized implementation into a standardized API.</span></span>

<span data-ttu-id="31b51-121"><a id="Tutorial1"> </a> [*Güvenlik temelleri ve ASP.NET Destek*](../introduction/security-basics-and-asp-net-support-cs.md) öğreticisinde açıklandığı gibi .NET Framework, iki yerleşik üyelik sağlayıcısıyla birlikte gelir: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) ve [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span><span class="sxs-lookup"><span data-stu-id="31b51-121">As discussed in the <a id="Tutorial1"></a>[*Security Basics and ASP.NET Support*](../introduction/security-basics-and-asp-net-support-cs.md) tutorial, the .NET Framework ships with two built-in Membership providers: [`ActiveDirectoryMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.activedirectorymembershipprovider.aspx) and [`SqlMembershipProvider`](https://msdn.microsoft.com/library/system.web.security.sqlmembershipprovider.aspx).</span></span> <span data-ttu-id="31b51-122">Adından da anlaşılacağı gibi `SqlMembershipProvider`, kullanıcı deposu olarak bir Microsoft SQL Server veritabanı kullanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-122">As its name implies, the `SqlMembershipProvider` uses a Microsoft SQL Server database as the user store.</span></span> <span data-ttu-id="31b51-123">Bu sağlayıcıyı bir uygulamada kullanabilmeniz için sağlayıcıya mağaza olarak hangi veritabanının kullanılacağını söylememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-123">In order to use this provider in an application, we need to tell the provider what database to use as the store.</span></span> <span data-ttu-id="31b51-124">Imagine olabileceğiniz gibi `SqlMembershipProvider`, Kullanıcı Mağazası veritabanının belirli veritabanı tablolarının, görünümlerin ve saklı yordamların olmasını bekler.</span><span class="sxs-lookup"><span data-stu-id="31b51-124">As you might imagine, the `SqlMembershipProvider` expects the user store database to have certain database tables, views, and stored procedures.</span></span> <span data-ttu-id="31b51-125">Bu beklenen şemayı seçili veritabanına eklememiz gerekiyor.</span><span class="sxs-lookup"><span data-stu-id="31b51-125">We need to add this expected schema to the selected database.</span></span>

<span data-ttu-id="31b51-126">Bu öğretici, `SqlMembershipProvider`kullanmak için gerekli şemayı veritabanına ekleme tekniklerini inceleyerek başlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-126">This tutorial starts by examining techniques for adding the necessary schema to the database in order to use the `SqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-127">Bunu izleyerek, şemadaki anahtar tabloları inceleyecek ve amaçlarını ve önemini tartışacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-127">Following that, we will examine the key tables in the schema and discuss their purpose and importance.</span></span> <span data-ttu-id="31b51-128">Bu öğretici, üyelik çerçevesinin hangi sağlayıcıya kullanması gerektiğini bir ASP.NET uygulamasına nasıl söyleyeceğinizi gösteren bir görünüm ile sonlanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-128">This tutorial ends with a look at how to tell an ASP.NET application which provider the Membership framework should use.</span></span>

<span data-ttu-id="31b51-129">Haydi başlayın!</span><span class="sxs-lookup"><span data-stu-id="31b51-129">Let's get started!</span></span>

## <a name="step-1-deciding-where-to-place-the-user-store"></a><span data-ttu-id="31b51-130">1\. Adım: Kullanıcı mağazasının yerleştirileceği yere karar verme</span><span class="sxs-lookup"><span data-stu-id="31b51-130">Step 1: Deciding Where to Place the User Store</span></span>

<span data-ttu-id="31b51-131">Bir ASP.NET uygulamasının verileri genellikle veritabanında bir dizi tabloda depolanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-131">An ASP.NET application's data is commonly stored in a number of tables in a database.</span></span> <span data-ttu-id="31b51-132">`SqlMembershipProvider` veritabanı şemasını uygularken, üyelik şemasının uygulama verileriyle aynı veritabanına mı yoksa alternatif bir veritabanında mı yerleştirileceğini karar vermelidir.</span><span class="sxs-lookup"><span data-stu-id="31b51-132">When implementing the `SqlMembershipProvider` database schema we must decide whether to place the Membership schema in the same database as the application data or in an alternate database.</span></span>

<span data-ttu-id="31b51-133">Aşağıdaki nedenlerden dolayı uygulama verileriyle aynı veritabanında üyelik şemasını bulma öneriyorum:</span><span class="sxs-lookup"><span data-stu-id="31b51-133">I recommend locating the Membership schema in the same database as the application data for the following reasons:</span></span>

- <span data-ttu-id="31b51-134">Verileri bir veritabanında kapsüllenmiş bir uygulamayla, iki ayrı veritabanına **sahip bir uygulamadan** anlaşılması, bakımını yapmak ve dağıtmak daha kolay olur.</span><span class="sxs-lookup"><span data-stu-id="31b51-134">**Maintainability** � an application whose data is encapsulated in one database is easier to understand, maintain, and deploy than an application that has two separate databases.</span></span>
- <span data-ttu-id="31b51-135">**Ilişkisel bütünlük** uygulama tablolarıyla aynı veritabanındaki üyelikle ilişkili tabloları bularak, üyelikle ilgili tablolardaki birincil anahtarlar ve ilgili uygulama tablolarında [yabancı anahtar kısıtlamaları](http://en.wikipedia.org/wiki/Foreign_key) kurmak mümkündür.</span><span class="sxs-lookup"><span data-stu-id="31b51-135">**Relational Integrity** � by locating the Membership-related tables in the same database as the application tables it is possible to establish [foreign key constraints](http://en.wikipedia.org/wiki/Foreign_key) between the primary keys in the Membership-related tables and related application tables.</span></span>

<span data-ttu-id="31b51-136">Kullanıcı mağazalarının ve uygulama verilerinin ayrı veritabanlarına ayrılması yalnızca, her birinin ayrı veritabanları kullandığı, ancak ortak bir kullanıcı deposu paylaşması gereken birden çok uygulamanız varsa anlamlıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-136">Decoupling the user store and application data into separate databases only makes sense if you have multiple applications that each use separate databases, but need to share a common user store.</span></span>

### <a name="creating-a-database"></a><span data-ttu-id="31b51-137">Veritabanı Oluşturma</span><span class="sxs-lookup"><span data-stu-id="31b51-137">Creating a Database</span></span>

<span data-ttu-id="31b51-138">İkinci öğreticide henüz bir veritabanına ihtiyaç duyulmadığından oluşturmakta olduğumuz uygulama.</span><span class="sxs-lookup"><span data-stu-id="31b51-138">The application we have been building since the second tutorial has not yet needed a database.</span></span> <span data-ttu-id="31b51-139">Ancak, kullanıcı deposu için şimdi bir tane gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-139">We need one now, however, for the user store.</span></span> <span data-ttu-id="31b51-140">Şimdi bir tane oluşturup `SqlMembershipProvider` sağlayıcısı tarafından gereken şemayı ekleyin (bkz. 2. adım).</span><span class="sxs-lookup"><span data-stu-id="31b51-140">Let's create one and then add to it the schema required by the `SqlMembershipProvider` provider (see Step 2).</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-141">Bu öğretici serisinin tamamında uygulama tablolarımızı ve `SqlMembershipProvider` şemasını depolamak için bir [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) veritabanı kullanacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-141">Throughout this tutorial series we will be using a [Microsoft SQL Server 2005 Express Edition](https://msdn.microsoft.com/sql/Aa336346.aspx) database to store our application tables and the `SqlMembershipProvider` schema.</span></span> <span data-ttu-id="31b51-142">Bu karar, iki nedenden dolayı yapılmıştır: ilk olarak, maliyet-ücretsiz-Express sürümü, SQL Server 2005 ' in en fazla erişilebilir sürümüdür; İkinci olarak, SQL Server 2005 Express Sürüm veritabanları doğrudan Web uygulamasının `App_Data` klasörüne yerleştirilebilir, bu da veritabanını ve Web uygulamasını bir ZIP dosyasında birlikte paketleyip, özel kurulum yönergeleri veya yapılandırma seçenekleri olmadan yeniden dağıtmak için bir geçiş yapar.</span><span class="sxs-lookup"><span data-stu-id="31b51-142">This decision was made for two reasons: first, due to its cost - free - the Express Edition is the most readably accessible version of SQL Server 2005; second, SQL Server 2005 Express Edition databases can be placed directly in the web application's `App_Data` folder, making it a cinch to package the database and web application together in one ZIP file and to redeploy it without any special setup instructions or configuration options.</span></span> <span data-ttu-id="31b51-143">SQL Server Express olmayan bir sürüm sürümünü kullanarak izlemeyi tercih ediyorsanız, ücretsiz olarak kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-143">If you'd prefer to follow along using a non-Express Edition version of SQL Server, feel free.</span></span> <span data-ttu-id="31b51-144">Adımlar neredeyse aynıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-144">The steps are virtually identical.</span></span> <span data-ttu-id="31b51-145">`SqlMembershipProvider` şeması, Microsoft SQL Server 2000 ve üzerinde herhangi bir sürümle çalışır.</span><span class="sxs-lookup"><span data-stu-id="31b51-145">The `SqlMembershipProvider` schema will work with any version of Microsoft SQL Server 2000 and up.</span></span>

<span data-ttu-id="31b51-146">Çözüm Gezgini, `App_Data` klasörüne sağ tıklayın ve yeni öğe Ekle ' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-146">From the Solution Explorer, right-click on the `App_Data` folder and choose to Add New Item.</span></span> <span data-ttu-id="31b51-147">(Projenizde bir `App_Data` klasörü görmüyorsanız, Çözüm Gezgini projede projeye sağ tıklayın, ASP.NET klasörü Ekle ' yi seçin ve `App_Data`' yı seçin.) Yeni öğe Ekle iletişim kutusundan `SecurityTutorials.mdf`adlı yeni bir SQL veritabanı eklemeyi seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-147">(If you do not see an `App_Data` folder in your project, right-click on the project in Solution Explorer, select Add ASP.NET Folder, and pick `App_Data`.) From the Add New Item dialog box, choose to add a new SQL Database named `SecurityTutorials.mdf`.</span></span> <span data-ttu-id="31b51-148">Bu öğreticide, `SqlMembershipProvider` şemasını bu veritabanına ekleyeceğiz; sonraki öğreticilerde, uygulama verilerimizi yakalamak için ek tablolar oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-148">In this tutorial we will add the `SqlMembershipProvider` schema to this database; in subsequent tutorials we will create additional tables to capture our application data.</span></span>

<span data-ttu-id="31b51-149">[![App_Data klasöre Securityöğreticileri. mdf veritabanı adlı yeni bir SQL veritabanı ekleyin](creating-the-membership-schema-in-sql-server-cs/_static/image2.png)](creating-the-membership-schema-in-sql-server-cs/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-149">[![Add a New SQL Database Named SecurityTutorials.mdf Database to the App_Data Folder](creating-the-membership-schema-in-sql-server-cs/_static/image2.png)](creating-the-membership-schema-in-sql-server-cs/_static/image1.png)</span></span>

<span data-ttu-id="31b51-150">**Şekil 1**: `App_Data` klasörüne `SecurityTutorials.mdf` veritabanı adlı yenı bir SQL veritabanı ekleme ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-150">**Figure 1**: Add a New SQL Database Named `SecurityTutorials.mdf` Database to the `App_Data` Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image3.png))</span></span>

<span data-ttu-id="31b51-151">`App_Data` klasöre bir veritabanı eklemek, Veritabanı Gezgini görünümünde otomatik olarak ekler.</span><span class="sxs-lookup"><span data-stu-id="31b51-151">Adding a database to the `App_Data` folder automatically includes it in the Database Explorer view.</span></span> <span data-ttu-id="31b51-152">(Visual Studio 'nun Express sürümü olmayan sürümünde, Veritabanı Gezgini Sunucu Gezgini olarak adlandırılır.) Veritabanı Gezgini gidin ve tek eklenen `SecurityTutorials` veritabanını genişletin.</span><span class="sxs-lookup"><span data-stu-id="31b51-152">(In the non-Express Edition version of Visual Studio, the Database Explorer is called the Server Explorer.) Go to the Database Explorer and expand the just-added `SecurityTutorials` database.</span></span> <span data-ttu-id="31b51-153">Ekranda Veritabanı Gezgini görmüyorsanız, Görünüm menüsüne gidin ve Veritabanı Gezgini ' i seçin veya CTRL + ALT + S tuşlarına basın.</span><span class="sxs-lookup"><span data-stu-id="31b51-153">If you do not see the Database Explorer on screen, go to the View menu and choose Database Explorer, or hit Ctrl+Alt+S.</span></span> <span data-ttu-id="31b51-154">Şekil 2 ' de gösterildiği gibi, `SecurityTutorials` veritabanı boştur; hiç tablo yok, hiçbir görünüm ve saklı yordam içermez.</span><span class="sxs-lookup"><span data-stu-id="31b51-154">As Figure 2 shows, the `SecurityTutorials` database is empty - it contains no tables, no views, and no stored procedures.</span></span>

<span data-ttu-id="31b51-155">[![Securityöğreticileri veritabanı şu anda boş](creating-the-membership-schema-in-sql-server-cs/_static/image5.png)](creating-the-membership-schema-in-sql-server-cs/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-155">[![The SecurityTutorials Database is Currently Empty](creating-the-membership-schema-in-sql-server-cs/_static/image5.png)](creating-the-membership-schema-in-sql-server-cs/_static/image4.png)</span></span>

<span data-ttu-id="31b51-156">**Şekil 2**: `SecurityTutorials` veritabanı şu anda boş ([tam boyutlu görüntüyü görüntülemek için tıklatın](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-156">**Figure 2**: The `SecurityTutorials` Database is Currently Empty ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image6.png))</span></span>

## <a name="step-2-adding-thesqlmembershipproviderschema-to-the-database"></a><span data-ttu-id="31b51-157">2\. Adım: veritabanına`SqlMembershipProvider`şeması ekleme</span><span class="sxs-lookup"><span data-stu-id="31b51-157">Step 2: Adding the`SqlMembershipProvider`Schema to the Database</span></span>

<span data-ttu-id="31b51-158">`SqlMembershipProvider`, Kullanıcı Mağazası veritabanına yüklenecek belirli bir tablo, görünüm ve saklı yordam kümesi gerektirir.</span><span class="sxs-lookup"><span data-stu-id="31b51-158">The `SqlMembershipProvider` requires a particular set of tables, views, and stored procedures to be installed in the user store database.</span></span> <span data-ttu-id="31b51-159">Bu önkoşul veritabanı nesneleri [`aspnet_regsql.exe` aracı](https://msdn.microsoft.com/library/ms229862.aspx)kullanılarak eklenebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-159">These requisite database objects can be added using the [`aspnet_regsql.exe` tool](https://msdn.microsoft.com/library/ms229862.aspx).</span></span> <span data-ttu-id="31b51-160">Bu dosya `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` klasöründe bulunur.</span><span class="sxs-lookup"><span data-stu-id="31b51-160">This file is located in the `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-161">`aspnet_regsql.exe` aracı hem komut satırı işlevselliği hem de bir grafik kullanıcı arabirimi sunar.</span><span class="sxs-lookup"><span data-stu-id="31b51-161">The `aspnet_regsql.exe` tool offers both command line functionality and a graphical user interface.</span></span> <span data-ttu-id="31b51-162">Grafik arabirimi daha kolay ve bu öğreticide inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-162">The graphical interface is more user friendly and is what we will examine in this tutorial.</span></span> <span data-ttu-id="31b51-163">Komut satırı arabirimi, derleme betikleri veya otomatikleştirilmiş test senaryolarında olduğu gibi `SqlMembershipProvider` şemasının eklenmesi gerektiğinde faydalıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-163">The command line interface is useful when the addition of the `SqlMembershipProvider` schema needs to be automated, such as in build scripts or automated testing scenarios.</span></span>

<span data-ttu-id="31b51-164">`aspnet_regsql.exe` Aracı, belirli bir SQL Server veritabanına *ASP.NET uygulama hizmetleri* eklemek veya kaldırmak için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="31b51-164">The `aspnet_regsql.exe` tool is used to add or remove *ASP.NET application services* to a specified SQL Server database.</span></span> <span data-ttu-id="31b51-165">ASP.NET uygulama hizmetleri, diğer ASP.NET 2,0 çerçevelerinin SQL tabanlı sağlayıcılarının şemaları ile birlikte `SqlMembershipProvider` ve `SqlRoleProvider`için şemaları kapsayabilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-165">The ASP.NET application services encompass the schemas for the `SqlMembershipProvider` and `SqlRoleProvider`, along with the schemas for the SQL-based providers for other ASP.NET 2.0 frameworks.</span></span> <span data-ttu-id="31b51-166">`aspnet_regsql.exe` aracına iki bit bilgi sağlamamız gerekir:</span><span class="sxs-lookup"><span data-stu-id="31b51-166">We need to provide two bits of information to the `aspnet_regsql.exe` tool:</span></span>

- <span data-ttu-id="31b51-167">Uygulama hizmetlerini eklemek mi yoksa kaldırmak mı istediğinizi ve</span><span class="sxs-lookup"><span data-stu-id="31b51-167">Whether we want to add or remove application services, and</span></span>
- <span data-ttu-id="31b51-168">Uygulama Hizmetleri şemasının ekleneceği veya kaldırılacağı veritabanı</span><span class="sxs-lookup"><span data-stu-id="31b51-168">The database from which to add or remove the application services schema</span></span>

<span data-ttu-id="31b51-169">Veritabanının kullanması istenmeden `aspnet_regsql.exe` Aracı, veritabanının bulunduğu sunucunun adını, veritabanına bağlanmak için kullanılacak güvenlik kimlik bilgilerini ve veritabanı adını sağlamamızı ister.</span><span class="sxs-lookup"><span data-stu-id="31b51-169">In prompting for the database to use, the `aspnet_regsql.exe` tool asks us to provide the name of the server the database resides on, the security credentials for connecting to the database, and the database name.</span></span> <span data-ttu-id="31b51-170">SQL Server Express olmayan sürümünü kullanıyorsanız, bir ASP.NET Web sayfası aracılığıyla veritabanıyla çalışırken bir bağlantı dizesi aracılığıyla sağlamanız gereken bilgilerle aynı olduğundan bu bilgileri zaten bilmelisiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-170">If you are using the non-Express Edition of SQL Server, you should already know this information, as it is the same information you must provide through a connection string when working with the database through an ASP.NET web page.</span></span> <span data-ttu-id="31b51-171">`App_Data` klasöründe SQL Server 2005 Express Sürüm veritabanı kullanılırken sunucu ve veritabanı adını belirleme, ancak bir bit daha fazla.</span><span class="sxs-lookup"><span data-stu-id="31b51-171">Determining the server and database name when using a SQL Server 2005 Express Edition database in the `App_Data` folder, however, is a bit more involved.</span></span>

<span data-ttu-id="31b51-172">Aşağıdaki bölümde, `App_Data` klasöründeki bir SQL Server 2005 Express Sürüm veritabanı için sunucu ve veritabanı adını belirtmenin kolay bir yolu incelenir.</span><span class="sxs-lookup"><span data-stu-id="31b51-172">The following section examines a straightforward way for specifying the server and database name for a SQL Server 2005 Express Edition database in the `App_Data` folder.</span></span> <span data-ttu-id="31b51-173">SQL Server 2005 Express Sürüm kullanmıyorsanız Uygulama Hizmetleri bölümünü yüklemeye devam edebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-173">If you are not using SQL Server 2005 Express Edition feel free to skip ahead to the Installing the Application Services section.</span></span>

### <a name="determining-the-server-and-database-name-for-a-sql-server-2005-express-edition-database-in-theapp_datafolder"></a><span data-ttu-id="31b51-174">`App_Data`klasöründeki bir SQL Server 2005 Express Sürüm veritabanı için sunucu ve veritabanı adı belirleniyor</span><span class="sxs-lookup"><span data-stu-id="31b51-174">Determining the Server and Database Name for a SQL Server 2005 Express Edition Database in the`App_Data`Folder</span></span>

<span data-ttu-id="31b51-175">`aspnet_regsql.exe` aracı 'nı kullanabilmeniz için sunucu ve veritabanı adlarını bilmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-175">In order to use the `aspnet_regsql.exe` tool we need to know the server and database names.</span></span> <span data-ttu-id="31b51-176">Sunucu adı `localhost\InstanceName`.</span><span class="sxs-lookup"><span data-stu-id="31b51-176">The server name is `localhost\InstanceName`.</span></span> <span data-ttu-id="31b51-177">Büyük olasılıkla, *ınstancename* `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="31b51-177">Most likely, the *InstanceName* is `SQLExpress`.</span></span> <span data-ttu-id="31b51-178">Ancak, SQL Server 2005 Express Sürüm el ile yüklediyseniz (yani, Visual Studio 'Yu yüklerken onu otomatik olarak yüklememediyseniz), farklı bir örnek adı seçmiş olmanız mümkündür.</span><span class="sxs-lookup"><span data-stu-id="31b51-178">However, if you installed SQL Server 2005 Express Edition manually (that is, you did not install it automatically while installing Visual Studio), then it is possible that you selected a different instance name.</span></span>

<span data-ttu-id="31b51-179">Veritabanı adı, tespit edilecek bir bit kankidır.</span><span class="sxs-lookup"><span data-stu-id="31b51-179">The database name is a bit trickier to determine.</span></span> <span data-ttu-id="31b51-180">`App_Data` klasöründeki veritabanları genellikle veritabanı dosyası yoluyla birlikte [genel benzersiz tanımlayıcı](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) içeren bir veritabanı adına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="31b51-180">Databases in the `App_Data` folder typically have a database name that includes a [globally unique identifier](http://en.wikipedia.org/wiki/Globally_Unique_Identifier) along with the path to the database file.</span></span> <span data-ttu-id="31b51-181">`aspnet_regsql.exe`aracılığıyla uygulama Hizmetleri şemasını eklemek için bu veritabanı adını belirlememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-181">We need to determine this database name in order to add the application services schema through `aspnet_regsql.exe`.</span></span>

<span data-ttu-id="31b51-182">Veritabanı adını belirlemek için en kolay yol SQL Server Management Studio aracılığıyla incelemektir.</span><span class="sxs-lookup"><span data-stu-id="31b51-182">The easiest way to ascertain the database name is to examine it through SQL Server Management Studio.</span></span> <span data-ttu-id="31b51-183">SQL Server Management Studio, SQL Server 2005 veritabanlarının yönetilmesine yönelik grafik bir arabirim sağlar, ancak SQL Server 2005 ' nin Express Edition ile birlikte gelmez.</span><span class="sxs-lookup"><span data-stu-id="31b51-183">SQL Server Management Studio provides a graphical interface for managing SQL Server 2005 databases, but it does not ship with the Express Edition of SQL Server 2005.</span></span> <span data-ttu-id="31b51-184">İyi haber, SQL Server Management Studio Ücretsiz Express sürümünü [indirebileceğiniz](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) yerdir.</span><span class="sxs-lookup"><span data-stu-id="31b51-184">The good news is that [you can download](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en) the free Express Edition of SQL Server Management Studio.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-185">Masaüstünüzde SQL Server 2005 ' nin Express sürümü olmayan bir sürümüne sahipseniz, Management Studio tam sürümü büyük olasılıkla yüklüdür.</span><span class="sxs-lookup"><span data-stu-id="31b51-185">If you also have a non-Express Edition version of SQL Server 2005 installed on your desktop then the full version of Management Studio is likely installed.</span></span> <span data-ttu-id="31b51-186">Aşağıdaki, Express Edition için aşağıda özetlenen adımları izleyerek veritabanı adını tespit etmek üzere tam sürümü kullanabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-186">You can use the full version to determine the database name, following the same steps as outlined below for the Express Edition.</span></span>

<span data-ttu-id="31b51-187">Veritabanı dosyasındaki Visual Studio tarafından uygulanan kilitlerin kapalı olduğundan emin olmak için Visual Studio 'Yu kapatarak başlayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-187">Start by closing Visual Studio to ensure that any locks imposed by Visual Studio on the database file are closed.</span></span> <span data-ttu-id="31b51-188">Sonra, SQL Server Management Studio başlatın ve SQL Server 2005 Express Sürüm için `localhost\InstanceName` veritabanına bağlanın.</span><span class="sxs-lookup"><span data-stu-id="31b51-188">Next, launch SQL Server Management Studio and connect to the `localhost\InstanceName` database for SQL Server 2005 Express Edition.</span></span> <span data-ttu-id="31b51-189">Daha önce belirtildiği gibi, örnek adı `SQLExpress`.</span><span class="sxs-lookup"><span data-stu-id="31b51-189">As noted earlier, chances are the instance name is `SQLExpress`.</span></span> <span data-ttu-id="31b51-190">Kimlik doğrulama seçeneği için Windows kimlik doğrulaması ' nı seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-190">For the Authentication option, select Windows Authentication.</span></span>

<span data-ttu-id="31b51-191">[SQL Server 2005 Express Sürüm örneğine ![bağlanma](creating-the-membership-schema-in-sql-server-cs/_static/image8.png)](creating-the-membership-schema-in-sql-server-cs/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-191">[![Connect to the SQL Server 2005 Express Edition Instance](creating-the-membership-schema-in-sql-server-cs/_static/image8.png)](creating-the-membership-schema-in-sql-server-cs/_static/image7.png)</span></span>

<span data-ttu-id="31b51-192">**Şekil 3**: SQL Server 2005 Express sürüm örneğine bağlanma ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-192">**Figure 3**: Connect to the SQL Server 2005 Express Edition Instance ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image9.png))</span></span>

<span data-ttu-id="31b51-193">SQL Server 2005 Express Sürüm örneğine bağlandıktan sonra, Management Studio veritabanları, güvenlik ayarları, sunucu nesneleri vb. için klasörleri görüntüler.</span><span class="sxs-lookup"><span data-stu-id="31b51-193">After connecting to the SQL Server 2005 Express Edition instance, Management Studio displays folders for the Databases, the Security settings, the Server Objects, and so on.</span></span> <span data-ttu-id="31b51-194">Veritabanları sekmesini genişletirseniz, veritabanı örneğine `SecurityTutorials.mdf` *veritabanının kaydettirilmediğini* görürsünüz. önce veritabanını iliştirmemiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-194">If you expand the Databases tab you will see that the `SecurityTutorials.mdf` database is *not* registered in the database instance - we need to attach the database first.</span></span>

<span data-ttu-id="31b51-195">Veritabanları klasörüne sağ tıklayın ve bağlam menüsünden Ekle ' yi seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-195">Right-click on the Databases folder and choose Attach from the context menu.</span></span> <span data-ttu-id="31b51-196">Bu, veritabanları Ekle iletişim kutusunu görüntüler.</span><span class="sxs-lookup"><span data-stu-id="31b51-196">This will display the Attach Databases dialog box.</span></span> <span data-ttu-id="31b51-197">Buradan, Ekle düğmesine tıklayın, `SecurityTutorials.mdf` veritabanına gidin ve Tamam ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-197">From here, click the Add button, browse to the `SecurityTutorials.mdf` database, and click OK.</span></span> <span data-ttu-id="31b51-198">Şekil 4 ' te `SecurityTutorials.mdf` veritabanı seçildikten sonra veritabanlarını Ekle iletişim kutusu gösterilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-198">Figure 4 shows the Attach Databases dialog box after the `SecurityTutorials.mdf` database has been selected.</span></span> <span data-ttu-id="31b51-199">Şekil 5 ' te, veritabanı başarıyla eklendikten sonra Nesne Gezgini Management Studio gösterilmektedir.</span><span class="sxs-lookup"><span data-stu-id="31b51-199">Figure 5 shows Management Studio's Object Explorer after the database has been successfully attached.</span></span>

<span data-ttu-id="31b51-200">[![Securityöğreticileri. mdf veritabanını ekleyin](creating-the-membership-schema-in-sql-server-cs/_static/image11.png)](creating-the-membership-schema-in-sql-server-cs/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-200">[![Attach the SecurityTutorials.mdf Database](creating-the-membership-schema-in-sql-server-cs/_static/image11.png)](creating-the-membership-schema-in-sql-server-cs/_static/image10.png)</span></span>

<span data-ttu-id="31b51-201">**Şekil 4**: `SecurityTutorials.mdf` veritabanını iliştirme ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-201">**Figure 4**: Attach the `SecurityTutorials.mdf` Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image12.png))</span></span>

<span data-ttu-id="31b51-202">[![Securityöğreticileri. mdf veritabanı veritabanları klasöründe görüntülenir](creating-the-membership-schema-in-sql-server-cs/_static/image14.png)](creating-the-membership-schema-in-sql-server-cs/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-202">[![The SecurityTutorials.mdf Database Appears in the Databases Folder](creating-the-membership-schema-in-sql-server-cs/_static/image14.png)](creating-the-membership-schema-in-sql-server-cs/_static/image13.png)</span></span>

<span data-ttu-id="31b51-203">**Şekil 5**: `SecurityTutorials.mdf` veritabanı veritabanları klasöründe görünür ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-203">**Figure 5**: The `SecurityTutorials.mdf` Database Appears in the Databases Folder ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image15.png))</span></span>

<span data-ttu-id="31b51-204">Şekil 5 ' i gösterdiği gibi, `SecurityTutorials.mdf` veritabanı bunun yerine abstruse adına sahiptir.</span><span class="sxs-lookup"><span data-stu-id="31b51-204">As Figure 5 shows, the `SecurityTutorials.mdf` database has a rather abstruse name.</span></span> <span data-ttu-id="31b51-205">Bunu daha kolay bir şekilde (ve yazmak daha kolay) değiştirelim.</span><span class="sxs-lookup"><span data-stu-id="31b51-205">Let's change it to a more memorable (and easier to type) name.</span></span> <span data-ttu-id="31b51-206">Veritabanına sağ tıklayın, bağlam menüsünden Yeniden Adlandır ' ı seçin ve `SecurityTutorialsDatabase`yeniden adlandırın.</span><span class="sxs-lookup"><span data-stu-id="31b51-206">Right-click on the database, choose Rename from the context menu, and rename it `SecurityTutorialsDatabase`.</span></span> <span data-ttu-id="31b51-207">Bu dosya adını değiştirmez, yalnızca veritabanının kendisini SQL Server için tanımlamak üzere kullandığı adı.</span><span class="sxs-lookup"><span data-stu-id="31b51-207">This does not change the filename, just the name the database uses to identify itself to SQL Server.</span></span>

<span data-ttu-id="31b51-208">[Veritabanını SecurityTutorialsDatabase olarak yeniden adlandırma ![](creating-the-membership-schema-in-sql-server-cs/_static/image17.png)](creating-the-membership-schema-in-sql-server-cs/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-208">[![Rename the Database to SecurityTutorialsDatabase](creating-the-membership-schema-in-sql-server-cs/_static/image17.png)](creating-the-membership-schema-in-sql-server-cs/_static/image16.png)</span></span>

<span data-ttu-id="31b51-209">**Şekil 6**: veritabanını `SecurityTutorialsDatabase`olarak yeniden adlandırma ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-209">**Figure 6**: Rename the Database to `SecurityTutorialsDatabase`([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image18.png))</span></span>

<span data-ttu-id="31b51-210">Bu noktada, `SecurityTutorials.mdf` veritabanı dosyası için sunucu ve veritabanı adlarını biliyoruz: sırasıyla `localhost\InstanceName` ve `SecurityTutorialsDatabase`.</span><span class="sxs-lookup"><span data-stu-id="31b51-210">At this point we know the server and database names for the `SecurityTutorials.mdf` database file: `localhost\InstanceName` and `SecurityTutorialsDatabase`, respectively.</span></span> <span data-ttu-id="31b51-211">Artık `aspnet_regsql.exe` aracı aracılığıyla uygulama hizmetlerini yüklemeye hazırsınız.</span><span class="sxs-lookup"><span data-stu-id="31b51-211">We are now ready to install the application services through the `aspnet_regsql.exe` tool.</span></span>

### <a name="installing-the-application-services"></a><span data-ttu-id="31b51-212">Uygulama Hizmetleri yükleme</span><span class="sxs-lookup"><span data-stu-id="31b51-212">Installing the Application Services</span></span>

<span data-ttu-id="31b51-213">`aspnet_regsql.exe` aracını başlatmak için Başlat menüsüne gidin ve Çalıştır ' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-213">To launch the `aspnet_regsql.exe` tool, go to the start menu and choose Run.</span></span> <span data-ttu-id="31b51-214">Metin kutusuna `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` girin ve Tamam ' a tıklayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-214">Enter `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\aspnet_regsql.exe` into the textbox and click OK.</span></span> <span data-ttu-id="31b51-215">Alternatif olarak, uygun klasöre gitmek için Windows Gezgini 'ni kullanabilir ve `aspnet_regsql.exe` dosyasına çift tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-215">Alternatively, you can use Windows Explorer to drill down to the appropriate folder and double-click the `aspnet_regsql.exe` file.</span></span> <span data-ttu-id="31b51-216">Her iki yaklaşım da aynı sonuçlara neden olur.</span><span class="sxs-lookup"><span data-stu-id="31b51-216">Either approach will net the same results.</span></span>

<span data-ttu-id="31b51-217">`aspnet_regsql.exe` aracını komut satırı bağımsız değişkenleri olmadan çalıştırmak, ASP.NET SQL Server Kurulum Sihirbazı grafik kullanıcı arabirimini başlatır.</span><span class="sxs-lookup"><span data-stu-id="31b51-217">Running the `aspnet_regsql.exe` tool without any command line arguments launches the ASP.NET SQL Server Setup Wizard graphical user interface.</span></span> <span data-ttu-id="31b51-218">Sihirbaz, ASP.NET uygulama hizmetlerinin belirtilen bir veritabanına eklenmesini veya kaldırılmasını kolaylaştırır.</span><span class="sxs-lookup"><span data-stu-id="31b51-218">The wizard makes it easy to add or remove the ASP.NET application services on a specified database.</span></span> <span data-ttu-id="31b51-219">Sihirbazın ilk ekranı, Şekil 7 ' de gösterildiği gibi, aracın amacını açıklamaktadır.</span><span class="sxs-lookup"><span data-stu-id="31b51-219">The first screen of the wizard, shown in Figure 7, describes the purpose of the tool.</span></span>

<span data-ttu-id="31b51-220">[![ASP.NET SQL Server Kurulum Sihirbazı üyelik şemasını eklemek için kullanılır](creating-the-membership-schema-in-sql-server-cs/_static/image20.png)](creating-the-membership-schema-in-sql-server-cs/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-220">[![Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema](creating-the-membership-schema-in-sql-server-cs/_static/image20.png)](creating-the-membership-schema-in-sql-server-cs/_static/image19.png)</span></span>

<span data-ttu-id="31b51-221">**Şekil 7**: ASP.NET SQL Server Kurulum Sihirbazı üyelik şemasını eklemek için kullanılır ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-221">**Figure 7**: Use the ASP.NET SQL Server Setup Wizard Makes to Add the Membership Schema ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image21.png))</span></span>

<span data-ttu-id="31b51-222">Sihirbazdaki ikinci adım, uygulama hizmetlerini eklemek mi yoksa kaldırmak mı istediğinizi sorar.</span><span class="sxs-lookup"><span data-stu-id="31b51-222">The second step in the wizard asks us whether we want to add the application services or remove them.</span></span> <span data-ttu-id="31b51-223">`SqlMembershipProvider`için gereken tabloları, görünümleri ve saklı yordamları eklemek istediğimiz için, uygulama hizmetleri için SQL Server Yapılandır seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="31b51-223">Since we want to add the tables, views, and stored procedures necessary for the `SqlMembershipProvider`, choose the Configure SQL Server for application services option.</span></span> <span data-ttu-id="31b51-224">Daha sonra, bu şemayı veritabanınızdan kaldırmak istiyorsanız, bu Sihirbazı yeniden çalıştırın, bunun yerine var olan bir veritabanından uygulama hizmetleri bilgilerini Kaldır seçeneğini belirleyin.</span><span class="sxs-lookup"><span data-stu-id="31b51-224">Later, if you want to remove this schema from your database, re-run this wizard, but instead choose the Remove application services information from an existing database option.</span></span>

<span data-ttu-id="31b51-225">[![Uygulama Hizmetleri için SQL Server Yapılandır seçeneğini belirleyin](creating-the-membership-schema-in-sql-server-cs/_static/image23.png)](creating-the-membership-schema-in-sql-server-cs/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-225">[![Choose the Configure SQL Server for Application Services Option](creating-the-membership-schema-in-sql-server-cs/_static/image23.png)](creating-the-membership-schema-in-sql-server-cs/_static/image22.png)</span></span>

<span data-ttu-id="31b51-226">**Şekil 8**: Uygulama Hizmetleri Için SQL Server Yapılandır seçeneğini belirleyin ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-226">**Figure 8**: Choose the Configure SQL Server for Application Services Option ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image24.png))</span></span>

<span data-ttu-id="31b51-227">Üçüncü adım veritabanı bilgilerini ister: sunucu adı, kimlik doğrulama bilgileri ve veritabanı adı.</span><span class="sxs-lookup"><span data-stu-id="31b51-227">The third step prompts for the database information: the server name, authentication information, and the database name.</span></span> <span data-ttu-id="31b51-228">Bu öğreticiyle birlikte takip ediyorsanız ve `SecurityTutorials.mdf` veritabanını `App_Data`eklediyseniz `localhost\InstanceName`iliştirdiniz ve `SecurityTutorialsDatabase`olarak yeniden adlandırdıysanız, ardından aşağıdaki değerleri kullanın:</span><span class="sxs-lookup"><span data-stu-id="31b51-228">If you have been following along with this tutorial and have added the `SecurityTutorials.mdf` database to `App_Data`, attached it to `localhost\InstanceName`, and renamed it to `SecurityTutorialsDatabase`, then use the following values:</span></span>

- <span data-ttu-id="31b51-229">Sunucu: `localhost\InstanceName`</span><span class="sxs-lookup"><span data-stu-id="31b51-229">Server: `localhost\InstanceName`</span></span>
- <span data-ttu-id="31b51-230">Windows kimlik doğrulama</span><span class="sxs-lookup"><span data-stu-id="31b51-230">Windows authentication</span></span>
- <span data-ttu-id="31b51-231">Veritabanı: `SecurityTutorialsDatabase`</span><span class="sxs-lookup"><span data-stu-id="31b51-231">Database: `SecurityTutorialsDatabase`</span></span>

<span data-ttu-id="31b51-232">[![veritabanı bilgilerini girin](creating-the-membership-schema-in-sql-server-cs/_static/image26.png)](creating-the-membership-schema-in-sql-server-cs/_static/image25.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-232">[![Enter the Database Information](creating-the-membership-schema-in-sql-server-cs/_static/image26.png)](creating-the-membership-schema-in-sql-server-cs/_static/image25.png)</span></span>

<span data-ttu-id="31b51-233">**Şekil 9**: veritabanı bilgilerini girin ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-233">**Figure 9**: Enter the Database Information ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image27.png))</span></span>

<span data-ttu-id="31b51-234">Veritabanı bilgilerini girdikten sonra Ileri ' ye tıklayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-234">After entering the database information, click Next.</span></span> <span data-ttu-id="31b51-235">Son adım, gerçekleştirilecek adımları özetler.</span><span class="sxs-lookup"><span data-stu-id="31b51-235">The final step summarizes the steps that will be taken.</span></span> <span data-ttu-id="31b51-236">Uygulama hizmetlerini yüklemek için Ileri ' ye tıklayın ve Sihirbazı tamamladıktan sonra işlemi doldurun.</span><span class="sxs-lookup"><span data-stu-id="31b51-236">Click Next to install the application services and then Finish to complete the wizard.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-237">Veritabanını iliştirmek ve veritabanı dosyasını yeniden adlandırmak için Management Studio kullandıysanız, Visual Studio 'Yu yeniden açmadan önce veritabanını kullanımdan çıkarmayı ve Management Studio kapatmayı unutmayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-237">If you used Management Studio to attach the database and rename the database file, be sure to detach the database and close Management Studio before reopening Visual Studio.</span></span> <span data-ttu-id="31b51-238">`SecurityTutorialsDatabase` veritabanını ayırmak için veritabanı adına sağ tıklayın ve görevler menüsünde Ayır ' ı seçin.</span><span class="sxs-lookup"><span data-stu-id="31b51-238">To detach the `SecurityTutorialsDatabase` database, right-click on the database name and, from the Tasks menu, choose Detach.</span></span>

<span data-ttu-id="31b51-239">Sihirbaz tamamlandıktan sonra Visual Studio 'ya dönün ve Veritabanı Gezgini gidin.</span><span class="sxs-lookup"><span data-stu-id="31b51-239">Upon completion of the wizard, return to Visual Studio and navigate to the Database Explorer.</span></span> <span data-ttu-id="31b51-240">Tablolar klasörünü genişletin.</span><span class="sxs-lookup"><span data-stu-id="31b51-240">Expand the Tables folder.</span></span> <span data-ttu-id="31b51-241">Adları `aspnet_`önekiyle başlayan bir tablo dizisi görmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-241">You should see a series of tables whose names start with the prefix `aspnet_`.</span></span> <span data-ttu-id="31b51-242">Benzer şekilde, görünümler ve saklı yordamlar klasörlerinin çeşitli görünümleri ve saklı yordamları bulabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-242">Likewise, a variety of views and stored procedures can be found under the Views and Stored Procedures folders.</span></span> <span data-ttu-id="31b51-243">Bu veritabanı nesneleri uygulama Hizmetleri şemasını yapar.</span><span class="sxs-lookup"><span data-stu-id="31b51-243">These database objects make up the application services schema.</span></span> <span data-ttu-id="31b51-244">3\. adımda üyelik ve role özgü veritabanı nesnelerini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-244">We will examine the membership- and role-specific database objects in Step 3.</span></span>

<span data-ttu-id="31b51-245">[Veritabanına çeşitli tablolar, görünümler ve saklı yordamlar ![eklenmiştir](creating-the-membership-schema-in-sql-server-cs/_static/image29.png)](creating-the-membership-schema-in-sql-server-cs/_static/image28.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-245">[![A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database](creating-the-membership-schema-in-sql-server-cs/_static/image29.png)](creating-the-membership-schema-in-sql-server-cs/_static/image28.png)</span></span>

<span data-ttu-id="31b51-246">**Şekil 10**: veritabanına çeşitli tablolar, görünümler ve saklı yordamlar eklendi ([tam boyutlu görüntüyü görüntülemek için tıklayın](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-246">**Figure 10**: A Variety of Tables, Views, and Stored Procedures Have Been Added to the Database ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image30.png))</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-247">`aspnet_regsql.exe` aracın grafik kullanıcı arabirimi, tüm uygulama Hizmetleri şemasını kurar.</span><span class="sxs-lookup"><span data-stu-id="31b51-247">The `aspnet_regsql.exe` tool's graphical user interface installs the entire application services schema.</span></span> <span data-ttu-id="31b51-248">Ancak, komut satırından `aspnet_regsql.exe` yürütürken, hangi uygulama Hizmetleri bileşenlerinin yükleneceğini (veya kaldırabileceklerini) belirtebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-248">But when executing `aspnet_regsql.exe` from the command-line you can specify what particular application services components to install (or remove).</span></span> <span data-ttu-id="31b51-249">Bu nedenle, yalnızca `SqlMembershipProvider` ve `SqlRoleProvider` sağlayıcıları için gereken tabloları, görünümleri ve saklı yordamları eklemek istiyorsanız, komut satırından `aspnet_regsql.exe` çalıştırın.</span><span class="sxs-lookup"><span data-stu-id="31b51-249">Therefore, if you want to add just the tables, views, and stored procedures necessary for the `SqlMembershipProvider` and `SqlRoleProvider` providers, run `aspnet_regsql.exe` from the command-line.</span></span> <span data-ttu-id="31b51-250">Alternatif olarak, `aspnet_regsql.exe`tarafından kullanılan T-SQL oluşturma betikleri 'nin uygun alt kümesini el ile çalıştırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-250">Alternatively, you can manually run the appropriate subset of T-SQL create scripts used by `aspnet_regsql.exe`.</span></span> <span data-ttu-id="31b51-251">Bu betikler, `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`gibi adlara sahip `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` klasöründe bulunur.</span><span class="sxs-lookup"><span data-stu-id="31b51-251">These scripts are located in the `WINDIR%\Microsoft.Net\Framework\v2.0.50727\` folder with names like `InstallCommon.sql`,`InstallMembership.sql`,`InstallRoles.sql`, `InstallProfile.sql`,`InstallSqlState.sql`, and so on.</span></span>

<span data-ttu-id="31b51-252">Bu noktada, `SqlMembershipProvider`gereken veritabanı nesnelerini oluşturduk.</span><span class="sxs-lookup"><span data-stu-id="31b51-252">At this point we have created the database objects needed by the `SqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-253">Ancak, üyelik çerçevesine hala `SqlMembershipProvider` (yani, `ActiveDirectoryMembershipProvider`) kullanması gerektiğini ve `SqlMembershipProvider` `SecurityTutorials` veritabanını kullanması gerektiğini söylememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-253">However, we still need to instruct the Membership framework that it should use the `SqlMembershipProvider` (versus, say, the `ActiveDirectoryMembershipProvider`) and that the `SqlMembershipProvider` should use the `SecurityTutorials` database.</span></span> <span data-ttu-id="31b51-254">Hangi sağlayıcının kullanılacağını ve 4. adımda seçilen sağlayıcının ayarlarını nasıl özelleştireceğinizi inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-254">We'll look at how to specify what provider to use and how to customize the selected provider's settings in Step 4.</span></span> <span data-ttu-id="31b51-255">Ancak ilk olarak, yeni oluşturulan veritabanı nesnelerine daha derin bir göz atalım.</span><span class="sxs-lookup"><span data-stu-id="31b51-255">But first, let's take a deeper look at the database objects that were just created.</span></span>

## <a name="step-3-a-look-at-the-schemas-core-tables"></a><span data-ttu-id="31b51-256">3\. Adım: şemanın temel tablolarına bakış</span><span class="sxs-lookup"><span data-stu-id="31b51-256">Step 3: A Look at the Schema's Core Tables</span></span>

<span data-ttu-id="31b51-257">Bir ASP.NET uygulamasında üyelik ve rol çerçeveleri ile çalışırken, uygulama ayrıntıları sağlayıcı tarafından kapsüllenir.</span><span class="sxs-lookup"><span data-stu-id="31b51-257">When working with the Membership and Roles frameworks in an ASP.NET application, the implementation details are encapsulated by the provider.</span></span> <span data-ttu-id="31b51-258">Gelecek öğreticilerde, bu çerçeveleri .NET Framework `Membership` ve `Roles` sınıfları aracılığıyla arayüzle göndereceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-258">In future tutorials we will interface with these frameworks via the .NET Framework's `Membership` and `Roles` classes.</span></span> <span data-ttu-id="31b51-259">Bu üst düzey API 'Leri kullanırken, hangi sorguların yürütüldüğü veya `SqlMembershipProvider` ve `SqlRoleProvider`tarafından hangi tabloların değiştirildiği gibi alt düzey ayrıntılarla kendimize ilgilenmenize gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="31b51-259">When using these high-level APIs we do not need to concern ourselves with the low-level details, like what queries are executed or what tables are modified by the `SqlMembershipProvider` and `SqlRoleProvider`.</span></span>

<span data-ttu-id="31b51-260">Bu şekilde, 1. adımda oluşturulan veritabanı şemasını araştırmadan üyelik ve rol çerçevelerini güvenle kullanabiliriz.</span><span class="sxs-lookup"><span data-stu-id="31b51-260">Given this, we could confidently use the Membership and Roles frameworks without having explored the database schema created in Step 2.</span></span> <span data-ttu-id="31b51-261">Ancak, uygulama verilerini depolamak için tablolar oluştururken, kullanıcılar veya rollerle ilgili varlıklar oluşturmanız gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-261">However, when creating the tables to store application data we may need to create entities that relate to users or roles.</span></span> <span data-ttu-id="31b51-262">Uygulama veri tabloları ve adım 2 ' de oluşturulan tablolar arasında yabancı anahtar kısıtlamaları oluştururken `SqlMembershipProvider` ve `SqlRoleProvider` şemaları hakkında bir benzerlik sağlanmasına yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="31b51-262">It helps to have a familiarity with the `SqlMembershipProvider` and `SqlRoleProvider` schemas when establishing foreign key constraints between the application data tables and those tables created in Step 2.</span></span> <span data-ttu-id="31b51-263">Üstelik, bazı nadir durumlarda, Kullanıcı ve rol depolarıyla doğrudan veritabanı düzeyinde Arabirim (`Membership` veya `Roles` sınıfları yerine) arayüzlü olması gerekebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-263">Moreover, in certain rare circumstances we may need to interface with the user and role stores directly at the database level (instead of through the `Membership` or `Roles` classes).</span></span>

### <a name="partitioning-the-user-store-into-applications"></a><span data-ttu-id="31b51-264">Kullanıcı mağazasını uygulamalara bölümleme</span><span class="sxs-lookup"><span data-stu-id="31b51-264">Partitioning the User Store Into Applications</span></span>

<span data-ttu-id="31b51-265">Üyelik ve rol çerçeveleri, tek bir Kullanıcı ve rol mağazasının birçok farklı uygulama arasında paylaşılabilmesi için tasarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="31b51-265">The Membership and Roles frameworks are designed such that a single user and role store can be shared among many different applications.</span></span> <span data-ttu-id="31b51-266">Üyeliği veya rolleri kullanan bir ASP.NET uygulamasının kullanılacak uygulama bölümünü belirtmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-266">An ASP.NET application that uses the Membership or Roles frameworks must specify what application partition to use.</span></span> <span data-ttu-id="31b51-267">Kısacası, birden çok Web uygulaması aynı kullanıcı ve rol mağazalarını kullanabilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-267">In short, multiple web applications can use the same user and role stores.</span></span> <span data-ttu-id="31b51-268">Şekil 11 ' de üç uygulamada bölümlenen Kullanıcı ve rol depoları gösterilmektedir: HRSite, CustomerSite ve SalesSite.</span><span class="sxs-lookup"><span data-stu-id="31b51-268">Figure 11 depicts user and role stores that are partitioned into three applications: HRSite, CustomerSite, and SalesSite.</span></span> <span data-ttu-id="31b51-269">Bu üç Web uygulamasının kendine ait benzersiz kullanıcıları ve rolleri vardır, ancak bunların hepsi, Kullanıcı hesabını ve rol bilgilerini aynı veritabanı tablolarında fiziksel olarak depolar.</span><span class="sxs-lookup"><span data-stu-id="31b51-269">These three web applications each have their own unique users and roles, yet they all physically store their user account and role information in the same database tables.</span></span>

<span data-ttu-id="31b51-270">[![Kullanıcı hesapları birden çok uygulama arasında bölümlenmiş olabilir](creating-the-membership-schema-in-sql-server-cs/_static/image32.png)](creating-the-membership-schema-in-sql-server-cs/_static/image31.png)</span><span class="sxs-lookup"><span data-stu-id="31b51-270">[![User Accounts May Be Partitioned Across Multiple Applications](creating-the-membership-schema-in-sql-server-cs/_static/image32.png)](creating-the-membership-schema-in-sql-server-cs/_static/image31.png)</span></span>

<span data-ttu-id="31b51-271">**Şekil 11**: Kullanıcı hesapları birden çok uygulama arasında bölümlenebilir ([tam boyutlu görüntüyü görüntülemek için tıklatın](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span><span class="sxs-lookup"><span data-stu-id="31b51-271">**Figure 11**: User Accounts May Be Partitioned Across Multiple Applications ([Click to view full-size image](creating-the-membership-schema-in-sql-server-cs/_static/image33.png))</span></span>

<span data-ttu-id="31b51-272">`aspnet_Applications` tablosu bu bölümleri tanımlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-272">The `aspnet_Applications` table is what defines these partitions.</span></span> <span data-ttu-id="31b51-273">Kullanıcı hesabı bilgilerini depolamak için veritabanını kullanan her uygulama, bu tablodaki bir satırla temsil edilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-273">Each application that uses the database to store user account information is represented by a row in this table.</span></span> <span data-ttu-id="31b51-274">`aspnet_Applications` tabloda dört sütun vardır: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`ve `Description`.</span><span class="sxs-lookup"><span data-stu-id="31b51-274">The `aspnet_Applications` table has four columns: `ApplicationId`, `ApplicationName`, `LoweredApplicationName`, and `Description`.</span></span> <span data-ttu-id="31b51-275">`ApplicationId` [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) türüdür ve tablonun birincil anahtarıdır; `ApplicationName` her uygulama için benzersiz bir insan dostu ad sağlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-275">`ApplicationId` is of type [`uniqueidentifier`](https://msdn.microsoft.com/library/ms187942.aspx) and is the table's primary key; `ApplicationName` provides a unique human-friendly name for each application.</span></span>

<span data-ttu-id="31b51-276">Diğer üyelik ve rolle ilgili tablolar `aspnet_Applications``ApplicationId` alanına geri bağlanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-276">The other Membership- and Role-related tables link back to the `ApplicationId` field in `aspnet_Applications`.</span></span> <span data-ttu-id="31b51-277">Örneğin, her kullanıcı hesabı için bir kayıt içeren `aspnet_Users` tablosu, bir `ApplicationId` yabancı anahtar alanına sahiptir; `aspnet_Roles` tablosu için Ditto.</span><span class="sxs-lookup"><span data-stu-id="31b51-277">For example, the `aspnet_Users` table, which contains a record for each user account, has an `ApplicationId` foreign key field; ditto for the `aspnet_Roles` table.</span></span> <span data-ttu-id="31b51-278">Bu tablolardaki `ApplicationId` alanı, Kullanıcı hesabının veya rolün ait olduğu uygulama bölümünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-278">The `ApplicationId` field in these tables specifies the application partition the user account or role belongs to.</span></span>

### <a name="storing-user-account-information"></a><span data-ttu-id="31b51-279">Kullanıcı hesabı bilgilerini depolama</span><span class="sxs-lookup"><span data-stu-id="31b51-279">Storing User Account Information</span></span>

<span data-ttu-id="31b51-280">Kullanıcı hesabı bilgileri iki tabloda barındırılabilir: `aspnet_Users` ve `aspnet_Membership`.</span><span class="sxs-lookup"><span data-stu-id="31b51-280">User account information is housed in two tables: `aspnet_Users` and `aspnet_Membership`.</span></span> <span data-ttu-id="31b51-281">`aspnet_Users` tablosu, temel kullanıcı hesabı bilgilerini tutan alanları içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-281">The `aspnet_Users` table contains fields that hold the essential user account information.</span></span> <span data-ttu-id="31b51-282">En önemli üç sütun şunlardır:</span><span class="sxs-lookup"><span data-stu-id="31b51-282">The three most pertinent columns are:</span></span>

- `UserId`
- `UserName`
- `ApplicationId`

<span data-ttu-id="31b51-283">`UserId` birincil anahtardır (ve `uniqueidentifier`türü).</span><span class="sxs-lookup"><span data-stu-id="31b51-283">`UserId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="31b51-284">`UserName` `nvarchar(256)` türüdür ve parolanın yanı sıra kullanıcının kimlik bilgilerini oluşturur.</span><span class="sxs-lookup"><span data-stu-id="31b51-284">`UserName` is of type `nvarchar(256)` and, along with the password, makes up the user's credentials.</span></span> <span data-ttu-id="31b51-285">(Bir kullanıcının parolası `aspnet_Membership` tablosunda depolanır.) `ApplicationId`, Kullanıcı hesabını `aspnet_Applications`belirli bir uygulamaya bağlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-285">(A user's password is stored in the `aspnet_Membership` table.) `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="31b51-286">`UserName` ve `ApplicationId` sütunlarda bir bileşik [`UNIQUE` kısıtlaması](https://msdn.microsoft.com/library/ms191166.aspx) vardır.</span><span class="sxs-lookup"><span data-stu-id="31b51-286">There is a composite [`UNIQUE` constraint](https://msdn.microsoft.com/library/ms191166.aspx) on the `UserName` and `ApplicationId` columns.</span></span> <span data-ttu-id="31b51-287">Bu, belirli bir uygulamada her kullanıcı adının benzersiz olmasını sağlar, ancak aynı `UserName` farklı uygulamalarda kullanılmasına izin verir.</span><span class="sxs-lookup"><span data-stu-id="31b51-287">This ensures that in a given application each UserName is unique, yet it allows for the same `UserName` to be used in different applications.</span></span>

<span data-ttu-id="31b51-288">`aspnet_Membership` tablosu kullanıcının parolası, e-posta adresi, son oturum açma tarihi ve saati gibi ek kullanıcı hesabı bilgilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-288">The `aspnet_Membership` table includes additional user account information, like the user's password, email address, the last login date and time, and so forth.</span></span> <span data-ttu-id="31b51-289">`aspnet_Users` ve `aspnet_Membership` tablolarındaki kayıtlar arasında bire bir yazışmalar vardır.</span><span class="sxs-lookup"><span data-stu-id="31b51-289">There is a one-to-one correspondence between records in the `aspnet_Users` and `aspnet_Membership` tables.</span></span> <span data-ttu-id="31b51-290">Bu ilişki, tablonun birincil anahtarı olarak hizmet veren `aspnet_Membership``UserId` alanı tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="31b51-290">This relationship is ensured by the `UserId` field in `aspnet_Membership`, which serves as the table's primary key.</span></span> <span data-ttu-id="31b51-291">`aspnet_Users` tablosu gibi `aspnet_Membership`, bu bilgileri belirli bir uygulama bölümüne bağlayan bir `ApplicationId` alanı içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-291">Like the `aspnet_Users` table, `aspnet_Membership` includes an `ApplicationId` field that ties this information to a particular application partition.</span></span>

### <a name="securing-passwords"></a><span data-ttu-id="31b51-292">Parolaların güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="31b51-292">Securing Passwords</span></span>

<span data-ttu-id="31b51-293">Parola bilgileri `aspnet_Membership` tablosunda depolanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-293">Password information is stored in the `aspnet_Membership` table.</span></span> <span data-ttu-id="31b51-294">`SqlMembershipProvider`, aşağıdaki üç teknikten biri kullanılarak parolaların veritabanında depolanmasını sağlar:</span><span class="sxs-lookup"><span data-stu-id="31b51-294">The `SqlMembershipProvider` allows for passwords to be stored in the database using one of the following three techniques:</span></span>

- <span data-ttu-id="31b51-295">**Temizle** -parola veritabanında düz metin olarak depolanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-295">**Clear** - the password is stored in the database as plain-text.</span></span> <span data-ttu-id="31b51-296">Bu seçeneği kullanmayı kesinlikle önleyin.</span><span class="sxs-lookup"><span data-stu-id="31b51-296">I strongly discourage using this option.</span></span> <span data-ttu-id="31b51-297">Veritabanı tehlikeye atılırsa, veritabanı erişimi olan bir arka kapı veya disgruntled çalışanı bulan bir bilgisayar korsanının olması-her tek kullanıcının kimlik bilgileri almak için orada bulunur.</span><span class="sxs-lookup"><span data-stu-id="31b51-297">If the database is compromised - be it by a hacker who finds a back door or a disgruntled employee who has database access - every single user's credentials are there for the taking.</span></span>
- <span data-ttu-id="31b51-298">**Karma hale getirilmiş** parolalar tek yönlü bir karma algoritması ve rastgele oluşturulmuş bir anahtar değeri kullanılarak karma hale getirilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-298">**Hashed** - passwords are hashed using a one-way hash algorithm and a randomly generated salt value.</span></span> <span data-ttu-id="31b51-299">Bu karma değer (güvenlik ile birlikte) veritabanında depolanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-299">This hashed value (along with the salt) is stored in the database.</span></span>
- <span data-ttu-id="31b51-300">**Şifrelenmiş** -parolanın şifrelenmiş bir sürümü veritabanında depolanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-300">**Encrypted** - an encrypted version of the password is stored in the database.</span></span>

<span data-ttu-id="31b51-301">Kullanılan parola depolama tekniği, `Web.config`belirtilen `SqlMembershipProvider` ayarlarına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-301">The password storage technique used depends on the `SqlMembershipProvider` settings specified in `Web.config`.</span></span> <span data-ttu-id="31b51-302">4\. adımdaki `SqlMembershipProvider` ayarlarını özelleştirmeye bakacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-302">We will look at customizing the `SqlMembershipProvider` settings in Step 4.</span></span> <span data-ttu-id="31b51-303">Varsayılan davranış parolanın karmasını deposıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-303">The default behavior is to store the hash of the password.</span></span>

<span data-ttu-id="31b51-304">Parolanın depolanmasından sorumlu sütunlar `Password`, `PasswordFormat`ve `PasswordSalt`.</span><span class="sxs-lookup"><span data-stu-id="31b51-304">The columns responsible for storing the password are `Password`, `PasswordFormat`, and `PasswordSalt`.</span></span> <span data-ttu-id="31b51-305">`PasswordFormat`, değeri, parolayı depolamak için kullanılan tekniği belirten `int` türünde bir alandır: Clear için 0; Karma için 1; 2 şifreli.</span><span class="sxs-lookup"><span data-stu-id="31b51-305">`PasswordFormat` is a field of type `int` whose value indicates the technique used for storing the password: 0 for Clear; 1 for Hashed; 2 for Encrypted.</span></span> <span data-ttu-id="31b51-306">`PasswordSalt`, kullanılan parola depolama tekniğinden bağımsız olarak rastgele oluşturulmuş bir dizeye atanır; `PasswordSalt` değeri yalnızca parolanın karması hesaplanırken kullanılır.</span><span class="sxs-lookup"><span data-stu-id="31b51-306">`PasswordSalt` is assigned a randomly generated string regardless of the password storage technique used; the value of `PasswordSalt` is only used when computing the hash of the password.</span></span> <span data-ttu-id="31b51-307">Son olarak, `Password` sütunu gerçek parola verilerini içerir, düz metin parolası, Parola karması veya şifrelenmiş parola olur.</span><span class="sxs-lookup"><span data-stu-id="31b51-307">Finally, the `Password` column contains the actual password data, be it the plain-text password, the hash of the password, or the encrypted password.</span></span>

<span data-ttu-id="31b51-308">Tablo 1, parolayı saklarken çeşitli depolama teknikleri için bu üç sütunun nasıl görünebileceğini gösterir!</span><span class="sxs-lookup"><span data-stu-id="31b51-308">Table 1 illustrates what these three columns might look like for the various storage techniques when storing the password MySecret!</span></span> <span data-ttu-id="31b51-309">.</span><span class="sxs-lookup"><span data-stu-id="31b51-309">.</span></span>

| <span data-ttu-id="31b51-310">**Depolama tekniği&lt;\_o3a\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="31b51-310">**Storage Technique&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="31b51-311">**Parola&lt;\_o3a\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="31b51-311">**Password&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="31b51-312">**PasswordFormat&lt;\_o3a\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="31b51-312">**PasswordFormat&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="31b51-313">**Passwordanahtar&lt;\_o3a\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="31b51-313">**PasswordSalt&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- | --- | --- |
| <span data-ttu-id="31b51-314">Lediğiniz</span><span class="sxs-lookup"><span data-stu-id="31b51-314">Clear</span></span> | <span data-ttu-id="31b51-315">MySecret!</span><span class="sxs-lookup"><span data-stu-id="31b51-315">MySecret!</span></span> | <span data-ttu-id="31b51-316">0</span><span class="sxs-lookup"><span data-stu-id="31b51-316">0</span></span> | <span data-ttu-id="31b51-317">tTnkPlesqissc2y2SMEygA = =</span><span class="sxs-lookup"><span data-stu-id="31b51-317">tTnkPlesqissc2y2SMEygA==</span></span> |
| <span data-ttu-id="31b51-318">Haline</span><span class="sxs-lookup"><span data-stu-id="31b51-318">Hashed</span></span> | <span data-ttu-id="31b51-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM =</span><span class="sxs-lookup"><span data-stu-id="31b51-319">2oXm6sZHWbTHFgjgkGQsc2Ec9ZM=</span></span> | <span data-ttu-id="31b51-320">1\.</span><span class="sxs-lookup"><span data-stu-id="31b51-320">1</span></span> | <span data-ttu-id="31b51-321">wFgjUfhdUFOCKQiI61vtiQ = =</span><span class="sxs-lookup"><span data-stu-id="31b51-321">wFgjUfhdUFOCKQiI61vtiQ==</span></span> |
| <span data-ttu-id="31b51-322">Şifreli</span><span class="sxs-lookup"><span data-stu-id="31b51-322">Encrypted</span></span> | <span data-ttu-id="31b51-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span><span class="sxs-lookup"><span data-stu-id="31b51-323">62RZgDvhxykkqsMchZ0Yly7HS6onhpaoCYaRxV8g0F4CW56OXUU3e7Inza9j9BKp</span></span> | <span data-ttu-id="31b51-324">2</span><span class="sxs-lookup"><span data-stu-id="31b51-324">2</span></span> | <span data-ttu-id="31b51-325">LSRzhGS/AA/oqAXGLHJNBw = =</span><span class="sxs-lookup"><span data-stu-id="31b51-325">LSRzhGS/aa/oqAXGLHJNBw==</span></span> |

<span data-ttu-id="31b51-326">**Tablo 1**: parolayı saklarken parola Ile ilgili alanlar Için örnek değerler MySecret!</span><span class="sxs-lookup"><span data-stu-id="31b51-326">**Table 1**: Example Values for the Password-Related Fields When Storing the Password MySecret!</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-327">`SqlMembershipProvider` tarafından kullanılan özel şifreleme veya karma algoritma `<machineKey>` öğesindeki ayarlar tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="31b51-327">The particular encryption or hashing algorithm used by the `SqlMembershipProvider` is determined by the settings in the `<machineKey>` element.</span></span> <span data-ttu-id="31b51-328">Bu yapılandırma öğesi, <a id="Tutorial3"> </a> [*Forms kimlik doğrulaması yapılandırması ve gelişmiş konular*](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) öğreticisinin 3. adımında anlatıldık.</span><span class="sxs-lookup"><span data-stu-id="31b51-328">We discussed this configuration element in Step 3 of the <a id="Tutorial3"></a>[*Forms Authentication Configuration and Advanced Topics*](../introduction/forms-authentication-configuration-and-advanced-topics-cs.md) tutorial.</span></span>

### <a name="storing-roles-and-role-associations"></a><span data-ttu-id="31b51-329">Rolleri ve rol Ilişkilendirmelerini depolama</span><span class="sxs-lookup"><span data-stu-id="31b51-329">Storing Roles and Role Associations</span></span>

<span data-ttu-id="31b51-330">Rol çerçevesi, geliştiricilerin bir rol kümesi tanımlamasına ve hangi kullanıcıların hangi rollere ait olduğunu belirlemesine izin verir.</span><span class="sxs-lookup"><span data-stu-id="31b51-330">The Roles framework allows developers to define a set of roles and specify what users belong to what roles.</span></span> <span data-ttu-id="31b51-331">Bu bilgiler veritabanında iki tablo aracılığıyla yakalanır: `aspnet_Roles` ve `aspnet_UsersInRoles`.</span><span class="sxs-lookup"><span data-stu-id="31b51-331">This information is captured in the database through two tables: `aspnet_Roles` and `aspnet_UsersInRoles`.</span></span> <span data-ttu-id="31b51-332">`aspnet_Roles` tablosundaki her kayıt, belirli bir uygulama için bir rolü temsil eder.</span><span class="sxs-lookup"><span data-stu-id="31b51-332">Each record in the `aspnet_Roles` table represents a role for a particular application.</span></span> <span data-ttu-id="31b51-333">`aspnet_Users` tablosuna benzer şekilde, `aspnet_Roles` tablosunda tartışmamızı belirten üç sütun vardır:</span><span class="sxs-lookup"><span data-stu-id="31b51-333">Much like the `aspnet_Users` table, the `aspnet_Roles` table has three columns pertinent to our discussion:</span></span>

- `RoleId`
- `RoleName`
- `ApplicationId`

<span data-ttu-id="31b51-334">`RoleId` birincil anahtardır (ve `uniqueidentifier`türü).</span><span class="sxs-lookup"><span data-stu-id="31b51-334">`RoleId` is the primary key (and of type `uniqueidentifier`).</span></span> <span data-ttu-id="31b51-335">`RoleName` `nvarchar(256)`türüdür.</span><span class="sxs-lookup"><span data-stu-id="31b51-335">`RoleName` is of type `nvarchar(256)`.</span></span> <span data-ttu-id="31b51-336">Ve `ApplicationId` Kullanıcı hesabını `aspnet_Applications`belirli bir uygulamaya bağlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-336">And `ApplicationId` links the user account to a particular application in `aspnet_Applications`.</span></span> <span data-ttu-id="31b51-337">`RoleName` ve `ApplicationId` sütunlarında bir bileşik `UNIQUE` kısıtlaması vardır. Bu, belirli bir uygulamada her bir rol adının benzersiz olmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-337">There is a composite `UNIQUE` constraint on the `RoleName` and `ApplicationId` columns, ensuring that in a given application each role name is unique.</span></span>

<span data-ttu-id="31b51-338">`aspnet_UsersInRoles` tablo, kullanıcılar ve roller arasında bir eşleme görevi görür.</span><span class="sxs-lookup"><span data-stu-id="31b51-338">The `aspnet_UsersInRoles` table serves as a mapping between users and roles.</span></span> <span data-ttu-id="31b51-339">Yalnızca iki sütun vardır-`UserId` ve `RoleId` ve birlikte bir bileşik birincil anahtar oluşturun.</span><span class="sxs-lookup"><span data-stu-id="31b51-339">There are only two columns - `UserId` and `RoleId` - and together they make up a composite primary key.</span></span>

## <a name="step-4-specifying-the-provider-and-customizing-its-settings"></a><span data-ttu-id="31b51-340">4\. Adım: sağlayıcıyı belirtme ve ayarlarını özelleştirme</span><span class="sxs-lookup"><span data-stu-id="31b51-340">Step 4: Specifying the Provider and Customizing Its Settings</span></span>

<span data-ttu-id="31b51-341">Üyelik ve rol çerçeveleri gibi sağlayıcı modelini destekleyen tüm çerçeveler-uygulama ayrıntılarının olmaması ve bunun yerine bu sorumluluğu bir sağlayıcı sınıfına devretmek.</span><span class="sxs-lookup"><span data-stu-id="31b51-341">All of the frameworks that support the provider model - such as the Membership and Roles frameworks - lack implementation details themselves and instead delegate that responsibility to a provider class.</span></span> <span data-ttu-id="31b51-342">Üyelik çerçevesi söz konusu olduğunda, `Membership` sınıfı kullanıcı hesaplarını yönetmek için API 'yi tanımlar, ancak herhangi bir Kullanıcı deposuyla doğrudan etkileşime almaz.</span><span class="sxs-lookup"><span data-stu-id="31b51-342">In the case of the Membership framework, the `Membership` class defines the API for managing user accounts, but it does not interact directly with any user store.</span></span> <span data-ttu-id="31b51-343">Bunun yerine, `Membership` sınıfının yöntemleri, yapılandırılan sağlayıcıya yönelik isteği devre dışı bırakır. `SqlMembershipProvider`kullanacağız.</span><span class="sxs-lookup"><span data-stu-id="31b51-343">Rather, the `Membership` class's methods hand off the request to the configured provider - we will be using the `SqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-344">`Membership` sınıfındaki yöntemlerden birini çağırdığımızda, üyelik çerçevesinin `SqlMembershipProvider`çağrıyı devretmek nasıl bildiği hakkında bilgi sahibi misiniz?</span><span class="sxs-lookup"><span data-stu-id="31b51-344">When we invoke one of the methods in the `Membership` class, how does the Membership framework know to delegate the call to the `SqlMembershipProvider`?</span></span>

<span data-ttu-id="31b51-345">`Membership` sınıfı, üyelik çerçevesi tarafından kullanılabilecek tüm kayıtlı sağlayıcı sınıflarının başvurusunu içeren bir [`Providers` özelliğine](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="31b51-345">The `Membership` class has a [`Providers` property](https://msdn.microsoft.com/library/system.web.security.membership.providers.aspx) that contains a reference to all of the registered provider classes available for use by the Membership framework.</span></span> <span data-ttu-id="31b51-346">Kayıtlı her sağlayıcının ilişkili bir adı ve türü vardır.</span><span class="sxs-lookup"><span data-stu-id="31b51-346">Each registered provider has an associated name and type.</span></span> <span data-ttu-id="31b51-347">Ad, `Providers` koleksiyonundaki belirli bir sağlayıcıya başvurmak için kolay bir yol sunar, tür sağlayıcı sınıfını tanımlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-347">The name offers a human-friendly way to reference a particular provider in the `Providers` collection, while the type identifies the provider class.</span></span> <span data-ttu-id="31b51-348">Üstelik, her kayıtlı sağlayıcı yapılandırma ayarlarını içerebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-348">Moreover, each registered provider may include configuration settings.</span></span> <span data-ttu-id="31b51-349">Üyelik çerçevesinin yapılandırma ayarları, çok sayıda `passwordFormat` ve `requiresUniqueEmail`içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-349">Configuration settings for the Membership framework include `passwordFormat` and `requiresUniqueEmail`, among many others.</span></span> <span data-ttu-id="31b51-350">`SqlMembershipProvider`tarafından kullanılan yapılandırma ayarlarının tüm listesi için bkz. Tablo 2.</span><span class="sxs-lookup"><span data-stu-id="31b51-350">See Table 2 for a complete list of configuration settings used by the `SqlMembershipProvider`.</span></span>

<span data-ttu-id="31b51-351">`Providers` özelliğinin içeriği, Web uygulamasının yapılandırma ayarları aracılığıyla belirtilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-351">The `Providers` property's contents are specified through the web application's configuration settings.</span></span> <span data-ttu-id="31b51-352">Varsayılan olarak, tüm Web uygulamalarının `SqlMembershipProvider`türünde `AspNetSqlMembershipProvider` adlı bir sağlayıcısı vardır.</span><span class="sxs-lookup"><span data-stu-id="31b51-352">By default, all web applications have a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-353">Bu varsayılan üyelik sağlayıcısı `machine.config` kaydedilir (`%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`konumunda bulunur:</span><span class="sxs-lookup"><span data-stu-id="31b51-353">This default Membership provider is registered in `machine.config` (located at `%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG)`:</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample1.xml)]

<span data-ttu-id="31b51-354">Yukarıdaki biçimlendirme gösterildiği gibi, [`<membership>` öğesi](https://msdn.microsoft.com/library/1b9hw62f.aspx) , üyelik çerçevesinin yapılandırma ayarlarını tanımlar, [`<providers>` alt öğesi](https://msdn.microsoft.com/library/6d4936ht.aspx) kayıtlı sağlayıcıları belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-354">As the markup above shows, the [`<membership>` element](https://msdn.microsoft.com/library/1b9hw62f.aspx) defines the configuration settings for the Membership framework while the [`<providers>` child element](https://msdn.microsoft.com/library/6d4936ht.aspx) specifies the registered providers.</span></span> <span data-ttu-id="31b51-355">Sağlayıcılar [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) veya [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) öğeleri kullanılarak eklenebilir veya kaldırılabilir; Şu anda kayıtlı olan tüm sağlayıcıları kaldırmak için [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) öğesini kullanın.</span><span class="sxs-lookup"><span data-stu-id="31b51-355">Providers may be added or removed using the [`<add>`](https://msdn.microsoft.com/library/whae3t94.aspx) or [`<remove>`](https://msdn.microsoft.com/library/aykw9a6d.aspx) elements; use the [`<clear>`](https://msdn.microsoft.com/library/t062y6yc.aspx) element to remove all currently registered providers.</span></span> <span data-ttu-id="31b51-356">Yukarıdaki biçimlendirme gösterildiği gibi, `machine.config` `SqlMembershipProvider`türünde `AspNetSqlMembershipProvider` adlı bir sağlayıcı ekler.</span><span class="sxs-lookup"><span data-stu-id="31b51-356">As the markup above shows, `machine.config` adds a provider named `AspNetSqlMembershipProvider` of type `SqlMembershipProvider`.</span></span>

<span data-ttu-id="31b51-357">`name` ve `type` özniteliklerine ek olarak `<add>` öğesi, çeşitli yapılandırma ayarlarının değerlerini tanımlayan öznitelikler içerir.</span><span class="sxs-lookup"><span data-stu-id="31b51-357">In addition to the `name` and `type` attributes, the `<add>` element contains attributes that define the values for various configuring settings.</span></span> <span data-ttu-id="31b51-358">Tablo 2, kullanılabilir `SqlMembershipProvider`özgü yapılandırma ayarlarını, her birinin açıklamasıyla birlikte listeler.</span><span class="sxs-lookup"><span data-stu-id="31b51-358">Table 2 lists the available `SqlMembershipProvider`-specific configuration settings, along with a description of each.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-359">Tablo 2 ' de belirtilen varsayılan değerler `SqlMembershipProvider` sınıfında tanımlanan varsayılan değerlere başvurur.</span><span class="sxs-lookup"><span data-stu-id="31b51-359">Any default values noted in Table 2 refer to the default values defined in the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="31b51-360">`AspNetSqlMembershipProvider` içindeki yapılandırma ayarlarının hepsi `SqlMembershipProvider` sınıfının varsayılan değerlerine karşılık geldiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-360">Note that not all of the configuration settings in `AspNetSqlMembershipProvider` correspond to the default values of the `SqlMembershipProvider` class.</span></span> <span data-ttu-id="31b51-361">Örneğin, bir üyelik sağlayıcısında belirtilmemişse, `requiresUniqueEmail` ayarı varsayılan olarak true olur.</span><span class="sxs-lookup"><span data-stu-id="31b51-361">For example, if not specified in a Membership provider, the `requiresUniqueEmail` setting defaults to true.</span></span> <span data-ttu-id="31b51-362">Ancak `AspNetSqlMembershipProvider`, açıkça bir `false`değeri belirterek bu varsayılan değeri geçersiz kılar.</span><span class="sxs-lookup"><span data-stu-id="31b51-362">However, the `AspNetSqlMembershipProvider` overrides this default value by explicitly specifying a value of `false`.</span></span>

| <span data-ttu-id="31b51-363">**&lt;\_o3a\_p/&gt; ayarlama**</span><span class="sxs-lookup"><span data-stu-id="31b51-363">**Setting&lt;\_o3a\_p /&gt;**</span></span> | <span data-ttu-id="31b51-364">**Açıklama&lt;\_o3a\_p/&gt;**</span><span class="sxs-lookup"><span data-stu-id="31b51-364">**Description&lt;\_o3a\_p /&gt;**</span></span> |
| --- | --- |
| `ApplicationName` | <span data-ttu-id="31b51-365">Üyelik çerçevesinin, tek bir Kullanıcı deposunun birden çok uygulama arasında bölümlenmesi için izin verdiğini hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-365">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="31b51-366">Bu ayar, üyelik sağlayıcısı tarafından kullanılan uygulama bölümünün adını gösterir.</span><span class="sxs-lookup"><span data-stu-id="31b51-366">This setting indicates the name of the application partition used by the Membership provider.</span></span> <span data-ttu-id="31b51-367">Bu değer açıkça belirtilmemişse, çalışma zamanında, uygulamanın sanal kök yolu değerine ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-367">If this value is not explicitly specified, it is set, at runtime, to the value of the application's virtual root path.</span></span> |
| `commandTimeout` | <span data-ttu-id="31b51-368">SQL komut zaman aşımı değerini (saniye cinsinden) belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-368">Specifies the SQL command timeout value (in seconds).</span></span> <span data-ttu-id="31b51-369">Varsayılan değer 30 ' dur.</span><span class="sxs-lookup"><span data-stu-id="31b51-369">The default value is 30.</span></span> |
| `connectionStringName` | <span data-ttu-id="31b51-370">Kullanıcı deposu veritabanına bağlanmak için kullanılacak `<connectionStrings>` öğesindeki bağlantı dizesinin adı.</span><span class="sxs-lookup"><span data-stu-id="31b51-370">The name of the connection string in the `<connectionStrings>` element to use to connect to the user store database.</span></span> <span data-ttu-id="31b51-371">Bu değer gereklidir.</span><span class="sxs-lookup"><span data-stu-id="31b51-371">This value is required.</span></span> |
| `description` | <span data-ttu-id="31b51-372">Kayıtlı sağlayıcının insanın kolay bir açıklamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="31b51-372">Provides a human-friendly description of the registered provider.</span></span> |
| `enablePasswordRetrieval` | <span data-ttu-id="31b51-373">Kullanıcıların unutulan parolalarını alıp almamadığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-373">Specifies whether users may retrieve their forgotten password.</span></span> <span data-ttu-id="31b51-374">Varsayılan değer `false` şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="31b51-374">The default value is `false`.</span></span> |
| `enablePasswordReset` | <span data-ttu-id="31b51-375">Kullanıcıların parolalarını sıfırlamasına izin verilip verilmeyeceğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-375">Indicates whether users are allowed to reset their password.</span></span> <span data-ttu-id="31b51-376">`true` değerini varsayılan olarak alır.</span><span class="sxs-lookup"><span data-stu-id="31b51-376">Defaults to `true`.</span></span> |
| `maxInvalidPasswordAttempts` | <span data-ttu-id="31b51-377">Kullanıcı kilitlenmesinden önce belirtilen `passwordAttemptWindow` sırasında belirli bir kullanıcı için gerçekleşebileceğini en fazla başarısız oturum açma girişimi sayısı. Varsayılan değer 5 ' tir.</span><span class="sxs-lookup"><span data-stu-id="31b51-377">The maximum number of unsuccessful login attempts that may occur for a given user during the specified `passwordAttemptWindow` before the user is locked out. The default value is 5.</span></span> |
| `minRequiredNonalphanumericCharacters` | <span data-ttu-id="31b51-378">Kullanıcı parolada görünmesi gereken en az alfasayısal olmayan karakter sayısı.</span><span class="sxs-lookup"><span data-stu-id="31b51-378">The minimum number of non-alphanumeric characters that must appear in a user's password.</span></span> <span data-ttu-id="31b51-379">Bu değer 0 ile 128 arasında olmalıdır; Varsayılan değer 1 ' dir.</span><span class="sxs-lookup"><span data-stu-id="31b51-379">This value must be between 0 and 128; the default is 1.</span></span> |
| `minRequiredPasswordLength` | <span data-ttu-id="31b51-380">Bir parolada gereken en az karakter sayısı.</span><span class="sxs-lookup"><span data-stu-id="31b51-380">The minimum number of characters required in a password.</span></span> <span data-ttu-id="31b51-381">Bu değer 0 ile 128 arasında olmalıdır; Varsayılan değer 7 ' dir.</span><span class="sxs-lookup"><span data-stu-id="31b51-381">This value must be between 0 and 128; the default is 7.</span></span> |
| `name` | <span data-ttu-id="31b51-382">Kayıtlı sağlayıcının adı.</span><span class="sxs-lookup"><span data-stu-id="31b51-382">The name of the registered provider.</span></span> <span data-ttu-id="31b51-383">Bu değer gereklidir.</span><span class="sxs-lookup"><span data-stu-id="31b51-383">This value is required.</span></span> |
| `passwordAttemptWindow` | <span data-ttu-id="31b51-384">Başarısız oturum açma girişimlerinin izlendiği dakika sayısı.</span><span class="sxs-lookup"><span data-stu-id="31b51-384">The number of minutes during which failed login attempts are tracked.</span></span> <span data-ttu-id="31b51-385">Bir Kullanıcı belirtilen bu pencere içinde `maxInvalidPasswordAttempts` zaman geçersiz oturum açma kimlik bilgileri sağlarsa, bunlar kilitlenir. Varsayılan değer 10 ' dur.</span><span class="sxs-lookup"><span data-stu-id="31b51-385">If a user supplies invalid login credentials `maxInvalidPasswordAttempts` times within this specified window, they are locked out. The default value is 10.</span></span> |
| `PasswordFormat` | <span data-ttu-id="31b51-386">Parola depolama biçimi: `Clear`, `Hashed`veya `Encrypted`.</span><span class="sxs-lookup"><span data-stu-id="31b51-386">The password storage format: `Clear`, `Hashed`, or `Encrypted`.</span></span> <span data-ttu-id="31b51-387">Varsayılan, `Hashed` değeridir.</span><span class="sxs-lookup"><span data-stu-id="31b51-387">The default is `Hashed`.</span></span> |
| `passwordStrengthRegularExpression` | <span data-ttu-id="31b51-388">Sağlanmışsa, bu normal ifade, yeni bir hesap oluştururken veya parolalarını değiştirirken kullanıcının seçili parolasının gücünü değerlendirmek için kullanılır.</span><span class="sxs-lookup"><span data-stu-id="31b51-388">If provided, this regular expression is used to evaluate the strength of the user's selected password when creating a new account or when changing their password.</span></span> <span data-ttu-id="31b51-389">Varsayılan değer boş bir dizedir.</span><span class="sxs-lookup"><span data-stu-id="31b51-389">The default value is an empty string.</span></span> |
| `requiresQuestionAndAnswer` | <span data-ttu-id="31b51-390">Kullanıcının parolasını alırken veya sıfırlarken güvenlik sorusuna yanıt vermesi gerekip gerekmediğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-390">Specifies whether a user must answer his security question when retrieving or resetting his password.</span></span> <span data-ttu-id="31b51-391">Varsayılan değer `true` şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="31b51-391">The default value is `true`.</span></span> |
| `requiresUniqueEmail` | <span data-ttu-id="31b51-392">Belirli bir uygulama bölümündeki tüm Kullanıcı hesaplarının benzersiz bir e-posta adresine sahip olup olmadığını gösterir.</span><span class="sxs-lookup"><span data-stu-id="31b51-392">Indicates whether all user accounts in a given application partition must have a unique email address.</span></span> <span data-ttu-id="31b51-393">Varsayılan değer `true` şeklindedir.</span><span class="sxs-lookup"><span data-stu-id="31b51-393">The default value is `true`.</span></span> |
| `type` | <span data-ttu-id="31b51-394">Sağlayıcının türünü belirtir.</span><span class="sxs-lookup"><span data-stu-id="31b51-394">Specifies the type of the provider.</span></span> <span data-ttu-id="31b51-395">Bu değer gereklidir.</span><span class="sxs-lookup"><span data-stu-id="31b51-395">This value is required.</span></span> |

<span data-ttu-id="31b51-396">**Tablo 2**: üyelik ve `SqlMembershipProvider` yapılandırma ayarları</span><span class="sxs-lookup"><span data-stu-id="31b51-396">**Table 2**: Membership and `SqlMembershipProvider` Configuration Settings</span></span>

<span data-ttu-id="31b51-397">`AspNetSqlMembershipProvider`ek olarak, diğer üyelik sağlayıcıları, `Web.config` dosyasına benzer biçimlendirme eklenerek uygulama temelinde bir uygulamayla kaydedilebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-397">In addition to `AspNetSqlMembershipProvider`, other Membership providers may be registered on an application-by-application basis by adding similar markup to the `Web.config` file.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-398">Rol çerçevesi çok aynı şekilde çalışıyor: `machine.config` ' de varsayılan bir kayıtlı rol sağlayıcısı vardır ve kayıtlı sağlayıcılar `Web.config`içinde uygulama temelinde özelleştirilebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-398">The Roles framework works in much the same way: there is a default registered role provider in `machine.config` and the registered providers may be customized on an application-by-application basis in `Web.config`.</span></span> <span data-ttu-id="31b51-399">Daha sonraki bir öğreticide, roller çerçevesini ve yapılandırma işaretlemesini ayrıntılı olarak inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-399">We will examine the Roles framework and its configuration markup in detail in a future tutorial.</span></span>

### <a name="customizing-thesqlmembershipprovidersettings"></a><span data-ttu-id="31b51-400">`SqlMembershipProvider`ayarlarını özelleştirme</span><span class="sxs-lookup"><span data-stu-id="31b51-400">Customizing the`SqlMembershipProvider`Settings</span></span>

<span data-ttu-id="31b51-401">Varsayılan `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) `connectionStringName` özniteliği `LocalSqlServer`olarak ayarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="31b51-401">The default `SqlMembershipProvider` (`AspNetSqlMembershipProvider`) has its `connectionStringName` attribute set to `LocalSqlServer`.</span></span> <span data-ttu-id="31b51-402">`AspNetSqlMembershipProvider` sağlayıcısı gibi `LocalSqlServer` bağlantı dizesi adı `machine.config`tanımlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="31b51-402">Like the `AspNetSqlMembershipProvider` provider, the connection string name `LocalSqlServer` is defined in `machine.config`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample2.xml)]

<span data-ttu-id="31b51-403">Görebileceğiniz gibi, bu bağlantı dizesi | konumunda bulunan bir SQL 2005 Express Edition veritabanını tanımlar. DataDirectory | aspnetdb. mdf.</span><span class="sxs-lookup"><span data-stu-id="31b51-403">As you can see, this connection string defines a SQL 2005 Express Edition database located at |DataDirectory|aspnetdb.mdf�.</span></span> <span data-ttu-id="31b51-404">Dize | Veri dizini |, çalışma zamanında `~/App_Data/` dizinine işaret etmek için çevrilmiş, bu nedenle veritabanı yolu | DataDirectory | aspnetdb. mdf "`~/App_Data`/`aspnet.mdf`dönüştürür.</span><span class="sxs-lookup"><span data-stu-id="31b51-404">The string |DataDirectory|� is translated at runtime to point to the `~/App_Data/` directory, so the database path |DataDirectory|aspnetdb.mdf" translates to `~/App_Data`/`aspnet.mdf`.</span></span>

<span data-ttu-id="31b51-405">Uygulamanın `Web.config` dosyasında herhangi bir üyelik sağlayıcısı bilgisi belirtmediyseniz, uygulama varsayılan kayıtlı üyelik sağlayıcısını kullanır, `AspNetSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="31b51-405">If we did not specify any Membership provider information in our application's `Web.config` file, the application uses the default registered Membership provider, `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-406">`~/App_Data/aspnet.mdf` veritabanı yoksa, ASP.NET çalışma zamanı otomatik olarak oluşturur ve uygulama Hizmetleri şemasını ekler.</span><span class="sxs-lookup"><span data-stu-id="31b51-406">If the `~/App_Data/aspnet.mdf` database does not exist, the ASP.NET runtime will automatically create it and add the application services schema.</span></span> <span data-ttu-id="31b51-407">Ancak, `aspnet.mdf` veritabanını kullanmak istemiyorum; Bunun yerine, adım 2 ' de oluşturduğumuz `SecurityTutorials.mdf` veritabanını kullanmak istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="31b51-407">However, we don't want to use the `aspnet.mdf` database; rather, we want to use the `SecurityTutorials.mdf` database we created in Step 2.</span></span> <span data-ttu-id="31b51-408">Bu değişiklik, iki şekilde gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="31b51-408">This modification can be accomplished in one of two ways:</span></span>

- <span data-ttu-id="31b51-409"><strong>`Web.config`</strong><strong>`LocalSqlServer`</strong> <strong>bağlantı dizesi adı</strong> <strong>için bir değer belirtin</strong> <strong>.</strong></span><span class="sxs-lookup"><span data-stu-id="31b51-409"><strong>Specify a value for the</strong><strong>`LocalSqlServer`</strong><strong>connection string name in</strong><strong>`Web.config`</strong><strong>.</strong></span></span> <span data-ttu-id="31b51-410">`Web.config``LocalSqlServer` bağlantı dizesi adı değerinin üzerine yazarak, varsayılan kayıtlı üyelik sağlayıcısını (`AspNetSqlMembershipProvider`) kullanabilir ve `SecurityTutorials.mdf` veritabanıyla doğru bir şekilde çalışabilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-410">By overwriting the `LocalSqlServer` connection string name value in `Web.config`, we can use the default registered Membership provider (`AspNetSqlMembershipProvider`) and have it correctly work with the `SecurityTutorials.mdf` database.</span></span> <span data-ttu-id="31b51-411">Bu yaklaşım, `AspNetSqlMembershipProvider`tarafından belirtilen yapılandırma ayarlarıyla içeriğiniz varsa uygundur.</span><span class="sxs-lookup"><span data-stu-id="31b51-411">This approach is fine if you are content with the configuration settings specified by `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-412">Bu teknik hakkında daha fazla bilgi için bkz. [Scott Guthrie](https://weblogs.asp.net/scottgu/)'nin blog gönderisi, [SQL Server 2000 veya SQL Server 2005 kullanmak için ASP.NET 2,0 uygulama hizmetleri yapılandırma](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span><span class="sxs-lookup"><span data-stu-id="31b51-412">For more information on this technique, see [Scott Guthrie](https://weblogs.asp.net/scottgu/)'s blog post, [Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx).</span></span>
- <span data-ttu-id="31b51-413"><strong>`SqlMembershipProvider`türünde yeni bir kayıtlı sağlayıcı ekleyin</strong> <strong>ve</strong> <strong>`connectionStringName`</strong>ayarını<strong>`SecurityTutorials.mdf`</strong> <strong>veritabanına</strong> <strong>işaret etmek üzere</strong> yapılandırın.</span><span class="sxs-lookup"><span data-stu-id="31b51-413"><strong>Add a new registered provider of type</strong><strong>`SqlMembershipProvider`</strong><strong>and configure its</strong><strong>`connectionStringName`</strong><strong>setting to point to the</strong><strong>`SecurityTutorials.mdf`</strong><strong>database.</strong></span></span> <span data-ttu-id="31b51-414">Bu yaklaşım, veritabanı bağlantı dizesine ek olarak diğer yapılandırma özelliklerini özelleştirmek istediğiniz senaryolarda yararlıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-414">This approach is useful in scenarios where you want to customize other configuration properties in addition to the database connection string.</span></span> <span data-ttu-id="31b51-415">Kendi projelerimde bu yaklaşımı esneklik ve okunabilirlik nedeniyle her zaman kullandım.</span><span class="sxs-lookup"><span data-stu-id="31b51-415">In my own projects I always use this approach because of its flexibility and readability.</span></span>

<span data-ttu-id="31b51-416">`SecurityTutorials.mdf` veritabanına başvuran yeni bir kayıtlı sağlayıcı ekleyebilmek için önce `Web.config``<connectionStrings>` bölümünde uygun bir bağlantı dizesi değeri eklememiz gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-416">Before we can add a new registered provider that references the `SecurityTutorials.mdf` database, we first need to add an appropriate connection string value in the `<connectionStrings>` section in `Web.config`.</span></span> <span data-ttu-id="31b51-417">Aşağıdaki biçimlendirme `App_Data` klasöründeki SQL Server 2005 Express Sürüm `SecurityTutorials.mdf` veritabanına başvuran `SecurityTutorialsConnectionString` adlı yeni bir bağlantı dizesi ekler.</span><span class="sxs-lookup"><span data-stu-id="31b51-417">The following markup adds a new connection string named `SecurityTutorialsConnectionString` that references the SQL Server 2005 Express Edition `SecurityTutorials.mdf` database in the `App_Data` folder.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample3.xml)]

> [!NOTE]
> <span data-ttu-id="31b51-418">Alternatif bir veritabanı dosyası kullanıyorsanız, bağlantı dizesini gerektiği şekilde güncelleştirin.</span><span class="sxs-lookup"><span data-stu-id="31b51-418">If you are using an alternate database file, update the connection string as needed.</span></span> <span data-ttu-id="31b51-419">Doğru bağlantı dizesinin nasıl oluşabileceği hakkında daha fazla bilgi için bkz. [connectionStrings.com](http://www.connectionstrings.com/).</span><span class="sxs-lookup"><span data-stu-id="31b51-419">For more information on forming the correct connection string, refer to [ConnectionStrings.com](http://www.connectionstrings.com/).</span></span>

<span data-ttu-id="31b51-420">Sonra, `Web.config` dosyasına aşağıdaki Üyelik yapılandırma işaretlemesini ekleyin.</span><span class="sxs-lookup"><span data-stu-id="31b51-420">Next, add the following Membership configuration markup to the `Web.config` file.</span></span> <span data-ttu-id="31b51-421">Bu biçimlendirme `SecurityTutorialsSqlMembershipProvider`adlı yeni bir sağlayıcı kaydeder.</span><span class="sxs-lookup"><span data-stu-id="31b51-421">This markup registers a new provider named `SecurityTutorialsSqlMembershipProvider`.</span></span>

[!code-xml[Main](creating-the-membership-schema-in-sql-server-cs/samples/sample4.xml)]

<span data-ttu-id="31b51-422">`SecurityTutorialsSqlMembershipProvider` sağlayıcıyı kaydetmenin yanı sıra, yukarıdaki biçimlendirme `SecurityTutorialsSqlMembershipProvider` varsayılan sağlayıcı olarak tanımlar (`<membership>` öğesindeki `defaultProvider` özniteliği aracılığıyla).</span><span class="sxs-lookup"><span data-stu-id="31b51-422">In addition to registering the `SecurityTutorialsSqlMembershipProvider` provider, the above markup defines the `SecurityTutorialsSqlMembershipProvider` as the default provider (via the `defaultProvider` attribute in the `<membership>` element).</span></span> <span data-ttu-id="31b51-423">Üyelik çerçevesinin birden çok kayıtlı sağlayıcısı olabilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-423">Recall that the Membership framework can have multiple registered providers.</span></span> <span data-ttu-id="31b51-424">`AspNetSqlMembershipProvider`, `machine.config`ilk sağlayıcı olarak kaydedildiğinden, aksini belirtmediğiniz sürece varsayılan sağlayıcı olarak görev yapar.</span><span class="sxs-lookup"><span data-stu-id="31b51-424">Since `AspNetSqlMembershipProvider` is registered as the first provider in `machine.config`, it serves as the default provider unless we indicate otherwise.</span></span>

<span data-ttu-id="31b51-425">Şu anda uygulamamız iki kayıtlı sağlayıcıya sahiptir: `AspNetSqlMembershipProvider` ve `SecurityTutorialsSqlMembershipProvider`.</span><span class="sxs-lookup"><span data-stu-id="31b51-425">Currently, our application has two registered providers: `AspNetSqlMembershipProvider` and `SecurityTutorialsSqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-426">Ancak, `SecurityTutorialsSqlMembershipProvider` sağlayıcıyı kaydetmeden önce, `<add>` öğesinden hemen önce [`<clear />` bir öğe](https://msdn.microsoft.com/library/t062y6yc.aspx) ekleyerek önceden kaydedilmiş tüm sağlayıcıları temizlemiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-426">However, before registering the `SecurityTutorialsSqlMembershipProvider` provider we could have cleared out all previously registered providers by adding a [`<clear />` element](https://msdn.microsoft.com/library/t062y6yc.aspx) immediately before our `<add>` element.</span></span> <span data-ttu-id="31b51-427">Bu, kayıtlı sağlayıcılar listesinden `AspNetSqlMembershipProvider` temizleyebilir, yani `SecurityTutorialsSqlMembershipProvider` yalnızca kayıtlı üyelik sağlayıcısı olacaktır.</span><span class="sxs-lookup"><span data-stu-id="31b51-427">This would clear out the `AspNetSqlMembershipProvider` from the list of registered providers, meaning that the `SecurityTutorialsSqlMembershipProvider` would be the only registered Membership provider.</span></span> <span data-ttu-id="31b51-428">Bu yaklaşımı kullandığımızda, tek kayıtlı üyelik sağlayıcısı olduğundan, `SecurityTutorialsSqlMembershipProvider` varsayılan sağlayıcı olarak işaretlemenize gerek kalmaz.</span><span class="sxs-lookup"><span data-stu-id="31b51-428">If we used this approach, then we would not need to mark the `SecurityTutorialsSqlMembershipProvider` as the default provider, since it would be the only registered Membership provider.</span></span> <span data-ttu-id="31b51-429">`<clear />`kullanma hakkında daha fazla bilgi için bkz. [sağlayıcılar eklenirken `<clear />` kullanma](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span><span class="sxs-lookup"><span data-stu-id="31b51-429">For more information on using `<clear />`, see [Using `<clear />` When Adding Providers](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx).</span></span>

<span data-ttu-id="31b51-430">`SecurityTutorialsSqlMembershipProvider``connectionStringName` ayarının, tam eklenen `SecurityTutorialsConnectionString` bağlantı dizesi adına başvurdığına ve `applicationName` ayarının Securityöğreticiler değeri olarak ayarlandığını unutmayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-430">Note that the `SecurityTutorialsSqlMembershipProvider`'s `connectionStringName` setting references the just-added `SecurityTutorialsConnectionString` connection string name, and that its `applicationName` setting has been set to a value of SecurityTutorials.</span></span> <span data-ttu-id="31b51-431">Ayrıca, `requiresUniqueEmail` ayarı `true`olarak ayarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="31b51-431">Additionally, the `requiresUniqueEmail` setting has been set to `true`.</span></span> <span data-ttu-id="31b51-432">Diğer tüm yapılandırma seçenekleri, `AspNetSqlMembershipProvider`değerleriyle aynıdır.</span><span class="sxs-lookup"><span data-stu-id="31b51-432">All other configuration options are identical to the values in `AspNetSqlMembershipProvider`.</span></span> <span data-ttu-id="31b51-433">İsterseniz, burada herhangi bir yapılandırma değişikliği yapabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-433">Feel free to make any configuration modifications here, if you wish.</span></span> <span data-ttu-id="31b51-434">Örneğin, bir tane yerine iki alfasayısal olmayan karakter gerektirerek veya parola uzunluğunu yedi yerine sekiz karakter ile artırarak parola gücünü güçleyerek artırabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="31b51-434">For example, you could tighten the password strength by requiring two non-alphanumeric characters instead of one, or by increasing the password length to eight characters instead of seven.</span></span>

> [!NOTE]
> <span data-ttu-id="31b51-435">Üyelik çerçevesinin, tek bir Kullanıcı deposunun birden çok uygulama arasında bölümlenmesi için izin verdiğini hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="31b51-435">Recall that the Membership framework allows for a single user store to be partitioned across multiple applications.</span></span> <span data-ttu-id="31b51-436">Üyelik sağlayıcısının `applicationName` ayarı, sağlayıcının kullanıcı deposuyla çalışırken hangi uygulamayı kullanacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="31b51-436">The Membership provider's `applicationName` setting indicates what application the provider uses when working with the user store.</span></span> <span data-ttu-id="31b51-437">`applicationName` yapılandırma ayarı için açıkça bir değer ayarlamanız önemlidir çünkü `applicationName` açıkça ayarlanmamışsa, çalışma zamanında Web uygulamasının sanal kök yoluna atanır.</span><span class="sxs-lookup"><span data-stu-id="31b51-437">It is important that you explicitly set a value for the `applicationName` configuration setting because if the `applicationName` is not explicitly set, it is assigned to the web application's virtual root path at runtime.</span></span> <span data-ttu-id="31b51-438">Uygulamanın sanal kök yolu değişmediğinden bu işlem sorunsuz çalışır, ancak uygulamayı farklı bir yola taşırsanız `applicationName` ayarı da aynı şekilde değişir.</span><span class="sxs-lookup"><span data-stu-id="31b51-438">This works fine as long as the application's virtual root path doesn't change, but if you move the application to a different path, the `applicationName` setting will change too.</span></span> <span data-ttu-id="31b51-439">Bu durumda, üyelik sağlayıcısı daha önce kullanılandan farklı bir uygulama bölümüyle çalışmaya başlayacaktır.</span><span class="sxs-lookup"><span data-stu-id="31b51-439">When this happens, the Membership provider will start working with a different application partition than was previously used.</span></span> <span data-ttu-id="31b51-440">Taşıma işleminden önce oluşturulan kullanıcı hesapları farklı bir uygulama bölümünde kalacak ve bu kullanıcılar artık sitede oturum açamaz.</span><span class="sxs-lookup"><span data-stu-id="31b51-440">User accounts created prior to the move will reside in a different application partition and those users will no longer be able to log into the site.</span></span> <span data-ttu-id="31b51-441">Bu konuyla ilgili daha ayrıntılı bir tartışma için, bkz. [ASP.NET 2,0 üyeliğini ve diğer sağlayıcıları yapılandırırken her zaman `applicationName` özelliğini ayarlama](https://weblogs.asp.net/scottgu/443634).</span><span class="sxs-lookup"><span data-stu-id="31b51-441">For a more in-depth discussion on this matter, see [Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers](https://weblogs.asp.net/scottgu/443634).</span></span>

## <a name="summary"></a><span data-ttu-id="31b51-442">Özet</span><span class="sxs-lookup"><span data-stu-id="31b51-442">Summary</span></span>

<span data-ttu-id="31b51-443">Bu noktada, yapılandırılmış uygulama hizmetleri (`SecurityTutorials.mdf`) ile bir veritabanı vardır ve üyelik çerçevesinin yeni Kaydolduğumuz `SecurityTutorialsSqlMembershipProvider` sağlayıcıyı kullanması için Web uygulamamızı yapılandırmış olmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="31b51-443">At this point we have a database with the configured application services (`SecurityTutorials.mdf`) and have configured our web application so that the Membership framework uses the `SecurityTutorialsSqlMembershipProvider` provider we just registered.</span></span> <span data-ttu-id="31b51-444">Bu kayıtlı sağlayıcı `SqlMembershipProvider` türündedir ve `connectionStringName` uygun bağlantı dizesine (`SecurityTutorialsConnectionString`) ve `applicationName` değeri açıkça ayarlanmış olarak ayarlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="31b51-444">This registered provider is of type `SqlMembershipProvider` and has its `connectionStringName` set to the appropriate connection string (`SecurityTutorialsConnectionString`) and its `applicationName` value explicitly set.</span></span>

<span data-ttu-id="31b51-445">Artık uygulamamızda üyelik çerçevesini kullanmaya hazırsınız.</span><span class="sxs-lookup"><span data-stu-id="31b51-445">We are now ready to use the Membership framework from our application.</span></span> <span data-ttu-id="31b51-446">Sonraki öğreticide, Yeni Kullanıcı hesapları oluşturmayı inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="31b51-446">In the next tutorial we will examine how to create new user accounts.</span></span> <span data-ttu-id="31b51-447">Aşağıdaki, Kullanıcı tabanlı yetkilendirme gerçekleştirerek ve Kullanıcı ile ilgili ek bilgileri veritabanında depolarız.</span><span class="sxs-lookup"><span data-stu-id="31b51-447">Following that we will explore authenticating users, performing user-based authorization, and storing additional user-related information in the database.</span></span>

<span data-ttu-id="31b51-448">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="31b51-448">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="31b51-449">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="31b51-449">Further Reading</span></span>

<span data-ttu-id="31b51-450">Bu öğreticide ele alınan konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="31b51-450">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="31b51-451">ASP.NET 2,0 üyeliğini ve diğer sağlayıcıları yapılandırırken her zaman `applicationName` özelliğini ayarlayın</span><span class="sxs-lookup"><span data-stu-id="31b51-451">Always Set the `applicationName` Property When Configuring ASP.NET 2.0 Membership and Other Providers</span></span>](https://weblogs.asp.net/scottgu/443634)
- [<span data-ttu-id="31b51-452">SQL Server 2000 veya SQL Server 2005 kullanmak için ASP.NET 2,0 Uygulama Hizmetleri yapılandırma</span><span class="sxs-lookup"><span data-stu-id="31b51-452">Configuring ASP.NET 2.0 Application Services to Use SQL Server 2000 or SQL Server 2005</span></span>](https://weblogs.asp.net/scottgu/archive/2005/08/25/423703.aspx)
- [<span data-ttu-id="31b51-453">SQL Server Management Studio Express Edition 'ı indirin</span><span class="sxs-lookup"><span data-stu-id="31b51-453">Download SQL Server Management Studio Express Edition</span></span>](https://www.microsoft.com/downloads/details.aspx?FamilyId=C243A5AE-4BD1-4E3D-94B8-5A0F62BF7796&amp;displaylang=en)
- [<span data-ttu-id="31b51-454">ASP.NET 2,0 s üyeliğini, rollerini ve profilini İnceleme</span><span class="sxs-lookup"><span data-stu-id="31b51-454">Examining ASP.NET 2.0�s Membership, Roles, and Profile</span></span>](http://aspnet.4guysfromrolla.com/articles/120705-1.aspx)
- [<span data-ttu-id="31b51-455">Üyelik sağlayıcıları için `<add>` öğesi</span><span class="sxs-lookup"><span data-stu-id="31b51-455">The `<add>` Element for Providers for Membership</span></span>](https://msdn.microsoft.com/library/whae3t94.aspx)
- [<span data-ttu-id="31b51-456">`<membership>` öğesi</span><span class="sxs-lookup"><span data-stu-id="31b51-456">The `<membership>` Element</span></span>](https://msdn.microsoft.com/library/1b9hw62f.aspx)
- [<span data-ttu-id="31b51-457">Üyelik için `<providers>` öğesi</span><span class="sxs-lookup"><span data-stu-id="31b51-457">The `<providers>` Element for Membership</span></span>](https://msdn.microsoft.com/library/6d4936ht.aspx)
- [<span data-ttu-id="31b51-458">Sağlayıcılar eklenirken `<clear />` kullanma</span><span class="sxs-lookup"><span data-stu-id="31b51-458">Using `<clear />` When Adding Providers</span></span>](https://weblogs.asp.net/scottgu/archive/2006/11/20/common-gotcha-don-t-forget-to-clear-when-adding-providers.aspx)
- [<span data-ttu-id="31b51-459">`SqlMembershipProvider` ile doğrudan çalışma</span><span class="sxs-lookup"><span data-stu-id="31b51-459">Working Directly with the `SqlMembershipProvider`</span></span>](http://aspnet.4guysfromrolla.com/articles/091207-1.aspx)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="31b51-460">Bu öğreticide bulunan konularda video eğitimi</span><span class="sxs-lookup"><span data-stu-id="31b51-460">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="31b51-461">ASP.NET Üyeliklerini Anlama</span><span class="sxs-lookup"><span data-stu-id="31b51-461">Understanding ASP.NET Memberships</span></span>](../../../videos/authentication/understanding-aspnet-memberships.md)
- [<span data-ttu-id="31b51-462">SQL’yi Üyelik Şemalarıyla Çalışacak Biçimde Yapılandırma</span><span class="sxs-lookup"><span data-stu-id="31b51-462">Configuring SQL To Work with Membership Schemas</span></span>](../../../videos/authentication/configuring-sql-to-work-with-membership-schemas.md)
- [<span data-ttu-id="31b51-463">Varsayılan Üyelik Şemasında Üyelik Ayarlarını Değiştirme</span><span class="sxs-lookup"><span data-stu-id="31b51-463">Changing Membership Settings in the Default Membership Schema</span></span>](../../../videos/authentication/changing-membership-settings-in-the-default-membership-schema.md)

### <a name="about-the-author"></a><span data-ttu-id="31b51-464">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="31b51-464">About the Author</span></span>

<span data-ttu-id="31b51-465">Birden çok ASP/ASP. NET Books ve 4GuysFromRolla.com 'in yazarı Scott Mitchell, 1998 sürümünden bu yana Microsoft Web teknolojileriyle birlikte çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="31b51-465">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="31b51-466">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="31b51-466">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="31b51-467">En son kitabı, *[24 saat içinde ASP.NET 2,0 kendi kendinize eğitim](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)* ister.</span><span class="sxs-lookup"><span data-stu-id="31b51-467">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="31b51-468">Scott 'a [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) veya blogundan [http://ScottOnWriting.NET](http://scottonwriting.net/)üzerinden erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="31b51-468">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="31b51-469">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="31b51-469">Special Thanks To</span></span>

<span data-ttu-id="31b51-470">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="31b51-470">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="31b51-471">Bu öğretici için lider gözden geçiren Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="31b51-471">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="31b51-472">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="31b51-472">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="31b51-473">Öyleyse, beni [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com)bir satır bırakın.</span><span class="sxs-lookup"><span data-stu-id="31b51-473">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="31b51-474">Next</span><span class="sxs-lookup"><span data-stu-id="31b51-474">Next</span></span>](creating-user-accounts-cs.md)
