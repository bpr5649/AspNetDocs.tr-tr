---
uid: web-forms/overview/older-versions-security/introduction/forms-authentication-configuration-and-advanced-topics-vb
title: Forms kimlik doğrulaması yapılandırması ve gelişmiş konular (VB) | Microsoft Docs
author: rick-anderson
description: Bu öğreticide çeşitli form kimlik doğrulama ayarlarını inceleyeceğiz ve bunları Forms öğesi aracılığıyla nasıl değiştireceğiniz gösterilir. Bu, ayrıntılı bir şekilde kuyruğa alınır...
ms.author: riande
ms.date: 01/14/2008
ms.assetid: 829d2f56-5c48-445b-b826-3418a450c788
msc.legacyurl: /web-forms/overview/older-versions-security/introduction/forms-authentication-configuration-and-advanced-topics-vb
msc.type: authoredcontent
ms.openlocfilehash: 4d77816a489a4fa16cd70ec4214cd2f8ee563029
ms.sourcegitcommit: 22fbd8863672c4ad6693b8388ad5c8e753fb41a2
ms.translationtype: MT
ms.contentlocale: tr-TR
ms.lasthandoff: 11/28/2019
ms.locfileid: "74632166"
---
# <a name="forms-authentication-configuration-and-advanced-topics-vb"></a><span data-ttu-id="9d4f6-104">Forms Kimlik Doğrulaması Yapılandırması ve Gelişmiş Konular (VB)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-104">Forms Authentication Configuration and Advanced Topics (VB)</span></span>

<span data-ttu-id="9d4f6-105">[Scott Mitchell](https://twitter.com/ScottOnWriting) tarafından</span><span class="sxs-lookup"><span data-stu-id="9d4f6-105">by [Scott Mitchell](https://twitter.com/ScottOnWriting)</span></span>

<span data-ttu-id="9d4f6-106">[Kodu indirin](https://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/ASPNET_Security_Tutorial_03_VB.zip) veya [PDF 'yi indirin](https://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial03_AuthAdvanced_vb.pdf)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-106">[Download Code](https://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/ASPNET_Security_Tutorial_03_VB.zip) or [Download PDF](https://download.microsoft.com/download/2/F/7/2F705A34-F9DE-4112-BBDE-60098089645E/aspnet_tutorial03_AuthAdvanced_vb.pdf)</span></span>

> <span data-ttu-id="9d4f6-107">Bu öğreticide çeşitli form kimlik doğrulama ayarlarını inceleyeceğiz ve bunları Forms öğesi aracılığıyla nasıl değiştireceğiniz gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-107">In this tutorial we will examine the various forms authentication settings and see how to modify them through the forms element.</span></span> <span data-ttu-id="9d4f6-108">Bu, Forms kimlik doğrulama biletinin zaman aşımı değerini özelleştirmeye, özel bir URL (login. aspx yerine Sign. aspx gibi) ve tanımlama bilgisi olmayan formların kimlik doğrulama biletlerine sahip bir oturum açma sayfası kullanmaya ilişkin ayrıntılı bir bakış oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-108">This will entail a detailed look at customizing the forms authentication ticket's timeout value, using a login page with a custom URL (like SignIn.aspx instead of Login.aspx), and cookieless forms authentication tickets.</span></span>

## <a name="introduction"></a><span data-ttu-id="9d4f6-109">Giriş</span><span class="sxs-lookup"><span data-stu-id="9d4f6-109">Introduction</span></span>

<span data-ttu-id="9d4f6-110">[Önceki öğreticide](an-overview-of-forms-authentication-vb.md) , kimliği doğrulanmış ve anonim kullanıcılar için farklı içerikleri görüntülemek üzere Web. config 'deki yapılandırma ayarlarını belirtmekten ASP.NET uygulamasında form kimlik doğrulaması uygulamak için gereken adımlara baktık.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-110">In the [previous tutorial](an-overview-of-forms-authentication-vb.md) we looked at the steps necessary for implementing forms authentication in an ASP.NET application, from specifying configuration settings in Web.config to creating a log in page to displaying different content for authenticated and anonymous users.</span></span> <span data-ttu-id="9d4f6-111">&lt;Authentication&gt; öğesinin mode özniteliğini Forms olarak ayarlayarak, Web sitesini Forms kimlik doğrulamasını kullanacak şekilde yapılandırdığımızda hatırlayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-111">Recall that we configured the website to use forms authentication by setting the mode attribute of the &lt;authentication&gt; element to Forms.</span></span> <span data-ttu-id="9d4f6-112">&lt;Authentication&gt; öğesi, isteğe bağlı olarak bir &lt;Forms&gt; alt öğesi içerebilir ve bu, bir form kimlik doğrulama ayarları sınıfısına sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-112">The &lt;authentication&gt; element may optionally include a &lt;forms&gt; child element, through which an assortment of forms authentication settings may be specified.</span></span>

<span data-ttu-id="9d4f6-113">Bu öğreticide çeşitli form kimlik doğrulama ayarlarını inceleyeceğiz ve &lt;Forms&gt; öğesi aracılığıyla nasıl değiştireceğiniz gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-113">In this tutorial we will examine the various forms authentication settings and see how to modify them through the &lt;forms&gt; element.</span></span> <span data-ttu-id="9d4f6-114">Bu, Forms kimlik doğrulama biletinin zaman aşımı değerini özelleştirmeye, özel bir URL (login. aspx yerine Sign. aspx gibi) ve tanımlama bilgisi olmayan formların kimlik doğrulama biletlerine sahip bir oturum açma sayfası kullanmaya ilişkin ayrıntılı bir bakış oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-114">This will entail a detailed look at customizing the forms authentication ticket's timeout value, using a login page with a custom URL (like SignIn.aspx instead of Login.aspx), and cookieless forms authentication tickets.</span></span> <span data-ttu-id="9d4f6-115">Ayrıca, form kimlik doğrulama biletini daha yakından inceleyerek, Bilet verilerinin incelemeden ve izinsiz değişikliklere karşı güvende olduğundan emin olmak için ASP.NET önlemler görürsünüz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-115">We will also examine the makeup of the forms authentication ticket more closely and see the precautions ASP.NET takes to ensure that the ticket's data is secure from inspection and tampering.</span></span> <span data-ttu-id="9d4f6-116">Son olarak, form kimlik doğrulama biletinde ek kullanıcı verilerinin nasıl depolanacağını ve bu verilerin özel bir asıl nesne üzerinden nasıl modellendirilebileceklerini inceleyeceğiz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-116">Finally, we will look at how to store extra user data in the forms authentication ticket and how to model this data through a custom principal object.</span></span>

## <a name="step-1-examining-the-ltformsgt-configuration-settings"></a><span data-ttu-id="9d4f6-117">Adım 1: &lt;formları&gt; yapılandırma ayarlarını Inceleme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-117">Step 1: Examining the &lt;forms&gt; Configuration Settings</span></span>

<span data-ttu-id="9d4f6-118">ASP.NET ' deki Forms kimlik doğrulama sistemi, uygulama temelinde özelleştirilebilen bir dizi yapılandırma ayarı sunar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-118">The forms authentication system in ASP.NET offers a number of configuration settings that can be customized on an application-by-application basis.</span></span> <span data-ttu-id="9d4f6-119">Bu, aşağıdaki gibi ayarları içerir: form kimlik doğrulama anahtarının yaşam süresi; Bilet için ne tür bir koruma uygulanır; tanımlama bilgisi olmayan kimlik doğrulama biletlerinin altında hangi koşullarda kullanılır? oturum açma sayfasının yolu; ve diğer bilgiler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-119">This includes settings like: the lifetime of the forms authentication ticket; what sort of protection is applied to the ticket; under what conditions cookieless authentication tickets are used; the path to the login page; and other information.</span></span> <span data-ttu-id="9d4f6-120">Varsayılan değerleri değiştirmek için, [&lt;kimlik doğrulaması&gt; öğesinin](https://msdn.microsoft.com/library/532aee0e.aspx)bir alt öğesi olarak bir [&lt;Forms&gt; öğesi](https://msdn.microsoft.com/library/1d3t3c61.aspx) ekleyın ve bunun gibi XML öznitelikleri olarak özelleştirmek istediğiniz özellik değerlerini belirtin:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-120">To modify the default values, add a [&lt;forms&gt; element](https://msdn.microsoft.com/library/1d3t3c61.aspx) as a child of the [&lt;authentication&gt; element](https://msdn.microsoft.com/library/532aee0e.aspx), specifying those property values you want to customize as XML attributes like so:</span></span>

[!code-xml[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample1.xml)]

<span data-ttu-id="9d4f6-121">Tablo 1, &lt;Forms&gt; öğesi aracılığıyla özelleştirilebilecek özellikleri özetler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-121">Table 1 summarizes the properties that can be customized through the &lt;forms&gt; element.</span></span> <span data-ttu-id="9d4f6-122">Web. config bir XML dosyası olduğundan, sol sütundaki öznitelik adları büyük/küçük harfe duyarlıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-122">Since Web.config is an XML file, the attribute names in the left column are case-sensitive.</span></span>

| <span data-ttu-id="9d4f6-123"><strong>Öznitelik</strong></span><span class="sxs-lookup"><span data-stu-id="9d4f6-123"><strong>Attribute</strong></span></span> |                                                                                                                                                                                                                                     <span data-ttu-id="9d4f6-124"><strong>Açıklama</strong></span><span class="sxs-lookup"><span data-stu-id="9d4f6-124"><strong>Description</strong></span></span>                                                                                                                                                                                                                                      |
|----------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         <span data-ttu-id="9d4f6-125">Cookieless</span><span class="sxs-lookup"><span data-stu-id="9d4f6-125">cookieless</span></span>         |                                                                                                                <span data-ttu-id="9d4f6-126">Bu öznitelik, kimlik doğrulama anahtarının URL 'ye katıştırılması için bir tanımlama bilgisinde hangi koşullarda depolandığını belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-126">This attribute specifies under what conditions the authentication ticket is stored in a cookie versus being embedded in the URL.</span></span> <span data-ttu-id="9d4f6-127">İzin verilen değerler: UseCookies; UseUri; Seçildiğinde ve UseDeviceProfile (varsayılan).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-127">Allowable values are: UseCookies; UseUri; AutoDetect; and UseDeviceProfile (the default).</span></span> <span data-ttu-id="9d4f6-128">2\. adım bu ayarı daha ayrıntılı olarak inceler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-128">Step 2 examines this setting in more detail.</span></span>                                                                                                                |
|         <span data-ttu-id="9d4f6-129">defaultUrl</span><span class="sxs-lookup"><span data-stu-id="9d4f6-129">defaultUrl</span></span>         |                                                                                                                                                         <span data-ttu-id="9d4f6-130">QueryString içinde bir RedirectUrl değeri belirtilmemişse, oturum açma sayfasından oturum açtıktan sonra kullanıcıların yönlendirileceği URL 'YI gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-130">Indicates the URL that users are redirected to after signing in from the login page if there is no RedirectUrl value specified in the querystring.</span></span> <span data-ttu-id="9d4f6-131">Varsayılan değer Default. aspx ' dir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-131">The default value is default.aspx.</span></span>                                                                                                                                                         |
|           <span data-ttu-id="9d4f6-132">etki alanı</span><span class="sxs-lookup"><span data-stu-id="9d4f6-132">domain</span></span>           | <span data-ttu-id="9d4f6-133">Tanımlama bilgisi tabanlı kimlik doğrulama biletleri kullanılırken, bu ayar, tanımlama bilgisi s etki alanı değerini belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-133">When using cookie-based authentication tickets, this setting specifies the cookie s domain value.</span></span> <span data-ttu-id="9d4f6-134">Varsayılan değer boş bir dizedir ve bu, tarayıcının verildiği etki alanını kullanmasına neden olur (örneğin, www.yourdomain.com).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-134">The default value is an empty string, which causes the browser to use the domain from which it was issued (such as www.yourdomain.com).</span></span> <span data-ttu-id="9d4f6-135">Bu durumda, admin.yourdomain.com gibi alt etki alanlarına istek yapıldığında tanımlama bilgisi gönderilmez.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-135">In this case, the cookie will <strong>not</strong> be sent when making requests to subdomains, such as admin.yourdomain.com.</span></span> <span data-ttu-id="9d4f6-136">Tanımlama bilgisinin tüm alt etki alanlarına geçirilmesini istiyorsanız, yourdomain.com olarak, etki alanı özniteliğini özelleştirmeniz gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-136">If you want the cookie to be passed to all subdomains you need to customize the domain attribute setting it to yourdomain.com.</span></span> |
|  <span data-ttu-id="9d4f6-137">Enableçapraz Sappreyönlendirir</span><span class="sxs-lookup"><span data-stu-id="9d4f6-137">enableCrossAppRedirects</span></span>   |                                                                                                                                                                   <span data-ttu-id="9d4f6-138">Aynı sunucudaki diğer Web uygulamalarındaki URL 'lere yeniden yönlendirildiğinde, kimliği doğrulanmış kullanıcıların hatırlanıp hatırlamadığını gösteren bir Boole değeri.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-138">A Boolean value indicating whether authenticated users are remembered when redirected to URLs in other web applications on the same server.</span></span> <span data-ttu-id="9d4f6-139">Varsayılan değer false.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-139">The default is false.</span></span>                                                                                                                                                                   |
|          <span data-ttu-id="9d4f6-140">loginUrl</span><span class="sxs-lookup"><span data-stu-id="9d4f6-140">loginUrl</span></span>          |                                                                                                                                                                                                                      <span data-ttu-id="9d4f6-141">Oturum açma sayfasının URL 'SI.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-141">The URL of the login page.</span></span> <span data-ttu-id="9d4f6-142">Varsayılan değer Login. aspx ' dir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-142">The default value is login.aspx.</span></span>                                                                                                                                                                                                                      |
|            <span data-ttu-id="9d4f6-143">{1&gt;name&lt;1}</span><span class="sxs-lookup"><span data-stu-id="9d4f6-143">name</span></span>            |                                                                                                                                                                                                   <span data-ttu-id="9d4f6-144">Tanımlama bilgisi tabanlı kimlik doğrulama biletlerini kullanırken, tanımlama bilgisinin adı.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-144">When using cookie-based authentication tickets, the name of the cookie.</span></span> <span data-ttu-id="9d4f6-145">Varsayılan değer. ASPXAUTH 'tur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-145">The default is .ASPXAUTH.</span></span>                                                                                                                                                                                                   |
|            <span data-ttu-id="9d4f6-146">yol</span><span class="sxs-lookup"><span data-stu-id="9d4f6-146">path</span></span>            |                                                                             <span data-ttu-id="9d4f6-147">Tanımlama bilgisi tabanlı kimlik doğrulama biletleri kullanılırken, bu ayar, tanımlama bilgisi s yol özniteliğini belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-147">When using cookie-based authentication tickets, this setting specifies the cookie s path attribute.</span></span> <span data-ttu-id="9d4f6-148">Path özniteliği, bir geliştiricinin bir tanımlama bilgisinin kapsamını belirli bir dizin hiyerarşisine sınırlandırmalarını sağlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-148">The path attribute enables a developer to limit the scope of a cookie to a particular directory hierarchy.</span></span> <span data-ttu-id="9d4f6-149">Varsayılan değer/olur ve bu, tarayıcıya kimlik doğrulama bileti tanımlama bilgisini, etki alanına yapılan tüm istekler için gönderecek şekilde bildirir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-149">The default value is /, which informs the browser to send the authentication ticket cookie to any request made to the domain.</span></span>                                                                              |
|         <span data-ttu-id="9d4f6-150">koruma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-150">protection</span></span>         |                                                                                                                                            <span data-ttu-id="9d4f6-151">Form kimlik doğrulama biletini korumak için kullanılan teknikleri gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-151">Indicates what techniques are used to protect the forms authentication ticket.</span></span> <span data-ttu-id="9d4f6-152">İzin verilen değerler: ALL (varsayılan); Şifreleme Seçim ve doğrulama.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-152">The allowable values are: All (the default); Encryption; None; and Validation.</span></span> <span data-ttu-id="9d4f6-153">Bu ayarlar adım 3 ' te ayrıntılı olarak ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-153">These settings are discussed in detail in Step 3.</span></span>                                                                                                                                            |
|         <span data-ttu-id="9d4f6-154">requireSSL</span><span class="sxs-lookup"><span data-stu-id="9d4f6-154">requireSSL</span></span>         |                                                                                                                                                                                <span data-ttu-id="9d4f6-155">Kimlik doğrulama tanımlama bilgisini iletmek için bir SSL bağlantısının gerekli olup olmadığını belirten bir Boolean değer.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-155">A Boolean value that indicates whether an SSL connection is required to transmit the authentication cookie.</span></span> <span data-ttu-id="9d4f6-156">Varsayılan değer false'tur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-156">The default value is false.</span></span>                                                                                                                                                                                |
|     <span data-ttu-id="9d4f6-157">slidingExpiration</span><span class="sxs-lookup"><span data-stu-id="9d4f6-157">slidingExpiration</span></span>      |                                                                                                 <span data-ttu-id="9d4f6-158">Tek bir oturum sırasında kullanıcının siteyi ziyaret ettiği her seferinde kimlik doğrulama tanımlama bilgisinin s zaman aşımının sıfırlanıp sıfırlanmayacağını belirten bir Boole değeri.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-158">A Boolean value that indicates whether the authentication cookie s timeout is reset each time the user visits the site during a single session.</span></span> <span data-ttu-id="9d4f6-159">Varsayılan değer true 'dur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-159">The default value is true.</span></span> <span data-ttu-id="9d4f6-160">Kimlik doğrulama anahtarı zaman aşımı ilkesi, Bilet s zaman aşımı değeri belirtme bölümünde daha ayrıntılı bir şekilde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-160">The authentication ticket timeout policy is discussed in more detail in the Specifying the Ticket s Timeout Value section.</span></span>                                                                                                 |
|          <span data-ttu-id="9d4f6-161">Aş</span><span class="sxs-lookup"><span data-stu-id="9d4f6-161">timeout</span></span>           |                                                                                                                               <span data-ttu-id="9d4f6-162">Kimlik doğrulama anahtarı tanımlama bilgisinin süresinin dolacağı süreyi dakika olarak belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-162">Specifies the time, in minutes, after which the authentication ticket cookie expires.</span></span> <span data-ttu-id="9d4f6-163">Varsayılan değer 30 ' dur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-163">The default value is 30.</span></span> <span data-ttu-id="9d4f6-164">Kimlik doğrulama anahtarı zaman aşımı ilkesi, Bilet s zaman aşımı değeri belirtme bölümünde daha ayrıntılı bir şekilde ele alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-164">The authentication ticket timeout policy is discussed in more detail in the Specifying the Ticket s Timeout Value section.</span></span>                                                                                                                               |

<span data-ttu-id="9d4f6-165">**Tablo 1**: &lt;formların&gt; öğenin özniteliklerinin Özeti</span><span class="sxs-lookup"><span data-stu-id="9d4f6-165">**Table 1**: A Summary of the &lt;forms&gt; Element's Attributes</span></span>

<span data-ttu-id="9d4f6-166">ASP.NET 2,0 ve ötesinde, varsayılan form kimlik doğrulama değerleri .NET Framework FormsAuthenticationConfiguration sınıfında sabit olarak kodlanmıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-166">In ASP.NET 2.0 and beyond, the default forms authentication values are hard-coded in the FormsAuthenticationConfiguration class in the .NET Framework.</span></span> <span data-ttu-id="9d4f6-167">Herhangi bir değişiklik, Web. config dosyasında uygulamaya göre uygulama temelinde uygulanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-167">Any modifications must be applied on an application-by-application basis in the Web.config file.</span></span> <span data-ttu-id="9d4f6-168">Bu, varsayılan form kimlik doğrulama değerlerinin Machine. config dosyasında depolandığı (ve bu nedenle Machine. config 'i düzenleyen aracılığıyla değiştirilebilecek) ASP.NET 1. x öğesinden farklıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-168">This differs from ASP.NET 1.x, where the default forms authentication values were stored in the machine.config file (and could therefore be modified via editing machine.config).</span></span> <span data-ttu-id="9d4f6-169">ASP.NET 1. x konusunda, bir dizi form kimlik doğrulama sistemi ayarı ASP.NET 2,0 ' de farklı varsayılan değerlere sahip ve ASP.NET 1. x ' in ötesinde değil.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-169">While on the topic of ASP.NET 1.x, it is worthwhile to mention that a number of the forms authentication system settings have different default values in ASP.NET 2.0 and beyond than in ASP.NET 1.x.</span></span> <span data-ttu-id="9d4f6-170">Uygulamanızı bir ASP.NET 1. x ortamından geçiriyorsanız, bu farklılıklardan haberdar olmanız önemlidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-170">If you are migrating your application from an ASP.NET 1.x environment, it is important to be aware of these differences.</span></span> <span data-ttu-id="9d4f6-171">Farklılıkların bir listesi için [&lt;forms&gt; öğesi teknik belgelerine](https://msdn.microsoft.com/library/1d3t3c61.aspx) başvurun.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-171">Consult [the &lt;forms&gt; element technical documentation](https://msdn.microsoft.com/library/1d3t3c61.aspx) for a list of the differences.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-172">Zaman aşımı, etki alanı ve yol gibi çeşitli form kimlik doğrulama ayarları, elde edilen Forms kimlik doğrulama bileti tanımlama bilgisinin ayrıntılarını belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-172">Several forms authentication settings, such as the timeout, domain, and path, specify details for the resulting forms authentication ticket cookie.</span></span> <span data-ttu-id="9d4f6-173">Tanımlama bilgileri, nasıl çalıştıkları ve çeşitli özellikleri hakkında daha fazla bilgi için [Bu tanımlama bilgileri öğreticisini](http://www.quirksmode.org/js/cookies.html)okuyun.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-173">For more information on cookies, how they work, and their various properties, read [this Cookies tutorial](http://www.quirksmode.org/js/cookies.html).</span></span>

### <a name="specifying-the-tickets-timeout-value"></a><span data-ttu-id="9d4f6-174">Bilet zaman aşımı değerini belirtme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-174">Specifying the Ticket's Timeout Value</span></span>

<span data-ttu-id="9d4f6-175">Forms kimlik doğrulama bileti, bir kimliği temsil eden bir simgedir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-175">The forms authentication ticket is a token that represents an identity.</span></span> <span data-ttu-id="9d4f6-176">Tanımlama bilgisi tabanlı kimlik doğrulama biletleri ile, bu belirteç tanımlama bilgisi biçiminde tutulur ve her istekte Web sunucusuna gönderilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-176">With cookie-based authentication tickets, this token is held in the form of a cookie and sent to the web server on each request.</span></span> <span data-ttu-id="9d4f6-177">Belirtecin sahibi, temelde Kullanıcı *adı*, oturum açdım, oturum açmış olduğum ve bir kullanıcının kimliğinin sayfa ziyaretlerine hatırlanabilmesi için kullanılıyor.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-177">Possession of the token, in essence, declares, I am *username*, I have already logged in, and is used so that a user's identity can be remembered across page visits.</span></span>

<span data-ttu-id="9d4f6-178">Forms kimlik doğrulama bileti yalnızca kullanıcının kimliğini içermez, ancak belirtecin bütünlüğünü ve güvenliğini sağlamaya yardımcı olacak bilgiler de içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-178">The forms authentication ticket not only includes the user's identity, but also contains information to help ensure the integrity and security of the token.</span></span> <span data-ttu-id="9d4f6-179">Tüm bunları yaptıktan sonra, nefarli bir kullanıcının sahte bir belirteç oluşturabilme veya bazı düşük bir şekilde bir mevzuıt belirtecini değiştirebilmemiz mümkün değildir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-179">After all, we don't want a nefarious user to be able to create a counterfeit token, or to modify a legit token in some underhanded way.</span></span>

<span data-ttu-id="9d4f6-180">Bilette bulunan bilgilerin bir bit süresi, anahtarın artık geçerli olmadığı tarih ve saat olan bir *süre sonu*.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-180">One such bit of information included in the ticket is an *expiry*, which is the date and time the ticket is no longer valid.</span></span> <span data-ttu-id="9d4f6-181">FormsAuthenticationModule bir kimlik doğrulama bileti her inceler, Bilet süresinin dolmamasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-181">Each time the FormsAuthenticationModule inspects an authentication ticket, it ensures that the ticket's expiry has not yet passed.</span></span> <span data-ttu-id="9d4f6-182">Varsa, bileti yoksayar ve kullanıcıyı anonim olarak tanımlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-182">If it has, it disregards the ticket and identifies the user as being anonymous.</span></span> <span data-ttu-id="9d4f6-183">Bu koruma, yeniden yürütme saldırılarına karşı korunmaya yardımcı olur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-183">This safeguard helps protect against replay attacks.</span></span> <span data-ttu-id="9d4f6-184">Süre sonu olmadan, bir korsan bir kullanıcının geçerli kimlik doğrulama biletini (Belki de kendi bilgisayarlarına fiziksel erişim elde ederek ve kendi tanımlama bilgileri aracılığıyla) alıyorsa, bu çalınmış kimlik doğrulama bileti ile sunucuya bir istek gönderebilir ve kazanç girişi.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-184">Without an expiry, if a hacker was able to get her hands on a user's valid authentication ticket - perhaps by gaining physical access to their computer and rooting through their cookies - they could send a request to the server with this stolen authentication ticket and gain entry.</span></span> <span data-ttu-id="9d4f6-185">Süre sonu bu senaryoyu engellemez, ancak böyle bir saldırının başarılı olması için pencereyi sınırlandırır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-185">While the expiry doesn't prevent this scenario, it does limit the window during which such an attack can succeed.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-186">3\. adım, kimlik doğrulama anahtarını korumak için Forms kimlik doğrulama sistemi tarafından kullanılan ek tekniklerin ayrıntılarına bakın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-186">Step 3 details additional techniques used by the forms authentication system to protect the authentication ticket.</span></span>

<span data-ttu-id="9d4f6-187">Kimlik doğrulama anahtarı oluştururken, form kimlik doğrulama sistemi, zaman aşımı ayarına danışarak süre sonunu belirler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-187">When creating the authentication ticket, the forms authentication system determines its expiry by consulting the timeout setting.</span></span> <span data-ttu-id="9d4f6-188">Tablo 1 ' de belirtildiği gibi, zaman aşımı ayarı varsayılan olarak 30 dakika olur, yani formlar kimlik doğrulama anahtarının süre sonu değeri, gelecekte bir tarih ve saat 30 dakika olarak ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-188">As noted in Table 1, the timeout setting defaults to 30 minutes, meaning that when the forms authentication ticket is created its expiry is set to a date and time 30 minutes in the future.</span></span>

<span data-ttu-id="9d4f6-189">Süre sonu, form kimlik doğrulama anahtarının süresi sona erdiğinde bir sonraki adımda mutlak bir zaman tanımlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-189">The expiry defines an absolute time in the future when the forms authentication ticket expires.</span></span> <span data-ttu-id="9d4f6-190">Ancak geliştiriciler, kullanıcının siteyi yeniden ziyaret ettiği her seferinde sıfırlanarak bir kayan süre sonu uygulamak ister.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-190">But usually developers want to implement a sliding expiry, one that is reset every time the user revisits the site.</span></span> <span data-ttu-id="9d4f6-191">Bu davranış, slidingExpiration ayarları tarafından belirlenir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-191">This behavior is determined by the slidingExpiration settings.</span></span> <span data-ttu-id="9d4f6-192">True olarak ayarlanırsa (varsayılan), FormsAuthenticationModule her kullanıcı kimliğini doğruladığında, anahtarın süre sonunu günceller.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-192">If set to true (the default), each time the FormsAuthenticationModule authenticates a user, it updates the ticket's expiry.</span></span> <span data-ttu-id="9d4f6-193">False olarak ayarlanırsa, her istekte süre sonu güncellenmez ve bu nedenle, Bilet ilk kez oluşturulduğunda, anahtarın tam zaman aşımı dakikalarının süresinin dolmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-193">If set to false, the expiry is not updated on each request, thereby causing the ticket to expire exactly timeout number of minutes past when the ticket was first created.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-194">Kimlik doğrulama biletinde saklanan süre sonu, 2 Ağustos 2008 11:34 gibi mutlak bir tarih ve saat değeridir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-194">The expiry stored in the authentication ticket is an absolute date and time value, like August 2, 2008 11:34 AM.</span></span> <span data-ttu-id="9d4f6-195">Ayrıca, tarih ve saat, Web sunucusunun yerel saatine göre değişir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-195">Moreover, the date and time are relative to the web server's local time.</span></span> <span data-ttu-id="9d4f6-196">Bu tasarım kararı gün ışığından yararlanma saati (DST) boyunca bazı ilginç yan etkilere sahip olabilir. Bu durumda, Birleşik Devletler saatleri bir saat sonra (Web sunucusunun gün ışığından yararlanma saatinin gözlemlendiği bir yerel ayarda barındırıldığından).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-196">This design decision can have some interesting side effects around Daylight Saving Time (DST), which is when clocks in the United States are moved ahead one hour (assuming the web server is hosted in a locale where Daylight Saving Time is observed).</span></span> <span data-ttu-id="9d4f6-197">ASP.NET Web sitesi için, DST 'nin başladığı zamandan (2:00 ' de olan) yaklaşık 30 dakikalık bir süre sonu ile neler olacağını göz önünde bulundurun.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-197">Consider what would happen for an ASP.NET website with a 30 minute expiry near the time that DST begins (which is at 2:00 AM).</span></span> <span data-ttu-id="9d4f6-198">Bir ziyaretçi, 12 Mart 2008 ' de 1:55 Mart 'ta sitede oturum açdığına düşünün.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-198">Imagine a visitor signs on to the site on March 11, 2008 at 1:55 AM.</span></span> <span data-ttu-id="9d4f6-199">Bu, 11 Mart 2:25 2008 ' de süresi dolan bir Forms kimlik doğrulama bileti üretir (gelecekte 30 dakika).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-199">This would generate a forms authentication ticket that expires at March 11, 2008 at 2:25 AM (30 minutes in the future).</span></span> <span data-ttu-id="9d4f6-200">Ancak, 2:00 bir kez kaydedildikten sonra saat, DST nedeniyle 3:00 ' e atlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-200">However, once 2:00 AM rolls around, the clock jumps to 3:00 AM because of DST.</span></span> <span data-ttu-id="9d4f6-201">Kullanıcı 3:01 oturum açtıktan sonra altı dakika sonra yeni bir sayfa yüklediğinde, FormsAuthenticationModule anahtarının süresi dolduktan sonra kullanıcıyı oturum açma sayfasına yönlendirir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-201">When the user loads a new page six minutes after signing in (at 3:01 AM), the FormsAuthenticationModule notes that the ticket has expired and redirects the user to the login page.</span></span> <span data-ttu-id="9d4f6-202">Bu ve diğer kimlik doğrulama bileti zaman aşımı odlamalarında daha kapsamlı bir tartışma ve geçici çözüm için, Stefan Schackow 'ın *Professional ASP.NET 2,0 güvenlik, üyelik ve rol yönetimi* (ısbn: 978-0-7645-9698-8) ' nin bir kopyasını alın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-202">For a more thorough discussion on this and other authentication ticket timeout oddities, as well as workarounds, pick up a copy of Stefan Schackow's *Professional ASP.NET 2.0 Security, Membership, and Role Management* (ISBN: 978-0-7645-9698-8).</span></span>

<span data-ttu-id="9d4f6-203">Şekil 1, slidingExpiration değeri false olarak ayarlandığında ve zaman aşımı 30 olarak ayarlandığında iş akışını gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-203">Figure 1 illustrates the workflow when slidingExpiration is set to false and timeout is set to 30.</span></span> <span data-ttu-id="9d4f6-204">Oturum açma sırasında oluşturulan kimlik doğrulama anahtarının sona erme tarihini içerdiğini ve bu değerin sonraki isteklerde güncelleştirilmediğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-204">Note that the authentication ticket generated at login contains the expiration date, and this value is not updated on subsequent requests.</span></span> <span data-ttu-id="9d4f6-205">FormsAuthenticationModule, anahtarın süresi dolmuşsa, bunu atar ve isteği anonim olarak değerlendirir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-205">If the FormsAuthenticationModule finds that the ticket has expired, it discards it and treats the request as anonymous.</span></span>

<span data-ttu-id="9d4f6-206">[slidingExpiration yanlış olduğunda form kimlik doğrulama biletinin son tarihinin grafik gösterimini ![](forms-authentication-configuration-and-advanced-topics-vb/_static/image2.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image1.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-206">[![A Graphical Representation of the Forms Authentication Ticket's Expiry When slidingExpiration is false](forms-authentication-configuration-and-advanced-topics-vb/_static/image2.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image1.png)</span></span>

<span data-ttu-id="9d4f6-207">**Şekil 01**: slidingExpiration false olduğunda form kimlik doğrulama biletinin son kullanma süresinin grafik bir gösterimi ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image3.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-207">**Figure 01**: A Graphical Representation of the Forms Authentication Ticket's Expiry When slidingExpiration is false ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image3.png))</span></span>

<span data-ttu-id="9d4f6-208">Şekil 2, slidingExpiration değeri true olarak ayarlandığında ve zaman aşımı 30 olarak ayarlandığında iş akışını gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-208">Figure 2 shows the workflow when slidingExpiration is set to true and timeout is set to 30.</span></span> <span data-ttu-id="9d4f6-209">Kimliği doğrulanmamış bir istek alındığında (süresi dolmayan bir bilet), süre sonu, gelecekte zaman aşımı süresi dakika olarak güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-209">When an authenticated request is received (with a non-expired ticket) its expiry is updated to timeout number of minutes in the future.</span></span>

<span data-ttu-id="9d4f6-210">[slidingExpiration değeri true olduğunda form kimlik doğrulama biletinin grafik gösterimini ![](forms-authentication-configuration-and-advanced-topics-vb/_static/image5.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image4.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-210">[![A Graphical Representation of the Forms Authentication Ticket's When slidingExpiration is true](forms-authentication-configuration-and-advanced-topics-vb/_static/image5.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image4.png)</span></span>

<span data-ttu-id="9d4f6-211">**Şekil 02**: slidingExpiration değeri true olduğunda form kimlik doğrulama biletinin grafik gösterimi ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image6.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-211">**Figure 02**: A Graphical Representation of the Forms Authentication Ticket's When slidingExpiration is true ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image6.png))</span></span>

<span data-ttu-id="9d4f6-212">Tanımlama bilgisi tabanlı kimlik doğrulama biletlerini kullanırken (varsayılan), bu tartışma daha karmaşık hale gelir çünkü tanımlama bilgilerinin kendi sorguları de belirtilmiş olabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-212">When using cookie-based authentication tickets (the default), this discussion becomes a little more confusing because cookies can also have their own expiries specified.</span></span> <span data-ttu-id="9d4f6-213">Tanımlama bilgisinin süre sonu (veya eksikliği), tanımlama bilgisi yok edildiğinde tarayıcıya bildirir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-213">A cookie's expiry (or lack thereof) instructs the browser when the cookie should be destroyed.</span></span> <span data-ttu-id="9d4f6-214">Tanımlama bilgisinde süre sonu yoksa, tarayıcı kapandığında yok edilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-214">If the cookie lacks an expiry, it is destroyed when the browser shuts down.</span></span> <span data-ttu-id="9d4f6-215">Ancak bir süre sonu mevcutsa, süre sonu içinde belirtilen tarih ve saat geçtikten sonra tanımlama bilgisi kullanıcının bilgisayarında depolanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-215">If an expiry is present, however, the cookie remains stored on the user's computer until the date and time specified in the expiry has passed.</span></span> <span data-ttu-id="9d4f6-216">Tarayıcı tarafından bir tanımlama bilgisi yok edildiğinde, artık Web sunucusuna gönderilmez.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-216">When a cookie is destroyed by the browser, it is no longer sent to the web server.</span></span> <span data-ttu-id="9d4f6-217">Bu nedenle, bir tanımlama bilgisinin yok edilmesi, sitede oturum açan kullanıcıya benzer.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-217">Therefore, the destruction of a cookie is analogous to the user logging out of the site.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-218">Kuşkusuz, bir kullanıcı bilgisayarında depolanan tüm tanımlama bilgilerini önceden kaldırabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-218">Of course, a user may proactively remove any cookies stored on their computer.</span></span> <span data-ttu-id="9d4f6-219">Internet Explorer 7 ' de araçlar, Seçenekler ' e gidip göz atma geçmişi bölümünde Sil düğmesine tıklayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-219">In Internet Explorer 7, you would go to Tools, Options, and click the Delete button in the Browsing history section.</span></span> <span data-ttu-id="9d4f6-220">Buradan, tanımlama bilgilerini Sil düğmesine tıklayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-220">From there, click the Delete cookies button.</span></span>

<span data-ttu-id="9d4f6-221">Forms kimlik doğrulama sistemi, *Persistcookie* parametresine geçirilen değere göre oturum tabanlı veya süre sonu tabanlı tanımlama bilgileri oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-221">The forms authentication system creates session-based or expiry-based cookies depending on the value passed in to the *persistCookie* parameter.</span></span> <span data-ttu-id="9d4f6-222">FormsAuthentication sınıfının GetAuthCookie, SetAuthCookie ve RedirectFromLoginPage yöntemlerinin iki giriş parametresi içinde sürmesine geri çekin: *UserName* ve *persistcookie*.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-222">Recall that the FormsAuthentication class's GetAuthCookie, SetAuthCookie, and RedirectFromLoginPage methods take in two input parameters: *username* and *persistCookie*.</span></span> <span data-ttu-id="9d4f6-223">Önceki öğreticide oluşturduğumuz oturum açma sayfası, kalıcı bir tanımlama bilgisinin oluşturulup oluşturulmayacağını belirleyen beni anımsa onay kutusunu içeriyordu.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-223">The login page we created in the preceding tutorial included a Remember me CheckBox, which determined whether a persistent cookie was created.</span></span> <span data-ttu-id="9d4f6-224">Kalıcı tanımlama bilgileri zaman aşımı tabanlıdır; kalıcı olmayan tanımlama bilgileri oturum tabanlıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-224">Persistent cookies are expiry-based; non-persistent cookies are session-based.</span></span>

<span data-ttu-id="9d4f6-225">Zaten tartışılan zaman aşımı ve slidingExpiration kavramları, hem oturum hem de süre sonu tabanlı tanımlama bilgileri için de geçerlidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-225">The timeout and slidingExpiration concepts already discussed apply the same to both session- and expiry-based cookies.</span></span> <span data-ttu-id="9d4f6-226">Yürütmede yalnızca bir küçük fark vardır: slidingTimeout değeri true olarak ayarlandığında süre sonu tabanlı tanımlama bilgileri kullanılırken, tanımlama bilgisinin süre sonu yalnızca belirtilen sürenin yarısından fazlası geçtiğinde güncelleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-226">There is only one minor difference in execution: when using expiry-based cookies with slidingTimeout set to true, the cookie's expiry is only updated when more than half of the specified time has elapsed.</span></span>

<span data-ttu-id="9d4f6-227">Şimdi Web sitesinin kimlik doğrulama anahtarı zaman aşımı ilkelerini, anahtarların bir saatten sonra zaman aşımına uğramasını (60 dakika), kayan bir süre sonu kullanarak güncelleştirelim.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-227">Let's update our website's authentication ticket timeout policies so that tickets timeout after one hour (60 minutes), using a sliding expiration.</span></span> <span data-ttu-id="9d4f6-228">Bu değişikliği uygulamak için, Web. config dosyasını güncelleştirin ve &lt;kimlik doğrulaması&gt; öğesine aşağıdaki biçimlendirmeye sahip bir &lt;Forms&gt; öğesi ekleyin:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-228">To effect this change, update the Web.config file, adding a &lt;forms&gt; element to the &lt;authentication&gt; element with the following markup:</span></span>

[!code-xml[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample2.xml)]

### <a name="using-an-login-page-url-other-than-loginaspx"></a><span data-ttu-id="9d4f6-229">Login. aspx dışında bir oturum açma sayfası URL 'SI kullanma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-229">Using an Login Page URL Other than Login.aspx</span></span>

<span data-ttu-id="9d4f6-230">FormsAuthenticationModule, yetkisiz kullanıcıları otomatik olarak oturum açma sayfasına yönlendirdiğinden, oturum açma sayfasının URL 'sini bilmeleri gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-230">Since the FormsAuthenticationModule automatically redirects unauthorized users to the login page, it needs to know the login page's URL.</span></span> <span data-ttu-id="9d4f6-231">Bu URL, &lt;Forms&gt; öğesindeki loginUrl özniteliği tarafından belirtilir ve varsayılan olarak Login. aspx ' dir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-231">This URL is specified by the loginUrl attribute in the &lt;forms&gt; element and defaults to login.aspx.</span></span> <span data-ttu-id="9d4f6-232">Var olan bir Web sitesi üzerinden bağlantı noktası oluşturuyorsanız, farklı bir URL 'ye sahip bir oturum açma sayfanız zaten var ve bu, arama motorları tarafından önceden işaretlenmiş ve dizine alınmış bir URL 'ye sahip olabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-232">If you are porting over an existing website, you may already have a login page with a different URL, one that has already been bookmarked and indexed by search engines.</span></span> <span data-ttu-id="9d4f6-233">Var olan oturum açma sayfanızı, oturum açma. aspx ve en son bağlantılar ve kullanıcıların yer işaretleri için yeniden adlandırmak yerine, oturum açma sayfanıza işaret etmek için loginUrl özniteliğini değiştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-233">Rather than renaming your existing login page to login.aspx and breaking links and users' bookmarks, you can instead modify the loginUrl attribute to point to your login page.</span></span>

<span data-ttu-id="9d4f6-234">Örneğin, oturum açma sayfanız Signıd. aspx olarak adlandırıldıysa ve kullanıcılar dizininde yer alıyorsa, loginUrl yapılandırma ayarını ~/Users/SignIn.aspx olarak işaret edebilirsiniz:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-234">For example, if your login page was named SignIn.aspx and was located in the Users directory, you could point the loginUrl configuration setting to ~/Users/SignIn.aspx like so:</span></span>

[!code-xml[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample3.xml)]

<span data-ttu-id="9d4f6-235">Geçerli uygulamamız Login. aspx adlı bir oturum açma sayfasına zaten sahip olduğundan, &lt;Forms&gt; öğesinde özel bir değer belirtmeniz gerekmez.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-235">Since our current application already has a login page named Login.aspx, there's no need to specify a custom value in the &lt;forms&gt; element.</span></span>

## <a name="step-2-using-cookieless-forms-authentication-tickets"></a><span data-ttu-id="9d4f6-236">2\. Adım: tanımlama bilgisi olmayan formları kullanma kimlik doğrulama biletleri</span><span class="sxs-lookup"><span data-stu-id="9d4f6-236">Step 2: Using Cookieless Forms Authentication Tickets</span></span>

<span data-ttu-id="9d4f6-237">Varsayılan olarak, Forms kimlik doğrulama sistemi, kimlik doğrulama biletlerini tanımlama bilgileri koleksiyonunda depolayıp saklamamayı veya siteyi ziyaret eden kullanıcı aracısına göre URL 'ye eklemeyi belirler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-237">By default the forms authentication system determines whether to store its authentication tickets in the cookies collection or embed them in the URL based on the user agent visiting the site.</span></span> <span data-ttu-id="9d4f6-238">Internet Explorer, Firefox, Opera ve Safari gibi tüm temel masaüstü tarayıcıları, tanımlama bilgilerini destekler, ancak tüm mobil cihazları desteklemez.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-238">All mainstream desktop browsers like Internet Explorer, Firefox, Opera, and Safari, support cookies, but not all mobile devices do.</span></span>

<span data-ttu-id="9d4f6-239">Forms kimlik doğrulama sistemi tarafından kullanılan tanımlama bilgisi İlkesi, dört değerden biri atanabilen &lt;Forms&gt; öğesindeki tanımlama bilgisi olmayan ayara bağlıdır:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-239">The cookie policy used by the forms authentication system depends on the cookieless setting in the &lt;forms&gt; element, which can be assigned one of four values:</span></span>

- <span data-ttu-id="9d4f6-240">UseCookies-tanımlama bilgisi tabanlı kimlik doğrulama biletlerinin her zaman kullanılacağını belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-240">UseCookies - specifies that cookie-based authentication tickets will always be used.</span></span>
- <span data-ttu-id="9d4f6-241">UseUri-tanımlama bilgisi tabanlı kimlik doğrulama biletlerinin hiçbir şekilde kullanılmayacağını gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-241">UseUri - indicates that cookie-based authentication tickets will never be used.</span></span>
- <span data-ttu-id="9d4f6-242">Otomatik Algıla-cihaz profili tanımlama bilgilerini desteklemiyorsa, tanımlama bilgisi tabanlı kimlik doğrulama biletleri kullanılmaz; Cihaz profili tanımlama bilgilerini destekliyorsa, tanımlama bilgilerinin etkinleştirilip etkinleştirilmediğini anlamak için bir yoklama mekanizması kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-242">AutoDetect - if the device profile does not support cookies, cookie-based authentication tickets are not used; if the device profile supports cookies, a probing mechanism is used to determine if cookies are enabled.</span></span>
- <span data-ttu-id="9d4f6-243">UseDeviceProfile-varsayılan; yalnızca cihaz profili tanımlama bilgilerini destekliyorsa, tanımlama bilgisi tabanlı kimlik doğrulama biletlerini kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-243">UseDeviceProfile - the default; uses cookie-based authentication tickets only if the device profile supports cookies.</span></span> <span data-ttu-id="9d4f6-244">Hiçbir yoklama mekanizması kullanılmaz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-244">No probing mechanism is used.</span></span>

<span data-ttu-id="9d4f6-245">Otomatik Algıla ve UseDeviceProfile ayarları, tanımlama bilgisi tabanlı veya tanımlama bilgisi olmayan kimlik doğrulama biletleri kullanıp kullanmayacağınızı belirlemek için bir *cihaz profilini* kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-245">The AutoDetect and UseDeviceProfile settings rely on a *device profile* in ascertaining whether to use cookie-based or cookieless authentication tickets.</span></span> <span data-ttu-id="9d4f6-246">ASP.NET, çeşitli cihazların ve bu özellikleri, tanımlama bilgilerini destekledikleri, hangi JavaScript 'in destekledikleri ve bu gibi özelliklerine sahip bir veritabanını tutar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-246">ASP.NET maintains a database of various devices and their capabilities, such as whether they support cookies, what version of JavaScript they support, and so on.</span></span> <span data-ttu-id="9d4f6-247">Bir cihaz, cihaz türünü tanımlayan bir *Kullanıcı Aracısı* http üst bilgisi aracılığıyla gönderdiği bir Web sunucusundan bir Web sayfası istediğinde.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-247">Each time a device requests a web page from a web server it sends along a *user-agent* HTTP header that identifies the device type.</span></span> <span data-ttu-id="9d4f6-248">ASP.NET, sağlanan Kullanıcı Aracısı dizesiyle, veritabanında belirtilen ilişkili profille otomatik olarak eşleşir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-248">ASP.NET automatically matches the supplied user-agent string with the corresponding profile specified in its database.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-249">Bu cihaz özellikleri veritabanı, [tarayıcı tanımı dosya şemasına](https://msdn.microsoft.com/library/ms228122.aspx)bağlı BIR dizi xml dosyasında depolanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-249">This database of device capabilities is stored in a number of XML files that adhere to the [Browser Definition File schema](https://msdn.microsoft.com/library/ms228122.aspx).</span></span> <span data-ttu-id="9d4f6-250">Varsayılan Cihaz profili dosyaları%WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG\Browsers. konumunda bulunur</span><span class="sxs-lookup"><span data-stu-id="9d4f6-250">The default device profile files are located in %WINDIR%\Microsoft.Net\Framework\v2.0.50727\CONFIG\Browsers.</span></span> <span data-ttu-id="9d4f6-251">Ayrıca uygulamanızın App\_tarayıcıları klasörüne özel dosyalar ekleyebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-251">You can also add custom files to your application's App\_Browsers folder.</span></span> <span data-ttu-id="9d4f6-252">Daha fazla bilgi için bkz. [nasıl yapılır: ASP.NET Web sayfalarında tarayıcı türlerini algılama](https://msdn.microsoft.com/library/3yekbd5b.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-252">For more information, see [How To: Detect Browser Types in ASP.NET Web Pages](https://msdn.microsoft.com/library/3yekbd5b.aspx).</span></span>

<span data-ttu-id="9d4f6-253">Varsayılan ayar UseDeviceProfile olduğundan, site profili tanımlama bilgilerini desteklemediği bir cihaz tarafından ziyaret edildiğinde, tanımlama bilgisi olmayan formlar kimlik doğrulama biletleri kullanılacaktır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-253">Because the default setting is UseDeviceProfile, cookieless forms authentication tickets will be used when the site is visited by a device whose profile reports that it does not support cookies.</span></span>

### <a name="encoding-the-authentication-ticket-in-the-url"></a><span data-ttu-id="9d4f6-254">URL 'de kimlik doğrulama biletini kodlama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-254">Encoding the Authentication Ticket in the URL</span></span>

<span data-ttu-id="9d4f6-255">Tanımlama bilgileri, belirli bir Web sitesine her istekte tarayıcıdan bilgi eklemek için doğal bir ortamdır. Bu, varsayılan formların kimlik doğrulama ayarlarının, ziyaret edilen cihaz tarafından desteklense de tanımlama bilgilerini kullanmasına neden olur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-255">Cookies are a natural medium for including information from the browser in each request to a particular website, which is why the default forms authentication settings use cookies if the visiting device supports them.</span></span> <span data-ttu-id="9d4f6-256">Tanımlama bilgileri desteklenmiyorsa, kimlik doğrulama anahtarının istemciden sunucuya geçirilmesi için alternatif bir yol gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-256">If cookies are not supported, an alternate means for passing the authentication ticket from the client to the server must be employed.</span></span> <span data-ttu-id="9d4f6-257">Tanımlama bilgisi olmayan ortamlarda kullanılan yaygın bir geçici çözüm, URL 'deki tanımlama bilgisi verilerini kodlamadır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-257">A common workaround used in cookieless environments is to encode the cookie data in the URL.</span></span>

<span data-ttu-id="9d4f6-258">Bu tür bilgilerin URL içine nasıl katıştırılabildiğinden en iyi yol, siteyi tanımlama bilgisi olmayan kimlik doğrulama biletleri kullanmaya zorlamaktır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-258">The best way to see how such information can be embedded within the URL is to force the site to use cookieless authentication tickets.</span></span> <span data-ttu-id="9d4f6-259">Bu, tanımlama bilgisi olmayan yapılandırma ayarı UseUri olarak ayarlanarak gerçekleştirilebilir:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-259">This can be accomplished by setting the cookieless configuration setting to UseUri:</span></span>

[!code-xml[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample4.xml)]

<span data-ttu-id="9d4f6-260">Bu değişikliği yaptıktan sonra, bir tarayıcı aracılığıyla siteyi ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-260">Once you have made this change, visit the site through a browser.</span></span> <span data-ttu-id="9d4f6-261">Anonim kullanıcı olarak ziyaret edildiğinde, URL 'Ler tam olarak daha önce olduğu gibi görünecektir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-261">When visiting as an anonymous user, the URLs will look exactly like they did before.</span></span> <span data-ttu-id="9d4f6-262">Örneğin, varsayılan. aspx sayfasını ziyaret ederken Tarayıcımın adres çubuğu şu URL 'YI gösterir:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-262">For example, when visiting Default.aspx page my browser's address bar shows the following URL:</span></span>

`http://localhost:2448/ASPNET\_Security\_Tutorial\_03\_CS/default.aspx`

<span data-ttu-id="9d4f6-263">Ancak, oturum açma sırasında Forms kimlik doğrulama bileti URL 'ye katıştırılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-263">However, upon logging in, the forms authentication ticket is embedded into the URL.</span></span> <span data-ttu-id="9d4f6-264">Örneğin, oturum açma sayfasını ziyaret ettikten ve Sam olarak oturum açtıktan sonra, varsayılan. aspx sayfasına döndürüyorum, ancak URL şu anda:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-264">For example, after visiting the login page and logging in as Sam, I am returned to the Default.aspx page, but the URL this time is:</span></span>

`http://localhost:2448/ASPNET\_Security\_Tutorial\_03\_CS/(F(jaIOIDTJxIr12xYS-VVgkqKCVAuIoW30Bu0diWi6flQC-FyMaLXJfow\_Vd9GZkB2Cv-rfezq0gKadKX0YPZCkA2))/default.aspx`

<span data-ttu-id="9d4f6-265">Forms kimlik doğrulama bileti URL içine eklenmiş.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-265">The forms authentication ticket has been embedded within the URL.</span></span> <span data-ttu-id="9d4f6-266">Dize (F (jaIOIDTJxIr12xYS-VVgkqKCVAuIoW30Bu0diWi6flQC-EYC Malxjfow\_Vd9GZkB2Cv-rfezq0gKadKX0YPZCkA2), onaltılı kodlu kimlik doğrulama bilet bilgilerini temsil eder ve genellikle bir tanımlama bilgisinde depolanan veriler aynıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-266">The string (F(jaIOIDTJxIr12xYS-VVgkqKCVAuIoW30Bu0diWi6flQC-FyMaLXJfow\_Vd9GZkB2Cv-rfezq0gKadKX0YPZCkA2) represents the hex-encoded authentication ticket information, and is the same data that is usually stored within a cookie.</span></span>

<span data-ttu-id="9d4f6-267">Tanımlama bilgisi olmayan kimlik doğrulama biletlerinin çalışması için, sistemin sayfadaki tüm URL 'Leri kimlik doğrulama bileti verilerini içerecek şekilde kodlanması gerekir, aksi takdirde Kullanıcı bir bağlantıya tıkladığında kimlik doğrulama anahtarı kaybedilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-267">In order for cookieless authentication tickets to work, the system must encode all URLs on the page to include the authentication ticket data, otherwise the authentication ticket will be lost when the user clicks on a link.</span></span> <span data-ttu-id="9d4f6-268">Ktam, bu ekleme mantığı otomatik olarak gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-268">Thankfully, this embedding logic is performed automatically.</span></span> <span data-ttu-id="9d4f6-269">Bu işlevi göstermek için default. aspx sayfasını açın ve metin ve NavigateUrl özelliklerini test bağlantısı ve SomePage. aspx olarak ayarlayarak bir köprü denetimi ekleyin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-269">To demonstrate this functionality, open the Default.aspx page and add a HyperLink control, setting its Text and NavigateUrl properties to Test Link and SomePage.aspx, respectively.</span></span> <span data-ttu-id="9d4f6-270">Aslında, projemizdeki SomePage. aspx adında bir sayfanın olmadığı önemi yoktur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-270">It doesn't matter that there really isn't a page in our project named SomePage.aspx.</span></span>

<span data-ttu-id="9d4f6-271">Varsayılan. aspx değişikliklerini kaydedin ve ardından bir tarayıcıdan ziyaret edin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-271">Save the changes to Default.aspx and then visit it through a browser.</span></span> <span data-ttu-id="9d4f6-272">Forms kimlik doğrulama anahtarının URL 'ye katıştırılması için sitede oturum açın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-272">Log on to the site so that the forms authentication ticket is embedded in the URL.</span></span> <span data-ttu-id="9d4f6-273">Ardından, default. aspx ' den test bağlantısı bağlantısına tıklayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-273">Next, from Default.aspx, click the Test Link link.</span></span> <span data-ttu-id="9d4f6-274">Ne oldu?</span><span class="sxs-lookup"><span data-stu-id="9d4f6-274">What happened?</span></span> <span data-ttu-id="9d4f6-275">SomePage. aspx adında bir sayfa yoksa, bir 404 hatası oluşmuştur, ancak burada önemli olan bu değildir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-275">If no page named SomePage.aspx exists, then a 404 error occurred, but that's not what's important here.</span></span> <span data-ttu-id="9d4f6-276">Bunun yerine, tarayıcınızdaki Adres çubuğuna odaklanın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-276">Instead, focus on the Address bar in your browser.</span></span> <span data-ttu-id="9d4f6-277">URL 'ye Forms kimlik doğrulama bileti dahil olduğunu unutmayın!</span><span class="sxs-lookup"><span data-stu-id="9d4f6-277">Note that it includes the forms authentication ticket in the URL!</span></span>

`http://localhost:2448/ASPNET\_Security\_Tutorial\_03\_CS/(F(jaIOIDTJxIr12xYS-VVgkqKCVAuIoW30Bu0diWi6flQC-FyMaLXJfow\_Vd9GZkB2Cv-rfezq0gKadKX0YPZCkA2))/SomePage.aspx`

<span data-ttu-id="9d4f6-278">Bağlantıdaki SomePage. aspx URL 'SI otomatik olarak kimlik doğrulama biletini içeren bir URL 'ye dönüştürüldü; bir kod tat yazmak zorunda kalmadık!</span><span class="sxs-lookup"><span data-stu-id="9d4f6-278">The URL SomePage.aspx in the link was automatically converted into a URL that included the authentication ticket - we didn't have to write a lick of code!</span></span> <span data-ttu-id="9d4f6-279">Form kimlik doğrulama bileti, http://veya/ile başlamamış herhangi bir köprünün URL 'sine otomatik olarak gömülecektir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-279">The form authentication ticket will automatically be embedded in the URL for any hyperlinks that do not start with http:// or /.</span></span> <span data-ttu-id="9d4f6-280">Köprünün Response. Redirect çağrısı içinde, bir köprü denetiminde veya bir tutturucu HTML öğesinde (yani, &lt;a href = "..."&gt;...&lt;/a&gt;) çağrısında görünüp görüntülendiğine bakılmaksızın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-280">It doesn't matter if the hyperlink appears in a call to Response.Redirect, in a HyperLink control, or in an anchor HTML element (i.e., &lt;a href="..."&gt;...&lt;/a&gt;).</span></span> <span data-ttu-id="9d4f6-281">URL http://www.someserver.com/SomePage.aspx veya/SomePage.aspx gibi bir şey olmadığı sürece, Forms kimlik doğrulama bileti ABD için gömülecektir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-281">As long as the URL isn't something like http://www.someserver.com/SomePage.aspx or /SomePage.aspx, the forms authentication ticket will be embedded for us.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-282">Tanımlama bilgisi olmayan formlarda kimlik doğrulama biletleri, tanımlama bilgisi tabanlı kimlik doğrulama biletleri ile aynı zaman aşımı ilkelerine uyar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-282">Cookieless forms authentication tickets adhere to the same timeout policies as cookie-based authentication tickets.</span></span> <span data-ttu-id="9d4f6-283">Ancak, kimlik doğrulama bileti doğrudan URL 'ye katıştırıldığından, tanımlama bilgisi olmayan kimlik doğrulama biletleri yeniden yürütme saldırılarına açıktır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-283">However, cookieless authentication tickets are more prone to replay attacks since the authentication ticket is embedded directly in the URL.</span></span> <span data-ttu-id="9d4f6-284">Bir Web sitesini ziyaret eden, oturum açan ve sonra da bir e-postadaki URL 'YI bir iş arkadaşınıza yapıştırabilen bir Kullanıcı düşünün.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-284">Imagine a user who visits a website, logs in, and then pastes the URL in an email to a colleague.</span></span> <span data-ttu-id="9d4f6-285">İş arkadaşınız bitiş süresine ulaşılmadan önce bu bağlantıyı tıklatırsa, e-postayı gönderen Kullanıcı olarak oturum açar!</span><span class="sxs-lookup"><span data-stu-id="9d4f6-285">If the colleague clicks on that link before the expiry is reached, they will be logged in as the user who sent the email!</span></span>

## <a name="step-3-securing-the-authentication-ticket"></a><span data-ttu-id="9d4f6-286">3\. Adım: kimlik doğrulama anahtarının güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-286">Step 3: Securing the Authentication Ticket</span></span>

<span data-ttu-id="9d4f6-287">Forms kimlik doğrulama bileti, bir tanımlama bilgisinde veya doğrudan URL içinde gömülü bir bağlantı üzerinden iletilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-287">The forms authentication ticket is transmitted over the wire either in a cookie or embedded directly within the URL.</span></span> <span data-ttu-id="9d4f6-288">Kimlik bilgilerine ek olarak, kimlik doğrulama bileti Kullanıcı verilerini de içerebilir (4. adımda göreceğiniz gibi).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-288">In addition to identity information, the authentication ticket can also include user data (as we will see in Step 4).</span></span> <span data-ttu-id="9d4f6-289">Sonuç olarak, Bilet verilerinin, anahtar ve (daha da daha da önemlisi) ve Forms kimlik doğrulama sisteminin, Bilet kurcalanmadığını garanti edemeyeceği önem taşır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-289">Consequently, it is important that the ticket's data is encrypted from prying eyes and (even more importantly) that the forms authentication system can guarantee that the ticket was not tampered with.</span></span>

<span data-ttu-id="9d4f6-290">Bilet verilerinin gizliliğini sağlamak için, Forms kimlik doğrulama sistemi bilet verilerini şifreleyebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-290">To ensure the privacy of the ticket's data, the forms authentication system can encrypt the ticket data.</span></span> <span data-ttu-id="9d4f6-291">Bilet verileri şifrelememe hatası, düz metin içinde potansiyel olarak hassas bilgileri kablolu olarak gönderir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-291">Failure to encrypt the ticket data sends potentially sensitive information over the wire in plain-text.</span></span>

<span data-ttu-id="9d4f6-292">Bir anahtarın özgünlüğünü garantilemek için, Forms kimlik doğrulama sisteminin bileti *doğrulaması gerekir.*</span><span class="sxs-lookup"><span data-stu-id="9d4f6-292">To guarantee a ticket's authenticity, the forms authentication system must *validate* the ticket.</span></span> <span data-ttu-id="9d4f6-293">Doğrulama, belirli bir veri parçasının değiştirilmeyeceğinden ve bir *[ileti kimlik doğrulama kodu (Mac)](http://en.wikipedia.org/wiki/Message_authentication_code)* aracılığıyla gerçekleştirilmesinin bir parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-293">Validation is the act of ensuring that a particular piece of data has not been modified, and is accomplished via a *[message authentication code (MAC)](http://en.wikipedia.org/wiki/Message_authentication_code)*.</span></span> <span data-ttu-id="9d4f6-294">Bir Nutshell 'de MAC, doğrulanması gereken verileri (Bu durumda bilet) tanımlayan küçük bir bilgi parçasıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-294">In a nutshell, the MAC is a small piece of information that identifies the data that needs to be validated (in this case, the ticket).</span></span> <span data-ttu-id="9d4f6-295">MAC tarafından temsil edilen veriler değiştirilirse MAC ve veriler eşleşmeyecektir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-295">If the data represented by the MAC is modified, then the MAC and the data will not match up.</span></span> <span data-ttu-id="9d4f6-296">Üstelik, bir korsanın her ikisi de verileri değiştirip değiştirilen verilerle uyumlu olacak kendi MAC 'i oluşturmasını sağlamak için de hesaplama zor olur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-296">Moreover, it is computationally hard for a hacker to both modify the data and generate his own MAC to correspond with the modified data.</span></span>

<span data-ttu-id="9d4f6-297">Bir bilet oluştururken (veya değiştirirken), Forms kimlik doğrulama sistemi bir MAC oluşturur ve bunu bilet verilerine ekler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-297">When creating (or modifying) a ticket, the forms authentication system creates a MAC and attaches it to the ticket's data.</span></span> <span data-ttu-id="9d4f6-298">Sonraki bir istek geldiğinde, Forms kimlik doğrulama sistemi, Bilet verilerinin orijinalliğini doğrulamak üzere MAC ve bilet verilerini karşılaştırır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-298">When a subsequent request arrives, the forms authentication system compares the MAC and ticket data to validate the authenticity of the ticket data.</span></span> <span data-ttu-id="9d4f6-299">Şekil 3 ' te bu iş akışı grafiksel olarak gösterilmiştir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-299">Figure 3 illustrates this workflow graphically.</span></span>

<span data-ttu-id="9d4f6-300">[Bilet Için kimlik doğrulaması bir MAC aracılığıyla ![](forms-authentication-configuration-and-advanced-topics-vb/_static/image8.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image7.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-300">[![The Ticket's Authenticity is Ensured through a MAC](forms-authentication-configuration-and-advanced-topics-vb/_static/image8.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image7.png)</span></span>

<span data-ttu-id="9d4f6-301">**Şekil 03**: bilet kimlik doğrulaması bir Mac aracılığıyla yapılır ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image9.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-301">**Figure 03**: The Ticket's Authenticity is Ensured through a MAC ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image9.png))</span></span>

<span data-ttu-id="9d4f6-302">Kimlik doğrulama biletlerine uygulanan güvenlik ölçüleri, &lt;Forms&gt; öğesindeki koruma ayarına bağlıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-302">What security measures are applied to the authentication ticket depends on the protection setting in the &lt;forms&gt; element.</span></span> <span data-ttu-id="9d4f6-303">Koruma ayarı aşağıdaki üç değerden birine atanabilir:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-303">The protection setting may be assigned to one of the following three values:</span></span>

- <span data-ttu-id="9d4f6-304">All-bilet hem şifreli hem de dijital olarak imzalanır (varsayılan).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-304">All - the ticket is both encrypted and digitally signed (the default).</span></span>
- <span data-ttu-id="9d4f6-305">Yalnızca şifreleme şifrelemesi uygulandı-hiçbir MAC oluşturulmaz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-305">Encryption - only encryption is applied - no MAC is generated.</span></span>
- <span data-ttu-id="9d4f6-306">Hiçbiri-bilet şifrelenmedi veya dijital olarak imzalanmamıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-306">None - the ticket is neither encrypted nor digitally signed.</span></span>
- <span data-ttu-id="9d4f6-307">Doğrulama-bir MAC oluşturulur, ancak bilet verileri düz metin olarak kablo üzerinden gönderilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-307">Validation - a MAC is generated, but the ticket data is sent over the wire in plain-text.</span></span>

<span data-ttu-id="9d4f6-308">Microsoft, tüm ayarların kullanılmasını kesinlikle önerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-308">Microsoft strongly recommends using the All setting.</span></span>

### <a name="setting-the-validation-and-decryption-keys"></a><span data-ttu-id="9d4f6-309">Doğrulama ve şifre çözme anahtarlarını ayarlama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-309">Setting the Validation and Decryption Keys</span></span>

<span data-ttu-id="9d4f6-310">Form kimlik doğrulama sistemi tarafından kimlik doğrulama biletini şifrelemek ve doğrulamak için kullanılan şifreleme ve karma algoritmalar, Web. config 'deki [&lt;machineKey&gt; öğesi](https://msdn.microsoft.com/library/w8h3skw9.aspx) aracılığıyla özelleştirilebilir. Tablo 2 &lt;machineKey&gt; öğesinin özniteliklerini ve olası değerlerini özetler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-310">The encryption and hashing algorithms used by the forms authentication system to encrypt and validate the authentication ticket are customizable through the [&lt;machineKey&gt; element](https://msdn.microsoft.com/library/w8h3skw9.aspx) in Web.config. Table 2 outlines the &lt;machineKey&gt; element's attributes and their possible values.</span></span>

| <span data-ttu-id="9d4f6-311">**Öznitelik**</span><span class="sxs-lookup"><span data-stu-id="9d4f6-311">**Attribute**</span></span> | <span data-ttu-id="9d4f6-312">**Açıklama**</span><span class="sxs-lookup"><span data-stu-id="9d4f6-312">**Description**</span></span> |
| --- | --- |
| <span data-ttu-id="9d4f6-313">şifre çözme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-313">decryption</span></span> | <span data-ttu-id="9d4f6-314">Şifreleme için kullanılan algoritmayı belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-314">Indicates the algorithm used for encryption.</span></span> <span data-ttu-id="9d4f6-315">Bu öznitelik aşağıdaki dört değerden birine sahip olabilir:-Auto varsayılan; , decryptionKey özniteliğinin uzunluğuna bağlı olarak algoritmayı belirler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-315">This attribute can have one of the following four values: - Auto - the default; determines the algorithm based on the length of the decryptionKey attribute.</span></span> <span data-ttu-id="9d4f6-316">-AES- [Gelişmiş Şifreleme Standardı (AES)](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard) algoritmasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-316">- AES - uses the [Advanced Encryption Standard (AES)](http://en.wikipedia.org/wiki/Advanced_Encryption_Standard) algorithm.</span></span> <span data-ttu-id="9d4f6-317">-DES- [veri şifreleme standardı (DES)](http://en.wikipedia.org/wiki/Data_Encryption_Standard) kullanır Bu algoritma hesaplama açısından zayıf olarak değerlendirilir ve kullanılmamalıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-317">- DES - uses the [Data Encryption Standard (DES)](http://en.wikipedia.org/wiki/Data_Encryption_Standard) This algorithm is considered computationally weak and should not be used.</span></span> <span data-ttu-id="9d4f6-318">-3DES-DES algoritmasını üç kez uygulayarak çalışacak olan [Üçlü des](http://en.wikipedia.org/wiki/Triple_DES) algoritmasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-318">- 3DES - uses the [Triple DES](http://en.wikipedia.org/wiki/Triple_DES) algorithm, which works by applying the DES algorithm three times.</span></span> |
| <span data-ttu-id="9d4f6-319">decryptionKey</span><span class="sxs-lookup"><span data-stu-id="9d4f6-319">decryptionKey</span></span> | <span data-ttu-id="9d4f6-320">Şifreleme algoritması tarafından kullanılan gizli anahtar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-320">The secret key used by the encryption algorithm.</span></span> <span data-ttu-id="9d4f6-321">Bu değer, uygun uzunluktaki (şifre çözme değerine göre), otomatik olarak veya herhangi bir değer, ısoteapps ile eklenen bir onaltılı dize olmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-321">This value must either be a hexadecimal string of the appropriate length (based on the value in decryption), AutoGenerate, or either value appended with,IsolateApps.</span></span> <span data-ttu-id="9d4f6-322">Isoteapps eklemek, ASP.NET 'in her uygulama için benzersiz bir değer kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-322">Adding IsolateApps instructs ASP.NET to use a unique value for each application.</span></span> <span data-ttu-id="9d4f6-323">Varsayılan olarak AutoGenerate, ısoteapps.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-323">The default is AutoGenerate,IsolateApps.</span></span> |
| <span data-ttu-id="9d4f6-324">doğrulama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-324">validation</span></span> | <span data-ttu-id="9d4f6-325">Doğrulama için kullanılan algoritmayı belirtir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-325">Indicates the algorithm used for validation.</span></span> <span data-ttu-id="9d4f6-326">Bu öznitelik, aşağıdaki dört değerden birine sahip olabilir:-AES-Gelişmiş Şifreleme Standardı (AES) algoritmasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-326">This attribute can have one of the following four values: - AES - uses the Advanced Encryption Standard (AES) algorithm.</span></span> <span data-ttu-id="9d4f6-327">-MD5- [Ileti Özeti 5 (MD5)](http://en.wikipedia.org/wiki/MD5) algoritmasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-327">- MD5 - uses the [Message-Digest 5 (MD5)](http://en.wikipedia.org/wiki/MD5) algorithm.</span></span> <span data-ttu-id="9d4f6-328">-SHA1- [SHA1](http://en.wikipedia.org/wiki/Sha1) algoritmasını (varsayılan) kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-328">- SHA1 - uses the [SHA1](http://en.wikipedia.org/wiki/Sha1) algorithm (the default).</span></span> <span data-ttu-id="9d4f6-329">-3DES-Üçlü DES algoritmasını kullanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-329">- 3DES - uses the Triple DES algorithm.</span></span> |
| <span data-ttu-id="9d4f6-330">validationKey</span><span class="sxs-lookup"><span data-stu-id="9d4f6-330">validationKey</span></span> | <span data-ttu-id="9d4f6-331">Doğrulama algoritması tarafından kullanılan gizli anahtar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-331">The secret key used by the validation algorithm.</span></span> <span data-ttu-id="9d4f6-332">Bu değer, uygun uzunlukta bir onaltılı dize olmalıdır (doğrulamanın değerine göre), AutoGenerate veya ya da ısoteapps ile eklenen değer.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-332">This value must either be a hexadecimal string of the appropriate length (based on the value in validation), AutoGenerate, or either value appended with,IsolateApps.</span></span> <span data-ttu-id="9d4f6-333">Isoteapps eklemek, ASP.NET 'in her uygulama için benzersiz bir değer kullanmasını sağlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-333">Adding IsolateApps instructs ASP.NET to use a unique value for each application.</span></span> <span data-ttu-id="9d4f6-334">Varsayılan olarak AutoGenerate, ısoteapps.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-334">The default is AutoGenerate,IsolateApps.</span></span> |

<span data-ttu-id="9d4f6-335">**Tablo 2**: &lt;machineKey&gt; öğesi öznitelikleri</span><span class="sxs-lookup"><span data-stu-id="9d4f6-335">**Table 2**: The &lt;machineKey&gt; Element Attributes</span></span>

<span data-ttu-id="9d4f6-336">Bu şifreleme ve doğrulama seçenekleri hakkında kapsamlı bir tartışma ve çeşitli algoritmaların profesyonelleri ve dezavantajları Bu öğreticinin kapsamı dışındadır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-336">A thorough discussion of these encryption and validation options, and the pros and cons of the various algorithms, is beyond the scope of this tutorial.</span></span> <span data-ttu-id="9d4f6-337">Hangi şifreleme ve doğrulama algoritmalarının, kullanılacak anahtar uzunluklarının ve bu anahtarların en iyi şekilde nasıl üretilebileceğine ilişkin yönergeler de dahil olmak üzere bu sorunlara derinlemesine bir bakış için, *profesyonel ASP.NET 2,0 güvenlik, üyelik ve rol yönetimine*bakın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-337">For an in-depth look at these issues, including guidance on what encryption and validation algorithms to use, what key lengths to use, and how best to generate these keys, refer to *Professional ASP.NET 2.0 Security, Membership, and Role Management*.</span></span>

<span data-ttu-id="9d4f6-338">Varsayılan olarak, şifreleme ve doğrulama için kullanılan anahtarlar her uygulama için otomatik olarak oluşturulur ve bu anahtarlar yerel güvenlik yetkilisinde (LSA) depolanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-338">By default, the keys used for encryption and validation are generated automatically for each application, and these keys are stored in the Local Security Authority (LSA).</span></span> <span data-ttu-id="9d4f6-339">Kısacası, varsayılan ayarlar bir Web sunucusu tarafından Web sunucusu ve uygulama temelinde benzersiz anahtarların garanti edilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-339">In short, the default settings guarantee unique keys on a web server-by-web server and application-by-application basis.</span></span> <span data-ttu-id="9d4f6-340">Sonuç olarak, bu varsayılan davranış aşağıdaki iki senaryo için çalışmaz:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-340">Consequently, this default behavior will not work for the two following scenarios:</span></span>

- <span data-ttu-id="9d4f6-341">**Web grupları** -bir [Web grubu](http://en.wikipedia.org/wiki/Web_farm) senaryosunda, tek bir Web uygulaması ölçeklenebilirlik ve artıklık amacıyla birden çok Web sunucusunda barındırılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-341">**Web Farms** - in a [web farm](http://en.wikipedia.org/wiki/Web_farm) scenario, a single web application is hosted on multiple web servers for purposes of scalability and redundancy.</span></span> <span data-ttu-id="9d4f6-342">Her gelen istek, gruptaki bir sunucuya gönderilir, yani bir kullanıcı oturumunun kullanım ömrü boyunca çeşitli istekleri işlemek için farklı sunucular kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-342">Each incoming request is dispatched to a server in the farm, meaning that over the lifetime of a user's session, different servers may be used to handle his various requests.</span></span> <span data-ttu-id="9d4f6-343">Sonuç olarak, her sunucu aynı şifreleme ve doğrulama anahtarlarını kullanmalıdır, böylece bir sunucuda oluşturulan, şifrelenen ve doğrulanan formlar kimlik doğrulama biletinin şifresi çözülür ve gruptaki farklı bir sunucuda doğrulanabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-343">Consequently, each server must use the same encryption and validation keys so that the forms authentication ticket created, encrypted, and validated on one server can be decrypted and validated on a different server in the farm.</span></span>
- <span data-ttu-id="9d4f6-344">**Çapraz uygulama bileti paylaşımı** -tek bir Web sunucusu birden çok ASP.NET uygulamasını barındıramayabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-344">**Cross Application Ticket Sharing** - a single web server may host multiple ASP.NET applications.</span></span> <span data-ttu-id="9d4f6-345">Bu farklı uygulamaların tek bir form kimlik doğrulama bileti paylaşması gerekiyorsa, şifreleme ve doğrulama anahtarlarının eşleşmesi zorunludur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-345">If you need for these different applications to share a single forms authentication ticket, it is imperative that their encryption and validation keys match up.</span></span>

<span data-ttu-id="9d4f6-346">Bir Web çiftliği ayarında çalışırken veya aynı sunucudaki uygulamalarda kimlik doğrulama biletlerini paylaşarak, bu durumda, decryptionKey ve validationKey değerlerinin eşleşmesi için etkilenen uygulamalardaki &lt;machineKey&gt; öğesini yapılandırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-346">When working in a web farm setting or sharing authentication tickets across applications on the same server, you will need to configure the &lt;machineKey&gt; element in the affected applications so that their decryptionKey and validationKey values match up.</span></span>

<span data-ttu-id="9d4f6-347">Yukarıdaki senaryolardan hiçbiri örnek uygulamamız için geçerli olmasa da, açık decryptionKey ve validationKey değerlerini belirtebilir ve kullanılacak algoritmaları tanımlayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-347">While neither of the above scenarios applies to our sample application, we can still specify explicit decryptionKey and validationKey values and define the algorithms to be used.</span></span> <span data-ttu-id="9d4f6-348">Web. config dosyasına bir &lt;machineKey&gt; ayarı ekleyin:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-348">Add a &lt;machineKey&gt; setting to the Web.config file:</span></span>

[!code-xml[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample5.xml)]

<span data-ttu-id="9d4f6-349">Daha fazla bilgi için bkz. [ASP.NET 2,0 'de machineKey yapılandırma](https://msdn.microsoft.com/library/ms998288.aspx).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-349">For more information check out [How To: Configure MachineKey in ASP.NET 2.0](https://msdn.microsoft.com/library/ms998288.aspx).</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-350">DecryptionKey ve validationKey değerleri, her sayfada ziyaret edildiğinde 64 rastgele onaltılı karakter üreten [Steve Rason](http://www.grc.com/stevegibson.htm)'un [mükemmel parolalar Web sayfasından](https://www.grc.com/passwords.htm)alınmıştır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-350">The decryptionKey and validationKey values were taken from [Steve Gibson](http://www.grc.com/stevegibson.htm)'s [Perfect Passwords web page](https://www.grc.com/passwords.htm), which generates 64 random hexadecimal characters on each page visit.</span></span> <span data-ttu-id="9d4f6-351">Bu anahtarların, üretim uygulamalarınıza yönelik biçimini azaltmak için yukarıdaki anahtarları kusursuz parolalar sayfasından rastgele oluşturulmuş olanlarla değiştirmeniz önerilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-351">To lessen the likelihood of these keys making their way into your production applications, you are encouraged to replace the above keys with randomly generated ones from the Perfect Passwords page.</span></span>

## <a name="step-4-storing-additional-user-data-in-the-ticket"></a><span data-ttu-id="9d4f6-352">4\. Adım: ek kullanıcı verilerini bilette depolama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-352">Step 4: Storing Additional User Data in the Ticket</span></span>

<span data-ttu-id="9d4f6-353">Birçok Web uygulaması, şu anda oturum açmış olan kullanıcının sayfa görüntüsünü görüntüleyen veya temel alan bilgileri görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-353">Many web applications display information about or base the page's display on the currently logged on user.</span></span> <span data-ttu-id="9d4f6-354">Örneğin, bir Web sayfası, kullanıcının adını ve her sayfanın üst köşesinde son oturum açmış olan tarihi gösterebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-354">For example, a web page might show the user's name and the date she last logged on in the upper corner of every page.</span></span> <span data-ttu-id="9d4f6-355">Forms kimlik doğrulama anahtarı şu anda oturum açmış olan kullanıcının Kullanıcı adını depolar, ancak başka herhangi bir bilgi gerektiğinde, kimlik doğrulama anahtarında depolanmayan bilgileri aramak için, sayfanın Kullanıcı deposuna gitmesi gerekir-genellikle bir veritabanı.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-355">The forms authentication ticket stores the currently logged on user's username, but when any other information is needed, the page must go to the user store - typically a database - to lookup the information not stored in the authentication ticket.</span></span>

<span data-ttu-id="9d4f6-356">Küçük bir kod sayesinde, Forms kimlik doğrulama biletinde ek kullanıcı bilgileri depolayabiliriz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-356">With a little bit of code we can store additional user information in the forms authentication ticket.</span></span> <span data-ttu-id="9d4f6-357">Bu tür veriler [FormsAuthenticationTicket sınıfının](https://msdn.microsoft.com/library/system.web.security.formsauthenticationticket.aspx) [UserData özelliği](https://msdn.microsoft.com/library/system.web.security.formsauthenticationticket.userdata.aspx)aracılığıyla ifade edilebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-357">Such data can be expressed through the [FormsAuthenticationTicket class](https://msdn.microsoft.com/library/system.web.security.formsauthenticationticket.aspx)'s [UserData property](https://msdn.microsoft.com/library/system.web.security.formsauthenticationticket.userdata.aspx).</span></span> <span data-ttu-id="9d4f6-358">Bu, yaygın olarak gereken kullanıcı hakkında küçük miktarlarda bilgi yerleştirmek için kullanışlı bir yerdir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-358">This is a useful place to put small amounts of information about the user that is commonly needed.</span></span> <span data-ttu-id="9d4f6-359">UserData özelliğinde belirtilen değer, kimlik doğrulama anahtarı tanımlama bilgisinin bir parçası olarak dahil edilmiştir ve diğer bilet alanları gibi, Forms kimlik doğrulaması sisteminin yapılandırmasına göre şifrelenir ve onaylanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-359">The value specified in the UserData property is included as part of the authentication ticket cookie and, like the other ticket fields, is encrypted and validated based on the forms authentication system's configuration.</span></span> <span data-ttu-id="9d4f6-360">Varsayılan olarak, UserData boş bir dizedir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-360">By default, UserData is an empty string.</span></span>

<span data-ttu-id="9d4f6-361">Kimlik doğrulama biletinde Kullanıcı verilerini depolamak için, oturum açma sayfasında kullanıcıya özgü bilgileri gösteren ve bilet içinde depolayan bir kod yazmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-361">In order to store user data in the authentication ticket, we need to write a bit of code in the login page that grabs the user-specific information and stores it in the ticket.</span></span> <span data-ttu-id="9d4f6-362">UserData, dize türünde bir özellik olduğundan, içinde depolanan verilerin bir dize olarak doğru şekilde serileştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-362">Since UserData is a property of type String, the data stored in it must be properly serialized as a string.</span></span> <span data-ttu-id="9d4f6-363">Örneğin, Kullanıcı mağazamız her kullanıcının Doğum tarihini ve işverenin adını dahil etseyk ve bu iki özellik değerini kimlik doğrulama biletinde depolamak istiyorduk.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-363">For example, imagine that our user store included each user's date of birth and the name of their employer, and we wanted to store these two property values in the authentication ticket.</span></span> <span data-ttu-id="9d4f6-364">Bu değerleri, kullanıcının Doğum tarihini bir ardışık düzen (|) ve ardından işveren adı ile birleştirerek bir dizeye dizitebiliriz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-364">We could serialize these values into a string by concatenating the user's date of birth's string with a pipe ( | ), followed by the employer name.</span></span> <span data-ttu-id="9d4f6-365">15 Ağustos 1974 ' de bulunan ve Northwind Traders için çalıştırılan bir kullanıcı için, UserData özelliğini şu dize olarak atayacağız: 1974-08-15 | Northwind Traders.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-365">For a user born on August 15, 1974 that works for Northwind Traders, we would assign the UserData property the string: 1974-08-15|Northwind Traders .</span></span>

<span data-ttu-id="9d4f6-366">Bilet içinde depolanan verilere erişmeniz gerektiğinde, yakalayıp geçerli isteğin FormsAuthenticationTicket ve UserData özelliğinin serisini kaldırarak bunu yapabiliriz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-366">Whenever we need to access the data stored in the ticket, we can do so by grabbing the current request's FormsAuthenticationTicket and deserializing the UserData property.</span></span> <span data-ttu-id="9d4f6-367">Doğum tarihi ve işveren adı örneği söz konusu olduğunda, (|) sınırlayıcı temelinde UserData dizesini iki alt dizeye böyoruz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-367">In the case of the date of birth and employer name example, we would split the UserData string into two substrings based on the delimiter ( | ).</span></span>

<span data-ttu-id="9d4f6-368">[![ek kullanıcı bilgileri kimlik doğrulama biletinde depolanabilir](forms-authentication-configuration-and-advanced-topics-vb/_static/image11.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image10.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-368">[![Additional User Information Can Be Stored in the Authentication Ticket](forms-authentication-configuration-and-advanced-topics-vb/_static/image11.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image10.png)</span></span>

<span data-ttu-id="9d4f6-369">**Şekil 04**: ek kullanıcı bilgileri kimlik doğrulama biletinde depolanabilir ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image12.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-369">**Figure 04**: Additional User Information Can Be Stored in the Authentication Ticket ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image12.png))</span></span>

### <a name="writing-information-to-userdata"></a><span data-ttu-id="9d4f6-370">UserData bilgi yazma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-370">Writing Information to UserData</span></span>

<span data-ttu-id="9d4f6-371">Ne yazık ki, bir form kimlik doğrulama biletinde kullanıcıya özel bilgiler eklemek, bir tane beklendiğinden basit değil.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-371">Unfortunately, adding user-specific information to a forms authentication ticket is not as straightforward as one might expect.</span></span> <span data-ttu-id="9d4f6-372">FormsAuthenticationTicket sınıfının UserData Özelliği salt okunurdur ve yalnızca FormsAuthenticationTicket sınıf oluşturucusu aracılığıyla belirtilebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-372">The UserData property of the FormsAuthenticationTicket class is read-only and can only be specified through the FormsAuthenticationTicket class constructor.</span></span> <span data-ttu-id="9d4f6-373">Oluşturucuda UserData özelliğini belirtirken, Bilet diğer değerlerini de sağlıyoruz: Kullanıcı adı, sorun tarihi, süre sonu vb.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-373">When specifying the UserData property in the constructor, we also need to provide the ticket's other values: the username, the issue date, the expiration, and so on.</span></span> <span data-ttu-id="9d4f6-374">Önceki öğreticide oturum açma sayfasını oluşturduğumuz, bu, hepsi de FormsAuthentication sınıfı tarafından bizim için işlendi.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-374">When we created the login page in the preceding tutorial, this was all handled for us by the FormsAuthentication class.</span></span> <span data-ttu-id="9d4f6-375">FormsAuthenticationTicket 'e UserData eklerken, FormsAuthentication sınıfı tarafından zaten sağlanmış olan işlevlerin çoğunu çoğaltmak için kod yazalım olacaktır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-375">When adding UserData to the FormsAuthenticationTicket, we will need to write code to replicate much of the functionality already provided by the FormsAuthentication class.</span></span>

<span data-ttu-id="9d4f6-376">Login. aspx sayfasını, kullanıcı hakkındaki ek bilgileri kimlik doğrulama biletini kaydedecek şekilde güncelleştirerek, UserData ile çalışmaya yönelik gerekli kodu keşfedelim.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-376">Let's explore the necessary code for working with UserData by updating the Login.aspx page to record additional information about the user to the authentication ticket.</span></span> <span data-ttu-id="9d4f6-377">Kullanıcı mağazamız, kullanıcının kullandığı şirket hakkındaki bilgileri ve bunların unvanlarını ve bu bilgileri kimlik doğrulama biletinde yakalamak istediğimizi içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-377">Pretend that our user store contains information about the company the user works for and their title, and that we want to capture this information in the authentication ticket.</span></span> <span data-ttu-id="9d4f6-378">Kodun aşağıdaki gibi görünmesi için login. aspx sayfasının LoginButton ' ı tıklatın olay işleyicisi ' ne tıklayın:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-378">Update the Login.aspx page's LoginButton Click event handler so that the code looks like the following:</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample6.vb)]

<span data-ttu-id="9d4f6-379">Tek seferde bu kodda bir satır ilerlim.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-379">Let's step through this code one line at a time.</span></span> <span data-ttu-id="9d4f6-380">Yöntemi, dört dize dizisi tanımlayarak başlar: kullanıcılar, parolalar, companyName ve titleAtCompany.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-380">The method starts by defining four string arrays: users, passwords, companyName, and titleAtCompany.</span></span> <span data-ttu-id="9d4f6-381">Bu diziler, sistem içindeki kullanıcı hesapları için Kullanıcı adları, parolalar, şirket adları ve başlıkları, üç: Scott, Jisun ve Sam olarak tutar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-381">These arrays hold the usernames, passwords, company names, and titles for the user accounts in the system, of which there are three: Scott, Jisun, and Sam.</span></span> <span data-ttu-id="9d4f6-382">Gerçek bir uygulamada, bu değerler, sayfanın kaynak kodunda sabit kodlanmış değil, Kullanıcı mağazasından sorgulanmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-382">In a real application, these values would be queried from the user store, not hard-coded in the page's source code.</span></span>

<span data-ttu-id="9d4f6-383">Önceki öğreticide, sağlanan kimlik bilgileri geçerliyse yalnızca FormsAuthentication. RedirectFromLoginPage (UserName. Text, RememberMe. Checked) olarak adlandırdık ve aşağıdaki adımları gerçekleştirdi:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-383">In the previous tutorial, if the supplied credentials were valid we simply called FormsAuthentication.RedirectFromLoginPage(UserName.Text, RememberMe.Checked), which performed the following steps:</span></span>

1. <span data-ttu-id="9d4f6-384">Forms kimlik doğrulama bileti oluşturuldu</span><span class="sxs-lookup"><span data-stu-id="9d4f6-384">Created the forms authentication ticket</span></span>
2. <span data-ttu-id="9d4f6-385">Bilet uygun depoya yazdı.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-385">Wrote the ticket to the appropriate store.</span></span> <span data-ttu-id="9d4f6-386">Tanımlama bilgileri tabanlı kimlik doğrulama biletleri için tarayıcının tanımlama bilgileri koleksiyonu kullanılır; tanımlama bilgisi olmayan kimlik doğrulama biletleri için, Bilet verileri URL 'ye serileştirilir</span><span class="sxs-lookup"><span data-stu-id="9d4f6-386">For cookies-based authentication tickets, the browser's cookies collection is used; for cookieless authentication tickets, the ticket data is serialized into the URL</span></span>
3. <span data-ttu-id="9d4f6-387">Kullanıcı uygun sayfaya yönlendirildi</span><span class="sxs-lookup"><span data-stu-id="9d4f6-387">Redirected the user to the appropriate page</span></span>

<span data-ttu-id="9d4f6-388">Bu adımlar yukarıdaki kodda çoğaltılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-388">These steps are replicated in the code above.</span></span> <span data-ttu-id="9d4f6-389">İlk olarak, önce UserData özelliğinde depolayacağız dize, şirket adı ve başlığı birleştirilerek, iki değeri bir kanal karakteriyle (|) ayırarak oluşturulur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-389">First, the string we will eventually store in the UserData property is formed by combining the company name and the title, delimiting the two values with a pipe character ( | ).</span></span>

<span data-ttu-id="9d4f6-390">Dim userDataString = String. Concat (companyName (ı), "|", titleAtCompany (ı))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-390">Dim userDataString As String = String.Concat(companyName(i), "|", titleAtCompany(i))</span></span>

<span data-ttu-id="9d4f6-391">Daha sonra, bir kimlik doğrulama bileti oluşturan FormsAuthentication. GetAuthCookie yöntemi çağrılır, yapılandırma ayarlarına göre şifreler ve doğrular ve bir HttpCookie nesnesine koyar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-391">Next, the FormsAuthentication.GetAuthCookie method is invoked, which creates the authentication ticket, encrypts and validates it according to the configuration settings, and places it in an HttpCookie object.</span></span>

<span data-ttu-id="9d4f6-392">HttpCookie = FormsAuthentication. GetAuthCookie (UserName. Text, RememberMe. Checked) olarak dim authCookie</span><span class="sxs-lookup"><span data-stu-id="9d4f6-392">Dim authCookie As HttpCookie = FormsAuthentication.GetAuthCookie(UserName.Text, RememberMe.Checked)</span></span>

<span data-ttu-id="9d4f6-393">Tanımlama bilgisinde gömülü Formauthenticationbilet ile çalışabilmek için, tanımlama bilgisi değerini geçirerek FormAuthentication sınıfının [şifre çözme yöntemini](https://msdn.microsoft.com/library/system.web.security.formsauthentication.decrypt.aspx)çağırmanız gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-393">In order to work with the FormAuthenticationTicket embedded within the cookie, we need to call the FormAuthentication class's [Decrypt method](https://msdn.microsoft.com/library/system.web.security.formsauthentication.decrypt.aspx), passing in the cookie value.</span></span>

<span data-ttu-id="9d4f6-394">Dim Ticket as FormsAuthenticationTicket = FormsAuthentication. şifre çözme (authCookie. Value)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-394">Dim ticket As FormsAuthenticationTicket = FormsAuthentication.Decrypt(authCookie.Value)</span></span>

<span data-ttu-id="9d4f6-395">Daha sonra var olan FormsAuthenticationTicket değerlerini temel alarak *Yeni* bir FormsAuthenticationTicket örneği oluşturacağız.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-395">We then create a *new* FormsAuthenticationTicket instance based on the existing FormsAuthenticationTicket's values.</span></span> <span data-ttu-id="9d4f6-396">Ancak, bu yeni bilet kullanıcıya özgü bilgileri (userDataString) içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-396">However, this new ticket includes the user-specific information (userDataString).</span></span>

<span data-ttu-id="9d4f6-397">Dim newTicket as FormsAuthenticationTicket = New FormsAuthenticationTicket (bilet. Sürüm, Bilet. Ad, Bilet. IssueDate, Bilet. Süre sonu, Bilet. IsPersistent, userDataString)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-397">Dim newTicket As FormsAuthenticationTicket = New FormsAuthenticationTicket(ticket.Version, ticket.Name, ticket.IssueDate, ticket.Expiration, ticket.IsPersistent, userDataString)</span></span>

<span data-ttu-id="9d4f6-398">Daha sonra, [şifreleme yöntemini](https://msdn.microsoft.com/library/system.web.security.formsauthentication.encrypt.aspx)çağırarak yeni FormsAuthenticationTicket örneğini şifreler (ve doğrular) ve bu şifrelenen (ve doğrulanan) verileri authCookie 'e geri koyabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-398">We then encrypt (and validate) the new FormsAuthenticationTicket instance by calling the [Encrypt method](https://msdn.microsoft.com/library/system.web.security.formsauthentication.encrypt.aspx), and put this encrypted (and validated) data back into authCookie.</span></span>

<span data-ttu-id="9d4f6-399">authCookie. Value = FormsAuthentication. Encrypt (Newbilet)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-399">authCookie.Value = FormsAuthentication.Encrypt(newTicket)</span></span>

<span data-ttu-id="9d4f6-400">Son olarak, authCookie Response. Cookies koleksiyonuna eklenir ve GetRedirectUrl yöntemi, kullanıcıyı göndermek için uygun sayfayı tespit etmek üzere çağırılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-400">Finally, authCookie is added to the Response.Cookies collection and the GetRedirectUrl method is called to determine the appropriate page to send the user.</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample7.vb)]

<span data-ttu-id="9d4f6-401">UserData Özelliği salt okunurdur ve FormsAuthentication sınıfı, GetAuthCookie, SetAuthCookie veya RedirectFromLoginPage yöntemlerinde UserData bilgilerini belirtmek için herhangi bir yöntem sağlamadığından bu kodun tümü gereklidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-401">All of this code is needed because the UserData property is read-only and the FormsAuthentication class does not provide any methods for specifying UserData information in its GetAuthCookie, SetAuthCookie, or RedirectFromLoginPage methods.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-402">Az önce incelediğimiz kod, kullanıcıya özgü bilgileri tanımlama bilgileri tabanlı bir kimlik doğrulama bileti içinde depolar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-402">The code we just examined stores user-specific information in a cookies-based authentication ticket.</span></span> <span data-ttu-id="9d4f6-403">Form kimlik doğrulama biletinin URL 'ye serileştirilmesinden sorumlu sınıflar, .NET Framework iç olarak kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-403">The classes responsible for serializing the forms authentication ticket to the URL are internal to the .NET Framework.</span></span> <span data-ttu-id="9d4f6-404">Uzun hikaye kısaltması, Kullanıcı verilerini tanımlama bilgisi olmayan bir form kimlik doğrulama biletinde depolayamezsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-404">Long story short, you cannot store user data in a cookieless forms authentication ticket.</span></span>

### <a name="accessing-the-userdata-information"></a><span data-ttu-id="9d4f6-405">UserData bilgilerine erişme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-405">Accessing the UserData Information</span></span>

<span data-ttu-id="9d4f6-406">Bu noktada, her kullanıcının şirket adı ve başlığı, oturum açtıklarında Forms kimlik doğrulama biletinin UserData özelliğinde depolanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-406">At this point each user's company name and title is stored in the forms authentication ticket's UserData property when they log in.</span></span> <span data-ttu-id="9d4f6-407">Bu bilgilere, Kullanıcı deposuna seyahat gerekmeden herhangi bir sayfada kimlik doğrulama biletinden erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-407">This information can be accessed from the authentication ticket on any page without requiring a trip to the user store.</span></span> <span data-ttu-id="9d4f6-408">Bu bilgilerin UserData özelliğinden nasıl alınabileceğini göstermek için default. aspx ' i güncellemenize izin verin. böylece, hoş geldiniz iletisi yalnızca kullanıcının adını değil, ayrıca çalıştıkları şirketi ve bunların unvanlarını içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-408">To illustrate how this information can be retrieved from the UserData property, let's update Default.aspx so that its welcome message includes not only the user's name, but also the company they work for and their title.</span></span>

<span data-ttu-id="9d4f6-409">Şu anda default. aspx, WelcomeBackMessage adlı bir etiket denetimiyle bir kimlik doğrulayan Tedmessagepanel paneli içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-409">Currently, Default.aspx contains an AuthenticatedMessagePanel Panel with a Label control named WelcomeBackMessage.</span></span> <span data-ttu-id="9d4f6-410">Bu panel yalnızca kimliği doğrulanmış kullanıcılar için görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-410">This Panel is only displayed to authenticated users.</span></span> <span data-ttu-id="9d4f6-411">Aşağıdaki gibi görünmesi için, varsayılan. aspx sayfası\_yükleme olay işleyicisindeki kodu güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-411">Update the code in Default.aspx's Page\_Load event handler so that it looks like the following:</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample8.vb)]

<span data-ttu-id="9d4f6-412">Istek. IsAuthenticated değeri true ise, WelcomeBackMessage 'ın Text özelliği ilk olarak hoş geldiniz 'e, *Kullanıcı adına*ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-412">If Request.IsAuthenticated is True, then the WelcomeBackMessage's Text property is first set to Welcome back, *username*.</span></span> <span data-ttu-id="9d4f6-413">Ardından, temel FormsAuthenticationTicket erişebilmemiz için User. Identity özelliği bir FormsIdentity nesnesine ayarlanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-413">Then, the User.Identity property is cast to a FormsIdentity object so that we can access the underlying FormsAuthenticationTicket.</span></span> <span data-ttu-id="9d4f6-414">FormsAuthenticationTicket sahip olduktan sonra, UserData özelliğinin şirket adı ve başlığına serisini çıkardık.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-414">Once we have the FormsAuthenticationTicket, we deserialize the UserData property into the company name and title.</span></span> <span data-ttu-id="9d4f6-415">Bu işlem, kanal karakteri üzerindeki dize bölünerek gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-415">This is accomplished by splitting the string on the pipe character.</span></span> <span data-ttu-id="9d4f6-416">Şirket adı ve başlığı, daha sonra WelcomeBackMessage etiketinde görüntülenir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-416">The company name and title are then displayed in the WelcomeBackMessage Label.</span></span>

<span data-ttu-id="9d4f6-417">Şekil 5 ' te bu görüntülemenin bir ekran görüntüsü gösterilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-417">Figure 5 shows a screenshot of this display in action.</span></span> <span data-ttu-id="9d4f6-418">Scott olarak oturum açmak Scott 'ın şirketini ve başlığını içeren bir karşılama geri iletisi görüntüler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-418">Logging in as Scott displays a welcome back message that includes Scott's company and title.</span></span>

<span data-ttu-id="9d4f6-419">[Şu anda oturum açmış olan kullanıcının şirketi ve unvanı görüntülenir ![](forms-authentication-configuration-and-advanced-topics-vb/_static/image14.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image13.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-419">[![The Currently Logged On User's Company and Title are Displayed](forms-authentication-configuration-and-advanced-topics-vb/_static/image14.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image13.png)</span></span>

<span data-ttu-id="9d4f6-420">**Şekil 05**: Şu anda oturum açmış kullanıcının şirketi ve unvanı görüntülenir ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image15.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-420">**Figure 05**: The Currently Logged On User's Company and Title are Displayed ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image15.png))</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-421">Kimlik doğrulama biletinin UserData özelliği, kullanıcı deposu için bir önbellek görevi görür.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-421">The authentication ticket's UserData property serves as a cache for the user store.</span></span> <span data-ttu-id="9d4f6-422">Her türlü önbellekte olduğu gibi, temel alınan veriler değiştirildiğinde güncelleştirilmesi gerekir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-422">Like any cache, it needs to be updated when the underlying data is modified.</span></span> <span data-ttu-id="9d4f6-423">Örneğin, kullanıcıların profilini güncelleştirebileceği bir Web sayfası varsa, UserData özelliğinde önbelleğe alınan alanlar Kullanıcı tarafından yapılan değişiklikleri yansıtacak şekilde yenilenmelidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-423">For example, if there is a web page from which users can update their profile, the fields cached in the UserData property must be refreshed to reflect the changes made by the user.</span></span>

## <a name="step-5-using-a-custom-principal"></a><span data-ttu-id="9d4f6-424">5\. Adım: özel bir sorumlu kullanma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-424">Step 5: Using a Custom Principal</span></span>

<span data-ttu-id="9d4f6-425">Gelen tüm istekler üzerinde FormsAuthenticationModule Kullanıcı kimliğini doğrulamaya çalışır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-425">On each incoming request the FormsAuthenticationModule attempts to authenticate the user.</span></span> <span data-ttu-id="9d4f6-426">Süre dolmayan bir kimlik doğrulama bileti varsa, FormsAuthenticationModule HttpContext. User özelliğini yeni bir GenericPrincipal nesnesine atar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-426">If a non-expired authentication ticket is present, the FormsAuthenticationModule assigns the HttpContext.User property to a new GenericPrincipal object.</span></span> <span data-ttu-id="9d4f6-427">Bu GenericPrincipal nesnesinin, Forms kimlik doğrulama bileti başvurusunu içeren FormsIdentity türünde bir kimliği vardır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-427">This GenericPrincipal object has an Identity of type FormsIdentity, which includes a reference to the forms authentication ticket.</span></span> <span data-ttu-id="9d4f6-428">GenericPrincipal sınıfı, IPrincipal uygulayan bir sınıf için gereken en düşük işlevselliği içerir. yalnızca bir Identity özelliğine ve bir ıınrole metoduna sahiptir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-428">The GenericPrincipal class contains the bare minimum functionality needed by a class that implements IPrincipal - it just has an Identity property and an IsInRole method.</span></span>

<span data-ttu-id="9d4f6-429">Asıl nesnenin iki sorumluluğu vardır: kullanıcının hangi rollere ait olduğunu göstermek ve kimlik bilgilerini sağlamak için.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-429">The principal object has two responsibilities: to indicate what roles the user belongs to and to provide identity information.</span></span> <span data-ttu-id="9d4f6-430">Bu, sırasıyla IPrincipal arabiriminin IsInRole (*roleName*) yöntemi ve kimlik özelliği aracılığıyla gerçekleştirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-430">This is accomplished through the IPrincipal interface's IsInRole(*roleName*) method and Identity property, respectively.</span></span> <span data-ttu-id="9d4f6-431">GenericPrincipal sınıfı, rol adlarının dize dizisinin Oluşturucu aracılığıyla belirtilmesini sağlar; IsInRole (*roleName*) yöntemi, yalnızca geçirilen *roleName* öğesinin dize dizisi içinde varolup olmadığını denetler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-431">The GenericPrincipal class allows for a string array of role names to be specified via its constructor; its IsInRole(*roleName*) method merely checks to see if the passed in *roleName* exists within the string array.</span></span> <span data-ttu-id="9d4f6-432">FormsAuthenticationModule GenericPrincipal oluşturduğunda, GenericPrincipal 'ın oluşturucusuna boş bir dize dizisi geçirir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-432">When the FormsAuthenticationModule creates the GenericPrincipal, it passes in an empty string array to the GenericPrincipal's constructor.</span></span> <span data-ttu-id="9d4f6-433">Sonuç olarak, IsInRole öğesine yapılan herhangi bir çağrı her zaman false döndürür.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-433">Consequently, any call to IsInRole will always return False.</span></span>

<span data-ttu-id="9d4f6-434">GenericPrincipal sınıfı, rollerin kullanılmayan çoğu form tabanlı kimlik doğrulama senaryosuna yönelik ihtiyaçları karşılar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-434">The GenericPrincipal class meets the needs for most forms based authentication scenarios where roles are not used.</span></span> <span data-ttu-id="9d4f6-435">Varsayılan rol işlemenin yetersiz olduğu durumlarda veya özel bir IIdentity nesnesini kullanıcıyla ilişkilendirmeniz gerektiğinde, kimlik doğrulama iş akışı sırasında özel bir IPrincipal nesnesi oluşturabilir ve bunu HttpContext. User özelliğine atayabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-435">For those situations where the default role handling is insufficient or when you need to associate a custom IIdentity object with the user, you can create a custom IPrincipal object during the authentication workflow and assign it to the HttpContext.User property.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-436">Daha sonraki öğreticilerde, ASP. NET 'in rol çerçevesi etkin değil; [RolePrincipal](https://msdn.microsoft.com/library/system.web.security.roleprincipal.aspx) türünde özel bir Principal nesnesi oluşturur ve form kimlik doğrulaması tarafından oluşturulan GenericPrincipal nesnesinin üzerine yazar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-436">As we will see in future tutorials, when ASP.NET's Roles framework is enabled it creates a custom principal object of type [RolePrincipal](https://msdn.microsoft.com/library/system.web.security.roleprincipal.aspx) and overwrites the forms authentication-created GenericPrincipal object.</span></span> <span data-ttu-id="9d4f6-437">Bu, Principal 'ın ıbırole yöntemini rol çerçevesinin API 'siyle arayüze özelleştirmek için yapar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-437">It does this in order to customize the principal's IsInRole method to interface with the Roles framework's API.</span></span>

<span data-ttu-id="9d4f6-438">Henüz rollerle ilgilenmediğimiz için, bu kavşakta 'te özel bir sorumlu oluşturmak için sahip olduğumuz tek neden, özel bir IIdentity nesnesini sorumlu ile ilişkilendirmelidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-438">Since we have not concerned ourselves with roles yet, the only reason we would have for creating a custom principal at this juncture would be to associate a custom IIdentity object to the principal.</span></span> <span data-ttu-id="9d4f6-439">Adım 4 ' te, kullanıcının şirket adı ve başlığında ek kullanıcı bilgilerini kimlik doğrulama biletinin UserData özelliğinde depolıyoruz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-439">In Step 4 we looked at storing additional user information in the authentication ticket's UserData property, in particular the user's company name and their title.</span></span> <span data-ttu-id="9d4f6-440">Ancak, UserData bilgisine yalnızca kimlik doğrulama bileti ve yalnızca serileştirilmiş bir dize olarak erişilebilir, yani UserData özelliğini ayrıştırabilmemiz için gereken bilet içinde depolanan kullanıcı bilgilerini görüntülemek istiyoruz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-440">However, the UserData information is only accessible through the authentication ticket and only then as a serialized string, meaning that anytime we want to view the user information stored in the ticket we need to parse the UserData property.</span></span>

<span data-ttu-id="9d4f6-441">IIdentity uygulayan ve CompanyName ve title özelliklerini içeren bir sınıf oluşturarak geliştirici deneyimini iyileştirebiliriz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-441">We can improve the developer experience by creating a class that implements IIdentity and includes CompanyName and Title properties.</span></span> <span data-ttu-id="9d4f6-442">Bu şekilde, bir geliştirici Şu anda oturum açmış olan kullanıcının şirket adına ve başlığına, UserData özelliğinin nasıl ayrıştırılacağından emin olmadan doğrudan CompanyName ve başlık özellikleri aracılığıyla erişebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-442">That way, a developer can access the currently logged on user's company name and title directly through the CompanyName and Title properties without needed to know how to parse the UserData property.</span></span>

### <a name="creating-the-custom-identity-and-principal-classes"></a><span data-ttu-id="9d4f6-443">Özel kimlik ve asıl sınıfları oluşturma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-443">Creating the Custom Identity and Principal Classes</span></span>

<span data-ttu-id="9d4f6-444">Bu öğreticide, uygulama\_kodu klasöründe özel sorumlu ve kimlik nesnelerini oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-444">For this tutorial, let's create the custom principal and identity objects in the App\_Code folder.</span></span> <span data-ttu-id="9d4f6-445">Projenize bir uygulama\_kod klasörü ekleyerek başlayın-Çözüm Gezgini ' de proje adına sağ tıklayın, ASP.NET klasörünü Ekle seçeneğini belirleyin ve uygulama\_kodu ' nu seçin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-445">Start by adding an App\_Code folder to your project - right-click on the project name in Solution Explorer, select the Add ASP.NET Folder option, and choose App\_Code.</span></span> <span data-ttu-id="9d4f6-446">Uygulama\_kodu klasörü, Web sitesine özel sınıf dosyalarını tutan özel bir ASP.NET klasörüdür.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-446">The App\_Code folder is a special ASP.NET folder that holds class files specific to the website.</span></span>

> [!NOTE]
> <span data-ttu-id="9d4f6-447">Uygulama\_kodu klasörü yalnızca projeniz Web sitesi proje modeli aracılığıyla yönetirken kullanılmalıdır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-447">The App\_Code folder should only be used when managing your project through the Website Project Model.</span></span> <span data-ttu-id="9d4f6-448">[Web uygulaması proje modeli](https://msdn.microsoft.com/asp.net/Aa336618.aspx)kullanıyorsanız, standart bir klasör oluşturun ve bu sınıfa sınıfları ekleyin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-448">If you are using the [Web Application Project Model](https://msdn.microsoft.com/asp.net/Aa336618.aspx), create a standard folder and add the classes to that.</span></span> <span data-ttu-id="9d4f6-449">Örneğin, sınıflar adlı yeni bir klasör ekleyebilir ve kodunuzu buraya yerleştirebilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-449">For example, you could add a new folder named Classes, and place your code there.</span></span>

<span data-ttu-id="9d4f6-450">Ardından, tek bir Customıdentity. vb adlı ve bir CustomPrincipal. vb adlı App\_Code klasörüne iki yeni sınıf dosyası ekleyin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-450">Next, add two new class files to the App\_Code folder, one named CustomIdentity.vb and one named CustomPrincipal.vb.</span></span>

<span data-ttu-id="9d4f6-451">[![Customıdentity ve CustomPrincipal sınıflarını projenize ekleyin](forms-authentication-configuration-and-advanced-topics-vb/_static/image17.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image16.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-451">[![Add the CustomIdentity and CustomPrincipal Classes to Your Project](forms-authentication-configuration-and-advanced-topics-vb/_static/image17.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image16.png)</span></span>

<span data-ttu-id="9d4f6-452">**Şekil 06**: Customıdentity ve CustomPrincipal sınıflarını projenize ekleme ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image18.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-452">**Figure 06**: Add the CustomIdentity and CustomPrincipal Classes to Your Project ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image18.png))</span></span>

<span data-ttu-id="9d4f6-453">Customıdentity sınıfı, AuthenticationType, IsAuthenticated ve ad özelliklerini tanımlayan IIdentity arabirimini uygulamaktan sorumludur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-453">The CustomIdentity class is responsible for implementing the IIdentity interface, which defines the AuthenticationType, IsAuthenticated, and Name properties.</span></span> <span data-ttu-id="9d4f6-454">Gerekli özelliklere ek olarak, temel form kimlik doğrulama biletini ve kullanıcının şirket adı ve başlığına ilişkin özellikleri de açığa çıkarıyoruz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-454">In addition to those required properties, we are interested in exposing the underlying forms authentication ticket as well as properties for the user's company name and title.</span></span> <span data-ttu-id="9d4f6-455">Customıdentity sınıfına aşağıdaki kodu girin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-455">Enter the following code into the CustomIdentity class.</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample9.vb)]

<span data-ttu-id="9d4f6-456">Sınıfının bir FormsAuthenticationTicket üye değişkeni (\_bileti) içerdiğine ve bu bilet bilgilerinin Oluşturucu aracılığıyla sağlanması gerektiğini unutmayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-456">Note that the class includes a FormsAuthenticationTicket member variable (\_ticket) and that this ticket information must be supplied through the constructor.</span></span> <span data-ttu-id="9d4f6-457">Bu bilet verileri, kimliğin adını döndürmek için kullanılır; UserData özelliği, CompanyName ve title özelliklerinin değerlerini döndürecek şekilde ayrıştırılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-457">This ticket data is used in returning the identity's Name; its UserData property is parsed to return the values for the CompanyName and Title properties.</span></span>

<span data-ttu-id="9d4f6-458">Sonra, CustomPrincipal sınıfını oluşturun.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-458">Next, create the CustomPrincipal class.</span></span> <span data-ttu-id="9d4f6-459">Bu juncture 'teki rollerle ilgilenmediğimiz için, CustomPrincipal sınıfının Oluşturucusu yalnızca bir Customıdentity nesnesi kabul eder; IsInRole yöntemi her zaman false döndürür.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-459">Since we are not concerned with roles at this juncture, the CustomPrincipal class's constructor accepts only a CustomIdentity object; its IsInRole method always returns False.</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample10.vb)]

### <a name="assigning-a-customprincipal-object-to-the-incoming-requests-security-context"></a><span data-ttu-id="9d4f6-460">Gelen Isteğin güvenlik bağlamına bir CustomPrincipal nesnesi atama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-460">Assigning a CustomPrincipal Object to the Incoming Request's Security Context</span></span>

<span data-ttu-id="9d4f6-461">Artık, varsayılan IIdentity belirtimini, CompanyName ve title özelliklerinin yanı sıra özel kimliği kullanan özel bir asıl sınıfı kapsayacak şekilde genişleten bir sınıftır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-461">We now have a class that extends the default IIdentity specification to include CompanyName and Title properties, as well as a custom principal class that uses the custom identity.</span></span> <span data-ttu-id="9d4f6-462">ASP.NET ardışık düzeninde çalışmaya ve özel sorumlu nesnemizi gelen isteğin güvenlik bağlamına atamaya hazırız.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-462">We are ready to step into the ASP.NET pipeline and assign our custom principal object to the incoming request's security context.</span></span>

<span data-ttu-id="9d4f6-463">ASP.NET işlem hattı gelen bir isteği alır ve bir dizi adım aracılığıyla işler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-463">The ASP.NET pipeline takes an incoming request and processes it through a number of steps.</span></span> <span data-ttu-id="9d4f6-464">Her adımda, geliştiricilerin ASP.NET işlem hattına dokunmasını ve isteği yaşam döngüsünün belirli noktalarında değiştirmesini olanaklı hale getiren belirli bir olay tetiklenir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-464">At each step, a particular event is raised, making it possible for developers to tap into the ASP.NET pipeline and modify the request at certain points in its lifecycle.</span></span> <span data-ttu-id="9d4f6-465">Örneğin, FormsAuthenticationModule, bir kimlik doğrulama bileti için gelen isteği inceleyerek, ASP.NET tarafından kimlik [doğrulayan Terequest olayını](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx)tetiklememesini bekler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-465">The FormsAuthenticationModule, for example, waits for ASP.NET to raise the [AuthenticateRequest event](https://msdn.microsoft.com/library/system.web.httpapplication.authenticaterequest.aspx), at which point it inspects the incoming request for an authentication ticket.</span></span> <span data-ttu-id="9d4f6-466">Bir kimlik doğrulama anahtarı bulunursa, bir GenericPrincipal nesnesi oluşturulur ve HttpContext. User özelliğine atanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-466">If an authentication ticket is found, a GenericPrincipal object is created and assigned to the HttpContext.User property.</span></span>

<span data-ttu-id="9d4f6-467">Kimlik doğrulayan Terequest olayından sonra, ASP.NET işlem hattı, FormsAuthenticationModule tarafından oluşturulan GenericPrincipal nesnesini CustomPrincipal nesnemizin örneğiyle değiştirecek olan Postakimliği [Caterequest olayını](https://msdn.microsoft.com/library/system.web.httpapplication.postauthenticaterequest.aspx)oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-467">After the AuthenticateRequest event, the ASP.NET pipeline raises the [PostAuthenticateRequest event](https://msdn.microsoft.com/library/system.web.httpapplication.postauthenticaterequest.aspx), which is where we can replace the GenericPrincipal object created by the FormsAuthenticationModule with an instance of our CustomPrincipal object.</span></span> <span data-ttu-id="9d4f6-468">Şekil 7 Bu iş akışını gösterir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-468">Figure 7 depicts this workflow.</span></span>

<span data-ttu-id="9d4f6-469">[![GenericPrincipal, PostAuthenticationRequest olaydaki bir CustomPrincipal ile değiştirilmiştir](forms-authentication-configuration-and-advanced-topics-vb/_static/image20.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image19.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-469">[![The GenericPrincipal is Replaced by a CustomPrincipal in the PostAuthenticationRequest Event](forms-authentication-configuration-and-advanced-topics-vb/_static/image20.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image19.png)</span></span>

<span data-ttu-id="9d4f6-470">**Şekil 07**: GenericPrincipal, PostAuthenticationRequest olaydaki bir CustomPrincipal ile değiştirilmiştir ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image21.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-470">**Figure 07**: The GenericPrincipal is Replaced by a CustomPrincipal in the PostAuthenticationRequest Event ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image21.png))</span></span>

<span data-ttu-id="9d4f6-471">Kodu bir ASP.NET işlem hattı olayına yanıt olarak yürütmek için, Global. asax dosyasında uygun olay işleyicisini oluşturabilir veya kendi HTTP modülümüzü oluşturabilirsiniz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-471">In order to execute code in response to an ASP.NET pipeline event, we can either create the appropriate event handler in Global.asax or create our own HTTP Module.</span></span> <span data-ttu-id="9d4f6-472">Bu öğreticide, Global. asax dosyasında olay işleyicisini oluşturalım.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-472">For this tutorial let's create the event handler in Global.asax.</span></span> <span data-ttu-id="9d4f6-473">Web sitenize Global. asax ekleyerek başlayın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-473">Start by adding Global.asax to your website.</span></span> <span data-ttu-id="9d4f6-474">Çözüm Gezgini içindeki proje adına sağ tıklayın ve Global. asax adlı genel uygulama sınıfı türünde bir öğe ekleyin.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-474">Right-click on the project name in Solution Explorer and add an item of type Global Application Class named Global.asax.</span></span>

<span data-ttu-id="9d4f6-475">[![Web sitenize Global. asax dosyası ekleyin](forms-authentication-configuration-and-advanced-topics-vb/_static/image23.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image22.png)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-475">[![Add a Global.asax File to Your Website](forms-authentication-configuration-and-advanced-topics-vb/_static/image23.png)](forms-authentication-configuration-and-advanced-topics-vb/_static/image22.png)</span></span>

<span data-ttu-id="9d4f6-476">**Şekil 08**: Web sitenize Global. asax dosyası ekleme ([tam boyutlu görüntüyü görüntülemek için tıklayın](forms-authentication-configuration-and-advanced-topics-vb/_static/image24.png))</span><span class="sxs-lookup"><span data-stu-id="9d4f6-476">**Figure 08**: Add a Global.asax File to Your Website ([Click to view full-size image](forms-authentication-configuration-and-advanced-topics-vb/_static/image24.png))</span></span>

<span data-ttu-id="9d4f6-477">Varsayılan Global. asax şablonu, diğer bir deyişle, başlangıç, bitiş ve [hata olayı](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx)dahil olmak üzere bir dizi ASP.NET işlem hattı olayına yönelik olay işleyicilerini içerir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-477">The default Global.asax template includes event handlers for a number of the ASP.NET pipeline events, including the Start, End and [Error event](https://msdn.microsoft.com/library/system.web.httpapplication.error.aspx), among others.</span></span> <span data-ttu-id="9d4f6-478">Bu uygulama için gerekli olmadığı için bu olay işleyicilerini kaldırmayı ücretsiz olarak hissettik.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-478">Feel free to remove these event handlers, as we do not need them for this application.</span></span> <span data-ttu-id="9d4f6-479">İlgilendiğiniz olay postasız Caterequest ' dir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-479">The event we are interested in is PostAuthenticateRequest.</span></span> <span data-ttu-id="9d4f6-480">Global. asax dosyanızı, biçimlendirmesi şuna benzer şekilde güncelleştirin:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-480">Update your Global.asax file so its markup looks similar to the following:</span></span>

[!code-aspx[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample11.aspx)]

<span data-ttu-id="9d4f6-481">Uygulama\_Onpostano Caterequest yöntemi, her gelen sayfa isteğinde bir kez gerçekleştirilen her bir ASP.NET çalışma zamanı için postano Caterequest olayını her seferinde yürütülür.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-481">The Application\_OnPostAuthenticateRequest method executes each time the ASP.NET runtime raises the PostAuthenticateRequest event, which happens once on each incoming page request.</span></span> <span data-ttu-id="9d4f6-482">Olay işleyicisi, kullanıcının kimliğinin doğrulandığına ve Forms kimlik doğrulaması aracılığıyla kimlik doğrulamasından geçirilme olup olmadığını denetleyerek başlar.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-482">The event handler starts by checking to see if the user is authenticated and was authenticated via forms authentication.</span></span> <span data-ttu-id="9d4f6-483">Bu durumda, yeni bir Customıdentity nesnesi oluşturulur ve kendi oluşturucusunda geçerli isteğin kimlik doğrulama bileti geçirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-483">If so, a new CustomIdentity object is created and passed the current request's authentication ticket in its constructor.</span></span> <span data-ttu-id="9d4f6-484">Bunun ardından, bir CustomPrincipal nesnesi oluşturulur ve yapıcısında yeni oluşturulmuş Customıdentity nesnesini geçirilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-484">Following that, a CustomPrincipal object is created and passed the just-created CustomIdentity object in its constructor.</span></span> <span data-ttu-id="9d4f6-485">Son olarak, geçerli isteğin güvenlik bağlamı yeni oluşturulan CustomPrincipal nesnesine atanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-485">Finally, the current request's security context is assigned to the newly created CustomPrincipal object.</span></span>

<span data-ttu-id="9d4f6-486">Son adım-CustomPrincipal nesnesini isteğin güvenlik içeriğiyle ilişkilendirme-sorumluyu iki özelliğe atar: HttpContext. User ve Thread. CurrentPrincipal.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-486">Note that the last step - associating the CustomPrincipal object with the request's security context - assigns the principal to two properties: HttpContext.User and Thread.CurrentPrincipal.</span></span> <span data-ttu-id="9d4f6-487">Bu iki atama, güvenlik bağlamlarının ASP.NET içinde işlendiği şekilde gereklidir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-487">These two assignments are necessary because of the way security contexts are handled in ASP.NET.</span></span> <span data-ttu-id="9d4f6-488">.NET Framework, çalışan her iş parçacığıyla bir güvenlik bağlamını ilişkilendirir; Bu bilgiler, [Iş parçacığı nesnesinin](https://msdn.microsoft.com/library/system.threading.thread.aspx) [CurrentPrincipal özelliği](https://msdn.microsoft.com/library/system.threading.thread.currentcontext.aspx)aracılığıyla bir IPrincipal nesnesi olarak kullanılabilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-488">The .NET Framework associates a security context with each running thread; this information is available as an IPrincipal object through the [Thread object](https://msdn.microsoft.com/library/system.threading.thread.aspx)'s [CurrentPrincipal property](https://msdn.microsoft.com/library/system.threading.thread.currentcontext.aspx).</span></span> <span data-ttu-id="9d4f6-489">Kafa karıştırıcı nedir, ASP.NET kendi güvenlik bağlamı bilgisine (HttpContext. User) sahiptir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-489">What is a confusing is that ASP.NET has its own security context information (HttpContext.User).</span></span>

<span data-ttu-id="9d4f6-490">Bazı senaryolarda, Iş parçacığı. CurrentPrincipal özelliği güvenlik bağlamı belirlenirken incelenir; diğer senaryolarda, HttpContext. User kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-490">In certain scenarios, the Thread.CurrentPrincipal property is examined when determining the security context; in other scenarios, HttpContext.User is used.</span></span> <span data-ttu-id="9d4f6-491">Örneğin, .NET ' te, geliştiricilerin hangi kullanıcıların veya rollerin bir sınıf örneği oluşturmasını veya belirli yöntemleri çağırabilmesini sağlayan güvenlik özellikleri vardır (bkz. [PrincipalPermissionAttributes kullanarak iş ve veri katmanlarına yetkilendirme kuralları ekleme](https://weblogs.asp.net/scottgu/archive/2006/10/04/Tip_2F00_Trick_3A00_-Adding-Authorization-Rules-to-Business-and-Data-Layers-using-PrincipalPermissionAttributes.aspx)).</span><span class="sxs-lookup"><span data-stu-id="9d4f6-491">For example, there are security features in .NET that allow developers to declaratively state what users or roles can instantiate a class or invoke specific methods (see [Adding Authorization Rules to Business and Data Layers Using PrincipalPermissionAttributes](https://weblogs.asp.net/scottgu/archive/2006/10/04/Tip_2F00_Trick_3A00_-Adding-Authorization-Rules-to-Business-and-Data-Layers-using-PrincipalPermissionAttributes.aspx)).</span></span> <span data-ttu-id="9d4f6-492">Kapakların altında, bu bildirim temelli teknikler Iş parçacığı. CurrentPrincipal özelliği aracılığıyla güvenlik bağlamını tespit.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-492">Underneath the covers, these declarative techniques determine the security context via the Thread.CurrentPrincipal property.</span></span>

<span data-ttu-id="9d4f6-493">Diğer senaryolarda, HttpContext. User özelliği kullanılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-493">In other scenarios, the HttpContext.User property is used.</span></span> <span data-ttu-id="9d4f6-494">Örneğin, önceki öğreticide bu özelliği şu anda oturum açmış kullanıcının Kullanıcı adını görüntüleyecek şekilde kullandık.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-494">For example, in the previous tutorial we used this property to display the currently logged on user's username.</span></span> <span data-ttu-id="9d4f6-495">Açık olarak, Iş parçacığı. CurrentPrincipal ve HttpContext. User özelliklerindeki Güvenlik bağlamı bilgilerinin eşleşmesi zorunludur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-495">Clearly, then, it is imperative that the security context information in the Thread.CurrentPrincipal and HttpContext.User properties match up.</span></span>

<span data-ttu-id="9d4f6-496">ASP.NET çalışma zamanı, bu özellik değerlerini ABD için otomatik olarak eşitler.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-496">The ASP.NET runtime automatically syncs these property values for us.</span></span> <span data-ttu-id="9d4f6-497">Ancak, bu eşitleme, kimlik doğrulayan Terequest olayından sonra, vb. Caterequest olayından *önce* oluşur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-497">However, this synchronization occurs after the AuthenticateRequest event, but *before* the PostAuthenticateRequest event.</span></span> <span data-ttu-id="9d4f6-498">Sonuç olarak, postakimliği \ Terequest olayında özel bir sorumlu eklendiğinde, Iş parçacığını el ile atamak için belirli bir sorumlusu olması gerekir. CurrentPrincipal veya else Thread. CurrentPrincipal ve HttpContext. User eşitlenmemiş. Bu sorunla ilgili daha ayrıntılı bir tartışma için bkz. [Context. User vs. Thread. CurrentPrincipal](http://leastprivilege.com/2005/11/23/context-user-vs-thread-currentprincipal/) .</span><span class="sxs-lookup"><span data-stu-id="9d4f6-498">Consequently, when adding a custom principal in the PostAuthenticateRequest event we need to be certain to manually assign the Thread.CurrentPrincipal or else Thread.CurrentPrincipal and HttpContext.User will be out of sync. See [Context.User vs. Thread.CurrentPrincipal](http://leastprivilege.com/2005/11/23/context-user-vs-thread-currentprincipal/) for a more detailed discussion on this issue.</span></span>

### <a name="accessing-the-companyname-and-title-properties"></a><span data-ttu-id="9d4f6-499">CompanyName ve title özelliklerine erişme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-499">Accessing the CompanyName and Title Properties</span></span>

<span data-ttu-id="9d4f6-500">Bir istek ulaştığında ve ASP.NET altyapısına her bağlandığında, Global. asax dosyasındaki uygulama\_Onpostano Caterequest olay işleyicisi başlatılır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-500">Whenever a request arrives and is dispatched to the ASP.NET engine, the Application\_OnPostAuthenticateRequest event handler in Global.asax will fire.</span></span> <span data-ttu-id="9d4f6-501">İstek, FormsAuthenticationModule tarafından başarıyla doğrulanmışsa, olay işleyicisi form kimlik doğrulama biletini temel alan bir Customıdentity nesnesi ile yeni bir CustomPrincipal nesnesi oluşturur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-501">If the request has been successfully authenticated by the FormsAuthenticationModule, the event handler will create a new CustomPrincipal object with a CustomIdentity object based on the forms authentication ticket.</span></span> <span data-ttu-id="9d4f6-502">Bu mantığa sahip olmak üzere, şu anda oturum açmış kullanıcının şirket adı ve başlığıyla ilgili bilgilere erişmek inanılmaz basittir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-502">With this logic in place, accessing information about the currently logged on user's company name and title is incredibly straightforward.</span></span>

<span data-ttu-id="9d4f6-503">Varsayılan. aspx dosyasında, 1. adımda form kimlik doğrulama anahtarını almak için kod yazdığımızda ve kullanıcının şirket adını ve başlığını göstermek için UserData özelliğini ayrıştırtığımız sayfa\_yükleme olay işleyicisine geri dönün.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-503">Return to the Page\_Load event handler in Default.aspx, where in Step 4 we wrote code to retrieve the form authentication ticket and parse the UserData property in order to display the user's company name and title.</span></span> <span data-ttu-id="9d4f6-504">CustomPrincipal ve Customıdentity nesneleri şu anda kullanımda olduğunda, Bilet 'nin UserData özelliğinden değerleri ayrıştırmaya gerek yoktur.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-504">With the CustomPrincipal and CustomIdentity objects in use now, there's no need to parse the values out of the ticket's UserData property.</span></span> <span data-ttu-id="9d4f6-505">Bunun yerine, Customıdentity nesnesine bir başvuru alın ve CompanyName ve title özelliklerini kullanın:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-505">Instead, simply get a reference to the CustomIdentity object and use its CompanyName and Title properties:</span></span>

[!code-vb[Main](forms-authentication-configuration-and-advanced-topics-vb/samples/sample12.vb)]

## <a name="summary"></a><span data-ttu-id="9d4f6-506">Özet</span><span class="sxs-lookup"><span data-stu-id="9d4f6-506">Summary</span></span>

<span data-ttu-id="9d4f6-507">Bu öğreticide, Forms kimlik doğrulaması sisteminin ayarlarını Web. config aracılığıyla özelleştirmeyi inceledik. Kimlik doğrulama anahtarının süre sonunu nasıl ele aldığımızda ve şifreleme ve doğrulama korumalarının bilet İnceleme ve değiştirme işlemleri için nasıl kullanıldığını inceledik.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-507">In this tutorial we examined how to customize the forms authentication system's settings via Web.config. We looked at how the authentication ticket's expiration is handled and how the encryption and validation safeguards are used to protect the ticket from inspection and modification.</span></span> <span data-ttu-id="9d4f6-508">Son olarak, Bilet içinde ek kullanıcı bilgilerini depolamak için kimlik doğrulama biletinin UserData özelliğini kullanarak ve bu bilgileri daha kolay bir şekilde kullanıma sunmak için özel sorumlu ve kimlik nesneleri kullanmayı tartıştık.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-508">Finally, we discussed using the authentication ticket's UserData property to store additional user information in the ticket itself, and how to use custom principal and identity objects to expose this information in a more developer-friendly manner.</span></span>

<span data-ttu-id="9d4f6-509">Bu öğreticide, ASP.NET 'de form kimlik doğrulaması incelemesi yer aldığı için sonlanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-509">This tutorial concludes our examination of forms authentication in ASP.NET.</span></span> <span data-ttu-id="9d4f6-510">Bir sonraki öğreticide, üyelik çerçevesine yönelik yolculuğa başlanır.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-510">The next tutorial starts our journey into the Membership framework.</span></span>

<span data-ttu-id="9d4f6-511">Programlamanın kutlu olsun!</span><span class="sxs-lookup"><span data-stu-id="9d4f6-511">Happy Programming!</span></span>

### <a name="further-reading"></a><span data-ttu-id="9d4f6-512">Daha Fazla Bilgi</span><span class="sxs-lookup"><span data-stu-id="9d4f6-512">Further Reading</span></span>

<span data-ttu-id="9d4f6-513">Bu öğreticide ele alınan konular hakkında daha fazla bilgi için aşağıdaki kaynaklara bakın:</span><span class="sxs-lookup"><span data-stu-id="9d4f6-513">For more information on the topics discussed in this tutorial, refer to the following resources:</span></span>

- [<span data-ttu-id="9d4f6-514">Form kimlik doğrulamasını ayırma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-514">Dissecting Forms Authentication</span></span>](http://aspnet.4guysfromrolla.com/articles/072005-1.aspx)
- [<span data-ttu-id="9d4f6-515">Açıklanıyor: ASP.NET 2,0 'de Forms kimlik doğrulaması</span><span class="sxs-lookup"><span data-stu-id="9d4f6-515">Explained: Forms Authentication in ASP.NET 2.0</span></span>](https://msdn.microsoft.com/library/aa480476.aspx)
- [<span data-ttu-id="9d4f6-516">Nasıl yapılır: ASP.NET 2,0 'de form kimlik doğrulamasını koruma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-516">How To: Protect Forms Authentication in ASP.NET 2.0</span></span>](https://msdn.microsoft.com/library/ms998310.aspx)
- <span data-ttu-id="9d4f6-517">[Professional ASP.NET 2,0 güvenlik, üyelik ve rol yönetimi](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ısbn: 978-0-7645-9698-8)</span><span class="sxs-lookup"><span data-stu-id="9d4f6-517">[Professional ASP.NET 2.0 Security, Membership, and Role Management](http://www.wrox.com/WileyCDA/WroxTitle/productCd-0764596985.html) (ISBN: 978-0-7645-9698-8)</span></span>
- [<span data-ttu-id="9d4f6-518">Oturum açma denetimlerinin güvenliğini sağlama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-518">Securing Login Controls</span></span>](https://msdn.microsoft.com/library/ms178346.aspx)
- [<span data-ttu-id="9d4f6-519">&lt;Authentication&gt; öğesi</span><span class="sxs-lookup"><span data-stu-id="9d4f6-519">The &lt;authentication&gt; Element</span></span>](https://msdn.microsoft.com/library/532aee0e.aspx)
- [<span data-ttu-id="9d4f6-520">&lt;Forms &lt;kimlik doğrulaması için&gt; öğesi&gt;</span><span class="sxs-lookup"><span data-stu-id="9d4f6-520">The &lt;forms&gt; Element for &lt;authentication&gt;</span></span>](https://msdn.microsoft.com/library/1d3t3c61.aspx)
- [<span data-ttu-id="9d4f6-521">&lt;machineKey&gt; öğesi</span><span class="sxs-lookup"><span data-stu-id="9d4f6-521">The &lt;machineKey&gt; Element</span></span>](https://msdn.microsoft.com/library/w8h3skw9.aspx)
- [<span data-ttu-id="9d4f6-522">Forms kimlik doğrulama biletini ve tanımlama bilgisini anlama</span><span class="sxs-lookup"><span data-stu-id="9d4f6-522">Understanding the Forms Authentication Ticket and Cookie</span></span>](https://support.microsoft.com/kb/910443)

### <a name="video-training-on-topics-contained-in-this-tutorial"></a><span data-ttu-id="9d4f6-523">Bu öğreticide bulunan konularda video eğitimi</span><span class="sxs-lookup"><span data-stu-id="9d4f6-523">Video Training on Topics Contained in this Tutorial</span></span>

- [<span data-ttu-id="9d4f6-524">Form kimlik doğrulama özelliklerini değiştirme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-524">How to Change the Forms Authentication Properties</span></span>](../../../videos/authentication/how-to-change-the-forms-authentication-properties.md)
- [<span data-ttu-id="9d4f6-525">ASP.NET uygulamasında tanımlama bilgisi-Less kimlik doğrulamasını ayarlama ve kullanma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-525">How to Setup and Use Cookie-less Authentication in an ASP.NET Application</span></span>](../../../videos/authentication/how-to-setup-and-use-cookie-less-authentication-in-an-aspnet-application.md)
- [<span data-ttu-id="9d4f6-526">ASP Forms Oturum Açmayı Yeniden Konumlandırma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-526">ASP Forms Login Relocation</span></span>](../../../videos/authentication/asp-forms-login-relocation.md)
- [<span data-ttu-id="9d4f6-527">Forms Oturum Açma Özel Anahtar Yapılandırması</span><span class="sxs-lookup"><span data-stu-id="9d4f6-527">Forms Login Custom Key Configuration</span></span>](../../../videos/authentication/forms-login-custom-key-configuration.md)
- [<span data-ttu-id="9d4f6-528">Kimlik Doğrulama Metoduna Özel Veri Ekleme</span><span class="sxs-lookup"><span data-stu-id="9d4f6-528">Add Custom Data to the Authentication Method</span></span>](../../../videos/authentication/add-custom-data-to-the-authentication-method.md)
- [<span data-ttu-id="9d4f6-529">Özel Asıl Nesneler Kullanma</span><span class="sxs-lookup"><span data-stu-id="9d4f6-529">Use Custom Principal Objects</span></span>](../../../videos/authentication/use-custom-principal-objects.md)

### <a name="about-the-author"></a><span data-ttu-id="9d4f6-530">Yazar hakkında</span><span class="sxs-lookup"><span data-stu-id="9d4f6-530">About the Author</span></span>

<span data-ttu-id="9d4f6-531">Birden çok ASP/ASP. NET Books ve 4GuysFromRolla.com 'in yazarı Scott Mitchell, 1998 sürümünden bu yana Microsoft Web teknolojileriyle birlikte çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-531">Scott Mitchell, author of multiple ASP/ASP.NET books and founder of 4GuysFromRolla.com, has been working with Microsoft Web technologies since 1998.</span></span> <span data-ttu-id="9d4f6-532">Scott bağımsız danışman, Trainer ve yazıcı olarak çalışıyor.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-532">Scott works as an independent consultant, trainer, and writer.</span></span> <span data-ttu-id="9d4f6-533">En son kitabı, *[24 saat içinde ASP.NET 2,0 kendi kendinize eğitim](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)* ister.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-533">His latest book is *[Sams Teach Yourself ASP.NET 2.0 in 24 Hours](https://www.amazon.com/exec/obidos/ASIN/0672327384/4guysfromrollaco)*.</span></span> <span data-ttu-id="9d4f6-534">Scott 'a [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) veya blogundan [http://ScottOnWriting.NET](http://scottonwriting.net/)üzerinden erişilebilir.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-534">Scott can be reached at [mitchell@4guysfromrolla.com](mailto:mitchell@4guysfromrolla.com) or via his blog at [http://ScottOnWriting.NET](http://scottonwriting.net/).</span></span>

### <a name="special-thanks-to"></a><span data-ttu-id="9d4f6-535">Özel olarak teşekkürler</span><span class="sxs-lookup"><span data-stu-id="9d4f6-535">Special Thanks To</span></span>

<span data-ttu-id="9d4f6-536">Bu öğretici serisi birçok yararlı gözden geçirenler tarafından incelendi.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-536">This tutorial series was reviewed by many helpful reviewers.</span></span> <span data-ttu-id="9d4f6-537">Bu öğretici için lider gözden geçiren Alicja Maziarz.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-537">Lead reviewer for this tutorial was Alicja Maziarz.</span></span> <span data-ttu-id="9d4f6-538">Yaklaşan MSDN makalelerimi gözden geçiriyor musunuz?</span><span class="sxs-lookup"><span data-stu-id="9d4f6-538">Interested in reviewing my upcoming MSDN articles?</span></span> <span data-ttu-id="9d4f6-539">Öyleyse, beni [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com)bir satır bırakın.</span><span class="sxs-lookup"><span data-stu-id="9d4f6-539">If so, drop me a line at [mitchell@4GuysFromRolla.com](mailto:mitchell@4guysfromrolla.com).</span></span>

> [!div class="step-by-step"]
> [<span data-ttu-id="9d4f6-540">Öncekini</span><span class="sxs-lookup"><span data-stu-id="9d4f6-540">Previous</span></span>](an-overview-of-forms-authentication-vb.md)
